var F0=Object.defineProperty;var bd=n=>{throw TypeError(n)};var Z0=(n,e,t)=>e in n?F0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ge=(n,e,t)=>Z0(n,typeof e!="symbol"?e+"":e,t),K0=(n,e,t)=>e.has(n)||bd("Cannot "+t);var Md=(n,e,t)=>e.has(n)?bd("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t);var wo=(n,e,t)=>(K0(n,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=t(l);fetch(l.href,o)}})();function Hm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ym={exports:{}},_r={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0=Symbol.for("react.transitional.element"),X0=Symbol.for("react.fragment");function Fm(n,e,t){var i=null;if(t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),"key"in e){t={};for(var l in e)l!=="key"&&(t[l]=e[l])}else t=e;return e=t.ref,{$$typeof:J0,type:n,key:i,ref:e!==void 0?e:null,props:t}}_r.Fragment=X0;_r.jsx=Fm;_r.jsxs=Fm;Ym.exports=_r;var g=Ym.exports,Zm={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var of=Symbol.for("react.transitional.element"),Q0=Symbol.for("react.portal"),W0=Symbol.for("react.fragment"),j0=Symbol.for("react.strict_mode"),ex=Symbol.for("react.profiler"),tx=Symbol.for("react.consumer"),nx=Symbol.for("react.context"),ix=Symbol.for("react.forward_ref"),lx=Symbol.for("react.suspense"),ox=Symbol.for("react.memo"),Km=Symbol.for("react.lazy"),Nd=Symbol.iterator;function sx(n){return n===null||typeof n!="object"?null:(n=Nd&&n[Nd]||n["@@iterator"],typeof n=="function"?n:null)}var Jm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xm=Object.assign,Qm={};function mo(n,e,t){this.props=n,this.context=e,this.refs=Qm,this.updater=t||Jm}mo.prototype.isReactComponent={};mo.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};mo.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Wm(){}Wm.prototype=mo.prototype;function sf(n,e,t){this.props=n,this.context=e,this.refs=Qm,this.updater=t||Jm}var af=sf.prototype=new Wm;af.constructor=sf;Xm(af,mo.prototype);af.isPureReactComponent=!0;var wd=Array.isArray,Ke={H:null,A:null,T:null,S:null,V:null},jm=Object.prototype.hasOwnProperty;function rf(n,e,t,i,l,o){return t=o.ref,{$$typeof:of,type:n,key:e,ref:t!==void 0?t:null,props:o}}function ax(n,e){return rf(n.type,e,void 0,void 0,void 0,n.props)}function uf(n){return typeof n=="object"&&n!==null&&n.$$typeof===of}function rx(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Rd=/\/+/g;function Xr(n,e){return typeof n=="object"&&n!==null&&n.key!=null?rx(""+n.key):e.toString(36)}function Dd(){}function ux(n){switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:switch(typeof n.status=="string"?n.then(Dd,Dd):(n.status="pending",n.then(function(e){n.status==="pending"&&(n.status="fulfilled",n.value=e)},function(e){n.status==="pending"&&(n.status="rejected",n.reason=e)})),n.status){case"fulfilled":return n.value;case"rejected":throw n.reason}}throw n}function Tl(n,e,t,i,l){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"bigint":case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case of:case Q0:s=!0;break;case Km:return s=n._init,Tl(s(n._payload),e,t,i,l)}}if(s)return l=l(n),s=i===""?"."+Xr(n,0):i,wd(l)?(t="",s!=null&&(t=s.replace(Rd,"$&/")+"/"),Tl(l,e,t,"",function(f){return f})):l!=null&&(uf(l)&&(l=ax(l,t+(l.key==null||n&&n.key===l.key?"":(""+l.key).replace(Rd,"$&/")+"/")+s)),e.push(l)),1;s=0;var u=i===""?".":i+":";if(wd(n))for(var c=0;c<n.length;c++)i=n[c],o=u+Xr(i,c),s+=Tl(i,e,t,o,l);else if(c=sx(n),typeof c=="function")for(n=c.call(n),c=0;!(i=n.next()).done;)i=i.value,o=u+Xr(i,c++),s+=Tl(i,e,t,o,l);else if(o==="object"){if(typeof n.then=="function")return Tl(ux(n),e,t,i,l);throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Ws(n,e,t){if(n==null)return n;var i=[],l=0;return Tl(n,i,"","",function(o){return e.call(t,o,l++)}),i}function cx(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var kd=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function fx(){}ae.Children={map:Ws,forEach:function(n,e,t){Ws(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Ws(n,function(){e++}),e},toArray:function(n){return Ws(n,function(e){return e})||[]},only:function(n){if(!uf(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ae.Component=mo;ae.Fragment=W0;ae.Profiler=ex;ae.PureComponent=sf;ae.StrictMode=j0;ae.Suspense=lx;ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ke;ae.__COMPILER_RUNTIME={__proto__:null,c:function(n){return Ke.H.useMemoCache(n)}};ae.cache=function(n){return function(){return n.apply(null,arguments)}};ae.cloneElement=function(n,e,t){if(n==null)throw Error("The argument must be a React element, but you passed "+n+".");var i=Xm({},n.props),l=n.key,o=void 0;if(e!=null)for(s in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(l=""+e.key),e)!jm.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=t;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}return rf(n.type,l,void 0,void 0,o,i)};ae.createContext=function(n){return n={$$typeof:nx,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider=n,n.Consumer={$$typeof:tx,_context:n},n};ae.createElement=function(n,e,t){var i,l={},o=null;if(e!=null)for(i in e.key!==void 0&&(o=""+e.key),e)jm.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=e[i]);var s=arguments.length-2;if(s===1)l.children=t;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];l.children=u}if(n&&n.defaultProps)for(i in s=n.defaultProps,s)l[i]===void 0&&(l[i]=s[i]);return rf(n,o,void 0,void 0,null,l)};ae.createRef=function(){return{current:null}};ae.forwardRef=function(n){return{$$typeof:ix,render:n}};ae.isValidElement=uf;ae.lazy=function(n){return{$$typeof:Km,_payload:{_status:-1,_result:n},_init:cx}};ae.memo=function(n,e){return{$$typeof:ox,type:n,compare:e===void 0?null:e}};ae.startTransition=function(n){var e=Ke.T,t={};Ke.T=t;try{var i=n(),l=Ke.S;l!==null&&l(t,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(fx,kd)}catch(o){kd(o)}finally{Ke.T=e}};ae.unstable_useCacheRefresh=function(){return Ke.H.useCacheRefresh()};ae.use=function(n){return Ke.H.use(n)};ae.useActionState=function(n,e,t){return Ke.H.useActionState(n,e,t)};ae.useCallback=function(n,e){return Ke.H.useCallback(n,e)};ae.useContext=function(n){return Ke.H.useContext(n)};ae.useDebugValue=function(){};ae.useDeferredValue=function(n,e){return Ke.H.useDeferredValue(n,e)};ae.useEffect=function(n,e,t){var i=Ke.H;if(typeof t=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(n,e)};ae.useId=function(){return Ke.H.useId()};ae.useImperativeHandle=function(n,e,t){return Ke.H.useImperativeHandle(n,e,t)};ae.useInsertionEffect=function(n,e){return Ke.H.useInsertionEffect(n,e)};ae.useLayoutEffect=function(n,e){return Ke.H.useLayoutEffect(n,e)};ae.useMemo=function(n,e){return Ke.H.useMemo(n,e)};ae.useOptimistic=function(n,e){return Ke.H.useOptimistic(n,e)};ae.useReducer=function(n,e,t){return Ke.H.useReducer(n,e,t)};ae.useRef=function(n){return Ke.H.useRef(n)};ae.useState=function(n){return Ke.H.useState(n)};ae.useSyncExternalStore=function(n,e,t){return Ke.H.useSyncExternalStore(n,e,t)};ae.useTransition=function(){return Ke.H.useTransition()};ae.version="19.1.0";Zm.exports=ae;var b=Zm.exports;const dx=Hm(b);var eg={exports:{}},Er={},tg={exports:{}},ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(V,ne){var te=V.length;V.push(ne);e:for(;0<te;){var ke=te-1>>>1,pe=V[ke];if(0<l(pe,ne))V[ke]=ne,V[te]=pe,te=ke;else break e}}function t(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var ne=V[0],te=V.pop();if(te!==ne){V[0]=te;e:for(var ke=0,pe=V.length,Et=pe>>>1;ke<Et;){var Lt=2*(ke+1)-1,k=V[Lt],K=Lt+1,H=V[K];if(0>l(k,te))K<pe&&0>l(H,k)?(V[ke]=H,V[K]=te,ke=K):(V[ke]=k,V[Lt]=te,ke=Lt);else if(K<pe&&0>l(H,te))V[ke]=H,V[K]=te,ke=K;else break e}}return ne}function l(V,ne){var te=V.sortIndex-ne.sortIndex;return te!==0?te:V.id-ne.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();n.unstable_now=function(){return s.now()-u}}var c=[],f=[],d=1,p=null,h=3,m=!1,x=!1,S=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(V){for(var ne=t(f);ne!==null;){if(ne.callback===null)i(f);else if(ne.startTime<=V)i(f),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=t(f)}}function A(V){if(S=!1,C(V),!x)if(t(c)!==null)x=!0,w||(w=!0,Ce());else{var ne=t(f);ne!==null&&_t(A,ne.startTime-V)}}var w=!1,N=-1,D=5,B=-1;function O(){return _?!0:!(n.unstable_now()-B<D)}function fe(){if(_=!1,w){var V=n.unstable_now();B=V;var ne=!0;try{e:{x=!1,S&&(S=!1,v(N),N=-1),m=!0;var te=h;try{t:{for(C(V),p=t(c);p!==null&&!(p.expirationTime>V&&O());){var ke=p.callback;if(typeof ke=="function"){p.callback=null,h=p.priorityLevel;var pe=ke(p.expirationTime<=V);if(V=n.unstable_now(),typeof pe=="function"){p.callback=pe,C(V),ne=!0;break t}p===t(c)&&i(c),C(V)}else i(c);p=t(c)}if(p!==null)ne=!0;else{var Et=t(f);Et!==null&&_t(A,Et.startTime-V),ne=!1}}break e}finally{p=null,h=te,m=!1}ne=void 0}}finally{ne?Ce():w=!1}}}var Ce;if(typeof T=="function")Ce=function(){T(fe)};else if(typeof MessageChannel<"u"){var Ut=new MessageChannel,it=Ut.port2;Ut.port1.onmessage=fe,Ce=function(){it.postMessage(null)}}else Ce=function(){y(fe,0)};function _t(V,ne){N=y(function(){V(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_next=function(V){switch(h){case 1:case 2:case 3:var ne=3;break;default:ne=h}var te=h;h=ne;try{return V()}finally{h=te}},n.unstable_requestPaint=function(){_=!0},n.unstable_runWithPriority=function(V,ne){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=h;h=V;try{return ne()}finally{h=te}},n.unstable_scheduleCallback=function(V,ne,te){var ke=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ke+te:ke):te=ke,V){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=te+pe,V={id:d++,callback:ne,priorityLevel:V,startTime:te,expirationTime:pe,sortIndex:-1},te>ke?(V.sortIndex=te,e(f,V),t(c)===null&&V===t(f)&&(S?(v(N),N=-1):S=!0,_t(A,te-ke))):(V.sortIndex=pe,e(c,V),x||m||(x=!0,w||(w=!0,Ce()))),V},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(V){var ne=h;return function(){var te=h;h=ne;try{return V.apply(this,arguments)}finally{h=te}}}})(ng);tg.exports=ng;var hx=tg.exports,ig={exports:{}},It={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px=b;function lg(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ri(){}var Rt={d:{f:ri,r:function(){throw Error(lg(522))},D:ri,C:ri,L:ri,m:ri,X:ri,S:ri,M:ri},p:0,findDOMNode:null},mx=Symbol.for("react.portal");function gx(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mx,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}var Ko=px.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ar(n,e){if(n==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rt;It.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(lg(299));return gx(n,e,null,t)};It.flushSync=function(n){var e=Ko.T,t=Rt.p;try{if(Ko.T=null,Rt.p=2,n)return n()}finally{Ko.T=e,Rt.p=t,Rt.d.f()}};It.preconnect=function(n,e){typeof n=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Rt.d.C(n,e))};It.prefetchDNS=function(n){typeof n=="string"&&Rt.d.D(n)};It.preinit=function(n,e){if(typeof n=="string"&&e&&typeof e.as=="string"){var t=e.as,i=Ar(t,e.crossOrigin),l=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;t==="style"?Rt.d.S(n,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:o}):t==="script"&&Rt.d.X(n,{crossOrigin:i,integrity:l,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};It.preinitModule=function(n,e){if(typeof n=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var t=Ar(e.as,e.crossOrigin);Rt.d.M(n,{crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Rt.d.M(n)};It.preload=function(n,e){if(typeof n=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var t=e.as,i=Ar(t,e.crossOrigin);Rt.d.L(n,t,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};It.preloadModule=function(n,e){if(typeof n=="string")if(e){var t=Ar(e.as,e.crossOrigin);Rt.d.m(n,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Rt.d.m(n)};It.requestFormReset=function(n){Rt.d.r(n)};It.unstable_batchedUpdates=function(n,e){return n(e)};It.useFormState=function(n,e,t){return Ko.H.useFormState(n,e,t)};It.useFormStatus=function(){return Ko.H.useHostTransitionStatus()};It.version="19.1.0";function og(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(og)}catch(n){console.error(n)}}og(),ig.exports=It;var yx=ig.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ft=hx,sg=b,vx=yx;function M(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ag(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Rs(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function rg(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Id(n){if(Rs(n)!==n)throw Error(M(188))}function xx(n){var e=n.alternate;if(!e){if(e=Rs(n),e===null)throw Error(M(188));return e!==n?null:n}for(var t=n,i=e;;){var l=t.return;if(l===null)break;var o=l.alternate;if(o===null){if(i=l.return,i!==null){t=i;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===t)return Id(l),n;if(o===i)return Id(l),e;o=o.sibling}throw Error(M(188))}if(t.return!==i.return)t=l,i=o;else{for(var s=!1,u=l.child;u;){if(u===t){s=!0,t=l,i=o;break}if(u===i){s=!0,i=l,t=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===t){s=!0,t=o,i=l;break}if(u===i){s=!0,i=o,t=l;break}u=u.sibling}if(!s)throw Error(M(189))}}if(t.alternate!==i)throw Error(M(190))}if(t.tag!==3)throw Error(M(188));return t.stateNode.current===t?n:e}function ug(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n;for(n=n.child;n!==null;){if(e=ug(n),e!==null)return e;n=n.sibling}return null}var Fe=Object.assign,Tx=Symbol.for("react.element"),js=Symbol.for("react.transitional.element"),Go=Symbol.for("react.portal"),Al=Symbol.for("react.fragment"),cg=Symbol.for("react.strict_mode"),Gu=Symbol.for("react.profiler"),Sx=Symbol.for("react.provider"),fg=Symbol.for("react.consumer"),Gn=Symbol.for("react.context"),cf=Symbol.for("react.forward_ref"),qu=Symbol.for("react.suspense"),Hu=Symbol.for("react.suspense_list"),ff=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),Yu=Symbol.for("react.activity"),Cx=Symbol.for("react.memo_cache_sentinel"),Ud=Symbol.iterator;function Ro(n){return n===null||typeof n!="object"?null:(n=Ud&&n[Ud]||n["@@iterator"],typeof n=="function"?n:null)}var _x=Symbol.for("react.client.reference");function Fu(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===_x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Al:return"Fragment";case Gu:return"Profiler";case cg:return"StrictMode";case qu:return"Suspense";case Hu:return"SuspenseList";case Yu:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case Go:return"Portal";case Gn:return(n.displayName||"Context")+".Provider";case fg:return(n._context.displayName||"Context")+".Consumer";case cf:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ff:return e=n.displayName||null,e!==null?e:Fu(n.type)||"Memo";case fi:e=n._payload,n=n._init;try{return Fu(n(e))}catch{}}return null}var qo=Array.isArray,W=sg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be=vx.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ki={pending:!1,data:null,method:null,action:null},Zu=[],bl=-1;function Ln(n){return{current:n}}function mt(n){0>bl||(n.current=Zu[bl],Zu[bl]=null,bl--)}function Je(n,e){bl++,Zu[bl]=n.current,n.current=e}var Rn=Ln(null),ps=Ln(null),Ci=Ln(null),Ia=Ln(null);function Ua(n,e){switch(Je(Ci,e),Je(ps,n),Je(Rn,null),e.nodeType){case 9:case 11:n=(n=e.documentElement)&&(n=n.namespaceURI)?Bh(n):0;break;default:if(n=e.tagName,e=e.namespaceURI)e=Bh(e),n=Nv(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}mt(Rn),Je(Rn,n)}function Ql(){mt(Rn),mt(ps),mt(Ci)}function Ku(n){n.memoizedState!==null&&Je(Ia,n);var e=Rn.current,t=Nv(e,n.type);e!==t&&(Je(ps,n),Je(Rn,t))}function La(n){ps.current===n&&(mt(Rn),mt(ps)),Ia.current===n&&(mt(Ia),Es._currentValue=Ki)}var Ju=Object.prototype.hasOwnProperty,df=ft.unstable_scheduleCallback,Qr=ft.unstable_cancelCallback,Ex=ft.unstable_shouldYield,Ax=ft.unstable_requestPaint,Dn=ft.unstable_now,bx=ft.unstable_getCurrentPriorityLevel,dg=ft.unstable_ImmediatePriority,hg=ft.unstable_UserBlockingPriority,Oa=ft.unstable_NormalPriority,Mx=ft.unstable_LowPriority,pg=ft.unstable_IdlePriority,Nx=ft.log,wx=ft.unstable_setDisableYieldValue,Ds=null,jt=null;function vi(n){if(typeof Nx=="function"&&wx(n),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Ds,n)}catch{}}var en=Math.clz32?Math.clz32:kx,Rx=Math.log,Dx=Math.LN2;function kx(n){return n>>>=0,n===0?32:31-(Rx(n)/Dx|0)|0}var ea=256,ta=4194304;function Yi(n){var e=n&42;if(e!==0)return e;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function br(n,e,t){var i=n.pendingLanes;if(i===0)return 0;var l=0,o=n.suspendedLanes,s=n.pingedLanes;n=n.warmLanes;var u=i&134217727;return u!==0?(i=u&~o,i!==0?l=Yi(i):(s&=u,s!==0?l=Yi(s):t||(t=u&~n,t!==0&&(l=Yi(t))))):(u=i&~o,u!==0?l=Yi(u):s!==0?l=Yi(s):t||(t=i&~n,t!==0&&(l=Yi(t)))),l===0?0:e!==0&&e!==l&&!(e&o)&&(o=l&-l,t=e&-e,o>=t||o===32&&(t&4194048)!==0)?e:l}function ks(n,e){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&e)===0}function Ix(n,e){switch(n){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mg(){var n=ea;return ea<<=1,!(ea&4194048)&&(ea=256),n}function gg(){var n=ta;return ta<<=1,!(ta&62914560)&&(ta=4194304),n}function Wr(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Is(n,e){n.pendingLanes|=e,e!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ux(n,e,t,i,l,o){var s=n.pendingLanes;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=t,n.entangledLanes&=t,n.errorRecoveryDisabledLanes&=t,n.shellSuspendCounter=0;var u=n.entanglements,c=n.expirationTimes,f=n.hiddenUpdates;for(t=s&~t;0<t;){var d=31-en(t),p=1<<d;u[d]=0,c[d]=-1;var h=f[d];if(h!==null)for(f[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}t&=~p}i!==0&&yg(n,i,0),o!==0&&l===0&&n.tag!==0&&(n.suspendedLanes|=o&~(s&~e))}function yg(n,e,t){n.pendingLanes|=e,n.suspendedLanes&=~e;var i=31-en(e);n.entangledLanes|=e,n.entanglements[i]=n.entanglements[i]|1073741824|t&4194090}function vg(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-en(t),l=1<<i;l&e|n[i]&e&&(n[i]|=e),t&=~l}}function hf(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function pf(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function xg(){var n=be.p;return n!==0?n:(n=window.event,n===void 0?32:$v(n.type))}function Lx(n,e){var t=be.p;try{return be.p=n,e()}finally{be.p=t}}var Li=Math.random().toString(36).slice(2),St="__reactFiber$"+Li,qt="__reactProps$"+Li,go="__reactContainer$"+Li,Xu="__reactEvents$"+Li,Ox="__reactListeners$"+Li,Vx="__reactHandles$"+Li,Ld="__reactResources$"+Li,Us="__reactMarker$"+Li;function mf(n){delete n[St],delete n[qt],delete n[Xu],delete n[Ox],delete n[Vx]}function Ml(n){var e=n[St];if(e)return e;for(var t=n.parentNode;t;){if(e=t[go]||t[St]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Gh(n);n!==null;){if(t=n[St])return t;n=Gh(n)}return e}n=t,t=n.parentNode}return null}function yo(n){if(n=n[St]||n[go]){var e=n.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return n}return null}function Ho(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n.stateNode;throw Error(M(33))}function Pl(n){var e=n[Ld];return e||(e=n[Ld]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ht(n){n[Us]=!0}var Tg=new Set,Sg={};function ul(n,e){Wl(n,e),Wl(n+"Capture",e)}function Wl(n,e){for(Sg[n]=e,n=0;n<e.length;n++)Tg.add(e[n])}var $x=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Od={},Vd={};function Bx(n){return Ju.call(Vd,n)?!0:Ju.call(Od,n)?!1:$x.test(n)?Vd[n]=!0:(Od[n]=!0,!1)}function ya(n,e,t){if(Bx(e))if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":n.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){n.removeAttribute(e);return}}n.setAttribute(e,""+t)}}function na(n,e,t){if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(e);return}n.setAttribute(e,""+t)}}function $n(n,e,t,i){if(i===null)n.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(t);return}n.setAttributeNS(e,t,""+i)}}var jr,$d;function Sl(n){if(jr===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);jr=e&&e[1]||"",$d=-1<t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jr+n+$d}var eu=!1;function tu(n,e){if(!n||eu)return"";eu=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(m){var h=m}Reflect.construct(n,[],p)}else{try{p.call()}catch(m){h=m}n.call(p.prototype)}}else{try{throw Error()}catch(m){h=m}(p=n())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),s=o[0],u=o[1];if(s&&u){var c=s.split(`
`),f=u.split(`
`);for(l=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;l<f.length&&!f[l].includes("DetermineComponentFrameRoot");)l++;if(i===c.length||l===f.length)for(i=c.length-1,l=f.length-1;1<=i&&0<=l&&c[i]!==f[l];)l--;for(;1<=i&&0<=l;i--,l--)if(c[i]!==f[l]){if(i!==1||l!==1)do if(i--,l--,0>l||c[i]!==f[l]){var d=`
`+c[i].replace(" at new "," at ");return n.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",n.displayName)),d}while(1<=i&&0<=l);break}}}finally{eu=!1,Error.prepareStackTrace=t}return(t=n?n.displayName||n.name:"")?Sl(t):""}function Px(n){switch(n.tag){case 26:case 27:case 5:return Sl(n.type);case 16:return Sl("Lazy");case 13:return Sl("Suspense");case 19:return Sl("SuspenseList");case 0:case 15:return tu(n.type,!1);case 11:return tu(n.type.render,!1);case 1:return tu(n.type,!0);case 31:return Sl("Activity");default:return""}}function Bd(n){try{var e="";do e+=Px(n),n=n.return;while(n);return e}catch(t){return`
Error generating stack: `+t.message+`
`+t.stack}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Cg(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zx(n){var e=Cg(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var l=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return l.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Va(n){n._valueTracker||(n._valueTracker=zx(n))}function _g(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=Cg(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function $a(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Gx=/[\n"\\]/g;function un(n){return n.replace(Gx,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Qu(n,e,t,i,l,o,s,u){n.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?n.type=s:n.removeAttribute("type"),e!=null?s==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+sn(e)):n.value!==""+sn(e)&&(n.value=""+sn(e)):s!=="submit"&&s!=="reset"||n.removeAttribute("value"),e!=null?Wu(n,s,sn(e)):t!=null?Wu(n,s,sn(t)):i!=null&&n.removeAttribute("value"),l==null&&o!=null&&(n.defaultChecked=!!o),l!=null&&(n.checked=l&&typeof l!="function"&&typeof l!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?n.name=""+sn(u):n.removeAttribute("name")}function Eg(n,e,t,i,l,o,s,u){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(n.type=o),e!=null||t!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;t=t!=null?""+sn(t):"",e=e!=null?""+sn(e):t,u||e===n.value||(n.value=e),n.defaultValue=e}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,n.checked=u?n.checked:!!i,n.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(n.name=s)}function Wu(n,e,t){e==="number"&&$a(n.ownerDocument)===n||n.defaultValue===""+t||(n.defaultValue=""+t)}function zl(n,e,t,i){if(n=n.options,e){e={};for(var l=0;l<t.length;l++)e["$"+t[l]]=!0;for(t=0;t<n.length;t++)l=e.hasOwnProperty("$"+n[t].value),n[t].selected!==l&&(n[t].selected=l),l&&i&&(n[t].defaultSelected=!0)}else{for(t=""+sn(t),e=null,l=0;l<n.length;l++){if(n[l].value===t){n[l].selected=!0,i&&(n[l].defaultSelected=!0);return}e!==null||n[l].disabled||(e=n[l])}e!==null&&(e.selected=!0)}}function Ag(n,e,t){if(e!=null&&(e=""+sn(e),e!==n.value&&(n.value=e),t==null)){n.defaultValue!==e&&(n.defaultValue=e);return}n.defaultValue=t!=null?""+sn(t):""}function bg(n,e,t,i){if(e==null){if(i!=null){if(t!=null)throw Error(M(92));if(qo(i)){if(1<i.length)throw Error(M(93));i=i[0]}t=i}t==null&&(t=""),e=t}t=sn(e),n.defaultValue=t,i=n.textContent,i===t&&i!==""&&i!==null&&(n.value=i)}function jl(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var qx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pd(n,e,t){var i=e.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?i?n.setProperty(e,""):e==="float"?n.cssFloat="":n[e]="":i?n.setProperty(e,t):typeof t!="number"||t===0||qx.has(e)?e==="float"?n.cssFloat=t:n[e]=(""+t).trim():n[e]=t+"px"}function Mg(n,e,t){if(e!=null&&typeof e!="object")throw Error(M(62));if(n=n.style,t!=null){for(var i in t)!t.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="");for(var l in e)i=e[l],e.hasOwnProperty(l)&&t[l]!==i&&Pd(n,l,i)}else for(var o in e)e.hasOwnProperty(o)&&Pd(n,o,e[o])}function gf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(n){return Yx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ju=null;function yf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Nl=null,Gl=null;function zd(n){var e=yo(n);if(e&&(n=e.stateNode)){var t=n[qt]||null;e:switch(n=e.stateNode,e.type){case"input":if(Qu(n,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+un(""+e)+'"][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var l=i[qt]||null;if(!l)throw Error(M(90));Qu(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<t.length;e++)i=t[e],i.form===n.form&&_g(i)}break e;case"textarea":Ag(n,t.value,t.defaultValue);break e;case"select":e=t.value,e!=null&&zl(n,!!t.multiple,e,!1)}}}var nu=!1;function Ng(n,e,t){if(nu)return n(e,t);nu=!0;try{var i=n(e);return i}finally{if(nu=!1,(Nl!==null||Gl!==null)&&(Or(),Nl&&(e=Nl,n=Gl,Gl=Nl=null,zd(e),n)))for(e=0;e<n.length;e++)zd(n[e])}}function ms(n,e){var t=n.stateNode;if(t===null)return null;var i=t[qt]||null;if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(M(231,e,typeof t));return t}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=!1;if(Xn)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){ec=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{ec=!1}var xi=null,vf=null,xa=null;function wg(){if(xa)return xa;var n,e=vf,t=e.length,i,l="value"in xi?xi.value:xi.textContent,o=l.length;for(n=0;n<t&&e[n]===l[n];n++);var s=t-n;for(i=1;i<=s&&e[t-i]===l[o-i];i++);return xa=l.slice(n,1<i?1-i:void 0)}function Ta(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function ia(){return!0}function Gd(){return!1}function Ht(n){function e(t,i,l,o,s){this._reactName=t,this._targetInst=l,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ia:Gd,this.isPropagationStopped=Gd,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),e}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=Ht(cl),Ls=Fe({},cl,{view:0,detail:0}),Fx=Ht(Ls),iu,lu,ko,Nr=Fe({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ko&&(ko&&n.type==="mousemove"?(iu=n.screenX-ko.screenX,lu=n.screenY-ko.screenY):lu=iu=0,ko=n),iu)},movementY:function(n){return"movementY"in n?n.movementY:lu}}),qd=Ht(Nr),Zx=Fe({},Nr,{dataTransfer:0}),Kx=Ht(Zx),Jx=Fe({},Ls,{relatedTarget:0}),ou=Ht(Jx),Xx=Fe({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),Qx=Ht(Xx),Wx=Fe({},cl,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),jx=Ht(Wx),eT=Fe({},cl,{data:0}),Hd=Ht(eT),tT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lT(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=iT[n])?!!e[n]:!1}function xf(){return lT}var oT=Fe({},Ls,{key:function(n){if(n.key){var e=tT[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Ta(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?nT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xf,charCode:function(n){return n.type==="keypress"?Ta(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ta(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),sT=Ht(oT),aT=Fe({},Nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=Ht(aT),rT=Fe({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xf}),uT=Ht(rT),cT=Fe({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),fT=Ht(cT),dT=Fe({},Nr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),hT=Ht(dT),pT=Fe({},cl,{newState:0,oldState:0}),mT=Ht(pT),gT=[9,13,27,32],Tf=Xn&&"CompositionEvent"in window,Jo=null;Xn&&"documentMode"in document&&(Jo=document.documentMode);var yT=Xn&&"TextEvent"in window&&!Jo,Rg=Xn&&(!Tf||Jo&&8<Jo&&11>=Jo),Fd=" ",Zd=!1;function Dg(n,e){switch(n){case"keyup":return gT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wl=!1;function vT(n,e){switch(n){case"compositionend":return kg(e);case"keypress":return e.which!==32?null:(Zd=!0,Fd);case"textInput":return n=e.data,n===Fd&&Zd?null:n;default:return null}}function xT(n,e){if(wl)return n==="compositionend"||!Tf&&Dg(n,e)?(n=wg(),xa=vf=xi=null,wl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rg&&e.locale!=="ko"?null:e.data;default:return null}}var TT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kd(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!TT[n.type]:e==="textarea"}function Ig(n,e,t,i){Nl?Gl?Gl.push(i):Gl=[i]:Nl=i,e=nr(e,"onChange"),0<e.length&&(t=new Mr("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Xo=null,gs=null;function ST(n){Av(n,0)}function wr(n){var e=Ho(n);if(_g(e))return n}function Jd(n,e){if(n==="change")return e}var Ug=!1;if(Xn){var su;if(Xn){var au="oninput"in document;if(!au){var Xd=document.createElement("div");Xd.setAttribute("oninput","return;"),au=typeof Xd.oninput=="function"}su=au}else su=!1;Ug=su&&(!document.documentMode||9<document.documentMode)}function Qd(){Xo&&(Xo.detachEvent("onpropertychange",Lg),gs=Xo=null)}function Lg(n){if(n.propertyName==="value"&&wr(gs)){var e=[];Ig(e,gs,n,yf(n)),Ng(ST,e)}}function CT(n,e,t){n==="focusin"?(Qd(),Xo=e,gs=t,Xo.attachEvent("onpropertychange",Lg)):n==="focusout"&&Qd()}function _T(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return wr(gs)}function ET(n,e){if(n==="click")return wr(e)}function AT(n,e){if(n==="input"||n==="change")return wr(e)}function bT(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ln=typeof Object.is=="function"?Object.is:bT;function ys(n,e){if(ln(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var l=t[i];if(!Ju.call(e,l)||!ln(n[l],e[l]))return!1}return!0}function Wd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function jd(n,e){var t=Wd(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Wd(t)}}function Og(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Og(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Vg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var e=$a(n.document);e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=$a(n.document)}return e}function Sf(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var MT=Xn&&"documentMode"in document&&11>=document.documentMode,Rl=null,tc=null,Qo=null,nc=!1;function eh(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;nc||Rl==null||Rl!==$a(i)||(i=Rl,"selectionStart"in i&&Sf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Qo&&ys(Qo,i)||(Qo=i,i=nr(tc,"onSelect"),0<i.length&&(e=new Mr("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Rl)))}function Gi(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Dl={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},ru={},$g={};Xn&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function fl(n){if(ru[n])return ru[n];if(!Dl[n])return n;var e=Dl[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in $g)return ru[n]=e[t];return n}var Bg=fl("animationend"),Pg=fl("animationiteration"),zg=fl("animationstart"),NT=fl("transitionrun"),wT=fl("transitionstart"),RT=fl("transitioncancel"),Gg=fl("transitionend"),qg=new Map,ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ic.push("scrollEnd");function Tn(n,e){qg.set(n,e),ul(e,[n])}var th=new WeakMap;function cn(n,e){if(typeof n=="object"&&n!==null){var t=th.get(n);return t!==void 0?t:(e={value:n,source:e,stack:Bd(e)},th.set(n,e),e)}return{value:n,source:e,stack:Bd(e)}}var on=[],kl=0,Cf=0;function Rr(){for(var n=kl,e=Cf=kl=0;e<n;){var t=on[e];on[e++]=null;var i=on[e];on[e++]=null;var l=on[e];on[e++]=null;var o=on[e];if(on[e++]=null,i!==null&&l!==null){var s=i.pending;s===null?l.next=l:(l.next=s.next,s.next=l),i.pending=l}o!==0&&Hg(t,l,o)}}function Dr(n,e,t,i){on[kl++]=n,on[kl++]=e,on[kl++]=t,on[kl++]=i,Cf|=i,n.lanes|=i,n=n.alternate,n!==null&&(n.lanes|=i)}function _f(n,e,t,i){return Dr(n,e,t,i),Ba(n)}function vo(n,e){return Dr(n,null,null,e),Ba(n)}function Hg(n,e,t){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t);for(var l=!1,o=n.return;o!==null;)o.childLanes|=t,i=o.alternate,i!==null&&(i.childLanes|=t),o.tag===22&&(n=o.stateNode,n===null||n._visibility&1||(l=!0)),n=o,o=o.return;return n.tag===3?(o=n.stateNode,l&&e!==null&&(l=31-en(t),n=o.hiddenUpdates,i=n[l],i===null?n[l]=[e]:i.push(e),e.lane=t|536870912),o):null}function Ba(n){if(50<as)throw as=0,Ec=null,Error(M(185));for(var e=n.return;e!==null;)n=e,e=n.return;return n.tag===3?n.stateNode:null}var Il={};function DT(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(n,e,t,i){return new DT(n,e,t,i)}function Ef(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Kn(n,e){var t=n.alternate;return t===null?(t=Wt(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&65011712,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t.refCleanup=n.refCleanup,t}function Yg(n,e){n.flags&=65011714;var t=n.alternate;return t===null?(n.childLanes=0,n.lanes=e,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.type=t.type,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n}function Sa(n,e,t,i,l,o){var s=0;if(i=n,typeof n=="function")Ef(n)&&(s=1);else if(typeof n=="string")s=I1(n,t,Rn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Yu:return n=Wt(31,t,e,l),n.elementType=Yu,n.lanes=o,n;case Al:return Ji(t.children,l,o,e);case cg:s=8,l|=24;break;case Gu:return n=Wt(12,t,e,l|2),n.elementType=Gu,n.lanes=o,n;case qu:return n=Wt(13,t,e,l),n.elementType=qu,n.lanes=o,n;case Hu:return n=Wt(19,t,e,l),n.elementType=Hu,n.lanes=o,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Sx:case Gn:s=10;break e;case fg:s=9;break e;case cf:s=11;break e;case ff:s=14;break e;case fi:s=16,i=null;break e}s=29,t=Error(M(130,n===null?"null":typeof n,"")),i=null}return e=Wt(s,t,e,l),e.elementType=n,e.type=i,e.lanes=o,e}function Ji(n,e,t,i){return n=Wt(7,n,i,e),n.lanes=t,n}function uu(n,e,t){return n=Wt(6,n,null,e),n.lanes=t,n}function cu(n,e,t){return e=Wt(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}var Ul=[],Ll=0,Pa=null,za=0,an=[],rn=0,Xi=null,qn=1,Hn="";function Fi(n,e){Ul[Ll++]=za,Ul[Ll++]=Pa,Pa=n,za=e}function Fg(n,e,t){an[rn++]=qn,an[rn++]=Hn,an[rn++]=Xi,Xi=n;var i=qn;n=Hn;var l=32-en(i)-1;i&=~(1<<l),t+=1;var o=32-en(e)+l;if(30<o){var s=l-l%5;o=(i&(1<<s)-1).toString(32),i>>=s,l-=s,qn=1<<32-en(e)+l|t<<l|i,Hn=o+n}else qn=1<<o|t<<l|i,Hn=n}function Af(n){n.return!==null&&(Fi(n,1),Fg(n,1,0))}function bf(n){for(;n===Pa;)Pa=Ul[--Ll],Ul[Ll]=null,za=Ul[--Ll],Ul[Ll]=null;for(;n===Xi;)Xi=an[--rn],an[rn]=null,Hn=an[--rn],an[rn]=null,qn=an[--rn],an[rn]=null}var wt=null,Qe=null,Ae=!1,Qi=null,En=!1,lc=Error(M(519));function tl(n){var e=Error(M(418,""));throw vs(cn(e,n)),lc}function nh(n){var e=n.stateNode,t=n.type,i=n.memoizedProps;switch(e[St]=n,e[qt]=i,t){case"dialog":de("cancel",e),de("close",e);break;case"iframe":case"object":case"embed":de("load",e);break;case"video":case"audio":for(t=0;t<Ss.length;t++)de(Ss[t],e);break;case"source":de("error",e);break;case"img":case"image":case"link":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"input":de("invalid",e),Eg(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Va(e);break;case"select":de("invalid",e);break;case"textarea":de("invalid",e),bg(e,i.value,i.defaultValue,i.children),Va(e)}t=i.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||e.textContent===""+t||i.suppressHydrationWarning===!0||Mv(e.textContent,t)?(i.popover!=null&&(de("beforetoggle",e),de("toggle",e)),i.onScroll!=null&&de("scroll",e),i.onScrollEnd!=null&&de("scrollend",e),i.onClick!=null&&(e.onclick=Br),e=!0):e=!1,e||tl(n)}function ih(n){for(wt=n.return;wt;)switch(wt.tag){case 5:case 13:En=!1;return;case 27:case 3:En=!0;return;default:wt=wt.return}}function Io(n){if(n!==wt)return!1;if(!Ae)return ih(n),Ae=!0,!1;var e=n.tag,t;if((t=e!==3&&e!==27)&&((t=e===5)&&(t=n.type,t=!(t!=="form"&&t!=="button")||Rc(n.type,n.memoizedProps)),t=!t),t&&Qe&&tl(n),ih(n),e===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(M(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8)if(t=n.data,t==="/$"){if(e===0){Qe=vn(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++;n=n.nextSibling}Qe=null}}else e===27?(e=Qe,Oi(n.type)?(n=Ic,Ic=null,Qe=n):Qe=e):Qe=wt?vn(n.stateNode.nextSibling):null;return!0}function Os(){Qe=wt=null,Ae=!1}function lh(){var n=Qi;return n!==null&&(Gt===null?Gt=n:Gt.push.apply(Gt,n),Qi=null),n}function vs(n){Qi===null?Qi=[n]:Qi.push(n)}var oc=Ln(null),dl=null,Yn=null;function pi(n,e,t){Je(oc,e._currentValue),e._currentValue=t}function Jn(n){n._currentValue=oc.current,mt(oc)}function sc(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function ac(n,e,t,i){var l=n.child;for(l!==null&&(l.return=n);l!==null;){var o=l.dependencies;if(o!==null){var s=l.child;o=o.firstContext;e:for(;o!==null;){var u=o;o=l;for(var c=0;c<e.length;c++)if(u.context===e[c]){o.lanes|=t,u=o.alternate,u!==null&&(u.lanes|=t),sc(o.return,t,n),i||(s=null);break e}o=u.next}}else if(l.tag===18){if(s=l.return,s===null)throw Error(M(341));s.lanes|=t,o=s.alternate,o!==null&&(o.lanes|=t),sc(s,t,n),s=null}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===n){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}}function Vs(n,e,t,i){n=null;for(var l=e,o=!1;l!==null;){if(!o){if(l.flags&524288)o=!0;else if(l.flags&262144)break}if(l.tag===10){var s=l.alternate;if(s===null)throw Error(M(387));if(s=s.memoizedProps,s!==null){var u=l.type;ln(l.pendingProps.value,s.value)||(n!==null?n.push(u):n=[u])}}else if(l===Ia.current){if(s=l.alternate,s===null)throw Error(M(387));s.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(n!==null?n.push(Es):n=[Es])}l=l.return}n!==null&&ac(e,n,t,i),e.flags|=262144}function Ga(n){for(n=n.firstContext;n!==null;){if(!ln(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function nl(n){dl=n,Yn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ct(n){return Zg(dl,n)}function la(n,e){return dl===null&&nl(n),Zg(n,e)}function Zg(n,e){var t=e._currentValue;if(e={context:e,memoizedValue:t,next:null},Yn===null){if(n===null)throw Error(M(308));Yn=e,n.dependencies={lanes:0,firstContext:e},n.flags|=524288}else Yn=Yn.next=e;return t}var kT=typeof AbortController<"u"?AbortController:function(){var n=[],e=this.signal={aborted:!1,addEventListener:function(t,i){n.push(i)}};this.abort=function(){e.aborted=!0,n.forEach(function(t){return t()})}},IT=ft.unstable_scheduleCallback,UT=ft.unstable_NormalPriority,ut={$$typeof:Gn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new kT,data:new Map,refCount:0}}function $s(n){n.refCount--,n.refCount===0&&IT(UT,function(){n.controller.abort()})}var Wo=null,rc=0,eo=0,ql=null;function LT(n,e){if(Wo===null){var t=Wo=[];rc=0,eo=Xf(),ql={status:"pending",value:void 0,then:function(i){t.push(i)}}}return rc++,e.then(oh,oh),e}function oh(){if(--rc===0&&Wo!==null){ql!==null&&(ql.status="fulfilled");var n=Wo;Wo=null,eo=0,ql=null;for(var e=0;e<n.length;e++)(0,n[e])()}}function OT(n,e){var t=[],i={status:"pending",value:null,reason:null,then:function(l){t.push(l)}};return n.then(function(){i.status="fulfilled",i.value=e;for(var l=0;l<t.length;l++)(0,t[l])(e)},function(l){for(i.status="rejected",i.reason=l,l=0;l<t.length;l++)(0,t[l])(void 0)}),i}var sh=W.S;W.S=function(n,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&LT(n,e),sh!==null&&sh(n,e)};var Wi=Ln(null);function Nf(){var n=Wi.current;return n!==null?n:qe.pooledCache}function Ca(n,e){e===null?Je(Wi,Wi.current):Je(Wi,e.pool)}function Kg(){var n=Nf();return n===null?null:{parent:ut._currentValue,pool:n}}var Bs=Error(M(460)),Jg=Error(M(474)),kr=Error(M(542)),uc={then:function(){}};function ah(n){return n=n.status,n==="fulfilled"||n==="rejected"}function oa(){}function Xg(n,e,t){switch(t=n[t],t===void 0?n.push(e):t!==e&&(e.then(oa,oa),e=t),e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,uh(n),n;default:if(typeof e.status=="string")e.then(oa,oa);else{if(n=qe,n!==null&&100<n.shellSuspendCounter)throw Error(M(482));n=e,n.status="pending",n.then(function(i){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=i}},function(i){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,uh(n),n}throw jo=e,Bs}}var jo=null;function rh(){if(jo===null)throw Error(M(459));var n=jo;return jo=null,n}function uh(n){if(n===Bs||n===kr)throw Error(M(483))}var di=!1;function wf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cc(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function _i(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ei(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,De&2){var l=i.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),i.pending=e,e=Ba(n),Hg(n,null,t),e}return Dr(n,i,e,t),Ba(n)}function es(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194048)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,vg(n,t)}}function fu(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var l=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};o===null?l=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?l=o=e:o=o.next=e}else l=o=e;t={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}var fc=!1;function ts(){if(fc){var n=ql;if(n!==null)throw n}}function ns(n,e,t,i){fc=!1;var l=n.updateQueue;di=!1;var o=l.firstBaseUpdate,s=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var c=u,f=c.next;c.next=null,s===null?o=f:s.next=f,s=c;var d=n.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==s&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(o!==null){var p=l.baseState;s=0,d=f=c=null,u=o;do{var h=u.lane&-536870913,m=h!==u.lane;if(m?(Te&h)===h:(i&h)===h){h!==0&&h===eo&&(fc=!0),d!==null&&(d=d.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var x=n,S=u;h=e;var _=t;switch(S.tag){case 1:if(x=S.payload,typeof x=="function"){p=x.call(_,p,h);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,h=typeof x=="function"?x.call(_,p,h):x,h==null)break e;p=Fe({},p,h);break e;case 2:di=!0}}h=u.callback,h!==null&&(n.flags|=64,m&&(n.flags|=8192),m=l.callbacks,m===null?l.callbacks=[h]:m.push(h))}else m={lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=m,c=p):d=d.next=m,s|=h;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;m=u,u=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);d===null&&(c=p),l.baseState=c,l.firstBaseUpdate=f,l.lastBaseUpdate=d,o===null&&(l.shared.lanes=0),Ii|=s,n.lanes=s,n.memoizedState=p}}function Qg(n,e){if(typeof n!="function")throw Error(M(191,n));n.call(e)}function Wg(n,e){var t=n.callbacks;if(t!==null)for(n.callbacks=null,n=0;n<t.length;n++)Qg(t[n],e)}var to=Ln(null),qa=Ln(0);function ch(n,e){n=jn,Je(qa,n),Je(to,e),jn=n|e.baseLanes}function dc(){Je(qa,jn),Je(to,to.current)}function Rf(){jn=qa.current,mt(to),mt(qa)}var Di=0,re=null,Le=null,st=null,Ha=!1,Hl=!1,il=!1,Ya=0,xs=0,Yl=null,VT=0;function tt(){throw Error(M(321))}function Df(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ln(n[t],e[t]))return!1;return!0}function kf(n,e,t,i,l,o){return Di=o,re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,W.H=n===null||n.memoizedState===null?wy:Ry,il=!1,o=t(i,l),il=!1,Hl&&(o=ey(e,t,i,l)),jg(n),o}function jg(n){W.H=Fa;var e=Le!==null&&Le.next!==null;if(Di=0,st=Le=re=null,Ha=!1,xs=0,Yl=null,e)throw Error(M(300));n===null||pt||(n=n.dependencies,n!==null&&Ga(n)&&(pt=!0))}function ey(n,e,t,i){re=n;var l=0;do{if(Hl&&(Yl=null),xs=0,Hl=!1,25<=l)throw Error(M(301));if(l+=1,st=Le=null,n.updateQueue!=null){var o=n.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}W.H=HT,o=e(t,i)}while(Hl);return o}function $T(){var n=W.H,e=n.useState()[0];return e=typeof e.then=="function"?Ps(e):e,n=n.useState()[0],(Le!==null?Le.memoizedState:null)!==n&&(re.flags|=1024),e}function If(){var n=Ya!==0;return Ya=0,n}function Uf(n,e,t){e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~t}function Lf(n){if(Ha){for(n=n.memoizedState;n!==null;){var e=n.queue;e!==null&&(e.pending=null),n=n.next}Ha=!1}Di=0,st=Le=re=null,Hl=!1,xs=Ya=0,Yl=null}function Pt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?re.memoizedState=st=n:st=st.next=n,st}function at(){if(Le===null){var n=re.alternate;n=n!==null?n.memoizedState:null}else n=Le.next;var e=st===null?re.memoizedState:st.next;if(e!==null)st=e,Le=n;else{if(n===null)throw re.alternate===null?Error(M(467)):Error(M(310));Le=n,n={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},st===null?re.memoizedState=st=n:st=st.next=n}return st}function Of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ps(n){var e=xs;return xs+=1,Yl===null&&(Yl=[]),n=Xg(Yl,n,e),e=re,(st===null?e.memoizedState:st.next)===null&&(e=e.alternate,W.H=e===null||e.memoizedState===null?wy:Ry),n}function Ir(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ps(n);if(n.$$typeof===Gn)return Ct(n)}throw Error(M(438,String(n)))}function Vf(n){var e=null,t=re.updateQueue;if(t!==null&&(e=t.memoCache),e==null){var i=re.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),t===null&&(t=Of(),re.updateQueue=t),t.memoCache=e,t=e.data[e.index],t===void 0)for(t=e.data[e.index]=Array(n),i=0;i<n;i++)t[i]=Cx;return e.index++,t}function Qn(n,e){return typeof e=="function"?e(n):e}function _a(n){var e=at();return $f(e,Le,n)}function $f(n,e,t){var i=n.queue;if(i===null)throw Error(M(311));i.lastRenderedReducer=t;var l=n.baseQueue,o=i.pending;if(o!==null){if(l!==null){var s=l.next;l.next=o.next,o.next=s}e.baseQueue=l=o,i.pending=null}if(o=n.baseState,l===null)n.memoizedState=o;else{e=l.next;var u=s=null,c=null,f=e,d=!1;do{var p=f.lane&-536870913;if(p!==f.lane?(Te&p)===p:(Di&p)===p){var h=f.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),p===eo&&(d=!0);else if((Di&h)===h){f=f.next,h===eo&&(d=!0);continue}else p={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=p,s=o):c=c.next=p,re.lanes|=h,Ii|=h;p=f.action,il&&t(o,p),o=f.hasEagerState?f.eagerState:t(o,p)}else h={lane:p,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=h,s=o):c=c.next=h,re.lanes|=p,Ii|=p;f=f.next}while(f!==null&&f!==e);if(c===null?s=o:c.next=u,!ln(o,n.memoizedState)&&(pt=!0,d&&(t=ql,t!==null)))throw t;n.memoizedState=o,n.baseState=s,n.baseQueue=c,i.lastRenderedState=o}return l===null&&(i.lanes=0),[n.memoizedState,i.dispatch]}function du(n){var e=at(),t=e.queue;if(t===null)throw Error(M(311));t.lastRenderedReducer=n;var i=t.dispatch,l=t.pending,o=e.memoizedState;if(l!==null){t.pending=null;var s=l=l.next;do o=n(o,s.action),s=s.next;while(s!==l);ln(o,e.memoizedState)||(pt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,i]}function ty(n,e,t){var i=re,l=at(),o=Ae;if(o){if(t===void 0)throw Error(M(407));t=t()}else t=e();var s=!ln((Le||l).memoizedState,t);s&&(l.memoizedState=t,pt=!0),l=l.queue;var u=ly.bind(null,i,l,n);if(zs(2048,8,u,[n]),l.getSnapshot!==e||s||st!==null&&st.memoizedState.tag&1){if(i.flags|=2048,no(9,Ur(),iy.bind(null,i,l,t,e),null),qe===null)throw Error(M(349));o||Di&124||ny(i,e,t)}return t}function ny(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=re.updateQueue,e===null?(e=Of(),re.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function iy(n,e,t,i){e.value=t,e.getSnapshot=i,oy(e)&&sy(n)}function ly(n,e,t){return t(function(){oy(e)&&sy(n)})}function oy(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ln(n,t)}catch{return!0}}function sy(n){var e=vo(n,2);e!==null&&nn(e,n,2)}function hc(n){var e=Pt();if(typeof n=="function"){var t=n;if(n=t(),il){vi(!0);try{t()}finally{vi(!1)}}}return e.memoizedState=e.baseState=n,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:n},e}function ay(n,e,t,i){return n.baseState=t,$f(n,Le,typeof i=="function"?i:Qn)}function BT(n,e,t,i,l){if(Lr(n))throw Error(M(485));if(n=e.action,n!==null){var o={payload:l,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){o.listeners.push(s)}};W.T!==null?t(!0):o.isTransition=!1,i(o),t=e.pending,t===null?(o.next=e.pending=o,ry(e,o)):(o.next=t.next,e.pending=t.next=o)}}function ry(n,e){var t=e.action,i=e.payload,l=n.state;if(e.isTransition){var o=W.T,s={};W.T=s;try{var u=t(l,i),c=W.S;c!==null&&c(s,u),fh(n,e,u)}catch(f){pc(n,e,f)}finally{W.T=o}}else try{o=t(l,i),fh(n,e,o)}catch(f){pc(n,e,f)}}function fh(n,e,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(i){dh(n,e,i)},function(i){return pc(n,e,i)}):dh(n,e,t)}function dh(n,e,t){e.status="fulfilled",e.value=t,uy(e),n.state=t,e=n.pending,e!==null&&(t=e.next,t===e?n.pending=null:(t=t.next,e.next=t,ry(n,t)))}function pc(n,e,t){var i=n.pending;if(n.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=t,uy(e),e=e.next;while(e!==i)}n.action=null}function uy(n){n=n.listeners;for(var e=0;e<n.length;e++)(0,n[e])()}function cy(n,e){return e}function hh(n,e){if(Ae){var t=qe.formState;if(t!==null){e:{var i=re;if(Ae){if(Qe){t:{for(var l=Qe,o=En;l.nodeType!==8;){if(!o){l=null;break t}if(l=vn(l.nextSibling),l===null){l=null;break t}}o=l.data,l=o==="F!"||o==="F"?l:null}if(l){Qe=vn(l.nextSibling),i=l.data==="F!";break e}}tl(i)}i=!1}i&&(e=t[0])}}return t=Pt(),t.memoizedState=t.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cy,lastRenderedState:e},t.queue=i,t=by.bind(null,re,i),i.dispatch=t,i=hc(!1),o=Gf.bind(null,re,!1,i.queue),i=Pt(),l={state:e,dispatch:null,action:n,pending:null},i.queue=l,t=BT.bind(null,re,l,o,t),l.dispatch=t,i.memoizedState=n,[e,t,!1]}function ph(n){var e=at();return fy(e,Le,n)}function fy(n,e,t){if(e=$f(n,e,cy)[0],n=_a(Qn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Ps(e)}catch(s){throw s===Bs?kr:s}else i=e;e=at();var l=e.queue,o=l.dispatch;return t!==e.memoizedState&&(re.flags|=2048,no(9,Ur(),PT.bind(null,l,t),null)),[i,o,n]}function PT(n,e){n.action=e}function mh(n){var e=at(),t=Le;if(t!==null)return fy(e,t,n);at(),e=e.memoizedState,t=at();var i=t.queue.dispatch;return t.memoizedState=n,[e,i,!1]}function no(n,e,t,i){return n={tag:n,create:t,deps:i,inst:e,next:null},e=re.updateQueue,e===null&&(e=Of(),re.updateQueue=e),t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n),n}function Ur(){return{destroy:void 0,resource:void 0}}function dy(){return at().memoizedState}function Ea(n,e,t,i){var l=Pt();i=i===void 0?null:i,re.flags|=n,l.memoizedState=no(1|e,Ur(),t,i)}function zs(n,e,t,i){var l=at();i=i===void 0?null:i;var o=l.memoizedState.inst;Le!==null&&i!==null&&Df(i,Le.memoizedState.deps)?l.memoizedState=no(e,o,t,i):(re.flags|=n,l.memoizedState=no(1|e,o,t,i))}function gh(n,e){Ea(8390656,8,n,e)}function hy(n,e){zs(2048,8,n,e)}function py(n,e){return zs(4,2,n,e)}function my(n,e){return zs(4,4,n,e)}function gy(n,e){if(typeof e=="function"){n=n();var t=e(n);return function(){typeof t=="function"?t():e(null)}}if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function yy(n,e,t){t=t!=null?t.concat([n]):null,zs(4,4,gy.bind(null,e,n),t)}function Bf(){}function vy(n,e){var t=at();e=e===void 0?null:e;var i=t.memoizedState;return e!==null&&Df(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function xy(n,e){var t=at();e=e===void 0?null:e;var i=t.memoizedState;if(e!==null&&Df(e,i[1]))return i[0];if(i=n(),il){vi(!0);try{n()}finally{vi(!1)}}return t.memoizedState=[i,e],i}function Pf(n,e,t){return t===void 0||Di&1073741824?n.memoizedState=e:(n.memoizedState=t,n=uv(),re.lanes|=n,Ii|=n,t)}function Ty(n,e,t,i){return ln(t,e)?t:to.current!==null?(n=Pf(n,t,i),ln(n,e)||(pt=!0),n):Di&42?(n=uv(),re.lanes|=n,Ii|=n,e):(pt=!0,n.memoizedState=t)}function Sy(n,e,t,i,l){var o=be.p;be.p=o!==0&&8>o?o:8;var s=W.T,u={};W.T=u,Gf(n,!1,e,t);try{var c=l(),f=W.S;if(f!==null&&f(u,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=OT(c,i);is(n,e,d,tn(n))}else is(n,e,i,tn(n))}catch(p){is(n,e,{then:function(){},status:"rejected",reason:p},tn())}finally{be.p=o,W.T=s}}function zT(){}function mc(n,e,t,i){if(n.tag!==5)throw Error(M(476));var l=Cy(n).queue;Sy(n,l,e,Ki,t===null?zT:function(){return _y(n),t(i)})}function Cy(n){var e=n.memoizedState;if(e!==null)return e;e={memoizedState:Ki,baseState:Ki,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:Ki},next:null};var t={};return e.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:t},next:null},n.memoizedState=e,n=n.alternate,n!==null&&(n.memoizedState=e),e}function _y(n){var e=Cy(n).next.queue;is(n,e,{},tn())}function zf(){return Ct(Es)}function Ey(){return at().memoizedState}function Ay(){return at().memoizedState}function GT(n){for(var e=n.return;e!==null;){switch(e.tag){case 24:case 3:var t=tn();n=_i(t);var i=Ei(e,n,t);i!==null&&(nn(i,e,t),es(i,e,t)),e={cache:Mf()},n.payload=e;return}e=e.return}}function qT(n,e,t){var i=tn();t={lane:i,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},Lr(n)?My(e,t):(t=_f(n,e,t,i),t!==null&&(nn(t,n,i),Ny(t,e,i)))}function by(n,e,t){var i=tn();is(n,e,t,i)}function is(n,e,t,i){var l={lane:i,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if(Lr(n))My(e,l);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,u=o(s,t);if(l.hasEagerState=!0,l.eagerState=u,ln(u,s))return Dr(n,e,l,0),qe===null&&Rr(),!1}catch{}finally{}if(t=_f(n,e,l,i),t!==null)return nn(t,n,i),Ny(t,e,i),!0}return!1}function Gf(n,e,t,i){if(i={lane:2,revertLane:Xf(),action:i,hasEagerState:!1,eagerState:null,next:null},Lr(n)){if(e)throw Error(M(479))}else e=_f(n,t,i,2),e!==null&&nn(e,n,2)}function Lr(n){var e=n.alternate;return n===re||e!==null&&e===re}function My(n,e){Hl=Ha=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Ny(n,e,t){if(t&4194048){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,vg(n,t)}}var Fa={readContext:Ct,use:Ir,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt},wy={readContext:Ct,use:Ir,useCallback:function(n,e){return Pt().memoizedState=[n,e===void 0?null:e],n},useContext:Ct,useEffect:gh,useImperativeHandle:function(n,e,t){t=t!=null?t.concat([n]):null,Ea(4194308,4,gy.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Ea(4194308,4,n,e)},useInsertionEffect:function(n,e){Ea(4,2,n,e)},useMemo:function(n,e){var t=Pt();e=e===void 0?null:e;var i=n();if(il){vi(!0);try{n()}finally{vi(!1)}}return t.memoizedState=[i,e],i},useReducer:function(n,e,t){var i=Pt();if(t!==void 0){var l=t(e);if(il){vi(!0);try{t(e)}finally{vi(!1)}}}else l=e;return i.memoizedState=i.baseState=l,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:l},i.queue=n,n=n.dispatch=qT.bind(null,re,n),[i.memoizedState,n]},useRef:function(n){var e=Pt();return n={current:n},e.memoizedState=n},useState:function(n){n=hc(n);var e=n.queue,t=by.bind(null,re,e);return e.dispatch=t,[n.memoizedState,t]},useDebugValue:Bf,useDeferredValue:function(n,e){var t=Pt();return Pf(t,n,e)},useTransition:function(){var n=hc(!1);return n=Sy.bind(null,re,n.queue,!0,!1),Pt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,e,t){var i=re,l=Pt();if(Ae){if(t===void 0)throw Error(M(407));t=t()}else{if(t=e(),qe===null)throw Error(M(349));Te&124||ny(i,e,t)}l.memoizedState=t;var o={value:t,getSnapshot:e};return l.queue=o,gh(ly.bind(null,i,o,n),[n]),i.flags|=2048,no(9,Ur(),iy.bind(null,i,o,t,e),null),t},useId:function(){var n=Pt(),e=qe.identifierPrefix;if(Ae){var t=Hn,i=qn;t=(i&~(1<<32-en(i)-1)).toString(32)+t,e=""+e+"R"+t,t=Ya++,0<t&&(e+="H"+t.toString(32)),e+=""}else t=VT++,e=""+e+"r"+t.toString(32)+"";return n.memoizedState=e},useHostTransitionStatus:zf,useFormState:hh,useActionState:hh,useOptimistic:function(n){var e=Pt();e.memoizedState=e.baseState=n;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=t,e=Gf.bind(null,re,!0,t),t.dispatch=e,[n,e]},useMemoCache:Vf,useCacheRefresh:function(){return Pt().memoizedState=GT.bind(null,re)}},Ry={readContext:Ct,use:Ir,useCallback:vy,useContext:Ct,useEffect:hy,useImperativeHandle:yy,useInsertionEffect:py,useLayoutEffect:my,useMemo:xy,useReducer:_a,useRef:dy,useState:function(){return _a(Qn)},useDebugValue:Bf,useDeferredValue:function(n,e){var t=at();return Ty(t,Le.memoizedState,n,e)},useTransition:function(){var n=_a(Qn)[0],e=at().memoizedState;return[typeof n=="boolean"?n:Ps(n),e]},useSyncExternalStore:ty,useId:Ey,useHostTransitionStatus:zf,useFormState:ph,useActionState:ph,useOptimistic:function(n,e){var t=at();return ay(t,Le,n,e)},useMemoCache:Vf,useCacheRefresh:Ay},HT={readContext:Ct,use:Ir,useCallback:vy,useContext:Ct,useEffect:hy,useImperativeHandle:yy,useInsertionEffect:py,useLayoutEffect:my,useMemo:xy,useReducer:du,useRef:dy,useState:function(){return du(Qn)},useDebugValue:Bf,useDeferredValue:function(n,e){var t=at();return Le===null?Pf(t,n,e):Ty(t,Le.memoizedState,n,e)},useTransition:function(){var n=du(Qn)[0],e=at().memoizedState;return[typeof n=="boolean"?n:Ps(n),e]},useSyncExternalStore:ty,useId:Ey,useHostTransitionStatus:zf,useFormState:mh,useActionState:mh,useOptimistic:function(n,e){var t=at();return Le!==null?ay(t,Le,n,e):(t.baseState=n,[n,t.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:Ay},Fl=null,Ts=0;function sa(n){var e=Ts;return Ts+=1,Fl===null&&(Fl=[]),Xg(Fl,n,e)}function Uo(n,e){e=e.props.ref,n.ref=e!==void 0?e:null}function aa(n,e){throw e.$$typeof===Tx?Error(M(525)):(n=Object.prototype.toString.call(e),Error(M(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)))}function yh(n){var e=n._init;return e(n._payload)}function Dy(n){function e(y,v){if(n){var T=y.deletions;T===null?(y.deletions=[v],y.flags|=16):T.push(v)}}function t(y,v){if(!n)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function i(y){for(var v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function l(y,v){return y=Kn(y,v),y.index=0,y.sibling=null,y}function o(y,v,T){return y.index=T,n?(T=y.alternate,T!==null?(T=T.index,T<v?(y.flags|=67108866,v):T):(y.flags|=67108866,v)):(y.flags|=1048576,v)}function s(y){return n&&y.alternate===null&&(y.flags|=67108866),y}function u(y,v,T,C){return v===null||v.tag!==6?(v=uu(T,y.mode,C),v.return=y,v):(v=l(v,T),v.return=y,v)}function c(y,v,T,C){var A=T.type;return A===Al?d(y,v,T.props.children,C,T.key):v!==null&&(v.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===fi&&yh(A)===v.type)?(v=l(v,T.props),Uo(v,T),v.return=y,v):(v=Sa(T.type,T.key,T.props,null,y.mode,C),Uo(v,T),v.return=y,v)}function f(y,v,T,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=cu(T,y.mode,C),v.return=y,v):(v=l(v,T.children||[]),v.return=y,v)}function d(y,v,T,C,A){return v===null||v.tag!==7?(v=Ji(T,y.mode,C,A),v.return=y,v):(v=l(v,T),v.return=y,v)}function p(y,v,T){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=uu(""+v,y.mode,T),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case js:return T=Sa(v.type,v.key,v.props,null,y.mode,T),Uo(T,v),T.return=y,T;case Go:return v=cu(v,y.mode,T),v.return=y,v;case fi:var C=v._init;return v=C(v._payload),p(y,v,T)}if(qo(v)||Ro(v))return v=Ji(v,y.mode,T,null),v.return=y,v;if(typeof v.then=="function")return p(y,sa(v),T);if(v.$$typeof===Gn)return p(y,la(y,v),T);aa(y,v)}return null}function h(y,v,T,C){var A=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return A!==null?null:u(y,v,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case js:return T.key===A?c(y,v,T,C):null;case Go:return T.key===A?f(y,v,T,C):null;case fi:return A=T._init,T=A(T._payload),h(y,v,T,C)}if(qo(T)||Ro(T))return A!==null?null:d(y,v,T,C,null);if(typeof T.then=="function")return h(y,v,sa(T),C);if(T.$$typeof===Gn)return h(y,v,la(y,T),C);aa(y,T)}return null}function m(y,v,T,C,A){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return y=y.get(T)||null,u(v,y,""+C,A);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case js:return y=y.get(C.key===null?T:C.key)||null,c(v,y,C,A);case Go:return y=y.get(C.key===null?T:C.key)||null,f(v,y,C,A);case fi:var w=C._init;return C=w(C._payload),m(y,v,T,C,A)}if(qo(C)||Ro(C))return y=y.get(T)||null,d(v,y,C,A,null);if(typeof C.then=="function")return m(y,v,T,sa(C),A);if(C.$$typeof===Gn)return m(y,v,T,la(v,C),A);aa(v,C)}return null}function x(y,v,T,C){for(var A=null,w=null,N=v,D=v=0,B=null;N!==null&&D<T.length;D++){N.index>D?(B=N,N=null):B=N.sibling;var O=h(y,N,T[D],C);if(O===null){N===null&&(N=B);break}n&&N&&O.alternate===null&&e(y,N),v=o(O,v,D),w===null?A=O:w.sibling=O,w=O,N=B}if(D===T.length)return t(y,N),Ae&&Fi(y,D),A;if(N===null){for(;D<T.length;D++)N=p(y,T[D],C),N!==null&&(v=o(N,v,D),w===null?A=N:w.sibling=N,w=N);return Ae&&Fi(y,D),A}for(N=i(N);D<T.length;D++)B=m(N,y,D,T[D],C),B!==null&&(n&&B.alternate!==null&&N.delete(B.key===null?D:B.key),v=o(B,v,D),w===null?A=B:w.sibling=B,w=B);return n&&N.forEach(function(fe){return e(y,fe)}),Ae&&Fi(y,D),A}function S(y,v,T,C){if(T==null)throw Error(M(151));for(var A=null,w=null,N=v,D=v=0,B=null,O=T.next();N!==null&&!O.done;D++,O=T.next()){N.index>D?(B=N,N=null):B=N.sibling;var fe=h(y,N,O.value,C);if(fe===null){N===null&&(N=B);break}n&&N&&fe.alternate===null&&e(y,N),v=o(fe,v,D),w===null?A=fe:w.sibling=fe,w=fe,N=B}if(O.done)return t(y,N),Ae&&Fi(y,D),A;if(N===null){for(;!O.done;D++,O=T.next())O=p(y,O.value,C),O!==null&&(v=o(O,v,D),w===null?A=O:w.sibling=O,w=O);return Ae&&Fi(y,D),A}for(N=i(N);!O.done;D++,O=T.next())O=m(N,y,D,O.value,C),O!==null&&(n&&O.alternate!==null&&N.delete(O.key===null?D:O.key),v=o(O,v,D),w===null?A=O:w.sibling=O,w=O);return n&&N.forEach(function(Ce){return e(y,Ce)}),Ae&&Fi(y,D),A}function _(y,v,T,C){if(typeof T=="object"&&T!==null&&T.type===Al&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case js:e:{for(var A=T.key;v!==null;){if(v.key===A){if(A=T.type,A===Al){if(v.tag===7){t(y,v.sibling),C=l(v,T.props.children),C.return=y,y=C;break e}}else if(v.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===fi&&yh(A)===v.type){t(y,v.sibling),C=l(v,T.props),Uo(C,T),C.return=y,y=C;break e}t(y,v);break}else e(y,v);v=v.sibling}T.type===Al?(C=Ji(T.props.children,y.mode,C,T.key),C.return=y,y=C):(C=Sa(T.type,T.key,T.props,null,y.mode,C),Uo(C,T),C.return=y,y=C)}return s(y);case Go:e:{for(A=T.key;v!==null;){if(v.key===A)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){t(y,v.sibling),C=l(v,T.children||[]),C.return=y,y=C;break e}else{t(y,v);break}else e(y,v);v=v.sibling}C=cu(T,y.mode,C),C.return=y,y=C}return s(y);case fi:return A=T._init,T=A(T._payload),_(y,v,T,C)}if(qo(T))return x(y,v,T,C);if(Ro(T)){if(A=Ro(T),typeof A!="function")throw Error(M(150));return T=A.call(T),S(y,v,T,C)}if(typeof T.then=="function")return _(y,v,sa(T),C);if(T.$$typeof===Gn)return _(y,v,la(y,T),C);aa(y,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,v!==null&&v.tag===6?(t(y,v.sibling),C=l(v,T),C.return=y,y=C):(t(y,v),C=uu(T,y.mode,C),C.return=y,y=C),s(y)):t(y,v)}return function(y,v,T,C){try{Ts=0;var A=_(y,v,T,C);return Fl=null,A}catch(N){if(N===Bs||N===kr)throw N;var w=Wt(29,N,null,y.mode);return w.lanes=C,w.return=y,w}finally{}}}var io=Dy(!0),ky=Dy(!1),dn=Ln(null),kn=null;function mi(n){var e=n.alternate;Je(ct,ct.current&1),Je(dn,n),kn===null&&(e===null||to.current!==null||e.memoizedState!==null)&&(kn=n)}function Iy(n){if(n.tag===22){if(Je(ct,ct.current),Je(dn,n),kn===null){var e=n.alternate;e!==null&&e.memoizedState!==null&&(kn=n)}}else gi()}function gi(){Je(ct,ct.current),Je(dn,dn.current)}function Fn(n){mt(dn),kn===n&&(kn=null),mt(ct)}var ct=Ln(0);function Za(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||kc(t)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function hu(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Fe({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var gc={enqueueSetState:function(n,e,t){n=n._reactInternals;var i=tn(),l=_i(i);l.payload=e,t!=null&&(l.callback=t),e=Ei(n,l,i),e!==null&&(nn(e,n,i),es(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=tn(),l=_i(i);l.tag=1,l.payload=e,t!=null&&(l.callback=t),e=Ei(n,l,i),e!==null&&(nn(e,n,i),es(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=tn(),i=_i(t);i.tag=2,e!=null&&(i.callback=e),e=Ei(n,i,t),e!==null&&(nn(e,n,t),es(e,n,t))}};function vh(n,e,t,i,l,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!ys(t,i)||!ys(l,o):!0}function xh(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&gc.enqueueReplaceState(e,e.state,null)}function ll(n,e){var t=e;if("ref"in e){t={};for(var i in e)i!=="ref"&&(t[i]=e[i])}if(n=n.defaultProps){t===e&&(t=Fe({},t));for(var l in n)t[l]===void 0&&(t[l]=n[l])}return t}var Ka=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Uy(n){Ka(n)}function Ly(n){console.error(n)}function Oy(n){Ka(n)}function Ja(n,e){try{var t=n.onUncaughtError;t(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Th(n,e,t){try{var i=n.onCaughtError;i(t.value,{componentStack:t.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function yc(n,e,t){return t=_i(t),t.tag=3,t.payload={element:null},t.callback=function(){Ja(n,e)},t}function Vy(n){return n=_i(n),n.tag=3,n}function $y(n,e,t,i){var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var o=i.value;n.payload=function(){return l(o)},n.callback=function(){Th(e,t,i)}}var s=t.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Th(e,t,i),typeof l!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var u=i.stack;this.componentDidCatch(i.value,{componentStack:u!==null?u:""})})}function YT(n,e,t,i,l){if(t.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=t.alternate,e!==null&&Vs(e,t,l,!0),t=dn.current,t!==null){switch(t.tag){case 13:return kn===null?Ac():t.alternate===null&&We===0&&(We=3),t.flags&=-257,t.flags|=65536,t.lanes=l,i===uc?t.flags|=16384:(e=t.updateQueue,e===null?t.updateQueue=new Set([i]):e.add(i),Eu(n,i,l)),!1;case 22:return t.flags|=65536,i===uc?t.flags|=16384:(e=t.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},t.updateQueue=e):(t=e.retryQueue,t===null?e.retryQueue=new Set([i]):t.add(i)),Eu(n,i,l)),!1}throw Error(M(435,t.tag))}return Eu(n,i,l),Ac(),!1}if(Ae)return e=dn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=l,i!==lc&&(n=Error(M(422),{cause:i}),vs(cn(n,t)))):(i!==lc&&(e=Error(M(423),{cause:i}),vs(cn(e,t))),n=n.current.alternate,n.flags|=65536,l&=-l,n.lanes|=l,i=cn(i,t),l=yc(n.stateNode,i,l),fu(n,l),We!==4&&(We=2)),!1;var o=Error(M(520),{cause:i});if(o=cn(o,t),ss===null?ss=[o]:ss.push(o),We!==4&&(We=2),e===null)return!0;i=cn(i,t),t=e;do{switch(t.tag){case 3:return t.flags|=65536,n=l&-l,t.lanes|=n,n=yc(t.stateNode,i,n),fu(t,n),!1;case 1:if(e=t.type,o=t.stateNode,(t.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Ai===null||!Ai.has(o))))return t.flags|=65536,l&=-l,t.lanes|=l,l=Vy(l),$y(l,n,t,i),fu(t,l),!1}t=t.return}while(t!==null);return!1}var By=Error(M(461)),pt=!1;function gt(n,e,t,i){e.child=n===null?ky(e,null,t,i):io(e,n.child,t,i)}function Sh(n,e,t,i,l){t=t.render;var o=e.ref;if("ref"in i){var s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}else s=i;return nl(e),i=kf(n,e,t,s,o,l),u=If(),n!==null&&!pt?(Uf(n,e,l),Wn(n,e,l)):(Ae&&u&&Af(e),e.flags|=1,gt(n,e,i,l),e.child)}function Ch(n,e,t,i,l){if(n===null){var o=t.type;return typeof o=="function"&&!Ef(o)&&o.defaultProps===void 0&&t.compare===null?(e.tag=15,e.type=o,Py(n,e,o,i,l)):(n=Sa(t.type,null,i,e,e.mode,l),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!qf(n,l)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:ys,t(s,i)&&n.ref===e.ref)return Wn(n,e,l)}return e.flags|=1,n=Kn(o,i),n.ref=e.ref,n.return=e,e.child=n}function Py(n,e,t,i,l){if(n!==null){var o=n.memoizedProps;if(ys(o,i)&&n.ref===e.ref)if(pt=!1,e.pendingProps=i=o,qf(n,l))n.flags&131072&&(pt=!0);else return e.lanes=n.lanes,Wn(n,e,l)}return vc(n,e,t,i,l)}function zy(n,e,t){var i=e.pendingProps,l=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=o!==null?o.baseLanes|t:t,n!==null){for(l=e.child=n.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;e.childLanes=o&~i}else e.childLanes=0,e.child=null;return _h(n,e,i,t)}if(t&536870912)e.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ca(e,o!==null?o.cachePool:null),o!==null?ch(e,o):dc(),Iy(e);else return e.lanes=e.childLanes=536870912,_h(n,e,o!==null?o.baseLanes|t:t,t)}else o!==null?(Ca(e,o.cachePool),ch(e,o),gi(),e.memoizedState=null):(n!==null&&Ca(e,null),dc(),gi());return gt(n,e,l,t),e.child}function _h(n,e,t,i){var l=Nf();return l=l===null?null:{parent:ut._currentValue,pool:l},e.memoizedState={baseLanes:t,cachePool:l},n!==null&&Ca(e,null),dc(),Iy(e),n!==null&&Vs(n,e,i,!0),null}function Aa(n,e){var t=e.ref;if(t===null)n!==null&&n.ref!==null&&(e.flags|=4194816);else{if(typeof t!="function"&&typeof t!="object")throw Error(M(284));(n===null||n.ref!==t)&&(e.flags|=4194816)}}function vc(n,e,t,i,l){return nl(e),t=kf(n,e,t,i,void 0,l),i=If(),n!==null&&!pt?(Uf(n,e,l),Wn(n,e,l)):(Ae&&i&&Af(e),e.flags|=1,gt(n,e,t,l),e.child)}function Eh(n,e,t,i,l,o){return nl(e),e.updateQueue=null,t=ey(e,i,t,l),jg(n),i=If(),n!==null&&!pt?(Uf(n,e,o),Wn(n,e,o)):(Ae&&i&&Af(e),e.flags|=1,gt(n,e,t,o),e.child)}function Ah(n,e,t,i,l){if(nl(e),e.stateNode===null){var o=Il,s=t.contextType;typeof s=="object"&&s!==null&&(o=Ct(s)),o=new t(i,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=gc,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=i,o.state=e.memoizedState,o.refs={},wf(e),s=t.contextType,o.context=typeof s=="object"&&s!==null?Ct(s):Il,o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(hu(e,t,s,i),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&gc.enqueueReplaceState(o,o.state,null),ns(e,i,o,l),ts(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(n===null){o=e.stateNode;var u=e.memoizedProps,c=ll(t,u);o.props=c;var f=o.context,d=t.contextType;s=Il,typeof d=="object"&&d!==null&&(s=Ct(d));var p=t.getDerivedStateFromProps;d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function",u=e.pendingProps!==u,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u||f!==s)&&xh(e,o,i,s),di=!1;var h=e.memoizedState;o.state=h,ns(e,i,o,l),ts(),f=e.memoizedState,u||h!==f||di?(typeof p=="function"&&(hu(e,t,p,i),f=e.memoizedState),(c=di||vh(e,t,c,i,h,f,s))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),o.props=i,o.state=f,o.context=s,i=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,cc(n,e),s=e.memoizedProps,d=ll(t,s),o.props=d,p=e.pendingProps,h=o.context,f=t.contextType,c=Il,typeof f=="object"&&f!==null&&(c=Ct(f)),u=t.getDerivedStateFromProps,(f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==p||h!==c)&&xh(e,o,i,c),di=!1,h=e.memoizedState,o.state=h,ns(e,i,o,l),ts();var m=e.memoizedState;s!==p||h!==m||di||n!==null&&n.dependencies!==null&&Ga(n.dependencies)?(typeof u=="function"&&(hu(e,t,u,i),m=e.memoizedState),(d=di||vh(e,t,d,i,h,m,c)||n!==null&&n.dependencies!==null&&Ga(n.dependencies))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),o.props=i,o.state=m,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),i=!1)}return o=i,Aa(n,e),i=(e.flags&128)!==0,o||i?(o=e.stateNode,t=i&&typeof t.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,n!==null&&i?(e.child=io(e,n.child,null,l),e.child=io(e,null,t,l)):gt(n,e,t,l),e.memoizedState=o.state,n=e.child):n=Wn(n,e,l),n}function bh(n,e,t,i){return Os(),e.flags|=256,gt(n,e,t,i),e.child}var pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mu(n){return{baseLanes:n,cachePool:Kg()}}function gu(n,e,t){return n=n!==null?n.childLanes&~t:0,e&&(n|=fn),n}function Gy(n,e,t){var i=e.pendingProps,l=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=n!==null&&n.memoizedState===null?!1:(ct.current&2)!==0),s&&(l=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,n===null){if(Ae){if(l?mi(e):gi(),Ae){var u=Qe,c;if(c=u){e:{for(c=u,u=En;c.nodeType!==8;){if(!u){u=null;break e}if(c=vn(c.nextSibling),c===null){u=null;break e}}u=c}u!==null?(e.memoizedState={dehydrated:u,treeContext:Xi!==null?{id:qn,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},c=Wt(18,null,null,0),c.stateNode=u,c.return=e,e.child=c,wt=e,Qe=null,c=!0):c=!1}c||tl(e)}if(u=e.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return kc(u)?e.lanes=32:e.lanes=536870912,null;Fn(e)}return u=i.children,i=i.fallback,l?(gi(),l=e.mode,u=Xa({mode:"hidden",children:u},l),i=Ji(i,l,t,null),u.return=e,i.return=e,u.sibling=i,e.child=u,l=e.child,l.memoizedState=mu(t),l.childLanes=gu(n,s,t),e.memoizedState=pu,i):(mi(e),xc(e,u))}if(c=n.memoizedState,c!==null&&(u=c.dehydrated,u!==null)){if(o)e.flags&256?(mi(e),e.flags&=-257,e=yu(n,e,t)):e.memoizedState!==null?(gi(),e.child=n.child,e.flags|=128,e=null):(gi(),l=i.fallback,u=e.mode,i=Xa({mode:"visible",children:i.children},u),l=Ji(l,u,t,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,io(e,n.child,null,t),i=e.child,i.memoizedState=mu(t),i.childLanes=gu(n,s,t),e.memoizedState=pu,e=l);else if(mi(e),kc(u)){if(s=u.nextSibling&&u.nextSibling.dataset,s)var f=s.dgst;s=f,i=Error(M(419)),i.stack="",i.digest=s,vs({value:i,source:null,stack:null}),e=yu(n,e,t)}else if(pt||Vs(n,e,t,!1),s=(t&n.childLanes)!==0,pt||s){if(s=qe,s!==null&&(i=t&-t,i=i&42?1:hf(i),i=i&(s.suspendedLanes|t)?0:i,i!==0&&i!==c.retryLane))throw c.retryLane=i,vo(n,i),nn(s,n,i),By;u.data==="$?"||Ac(),e=yu(n,e,t)}else u.data==="$?"?(e.flags|=192,e.child=n.child,e=null):(n=c.treeContext,Qe=vn(u.nextSibling),wt=e,Ae=!0,Qi=null,En=!1,n!==null&&(an[rn++]=qn,an[rn++]=Hn,an[rn++]=Xi,qn=n.id,Hn=n.overflow,Xi=e),e=xc(e,i.children),e.flags|=4096);return e}return l?(gi(),l=i.fallback,u=e.mode,c=n.child,f=c.sibling,i=Kn(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?l=Kn(f,l):(l=Ji(l,u,t,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,i=l,l=e.child,u=n.child.memoizedState,u===null?u=mu(t):(c=u.cachePool,c!==null?(f=ut._currentValue,c=c.parent!==f?{parent:f,pool:f}:c):c=Kg(),u={baseLanes:u.baseLanes|t,cachePool:c}),l.memoizedState=u,l.childLanes=gu(n,s,t),e.memoizedState=pu,i):(mi(e),t=n.child,n=t.sibling,t=Kn(t,{mode:"visible",children:i.children}),t.return=e,t.sibling=null,n!==null&&(s=e.deletions,s===null?(e.deletions=[n],e.flags|=16):s.push(n)),e.child=t,e.memoizedState=null,t)}function xc(n,e){return e=Xa({mode:"visible",children:e},n.mode),e.return=n,n.child=e}function Xa(n,e){return n=Wt(22,n,null,e),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function yu(n,e,t){return io(e,n.child,null,t),n=xc(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Mh(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),sc(n.return,e,t)}function vu(n,e,t,i,l){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:l}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=t,o.tailMode=l)}function qy(n,e,t){var i=e.pendingProps,l=i.revealOrder,o=i.tail;if(gt(n,e,i.children,t),i=ct.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Mh(n,t,e);else if(n.tag===19)Mh(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}switch(Je(ct,i),l){case"forwards":for(t=e.child,l=null;t!==null;)n=t.alternate,n!==null&&Za(n)===null&&(l=t),t=t.sibling;t=l,t===null?(l=e.child,e.child=null):(l=t.sibling,t.sibling=null),vu(e,!1,l,t,o);break;case"backwards":for(t=null,l=e.child,e.child=null;l!==null;){if(n=l.alternate,n!==null&&Za(n)===null){e.child=l;break}n=l.sibling,l.sibling=t,t=l,l=n}vu(e,!0,t,null,o);break;case"together":vu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wn(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ii|=e.lanes,!(t&e.childLanes))if(n!==null){if(Vs(n,e,t,!1),(t&e.childLanes)===0)return null}else return null;if(n!==null&&e.child!==n.child)throw Error(M(153));if(e.child!==null){for(n=e.child,t=Kn(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Kn(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function qf(n,e){return n.lanes&e?!0:(n=n.dependencies,!!(n!==null&&Ga(n)))}function FT(n,e,t){switch(e.tag){case 3:Ua(e,e.stateNode.containerInfo),pi(e,ut,n.memoizedState.cache),Os();break;case 27:case 5:Ku(e);break;case 4:Ua(e,e.stateNode.containerInfo);break;case 10:pi(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(mi(e),e.flags|=128,null):t&e.child.childLanes?Gy(n,e,t):(mi(e),n=Wn(n,e,t),n!==null?n.sibling:null);mi(e);break;case 19:var l=(n.flags&128)!==0;if(i=(t&e.childLanes)!==0,i||(Vs(n,e,t,!1),i=(t&e.childLanes)!==0),l){if(i)return qy(n,e,t);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Je(ct,ct.current),i)break;return null;case 22:case 23:return e.lanes=0,zy(n,e,t);case 24:pi(e,ut,n.memoizedState.cache)}return Wn(n,e,t)}function Hy(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps)pt=!0;else{if(!qf(n,t)&&!(e.flags&128))return pt=!1,FT(n,e,t);pt=!!(n.flags&131072)}else pt=!1,Ae&&e.flags&1048576&&Fg(e,za,e.index);switch(e.lanes=0,e.tag){case 16:e:{n=e.pendingProps;var i=e.elementType,l=i._init;if(i=l(i._payload),e.type=i,typeof i=="function")Ef(i)?(n=ll(i,n),e.tag=1,e=Ah(null,e,i,n,t)):(e.tag=0,e=vc(null,e,i,n,t));else{if(i!=null){if(l=i.$$typeof,l===cf){e.tag=11,e=Sh(null,e,i,n,t);break e}else if(l===ff){e.tag=14,e=Ch(null,e,i,n,t);break e}}throw e=Fu(i)||i,Error(M(306,e,""))}}return e;case 0:return vc(n,e,e.type,e.pendingProps,t);case 1:return i=e.type,l=ll(i,e.pendingProps),Ah(n,e,i,l,t);case 3:e:{if(Ua(e,e.stateNode.containerInfo),n===null)throw Error(M(387));i=e.pendingProps;var o=e.memoizedState;l=o.element,cc(n,e),ns(e,i,null,t);var s=e.memoizedState;if(i=s.cache,pi(e,ut,i),i!==o.cache&&ac(e,[ut],t,!0),ts(),i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=bh(n,e,i,t);break e}else if(i!==l){l=cn(Error(M(424)),e),vs(l),e=bh(n,e,i,t);break e}else{switch(n=e.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Qe=vn(n.firstChild),wt=e,Ae=!0,Qi=null,En=!0,t=ky(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling}else{if(Os(),i===l){e=Wn(n,e,t);break e}gt(n,e,i,t)}e=e.child}return e;case 26:return Aa(n,e),n===null?(t=Hh(e.type,null,e.pendingProps,null))?e.memoizedState=t:Ae||(t=e.type,n=e.pendingProps,i=ir(Ci.current).createElement(t),i[St]=e,i[qt]=n,vt(i,t,n),ht(i),e.stateNode=i):e.memoizedState=Hh(e.type,n.memoizedProps,e.pendingProps,n.memoizedState),null;case 27:return Ku(e),n===null&&Ae&&(i=e.stateNode=Rv(e.type,e.pendingProps,Ci.current),wt=e,En=!0,l=Qe,Oi(e.type)?(Ic=l,Qe=vn(i.firstChild)):Qe=l),gt(n,e,e.pendingProps.children,t),Aa(n,e),n===null&&(e.flags|=4194304),e.child;case 5:return n===null&&Ae&&((l=i=Qe)&&(i=T1(i,e.type,e.pendingProps,En),i!==null?(e.stateNode=i,wt=e,Qe=vn(i.firstChild),En=!1,l=!0):l=!1),l||tl(e)),Ku(e),l=e.type,o=e.pendingProps,s=n!==null?n.memoizedProps:null,i=o.children,Rc(l,o)?i=null:s!==null&&Rc(l,s)&&(e.flags|=32),e.memoizedState!==null&&(l=kf(n,e,$T,null,null,t),Es._currentValue=l),Aa(n,e),gt(n,e,i,t),e.child;case 6:return n===null&&Ae&&((n=t=Qe)&&(t=S1(t,e.pendingProps,En),t!==null?(e.stateNode=t,wt=e,Qe=null,n=!0):n=!1),n||tl(e)),null;case 13:return Gy(n,e,t);case 4:return Ua(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=io(e,null,i,t):gt(n,e,i,t),e.child;case 11:return Sh(n,e,e.type,e.pendingProps,t);case 7:return gt(n,e,e.pendingProps,t),e.child;case 8:return gt(n,e,e.pendingProps.children,t),e.child;case 12:return gt(n,e,e.pendingProps.children,t),e.child;case 10:return i=e.pendingProps,pi(e,e.type,i.value),gt(n,e,i.children,t),e.child;case 9:return l=e.type._context,i=e.pendingProps.children,nl(e),l=Ct(l),i=i(l),e.flags|=1,gt(n,e,i,t),e.child;case 14:return Ch(n,e,e.type,e.pendingProps,t);case 15:return Py(n,e,e.type,e.pendingProps,t);case 19:return qy(n,e,t);case 31:return i=e.pendingProps,t=e.mode,i={mode:i.mode,children:i.children},n===null?(t=Xa(i,t),t.ref=e.ref,e.child=t,t.return=e,e=t):(t=Kn(n.child,i),t.ref=e.ref,e.child=t,t.return=e,e=t),e;case 22:return zy(n,e,t);case 24:return nl(e),i=Ct(ut),n===null?(l=Nf(),l===null&&(l=qe,o=Mf(),l.pooledCache=o,o.refCount++,o!==null&&(l.pooledCacheLanes|=t),l=o),e.memoizedState={parent:i,cache:l},wf(e),pi(e,ut,l)):(n.lanes&t&&(cc(n,e),ns(e,null,null,t),ts()),l=n.memoizedState,o=e.memoizedState,l.parent!==i?(l={parent:i,cache:i},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),pi(e,ut,i)):(i=o.cache,pi(e,ut,i),i!==l.cache&&ac(e,[ut],t,!0))),gt(n,e,e.pendingProps.children,t),e.child;case 29:throw e.pendingProps}throw Error(M(156,e.tag))}function Bn(n){n.flags|=4}function Nh(n,e){if(e.type!=="stylesheet"||e.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!Iv(e)){if(e=dn.current,e!==null&&((Te&4194048)===Te?kn!==null:(Te&62914560)!==Te&&!(Te&536870912)||e!==kn))throw jo=uc,Jg;n.flags|=8192}}function ra(n,e){e!==null&&(n.flags|=4),n.flags&16384&&(e=n.tag!==22?gg():536870912,n.lanes|=e,lo|=e)}function Lo(n,e){if(!Ae)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Xe(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var l=n.child;l!==null;)t|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=n,l=l.sibling;else for(l=n.child;l!==null;)t|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=n,l=l.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function ZT(n,e,t){var i=e.pendingProps;switch(bf(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return Xe(e),null;case 3:return t=e.stateNode,i=null,n!==null&&(i=n.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Jn(ut),Ql(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(n===null||n.child===null)&&(Io(e)?Bn(e):n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lh())),Xe(e),null;case 26:return t=e.memoizedState,n===null?(Bn(e),t!==null?(Xe(e),Nh(e,t)):(Xe(e),e.flags&=-16777217)):t?t!==n.memoizedState?(Bn(e),Xe(e),Nh(e,t)):(Xe(e),e.flags&=-16777217):(n.memoizedProps!==i&&Bn(e),Xe(e),e.flags&=-16777217),null;case 27:La(e),t=Ci.current;var l=e.type;if(n!==null&&e.stateNode!=null)n.memoizedProps!==i&&Bn(e);else{if(!i){if(e.stateNode===null)throw Error(M(166));return Xe(e),null}n=Rn.current,Io(e)?nh(e):(n=Rv(l,i,t),e.stateNode=n,Bn(e))}return Xe(e),null;case 5:if(La(e),t=e.type,n!==null&&e.stateNode!=null)n.memoizedProps!==i&&Bn(e);else{if(!i){if(e.stateNode===null)throw Error(M(166));return Xe(e),null}if(n=Rn.current,Io(e))nh(e);else{switch(l=ir(Ci.current),n){case 1:n=l.createElementNS("http://www.w3.org/2000/svg",t);break;case 2:n=l.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;default:switch(t){case"svg":n=l.createElementNS("http://www.w3.org/2000/svg",t);break;case"math":n=l.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;case"script":n=l.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof i.is=="string"?l.createElement("select",{is:i.is}):l.createElement("select"),i.multiple?n.multiple=!0:i.size&&(n.size=i.size);break;default:n=typeof i.is=="string"?l.createElement(t,{is:i.is}):l.createElement(t)}}n[St]=e,n[qt]=i;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=n;e:switch(vt(n,t,i),t){case"button":case"input":case"select":case"textarea":n=!!i.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Bn(e)}}return Xe(e),e.flags&=-16777217,null;case 6:if(n&&e.stateNode!=null)n.memoizedProps!==i&&Bn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(M(166));if(n=Ci.current,Io(e)){if(n=e.stateNode,t=e.memoizedProps,i=null,l=wt,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}n[St]=e,n=!!(n.nodeValue===t||i!==null&&i.suppressHydrationWarning===!0||Mv(n.nodeValue,t)),n||tl(e)}else n=ir(n).createTextNode(i),n[St]=e,e.stateNode=n}return Xe(e),null;case 13:if(i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(l=Io(e),i!==null&&i.dehydrated!==null){if(n===null){if(!l)throw Error(M(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(M(317));l[St]=e}else Os(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),l=!1}else l=lh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(Fn(e),e):(Fn(e),null)}if(Fn(e),e.flags&128)return e.lanes=t,e;if(t=i!==null,n=n!==null&&n.memoizedState!==null,t){i=e.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool);var o=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==l&&(i.flags|=2048)}return t!==n&&t&&(e.child.flags|=8192),ra(e,e.updateQueue),Xe(e),null;case 4:return Ql(),n===null&&Qf(e.stateNode.containerInfo),Xe(e),null;case 10:return Jn(e.type),Xe(e),null;case 19:if(mt(ct),l=e.memoizedState,l===null)return Xe(e),null;if(i=(e.flags&128)!==0,o=l.rendering,o===null)if(i)Lo(l,!1);else{if(We!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Za(n),o!==null){for(e.flags|=128,Lo(l,!1),n=o.updateQueue,e.updateQueue=n,ra(e,n),e.subtreeFlags=0,n=t,t=e.child;t!==null;)Yg(t,n),t=t.sibling;return Je(ct,ct.current&1|2),e.child}n=n.sibling}l.tail!==null&&Dn()>Wa&&(e.flags|=128,i=!0,Lo(l,!1),e.lanes=4194304)}else{if(!i)if(n=Za(o),n!==null){if(e.flags|=128,i=!0,n=n.updateQueue,e.updateQueue=n,ra(e,n),Lo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Ae)return Xe(e),null}else 2*Dn()-l.renderingStartTime>Wa&&t!==536870912&&(e.flags|=128,i=!0,Lo(l,!1),e.lanes=4194304);l.isBackwards?(o.sibling=e.child,e.child=o):(n=l.last,n!==null?n.sibling=o:e.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Dn(),e.sibling=null,n=ct.current,Je(ct,i?n&1|2:n&1),e):(Xe(e),null);case 22:case 23:return Fn(e),Rf(),i=e.memoizedState!==null,n!==null?n.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?t&536870912&&!(e.flags&128)&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),t=e.updateQueue,t!==null&&ra(e,t.retryQueue),t=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==t&&(e.flags|=2048),n!==null&&mt(Wi),null;case 24:return t=null,n!==null&&(t=n.memoizedState.cache),e.memoizedState.cache!==t&&(e.flags|=2048),Jn(ut),Xe(e),null;case 25:return null;case 30:return null}throw Error(M(156,e.tag))}function KT(n,e){switch(bf(e),e.tag){case 1:return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Jn(ut),Ql(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 26:case 27:case 5:return La(e),null;case 13:if(Fn(e),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(M(340));Os()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return mt(ct),null;case 4:return Ql(),null;case 10:return Jn(e.type),null;case 22:case 23:return Fn(e),Rf(),n!==null&&mt(Wi),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 24:return Jn(ut),null;case 25:return null;default:return null}}function Yy(n,e){switch(bf(e),e.tag){case 3:Jn(ut),Ql();break;case 26:case 27:case 5:La(e);break;case 4:Ql();break;case 13:Fn(e);break;case 19:mt(ct);break;case 10:Jn(e.type);break;case 22:case 23:Fn(e),Rf(),n!==null&&mt(Wi);break;case 24:Jn(ut)}}function Gs(n,e){try{var t=e.updateQueue,i=t!==null?t.lastEffect:null;if(i!==null){var l=i.next;t=l;do{if((t.tag&n)===n){i=void 0;var o=t.create,s=t.inst;i=o(),s.destroy=i}t=t.next}while(t!==l)}}catch(u){$e(e,e.return,u)}}function ki(n,e,t){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var o=l.next;i=o;do{if((i.tag&n)===n){var s=i.inst,u=s.destroy;if(u!==void 0){s.destroy=void 0,l=e;var c=t,f=u;try{f()}catch(d){$e(l,c,d)}}}i=i.next}while(i!==o)}}catch(d){$e(e,e.return,d)}}function Fy(n){var e=n.updateQueue;if(e!==null){var t=n.stateNode;try{Wg(e,t)}catch(i){$e(n,n.return,i)}}}function Zy(n,e,t){t.props=ll(n.type,n.memoizedProps),t.state=n.memoizedState;try{t.componentWillUnmount()}catch(i){$e(n,e,i)}}function ls(n,e){try{var t=n.ref;if(t!==null){switch(n.tag){case 26:case 27:case 5:var i=n.stateNode;break;case 30:i=n.stateNode;break;default:i=n.stateNode}typeof t=="function"?n.refCleanup=t(i):t.current=i}}catch(l){$e(n,e,l)}}function An(n,e){var t=n.ref,i=n.refCleanup;if(t!==null)if(typeof i=="function")try{i()}catch(l){$e(n,e,l)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(l){$e(n,e,l)}else t.current=null}function Ky(n){var e=n.type,t=n.memoizedProps,i=n.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":t.autoFocus&&i.focus();break e;case"img":t.src?i.src=t.src:t.srcSet&&(i.srcset=t.srcSet)}}catch(l){$e(n,n.return,l)}}function xu(n,e,t){try{var i=n.stateNode;m1(i,n.type,t,e),i[qt]=e}catch(l){$e(n,n.return,l)}}function Jy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Oi(n.type)||n.tag===4}function Tu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Jy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Oi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Tc(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t).insertBefore(n,e):(e=t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,e.appendChild(n),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Br));else if(i!==4&&(i===27&&Oi(n.type)&&(t=n.stateNode,e=null),n=n.child,n!==null))for(Tc(n,e,t),n=n.sibling;n!==null;)Tc(n,e,t),n=n.sibling}function Qa(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(i===27&&Oi(n.type)&&(t=n.stateNode),n=n.child,n!==null))for(Qa(n,e,t),n=n.sibling;n!==null;)Qa(n,e,t),n=n.sibling}function Xy(n){var e=n.stateNode,t=n.memoizedProps;try{for(var i=n.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);vt(e,i,t),e[St]=n,e[qt]=t}catch(o){$e(n,n.return,o)}}var zn=!1,nt=!1,Su=!1,wh=typeof WeakSet=="function"?WeakSet:Set,dt=null;function JT(n,e){if(n=n.containerInfo,Nc=ar,n=Vg(n),Sf(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var l=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,u=-1,c=-1,f=0,d=0,p=n,h=null;t:for(;;){for(var m;p!==t||l!==0&&p.nodeType!==3||(u=s+l),p!==o||i!==0&&p.nodeType!==3||(c=s+i),p.nodeType===3&&(s+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===n)break t;if(h===t&&++f===l&&(u=s),h===o&&++d===i&&(c=s),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}t=u===-1||c===-1?null:{start:u,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(wc={focusedElem:n,selectionRange:t},ar=!1,dt=e;dt!==null;)if(e=dt,n=e.child,(e.subtreeFlags&1024)!==0&&n!==null)n.return=e,dt=n;else for(;dt!==null;){switch(e=dt,o=e.alternate,n=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&o!==null){n=void 0,t=e,l=o.memoizedProps,o=o.memoizedState,i=t.stateNode;try{var x=ll(t.type,l,t.elementType===t.type);n=i.getSnapshotBeforeUpdate(x,o),i.__reactInternalSnapshotBeforeUpdate=n}catch(S){$e(t,t.return,S)}}break;case 3:if(n&1024){if(n=e.stateNode.containerInfo,t=n.nodeType,t===9)Dc(n);else if(t===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Dc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(M(163))}if(n=e.sibling,n!==null){n.return=e.return,dt=n;break}dt=e.return}}function Qy(n,e,t){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ui(n,t),i&4&&Gs(5,t);break;case 1:if(ui(n,t),i&4)if(n=t.stateNode,e===null)try{n.componentDidMount()}catch(s){$e(t,t.return,s)}else{var l=ll(t.type,e.memoizedProps);e=e.memoizedState;try{n.componentDidUpdate(l,e,n.__reactInternalSnapshotBeforeUpdate)}catch(s){$e(t,t.return,s)}}i&64&&Fy(t),i&512&&ls(t,t.return);break;case 3:if(ui(n,t),i&64&&(n=t.updateQueue,n!==null)){if(e=null,t.child!==null)switch(t.child.tag){case 27:case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}try{Wg(n,e)}catch(s){$e(t,t.return,s)}}break;case 27:e===null&&i&4&&Xy(t);case 26:case 5:ui(n,t),e===null&&i&4&&Ky(t),i&512&&ls(t,t.return);break;case 12:ui(n,t);break;case 13:ui(n,t),i&4&&ev(n,t),i&64&&(n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(t=l1.bind(null,t),C1(n,t))));break;case 22:if(i=t.memoizedState!==null||zn,!i){e=e!==null&&e.memoizedState!==null||nt,l=zn;var o=nt;zn=i,(nt=e)&&!o?ci(n,t,(t.subtreeFlags&8772)!==0):ui(n,t),zn=l,nt=o}break;case 30:break;default:ui(n,t)}}function Wy(n){var e=n.alternate;e!==null&&(n.alternate=null,Wy(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&mf(e)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ze=null,zt=!1;function Pn(n,e,t){for(t=t.child;t!==null;)jy(n,e,t),t=t.sibling}function jy(n,e,t){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Ds,t)}catch{}switch(t.tag){case 26:nt||An(t,e),Pn(n,e,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:nt||An(t,e);var i=Ze,l=zt;Oi(t.type)&&(Ze=t.stateNode,zt=!1),Pn(n,e,t),rs(t.stateNode),Ze=i,zt=l;break;case 5:nt||An(t,e);case 6:if(i=Ze,l=zt,Ze=null,Pn(n,e,t),Ze=i,zt=l,Ze!==null)if(zt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(t.stateNode)}catch(o){$e(t,e,o)}else try{Ze.removeChild(t.stateNode)}catch(o){$e(t,e,o)}break;case 18:Ze!==null&&(zt?(n=Ze,zh(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.stateNode),Ms(n)):zh(Ze,t.stateNode));break;case 4:i=Ze,l=zt,Ze=t.stateNode.containerInfo,zt=!0,Pn(n,e,t),Ze=i,zt=l;break;case 0:case 11:case 14:case 15:nt||ki(2,t,e),nt||ki(4,t,e),Pn(n,e,t);break;case 1:nt||(An(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"&&Zy(t,e,i)),Pn(n,e,t);break;case 21:Pn(n,e,t);break;case 22:nt=(i=nt)||t.memoizedState!==null,Pn(n,e,t),nt=i;break;default:Pn(n,e,t)}}function ev(n,e){if(e.memoizedState===null&&(n=e.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ms(n)}catch(t){$e(e,e.return,t)}}function XT(n){switch(n.tag){case 13:case 19:var e=n.stateNode;return e===null&&(e=n.stateNode=new wh),e;case 22:return n=n.stateNode,e=n._retryCache,e===null&&(e=n._retryCache=new wh),e;default:throw Error(M(435,n.tag))}}function Cu(n,e){var t=XT(n);e.forEach(function(i){var l=o1.bind(null,n,i);t.has(i)||(t.add(i),i.then(l,l))})}function Kt(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var l=t[i],o=n,s=e,u=s;e:for(;u!==null;){switch(u.tag){case 27:if(Oi(u.type)){Ze=u.stateNode,zt=!1;break e}break;case 5:Ze=u.stateNode,zt=!1;break e;case 3:case 4:Ze=u.stateNode.containerInfo,zt=!0;break e}u=u.return}if(Ze===null)throw Error(M(160));jy(o,s,l),Ze=null,zt=!1,o=l.alternate,o!==null&&(o.return=null),l.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)tv(e,n),e=e.sibling}var gn=null;function tv(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Kt(e,n),Jt(n),i&4&&(ki(3,n,n.return),Gs(3,n),ki(5,n,n.return));break;case 1:Kt(e,n),Jt(n),i&512&&(nt||t===null||An(t,t.return)),i&64&&zn&&(n=n.updateQueue,n!==null&&(i=n.callbacks,i!==null&&(t=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=t===null?i:t.concat(i))));break;case 26:var l=gn;if(Kt(e,n),Jt(n),i&512&&(nt||t===null||An(t,t.return)),i&4){var o=t!==null?t.memoizedState:null;if(i=n.memoizedState,t===null)if(i===null)if(n.stateNode===null){e:{i=n.type,t=n.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":o=l.getElementsByTagName("title")[0],(!o||o[Us]||o[St]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=l.createElement(i),l.head.insertBefore(o,l.querySelector("head > title"))),vt(o,i,t),o[St]=n,ht(o),i=o;break e;case"link":var s=Fh("link","href",l).get(i+(t.href||""));if(s){for(var u=0;u<s.length;u++)if(o=s[u],o.getAttribute("href")===(t.href==null||t.href===""?null:t.href)&&o.getAttribute("rel")===(t.rel==null?null:t.rel)&&o.getAttribute("title")===(t.title==null?null:t.title)&&o.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){s.splice(u,1);break t}}o=l.createElement(i),vt(o,i,t),l.head.appendChild(o);break;case"meta":if(s=Fh("meta","content",l).get(i+(t.content||""))){for(u=0;u<s.length;u++)if(o=s[u],o.getAttribute("content")===(t.content==null?null:""+t.content)&&o.getAttribute("name")===(t.name==null?null:t.name)&&o.getAttribute("property")===(t.property==null?null:t.property)&&o.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&o.getAttribute("charset")===(t.charSet==null?null:t.charSet)){s.splice(u,1);break t}}o=l.createElement(i),vt(o,i,t),l.head.appendChild(o);break;default:throw Error(M(468,i))}o[St]=n,ht(o),i=o}n.stateNode=i}else Zh(l,n.type,n.stateNode);else n.stateNode=Yh(l,i,n.memoizedProps);else o!==i?(o===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):o.count--,i===null?Zh(l,n.type,n.stateNode):Yh(l,i,n.memoizedProps)):i===null&&n.stateNode!==null&&xu(n,n.memoizedProps,t.memoizedProps)}break;case 27:Kt(e,n),Jt(n),i&512&&(nt||t===null||An(t,t.return)),t!==null&&i&4&&xu(n,n.memoizedProps,t.memoizedProps);break;case 5:if(Kt(e,n),Jt(n),i&512&&(nt||t===null||An(t,t.return)),n.flags&32){l=n.stateNode;try{jl(l,"")}catch(m){$e(n,n.return,m)}}i&4&&n.stateNode!=null&&(l=n.memoizedProps,xu(n,l,t!==null?t.memoizedProps:l)),i&1024&&(Su=!0);break;case 6:if(Kt(e,n),Jt(n),i&4){if(n.stateNode===null)throw Error(M(162));i=n.memoizedProps,t=n.stateNode;try{t.nodeValue=i}catch(m){$e(n,n.return,m)}}break;case 3:if(Na=null,l=gn,gn=lr(e.containerInfo),Kt(e,n),gn=l,Jt(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Ms(e.containerInfo)}catch(m){$e(n,n.return,m)}Su&&(Su=!1,nv(n));break;case 4:i=gn,gn=lr(n.stateNode.containerInfo),Kt(e,n),Jt(n),gn=i;break;case 12:Kt(e,n),Jt(n);break;case 13:Kt(e,n),Jt(n),n.child.flags&8192&&n.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(Kf=Dn()),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,Cu(n,i)));break;case 22:l=n.memoizedState!==null;var c=t!==null&&t.memoizedState!==null,f=zn,d=nt;if(zn=f||l,nt=d||c,Kt(e,n),nt=d,zn=f,Jt(n),i&8192)e:for(e=n.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(t===null||c||zn||nt||Zi(n)),t=null,e=n;;){if(e.tag===5||e.tag===26){if(t===null){c=t=e;try{if(o=c.stateNode,l)s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{u=c.stateNode;var p=c.memoizedProps.style,h=p!=null&&p.hasOwnProperty("display")?p.display:null;u.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){$e(c,c.return,m)}}}else if(e.tag===6){if(t===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(m){$e(c,c.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===n)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;t===e&&(t=null),e=e.return}t===e&&(t=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=n.updateQueue,i!==null&&(t=i.retryQueue,t!==null&&(i.retryQueue=null,Cu(n,t))));break;case 19:Kt(e,n),Jt(n),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,Cu(n,i)));break;case 30:break;case 21:break;default:Kt(e,n),Jt(n)}}function Jt(n){var e=n.flags;if(e&2){try{for(var t,i=n.return;i!==null;){if(Jy(i)){t=i;break}i=i.return}if(t==null)throw Error(M(160));switch(t.tag){case 27:var l=t.stateNode,o=Tu(n);Qa(n,o,l);break;case 5:var s=t.stateNode;t.flags&32&&(jl(s,""),t.flags&=-33);var u=Tu(n);Qa(n,u,s);break;case 3:case 4:var c=t.stateNode.containerInfo,f=Tu(n);Tc(n,f,c);break;default:throw Error(M(161))}}catch(d){$e(n,n.return,d)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function nv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var e=n;nv(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),n=n.sibling}}function ui(n,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Qy(n,e.alternate,e),e=e.sibling}function Zi(n){for(n=n.child;n!==null;){var e=n;switch(e.tag){case 0:case 11:case 14:case 15:ki(4,e,e.return),Zi(e);break;case 1:An(e,e.return);var t=e.stateNode;typeof t.componentWillUnmount=="function"&&Zy(e,e.return,t),Zi(e);break;case 27:rs(e.stateNode);case 26:case 5:An(e,e.return),Zi(e);break;case 22:e.memoizedState===null&&Zi(e);break;case 30:Zi(e);break;default:Zi(e)}n=n.sibling}}function ci(n,e,t){for(t=t&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,l=n,o=e,s=o.flags;switch(o.tag){case 0:case 11:case 15:ci(l,o,t),Gs(4,o);break;case 1:if(ci(l,o,t),i=o,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(f){$e(i,i.return,f)}if(i=o,l=i.updateQueue,l!==null){var u=i.stateNode;try{var c=l.shared.hiddenCallbacks;if(c!==null)for(l.shared.hiddenCallbacks=null,l=0;l<c.length;l++)Qg(c[l],u)}catch(f){$e(i,i.return,f)}}t&&s&64&&Fy(o),ls(o,o.return);break;case 27:Xy(o);case 26:case 5:ci(l,o,t),t&&i===null&&s&4&&Ky(o),ls(o,o.return);break;case 12:ci(l,o,t);break;case 13:ci(l,o,t),t&&s&4&&ev(l,o);break;case 22:o.memoizedState===null&&ci(l,o,t),ls(o,o.return);break;case 30:break;default:ci(l,o,t)}e=e.sibling}}function Hf(n,e){var t=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==t&&(n!=null&&n.refCount++,t!=null&&$s(t))}function Yf(n,e){n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&$s(n))}function _n(n,e,t,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iv(n,e,t,i),e=e.sibling}function iv(n,e,t,i){var l=e.flags;switch(e.tag){case 0:case 11:case 15:_n(n,e,t,i),l&2048&&Gs(9,e);break;case 1:_n(n,e,t,i);break;case 3:_n(n,e,t,i),l&2048&&(n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&$s(n)));break;case 12:if(l&2048){_n(n,e,t,i),n=e.stateNode;try{var o=e.memoizedProps,s=o.id,u=o.onPostCommit;typeof u=="function"&&u(s,e.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(c){$e(e,e.return,c)}}else _n(n,e,t,i);break;case 13:_n(n,e,t,i);break;case 23:break;case 22:o=e.stateNode,s=e.alternate,e.memoizedState!==null?o._visibility&2?_n(n,e,t,i):os(n,e):o._visibility&2?_n(n,e,t,i):(o._visibility|=2,Cl(n,e,t,i,(e.subtreeFlags&10256)!==0)),l&2048&&Hf(s,e);break;case 24:_n(n,e,t,i),l&2048&&Yf(e.alternate,e);break;default:_n(n,e,t,i)}}function Cl(n,e,t,i,l){for(l=l&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=n,s=e,u=t,c=i,f=s.flags;switch(s.tag){case 0:case 11:case 15:Cl(o,s,u,c,l),Gs(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?Cl(o,s,u,c,l):os(o,s):(d._visibility|=2,Cl(o,s,u,c,l)),l&&f&2048&&Hf(s.alternate,s);break;case 24:Cl(o,s,u,c,l),l&&f&2048&&Yf(s.alternate,s);break;default:Cl(o,s,u,c,l)}e=e.sibling}}function os(n,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var t=n,i=e,l=i.flags;switch(i.tag){case 22:os(t,i),l&2048&&Hf(i.alternate,i);break;case 24:os(t,i),l&2048&&Yf(i.alternate,i);break;default:os(t,i)}e=e.sibling}}var Yo=8192;function gl(n){if(n.subtreeFlags&Yo)for(n=n.child;n!==null;)lv(n),n=n.sibling}function lv(n){switch(n.tag){case 26:gl(n),n.flags&Yo&&n.memoizedState!==null&&L1(gn,n.memoizedState,n.memoizedProps);break;case 5:gl(n);break;case 3:case 4:var e=gn;gn=lr(n.stateNode.containerInfo),gl(n),gn=e;break;case 22:n.memoizedState===null&&(e=n.alternate,e!==null&&e.memoizedState!==null?(e=Yo,Yo=16777216,gl(n),Yo=e):gl(n));break;default:gl(n)}}function ov(n){var e=n.alternate;if(e!==null&&(n=e.child,n!==null)){e.child=null;do e=n.sibling,n.sibling=null,n=e;while(n!==null)}}function Oo(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var i=e[t];dt=i,av(i,n)}ov(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sv(n),n=n.sibling}function sv(n){switch(n.tag){case 0:case 11:case 15:Oo(n),n.flags&2048&&ki(9,n,n.return);break;case 3:Oo(n);break;case 12:Oo(n);break;case 22:var e=n.stateNode;n.memoizedState!==null&&e._visibility&2&&(n.return===null||n.return.tag!==13)?(e._visibility&=-3,ba(n)):Oo(n);break;default:Oo(n)}}function ba(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var i=e[t];dt=i,av(i,n)}ov(n)}for(n=n.child;n!==null;){switch(e=n,e.tag){case 0:case 11:case 15:ki(8,e,e.return),ba(e);break;case 22:t=e.stateNode,t._visibility&2&&(t._visibility&=-3,ba(e));break;default:ba(e)}n=n.sibling}}function av(n,e){for(;dt!==null;){var t=dt;switch(t.tag){case 0:case 11:case 15:ki(8,t,e);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var i=t.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:$s(t.memoizedState.cache)}if(i=t.child,i!==null)i.return=t,dt=i;else e:for(t=n;dt!==null;){i=dt;var l=i.sibling,o=i.return;if(Wy(i),i===t){dt=null;break e}if(l!==null){l.return=o,dt=l;break e}dt=o}}}var QT={getCacheForType:function(n){var e=Ct(ut),t=e.data.get(n);return t===void 0&&(t=n(),e.data.set(n,t)),t}},WT=typeof WeakMap=="function"?WeakMap:Map,De=0,qe=null,he=null,Te=0,Re=0,Xt=null,Ti=!1,xo=!1,Ff=!1,jn=0,We=0,Ii=0,ji=0,Zf=0,fn=0,lo=0,ss=null,Gt=null,Sc=!1,Kf=0,Wa=1/0,ja=null,Ai=null,yt=0,bi=null,oo=null,Zl=0,Cc=0,_c=null,rv=null,as=0,Ec=null;function tn(){if(De&2&&Te!==0)return Te&-Te;if(W.T!==null){var n=eo;return n!==0?n:Xf()}return xg()}function uv(){fn===0&&(fn=!(Te&536870912)||Ae?mg():536870912);var n=dn.current;return n!==null&&(n.flags|=32),fn}function nn(n,e,t){(n===qe&&(Re===2||Re===9)||n.cancelPendingCommit!==null)&&(so(n,0),Si(n,Te,fn,!1)),Is(n,t),(!(De&2)||n!==qe)&&(n===qe&&(!(De&2)&&(ji|=t),We===4&&Si(n,Te,fn,!1)),On(n))}function cv(n,e,t){if(De&6)throw Error(M(327));var i=!t&&(e&124)===0&&(e&n.expiredLanes)===0||ks(n,e),l=i?t1(n,e):_u(n,e,!0),o=i;do{if(l===0){xo&&!i&&Si(n,e,0,!1);break}else{if(t=n.current.alternate,o&&!jT(t)){l=_u(n,e,!1),o=!1;continue}if(l===2){if(o=e,n.errorRecoveryDisabledLanes&o)var s=0;else s=n.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var u=n;l=ss;var c=u.current.memoizedState.isDehydrated;if(c&&(so(u,s).flags|=256),s=_u(u,s,!1),s!==2){if(Ff&&!c){u.errorRecoveryDisabledLanes|=o,ji|=o,l=4;break e}o=Gt,Gt=l,o!==null&&(Gt===null?Gt=o:Gt.push.apply(Gt,o))}l=s}if(o=!1,l!==2)continue}}if(l===1){so(n,0),Si(n,e,0,!0);break}e:{switch(i=n,o=l,o){case 0:case 1:throw Error(M(345));case 4:if((e&4194048)!==e)break;case 6:Si(i,e,fn,!Ti);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(M(329))}if((e&62914560)===e&&(l=Kf+300-Dn(),10<l)){if(Si(i,e,fn,!Ti),br(i,0,!0)!==0)break e;i.timeoutHandle=wv(Rh.bind(null,i,t,Gt,ja,Sc,e,fn,ji,lo,Ti,o,2,-0,0),l);break e}Rh(i,t,Gt,ja,Sc,e,fn,ji,lo,Ti,o,0,-0,0)}}break}while(!0);On(n)}function Rh(n,e,t,i,l,o,s,u,c,f,d,p,h,m){if(n.timeoutHandle=-1,p=e.subtreeFlags,(p&8192||(p&16785408)===16785408)&&(_s={stylesheets:null,count:0,unsuspend:U1},lv(e),p=O1(),p!==null)){n.cancelPendingCommit=p(kh.bind(null,n,e,o,t,i,l,s,u,c,d,1,h,m)),Si(n,o,s,!f);return}kh(n,e,o,t,i,l,s,u,c)}function jT(n){for(var e=n;;){var t=e.tag;if((t===0||t===11||t===15)&&e.flags&16384&&(t=e.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var i=0;i<t.length;i++){var l=t[i],o=l.getSnapshot;l=l.value;try{if(!ln(o(),l))return!1}catch{return!1}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Si(n,e,t,i){e&=~Zf,e&=~ji,n.suspendedLanes|=e,n.pingedLanes&=~e,i&&(n.warmLanes|=e),i=n.expirationTimes;for(var l=e;0<l;){var o=31-en(l),s=1<<o;i[o]=-1,l&=~s}t!==0&&yg(n,t,e)}function Or(){return De&6?!0:(qs(0),!1)}function Jf(){if(he!==null){if(Re===0)var n=he.return;else n=he,Yn=dl=null,Lf(n),Fl=null,Ts=0,n=he;for(;n!==null;)Yy(n.alternate,n),n=n.return;he=null}}function so(n,e){var t=n.timeoutHandle;t!==-1&&(n.timeoutHandle=-1,y1(t)),t=n.cancelPendingCommit,t!==null&&(n.cancelPendingCommit=null,t()),Jf(),qe=n,he=t=Kn(n.current,null),Te=e,Re=0,Xt=null,Ti=!1,xo=ks(n,e),Ff=!1,lo=fn=Zf=ji=Ii=We=0,Gt=ss=null,Sc=!1,e&8&&(e|=e&32);var i=n.entangledLanes;if(i!==0)for(n=n.entanglements,i&=e;0<i;){var l=31-en(i),o=1<<l;e|=n[l],i&=~o}return jn=e,Rr(),t}function fv(n,e){re=null,W.H=Fa,e===Bs||e===kr?(e=rh(),Re=3):e===Jg?(e=rh(),Re=4):Re=e===By?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Xt=e,he===null&&(We=1,Ja(n,cn(e,n.current)))}function dv(){var n=W.H;return W.H=Fa,n===null?Fa:n}function hv(){var n=W.A;return W.A=QT,n}function Ac(){We=4,Ti||(Te&4194048)!==Te&&dn.current!==null||(xo=!0),!(Ii&134217727)&&!(ji&134217727)||qe===null||Si(qe,Te,fn,!1)}function _u(n,e,t){var i=De;De|=2;var l=dv(),o=hv();(qe!==n||Te!==e)&&(ja=null,so(n,e)),e=!1;var s=We;e:do try{if(Re!==0&&he!==null){var u=he,c=Xt;switch(Re){case 8:Jf(),s=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(e=!0);var f=Re;if(Re=0,Xt=null,Ol(n,u,c,f),t&&xo){s=0;break e}break;default:f=Re,Re=0,Xt=null,Ol(n,u,c,f)}}e1(),s=We;break}catch(d){fv(n,d)}while(!0);return e&&n.shellSuspendCounter++,Yn=dl=null,De=i,W.H=l,W.A=o,he===null&&(qe=null,Te=0,Rr()),s}function e1(){for(;he!==null;)pv(he)}function t1(n,e){var t=De;De|=2;var i=dv(),l=hv();qe!==n||Te!==e?(ja=null,Wa=Dn()+500,so(n,e)):xo=ks(n,e);e:do try{if(Re!==0&&he!==null){e=he;var o=Xt;t:switch(Re){case 1:Re=0,Xt=null,Ol(n,e,o,1);break;case 2:case 9:if(ah(o)){Re=0,Xt=null,Dh(e);break}e=function(){Re!==2&&Re!==9||qe!==n||(Re=7),On(n)},o.then(e,e);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:ah(o)?(Re=0,Xt=null,Dh(e)):(Re=0,Xt=null,Ol(n,e,o,7));break;case 5:var s=null;switch(he.tag){case 26:s=he.memoizedState;case 5:case 27:var u=he;if(!s||Iv(s)){Re=0,Xt=null;var c=u.sibling;if(c!==null)he=c;else{var f=u.return;f!==null?(he=f,Vr(f)):he=null}break t}}Re=0,Xt=null,Ol(n,e,o,5);break;case 6:Re=0,Xt=null,Ol(n,e,o,6);break;case 8:Jf(),We=6;break e;default:throw Error(M(462))}}n1();break}catch(d){fv(n,d)}while(!0);return Yn=dl=null,W.H=i,W.A=l,De=t,he!==null?0:(qe=null,Te=0,Rr(),We)}function n1(){for(;he!==null&&!Ex();)pv(he)}function pv(n){var e=Hy(n.alternate,n,jn);n.memoizedProps=n.pendingProps,e===null?Vr(n):he=e}function Dh(n){var e=n,t=e.alternate;switch(e.tag){case 15:case 0:e=Eh(t,e,e.pendingProps,e.type,void 0,Te);break;case 11:e=Eh(t,e,e.pendingProps,e.type.render,e.ref,Te);break;case 5:Lf(e);default:Yy(t,e),e=he=Yg(e,jn),e=Hy(t,e,jn)}n.memoizedProps=n.pendingProps,e===null?Vr(n):he=e}function Ol(n,e,t,i){Yn=dl=null,Lf(e),Fl=null,Ts=0;var l=e.return;try{if(YT(n,l,e,t,Te)){We=1,Ja(n,cn(t,n.current)),he=null;return}}catch(o){if(l!==null)throw he=l,o;We=1,Ja(n,cn(t,n.current)),he=null;return}e.flags&32768?(Ae||i===1?n=!0:xo||Te&536870912?n=!1:(Ti=n=!0,(i===2||i===9||i===3||i===6)&&(i=dn.current,i!==null&&i.tag===13&&(i.flags|=16384))),mv(e,n)):Vr(e)}function Vr(n){var e=n;do{if(e.flags&32768){mv(e,Ti);return}n=e.return;var t=ZT(e.alternate,e,jn);if(t!==null){he=t;return}if(e=e.sibling,e!==null){he=e;return}he=e=n}while(e!==null);We===0&&(We=5)}function mv(n,e){do{var t=KT(n.alternate,n);if(t!==null){t.flags&=32767,he=t;return}if(t=n.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!e&&(n=n.sibling,n!==null)){he=n;return}he=n=t}while(n!==null);We=6,he=null}function kh(n,e,t,i,l,o,s,u,c){n.cancelPendingCommit=null;do $r();while(yt!==0);if(De&6)throw Error(M(327));if(e!==null){if(e===n.current)throw Error(M(177));if(o=e.lanes|e.childLanes,o|=Cf,Ux(n,t,o,s,u,c),n===qe&&(he=qe=null,Te=0),oo=e,bi=n,Zl=t,Cc=o,_c=l,rv=i,e.subtreeFlags&10256||e.flags&10256?(n.callbackNode=null,n.callbackPriority=0,s1(Oa,function(){return Tv(),null})):(n.callbackNode=null,n.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=W.T,W.T=null,l=be.p,be.p=2,s=De,De|=4;try{JT(n,e,t)}finally{De=s,be.p=l,W.T=i}}yt=1,gv(),yv(),vv()}}function gv(){if(yt===1){yt=0;var n=bi,e=oo,t=(e.flags&13878)!==0;if(e.subtreeFlags&13878||t){t=W.T,W.T=null;var i=be.p;be.p=2;var l=De;De|=4;try{tv(e,n);var o=wc,s=Vg(n.containerInfo),u=o.focusedElem,c=o.selectionRange;if(s!==u&&u&&u.ownerDocument&&Og(u.ownerDocument.documentElement,u)){if(c!==null&&Sf(u)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in u)u.selectionStart=f,u.selectionEnd=Math.min(d,u.value.length);else{var p=u.ownerDocument||document,h=p&&p.defaultView||window;if(h.getSelection){var m=h.getSelection(),x=u.textContent.length,S=Math.min(c.start,x),_=c.end===void 0?S:Math.min(c.end,x);!m.extend&&S>_&&(s=_,_=S,S=s);var y=jd(u,S),v=jd(u,_);if(y&&v&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==v.node||m.focusOffset!==v.offset)){var T=p.createRange();T.setStart(y.node,y.offset),m.removeAllRanges(),S>_?(m.addRange(T),m.extend(v.node,v.offset)):(T.setEnd(v.node,v.offset),m.addRange(T))}}}}for(p=[],m=u;m=m.parentNode;)m.nodeType===1&&p.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<p.length;u++){var C=p[u];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}ar=!!Nc,wc=Nc=null}finally{De=l,be.p=i,W.T=t}}n.current=e,yt=2}}function yv(){if(yt===2){yt=0;var n=bi,e=oo,t=(e.flags&8772)!==0;if(e.subtreeFlags&8772||t){t=W.T,W.T=null;var i=be.p;be.p=2;var l=De;De|=4;try{Qy(n,e.alternate,e)}finally{De=l,be.p=i,W.T=t}}yt=3}}function vv(){if(yt===4||yt===3){yt=0,Ax();var n=bi,e=oo,t=Zl,i=rv;e.subtreeFlags&10256||e.flags&10256?yt=5:(yt=0,oo=bi=null,xv(n,n.pendingLanes));var l=n.pendingLanes;if(l===0&&(Ai=null),pf(t),e=e.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Ds,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=W.T,l=be.p,be.p=2,W.T=null;try{for(var o=n.onRecoverableError,s=0;s<i.length;s++){var u=i[s];o(u.value,{componentStack:u.stack})}}finally{W.T=e,be.p=l}}Zl&3&&$r(),On(n),l=n.pendingLanes,t&4194090&&l&42?n===Ec?as++:(as=0,Ec=n):as=0,qs(0)}}function xv(n,e){(n.pooledCacheLanes&=e)===0&&(e=n.pooledCache,e!=null&&(n.pooledCache=null,$s(e)))}function $r(n){return gv(),yv(),vv(),Tv()}function Tv(){if(yt!==5)return!1;var n=bi,e=Cc;Cc=0;var t=pf(Zl),i=W.T,l=be.p;try{be.p=32>t?32:t,W.T=null,t=_c,_c=null;var o=bi,s=Zl;if(yt=0,oo=bi=null,Zl=0,De&6)throw Error(M(331));var u=De;if(De|=4,sv(o.current),iv(o,o.current,s,t),De=u,qs(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Ds,o)}catch{}return!0}finally{be.p=l,W.T=i,xv(n,e)}}function Ih(n,e,t){e=cn(t,e),e=yc(n.stateNode,e,2),n=Ei(n,e,2),n!==null&&(Is(n,2),On(n))}function $e(n,e,t){if(n.tag===3)Ih(n,n,t);else for(;e!==null;){if(e.tag===3){Ih(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ai===null||!Ai.has(i))){n=cn(t,n),t=Vy(2),i=Ei(e,t,2),i!==null&&($y(t,i,e,n),Is(i,2),On(i));break}}e=e.return}}function Eu(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new WT;var l=new Set;i.set(e,l)}else l=i.get(e),l===void 0&&(l=new Set,i.set(e,l));l.has(t)||(Ff=!0,l.add(t),n=i1.bind(null,n,e,t),e.then(n,n))}function i1(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),n.pingedLanes|=n.suspendedLanes&t,n.warmLanes&=~t,qe===n&&(Te&t)===t&&(We===4||We===3&&(Te&62914560)===Te&&300>Dn()-Kf?!(De&2)&&so(n,0):Zf|=t,lo===Te&&(lo=0)),On(n)}function Sv(n,e){e===0&&(e=gg()),n=vo(n,e),n!==null&&(Is(n,e),On(n))}function l1(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Sv(n,t)}function o1(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,l=n.memoizedState;l!==null&&(t=l.retryLane);break;case 19:i=n.stateNode;break;case 22:i=n.stateNode._retryCache;break;default:throw Error(M(314))}i!==null&&i.delete(e),Sv(n,t)}function s1(n,e){return df(n,e)}var er=null,_l=null,bc=!1,tr=!1,Au=!1,el=0;function On(n){n!==_l&&n.next===null&&(_l===null?er=_l=n:_l=_l.next=n),tr=!0,bc||(bc=!0,r1())}function qs(n,e){if(!Au&&tr){Au=!0;do for(var t=!1,i=er;i!==null;){if(n!==0){var l=i.pendingLanes;if(l===0)var o=0;else{var s=i.suspendedLanes,u=i.pingedLanes;o=(1<<31-en(42|n)+1)-1,o&=l&~(s&~u),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(t=!0,Uh(i,o))}else o=Te,o=br(i,i===qe?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(o&3)||ks(i,o)||(t=!0,Uh(i,o));i=i.next}while(t);Au=!1}}function a1(){Cv()}function Cv(){tr=bc=!1;var n=0;el!==0&&(g1()&&(n=el),el=0);for(var e=Dn(),t=null,i=er;i!==null;){var l=i.next,o=_v(i,e);o===0?(i.next=null,t===null?er=l:t.next=l,l===null&&(_l=t)):(t=i,(n!==0||o&3)&&(tr=!0)),i=l}qs(n)}function _v(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,l=n.expirationTimes,o=n.pendingLanes&-62914561;0<o;){var s=31-en(o),u=1<<s,c=l[s];c===-1?(!(u&t)||u&i)&&(l[s]=Ix(u,e)):c<=e&&(n.expiredLanes|=u),o&=~u}if(e=qe,t=Te,t=br(n,n===e?t:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i=n.callbackNode,t===0||n===e&&(Re===2||Re===9)||n.cancelPendingCommit!==null)return i!==null&&i!==null&&Qr(i),n.callbackNode=null,n.callbackPriority=0;if(!(t&3)||ks(n,t)){if(e=t&-t,e===n.callbackPriority)return e;switch(i!==null&&Qr(i),pf(t)){case 2:case 8:t=hg;break;case 32:t=Oa;break;case 268435456:t=pg;break;default:t=Oa}return i=Ev.bind(null,n),t=df(t,i),n.callbackPriority=e,n.callbackNode=t,e}return i!==null&&i!==null&&Qr(i),n.callbackPriority=2,n.callbackNode=null,2}function Ev(n,e){if(yt!==0&&yt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var t=n.callbackNode;if($r()&&n.callbackNode!==t)return null;var i=Te;return i=br(n,n===qe?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i===0?null:(cv(n,i,e),_v(n,Dn()),n.callbackNode!=null&&n.callbackNode===t?Ev.bind(null,n):null)}function Uh(n,e){if($r())return null;cv(n,e,!0)}function r1(){v1(function(){De&6?df(dg,a1):Cv()})}function Xf(){return el===0&&(el=mg()),el}function Lh(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:va(""+n)}function Oh(n,e){var t=e.ownerDocument.createElement("input");return t.name=e.name,t.value=e.value,n.id&&t.setAttribute("form",n.id),e.parentNode.insertBefore(t,e),n=new FormData(n),t.parentNode.removeChild(t),n}function u1(n,e,t,i,l){if(e==="submit"&&t&&t.stateNode===l){var o=Lh((l[qt]||null).action),s=i.submitter;s&&(e=(e=s[qt]||null)?Lh(e.formAction):s.getAttribute("formAction"),e!==null&&(o=e,s=null));var u=new Mr("action","action",null,i,l);n.push({event:u,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(el!==0){var c=s?Oh(l,s):new FormData(l);mc(t,{pending:!0,data:c,method:l.method,action:o},null,c)}}else typeof o=="function"&&(u.preventDefault(),c=s?Oh(l,s):new FormData(l),mc(t,{pending:!0,data:c,method:l.method,action:o},o,c))},currentTarget:l}]})}}for(var bu=0;bu<ic.length;bu++){var Mu=ic[bu],c1=Mu.toLowerCase(),f1=Mu[0].toUpperCase()+Mu.slice(1);Tn(c1,"on"+f1)}Tn(Bg,"onAnimationEnd");Tn(Pg,"onAnimationIteration");Tn(zg,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(NT,"onTransitionRun");Tn(wT,"onTransitionStart");Tn(RT,"onTransitionCancel");Tn(Gg,"onTransitionEnd");Wl("onMouseEnter",["mouseout","mouseover"]);Wl("onMouseLeave",["mouseout","mouseover"]);Wl("onPointerEnter",["pointerout","pointerover"]);Wl("onPointerLeave",["pointerout","pointerover"]);ul("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ul("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ul("onBeforeInput",["compositionend","keypress","textInput","paste"]);ul("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ul("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ul("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ss));function Av(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],l=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var u=i[s],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){Ka(d)}l.currentTarget=null,o=c}else for(s=0;s<i.length;s++){if(u=i[s],c=u.instance,f=u.currentTarget,u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){Ka(d)}l.currentTarget=null,o=c}}}}function de(n,e){var t=e[Xu];t===void 0&&(t=e[Xu]=new Set);var i=n+"__bubble";t.has(i)||(bv(e,n,2,!1),t.add(i))}function Nu(n,e,t){var i=0;e&&(i|=4),bv(t,n,i,e)}var ua="_reactListening"+Math.random().toString(36).slice(2);function Qf(n){if(!n[ua]){n[ua]=!0,Tg.forEach(function(t){t!=="selectionchange"&&(d1.has(t)||Nu(t,!1,n),Nu(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[ua]||(e[ua]=!0,Nu("selectionchange",!1,e))}}function bv(n,e,t,i){switch($v(e)){case 2:var l=B1;break;case 8:l=P1;break;default:l=td}t=l.bind(null,e,t,n),l=void 0,!ec||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),i?l!==void 0?n.addEventListener(e,t,{capture:!0,passive:l}):n.addEventListener(e,t,!0):l!==void 0?n.addEventListener(e,t,{passive:l}):n.addEventListener(e,t,!1)}function wu(n,e,t,i,l){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var u=i.stateNode.containerInfo;if(u===l)break;if(s===4)for(s=i.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===l)return;s=s.return}for(;u!==null;){if(s=Ml(u),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){i=o=s;continue e}u=u.parentNode}}i=i.return}Ng(function(){var f=o,d=yf(t),p=[];e:{var h=qg.get(n);if(h!==void 0){var m=Mr,x=n;switch(n){case"keypress":if(Ta(t)===0)break e;case"keydown":case"keyup":m=sT;break;case"focusin":x="focus",m=ou;break;case"focusout":x="blur",m=ou;break;case"beforeblur":case"afterblur":m=ou;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Kx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=uT;break;case Bg:case Pg:case zg:m=Qx;break;case Gg:m=fT;break;case"scroll":case"scrollend":m=Fx;break;case"wheel":m=hT;break;case"copy":case"cut":case"paste":m=jx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Yd;break;case"toggle":case"beforetoggle":m=mT}var S=(e&4)!==0,_=!S&&(n==="scroll"||n==="scrollend"),y=S?h!==null?h+"Capture":null:h;S=[];for(var v=f,T;v!==null;){var C=v;if(T=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||T===null||y===null||(C=ms(v,y),C!=null&&S.push(Cs(v,C,T))),_)break;v=v.return}0<S.length&&(h=new m(h,x,null,t,d),p.push({event:h,listeners:S}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",h&&t!==ju&&(x=t.relatedTarget||t.fromElement)&&(Ml(x)||x[go]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=t.relatedTarget||t.toElement,m=f,x=x?Ml(x):null,x!==null&&(_=Rs(x),S=x.tag,x!==_||S!==5&&S!==27&&S!==6)&&(x=null)):(m=null,x=f),m!==x)){if(S=qd,C="onMouseLeave",y="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(S=Yd,C="onPointerLeave",y="onPointerEnter",v="pointer"),_=m==null?h:Ho(m),T=x==null?h:Ho(x),h=new S(C,v+"leave",m,t,d),h.target=_,h.relatedTarget=T,C=null,Ml(d)===f&&(S=new S(y,v+"enter",x,t,d),S.target=T,S.relatedTarget=_,C=S),_=C,m&&x)t:{for(S=m,y=x,v=0,T=S;T;T=yl(T))v++;for(T=0,C=y;C;C=yl(C))T++;for(;0<v-T;)S=yl(S),v--;for(;0<T-v;)y=yl(y),T--;for(;v--;){if(S===y||y!==null&&S===y.alternate)break t;S=yl(S),y=yl(y)}S=null}else S=null;m!==null&&Vh(p,h,m,S,!1),x!==null&&_!==null&&Vh(p,_,x,S,!0)}}e:{if(h=f?Ho(f):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var A=Jd;else if(Kd(h))if(Ug)A=AT;else{A=_T;var w=CT}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?f&&gf(f.elementType)&&(A=Jd):A=ET;if(A&&(A=A(n,f))){Ig(p,A,t,d);break e}w&&w(n,h,f),n==="focusout"&&f&&h.type==="number"&&f.memoizedProps.value!=null&&Wu(h,"number",h.value)}switch(w=f?Ho(f):window,n){case"focusin":(Kd(w)||w.contentEditable==="true")&&(Rl=w,tc=f,Qo=null);break;case"focusout":Qo=tc=Rl=null;break;case"mousedown":nc=!0;break;case"contextmenu":case"mouseup":case"dragend":nc=!1,eh(p,t,d);break;case"selectionchange":if(MT)break;case"keydown":case"keyup":eh(p,t,d)}var N;if(Tf)e:{switch(n){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else wl?Dg(n,t)&&(D="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(D="onCompositionStart");D&&(Rg&&t.locale!=="ko"&&(wl||D!=="onCompositionStart"?D==="onCompositionEnd"&&wl&&(N=wg()):(xi=d,vf="value"in xi?xi.value:xi.textContent,wl=!0)),w=nr(f,D),0<w.length&&(D=new Hd(D,n,null,t,d),p.push({event:D,listeners:w}),N?D.data=N:(N=kg(t),N!==null&&(D.data=N)))),(N=yT?vT(n,t):xT(n,t))&&(D=nr(f,"onBeforeInput"),0<D.length&&(w=new Hd("onBeforeInput","beforeinput",null,t,d),p.push({event:w,listeners:D}),w.data=N)),u1(p,n,f,t,d)}Av(p,e)})}function Cs(n,e,t){return{instance:n,listener:e,currentTarget:t}}function nr(n,e){for(var t=e+"Capture",i=[];n!==null;){var l=n,o=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||o===null||(l=ms(n,t),l!=null&&i.unshift(Cs(n,l,o)),l=ms(n,e),l!=null&&i.push(Cs(n,l,o))),n.tag===3)return i;n=n.return}return[]}function yl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Vh(n,e,t,i,l){for(var o=e._reactName,s=[];t!==null&&t!==i;){var u=t,c=u.alternate,f=u.stateNode;if(u=u.tag,c!==null&&c===i)break;u!==5&&u!==26&&u!==27||f===null||(c=f,l?(f=ms(t,o),f!=null&&s.unshift(Cs(t,f,c))):l||(f=ms(t,o),f!=null&&s.push(Cs(t,f,c)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var h1=/\r\n?/g,p1=/\u0000|\uFFFD/g;function $h(n){return(typeof n=="string"?n:""+n).replace(h1,`
`).replace(p1,"")}function Mv(n,e){return e=$h(e),$h(n)===e}function Br(){}function Ue(n,e,t,i,l,o){switch(t){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||jl(n,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&jl(n,""+i);break;case"className":na(n,"class",i);break;case"tabIndex":na(n,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":na(n,t,i);break;case"style":Mg(n,i,o);break;case"data":if(e!=="object"){na(n,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||t!=="href")){n.removeAttribute(t);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(t);break}i=va(""+i),n.setAttribute(t,i);break;case"action":case"formAction":if(typeof i=="function"){n.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(t==="formAction"?(e!=="input"&&Ue(n,e,"name",l.name,l,null),Ue(n,e,"formEncType",l.formEncType,l,null),Ue(n,e,"formMethod",l.formMethod,l,null),Ue(n,e,"formTarget",l.formTarget,l,null)):(Ue(n,e,"encType",l.encType,l,null),Ue(n,e,"method",l.method,l,null),Ue(n,e,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(t);break}i=va(""+i),n.setAttribute(t,i);break;case"onClick":i!=null&&(n.onclick=Br);break;case"onScroll":i!=null&&de("scroll",n);break;case"onScrollEnd":i!=null&&de("scrollend",n);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(M(61));if(t=i.__html,t!=null){if(l.children!=null)throw Error(M(60));n.innerHTML=t}}break;case"multiple":n.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":n.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){n.removeAttribute("xlink:href");break}t=va(""+i),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,""+i):n.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,""):n.removeAttribute(t);break;case"capture":case"download":i===!0?n.setAttribute(t,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,i):n.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?n.setAttribute(t,i):n.removeAttribute(t);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?n.removeAttribute(t):n.setAttribute(t,i);break;case"popover":de("beforetoggle",n),de("toggle",n),ya(n,"popover",i);break;case"xlinkActuate":$n(n,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":$n(n,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":$n(n,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":$n(n,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":$n(n,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":$n(n,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":$n(n,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":$n(n,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":$n(n,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ya(n,"is",i);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=Hx.get(t)||t,ya(n,t,i))}}function Mc(n,e,t,i,l,o){switch(t){case"style":Mg(n,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(M(61));if(t=i.__html,t!=null){if(l.children!=null)throw Error(M(60));n.innerHTML=t}}break;case"children":typeof i=="string"?jl(n,i):(typeof i=="number"||typeof i=="bigint")&&jl(n,""+i);break;case"onScroll":i!=null&&de("scroll",n);break;case"onScrollEnd":i!=null&&de("scrollend",n);break;case"onClick":i!=null&&(n.onclick=Br);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sg.hasOwnProperty(t))e:{if(t[0]==="o"&&t[1]==="n"&&(l=t.endsWith("Capture"),e=t.slice(2,l?t.length-7:void 0),o=n[qt]||null,o=o!=null?o[t]:null,typeof o=="function"&&n.removeEventListener(e,o,l),typeof i=="function")){typeof o!="function"&&o!==null&&(t in n?n[t]=null:n.hasAttribute(t)&&n.removeAttribute(t)),n.addEventListener(e,i,l);break e}t in n?n[t]=i:i===!0?n.setAttribute(t,""):ya(n,t,i)}}}function vt(n,e,t){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",n),de("load",n);var i=!1,l=!1,o;for(o in t)if(t.hasOwnProperty(o)){var s=t[o];if(s!=null)switch(o){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(M(137,e));default:Ue(n,e,o,s,t,null)}}l&&Ue(n,e,"srcSet",t.srcSet,t,null),i&&Ue(n,e,"src",t.src,t,null);return;case"input":de("invalid",n);var u=o=s=l=null,c=null,f=null;for(i in t)if(t.hasOwnProperty(i)){var d=t[i];if(d!=null)switch(i){case"name":l=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":o=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(M(137,e));break;default:Ue(n,e,i,d,t,null)}}Eg(n,o,u,c,f,s,l,!1),Va(n);return;case"select":de("invalid",n),i=s=o=null;for(l in t)if(t.hasOwnProperty(l)&&(u=t[l],u!=null))switch(l){case"value":o=u;break;case"defaultValue":s=u;break;case"multiple":i=u;default:Ue(n,e,l,u,t,null)}e=o,t=s,n.multiple=!!i,e!=null?zl(n,!!i,e,!1):t!=null&&zl(n,!!i,t,!0);return;case"textarea":de("invalid",n),o=l=i=null;for(s in t)if(t.hasOwnProperty(s)&&(u=t[s],u!=null))switch(s){case"value":i=u;break;case"defaultValue":l=u;break;case"children":o=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(M(91));break;default:Ue(n,e,s,u,t,null)}bg(n,i,l,o),Va(n);return;case"option":for(c in t)if(t.hasOwnProperty(c)&&(i=t[c],i!=null))switch(c){case"selected":n.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ue(n,e,c,i,t,null)}return;case"dialog":de("beforetoggle",n),de("toggle",n),de("cancel",n),de("close",n);break;case"iframe":case"object":de("load",n);break;case"video":case"audio":for(i=0;i<Ss.length;i++)de(Ss[i],n);break;case"image":de("error",n),de("load",n);break;case"details":de("toggle",n);break;case"embed":case"source":case"link":de("error",n),de("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in t)if(t.hasOwnProperty(f)&&(i=t[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(M(137,e));default:Ue(n,e,f,i,t,null)}return;default:if(gf(e)){for(d in t)t.hasOwnProperty(d)&&(i=t[d],i!==void 0&&Mc(n,e,d,i,t,void 0));return}}for(u in t)t.hasOwnProperty(u)&&(i=t[u],i!=null&&Ue(n,e,u,i,t,null))}function m1(n,e,t,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,o=null,s=null,u=null,c=null,f=null,d=null;for(m in t){var p=t[m];if(t.hasOwnProperty(m)&&p!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=p;default:i.hasOwnProperty(m)||Ue(n,e,m,null,i,p)}}for(var h in i){var m=i[h];if(p=t[h],i.hasOwnProperty(h)&&(m!=null||p!=null))switch(h){case"type":o=m;break;case"name":l=m;break;case"checked":f=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":u=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(M(137,e));break;default:m!==p&&Ue(n,e,h,m,i,p)}}Qu(n,s,u,c,f,d,o,l);return;case"select":m=s=u=h=null;for(o in t)if(c=t[o],t.hasOwnProperty(o)&&c!=null)switch(o){case"value":break;case"multiple":m=c;default:i.hasOwnProperty(o)||Ue(n,e,o,null,i,c)}for(l in i)if(o=i[l],c=t[l],i.hasOwnProperty(l)&&(o!=null||c!=null))switch(l){case"value":h=o;break;case"defaultValue":u=o;break;case"multiple":s=o;default:o!==c&&Ue(n,e,l,o,i,c)}e=u,t=s,i=m,h!=null?zl(n,!!t,h,!1):!!i!=!!t&&(e!=null?zl(n,!!t,e,!0):zl(n,!!t,t?[]:"",!1));return;case"textarea":m=h=null;for(u in t)if(l=t[u],t.hasOwnProperty(u)&&l!=null&&!i.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:Ue(n,e,u,null,i,l)}for(s in i)if(l=i[s],o=t[s],i.hasOwnProperty(s)&&(l!=null||o!=null))switch(s){case"value":h=l;break;case"defaultValue":m=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(M(91));break;default:l!==o&&Ue(n,e,s,l,i,o)}Ag(n,h,m);return;case"option":for(var x in t)if(h=t[x],t.hasOwnProperty(x)&&h!=null&&!i.hasOwnProperty(x))switch(x){case"selected":n.selected=!1;break;default:Ue(n,e,x,null,i,h)}for(c in i)if(h=i[c],m=t[c],i.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ue(n,e,c,h,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in t)h=t[S],t.hasOwnProperty(S)&&h!=null&&!i.hasOwnProperty(S)&&Ue(n,e,S,null,i,h);for(f in i)if(h=i[f],m=t[f],i.hasOwnProperty(f)&&h!==m&&(h!=null||m!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(M(137,e));break;default:Ue(n,e,f,h,i,m)}return;default:if(gf(e)){for(var _ in t)h=t[_],t.hasOwnProperty(_)&&h!==void 0&&!i.hasOwnProperty(_)&&Mc(n,e,_,void 0,i,h);for(d in i)h=i[d],m=t[d],!i.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||Mc(n,e,d,h,i,m);return}}for(var y in t)h=t[y],t.hasOwnProperty(y)&&h!=null&&!i.hasOwnProperty(y)&&Ue(n,e,y,null,i,h);for(p in i)h=i[p],m=t[p],!i.hasOwnProperty(p)||h===m||h==null&&m==null||Ue(n,e,p,h,i,m)}var Nc=null,wc=null;function ir(n){return n.nodeType===9?n:n.ownerDocument}function Bh(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nv(n,e){if(n===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&e==="foreignObject"?0:n}function Rc(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ru=null;function g1(){var n=window.event;return n&&n.type==="popstate"?n===Ru?!1:(Ru=n,!0):(Ru=null,!1)}var wv=typeof setTimeout=="function"?setTimeout:void 0,y1=typeof clearTimeout=="function"?clearTimeout:void 0,Ph=typeof Promise=="function"?Promise:void 0,v1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ph<"u"?function(n){return Ph.resolve(null).then(n).catch(x1)}:wv;function x1(n){setTimeout(function(){throw n})}function Oi(n){return n==="head"}function zh(n,e){var t=e,i=0,l=0;do{var o=t.nextSibling;if(n.removeChild(t),o&&o.nodeType===8)if(t=o.data,t==="/$"){if(0<i&&8>i){t=i;var s=n.ownerDocument;if(t&1&&rs(s.documentElement),t&2&&rs(s.body),t&4)for(t=s.head,rs(t),s=t.firstChild;s;){var u=s.nextSibling,c=s.nodeName;s[Us]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||t.removeChild(s),s=u}}if(l===0){n.removeChild(o),Ms(e);return}l--}else t==="$"||t==="$?"||t==="$!"?l++:i=t.charCodeAt(0)-48;else i=0;t=o}while(t);Ms(e)}function Dc(n){var e=n.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var t=e;switch(e=e.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":Dc(t),mf(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}n.removeChild(t)}}function T1(n,e,t,i){for(;n.nodeType===1;){var l=t;if(n.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(i){if(!n[Us])switch(e){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(o=n.getAttribute("rel"),o==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(o!==l.rel||n.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||n.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||n.getAttribute("title")!==(l.title==null?null:l.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(o=n.getAttribute("src"),(o!==(l.src==null?null:l.src)||n.getAttribute("type")!==(l.type==null?null:l.type)||n.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&o&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(e==="input"&&n.type==="hidden"){var o=l.name==null?null:""+l.name;if(l.type==="hidden"&&n.getAttribute("name")===o)return n}else return n;if(n=vn(n.nextSibling),n===null)break}return null}function S1(n,e,t){if(e==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!t||(n=vn(n.nextSibling),n===null))return null;return n}function kc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function C1(n,e){var t=n.ownerDocument;if(n.data!=="$?"||t.readyState==="complete")e();else{var i=function(){e(),t.removeEventListener("DOMContentLoaded",i)};t.addEventListener("DOMContentLoaded",i),n._reactRetry=i}}function vn(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return n}var Ic=null;function Gh(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}function Rv(n,e,t){switch(e=ir(t),n){case"html":if(n=e.documentElement,!n)throw Error(M(452));return n;case"head":if(n=e.head,!n)throw Error(M(453));return n;case"body":if(n=e.body,!n)throw Error(M(454));return n;default:throw Error(M(451))}}function rs(n){for(var e=n.attributes;e.length;)n.removeAttributeNode(e[0]);mf(n)}var hn=new Map,qh=new Set;function lr(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ni=be.d;be.d={f:_1,r:E1,D:A1,C:b1,L:M1,m:N1,X:R1,S:w1,M:D1};function _1(){var n=ni.f(),e=Or();return n||e}function E1(n){var e=yo(n);e!==null&&e.tag===5&&e.type==="form"?_y(e):ni.r(n)}var To=typeof document>"u"?null:document;function Dv(n,e,t){var i=To;if(i&&typeof e=="string"&&e){var l=un(e);l='link[rel="'+n+'"][href="'+l+'"]',typeof t=="string"&&(l+='[crossorigin="'+t+'"]'),qh.has(l)||(qh.add(l),n={rel:n,crossOrigin:t,href:e},i.querySelector(l)===null&&(e=i.createElement("link"),vt(e,"link",n),ht(e),i.head.appendChild(e)))}}function A1(n){ni.D(n),Dv("dns-prefetch",n,null)}function b1(n,e){ni.C(n,e),Dv("preconnect",n,e)}function M1(n,e,t){ni.L(n,e,t);var i=To;if(i&&n&&e){var l='link[rel="preload"][as="'+un(e)+'"]';e==="image"&&t&&t.imageSrcSet?(l+='[imagesrcset="'+un(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(l+='[imagesizes="'+un(t.imageSizes)+'"]')):l+='[href="'+un(n)+'"]';var o=l;switch(e){case"style":o=ao(n);break;case"script":o=So(n)}hn.has(o)||(n=Fe({rel:"preload",href:e==="image"&&t&&t.imageSrcSet?void 0:n,as:e},t),hn.set(o,n),i.querySelector(l)!==null||e==="style"&&i.querySelector(Hs(o))||e==="script"&&i.querySelector(Ys(o))||(e=i.createElement("link"),vt(e,"link",n),ht(e),i.head.appendChild(e)))}}function N1(n,e){ni.m(n,e);var t=To;if(t&&n){var i=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+un(i)+'"][href="'+un(n)+'"]',o=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=So(n)}if(!hn.has(o)&&(n=Fe({rel:"modulepreload",href:n},e),hn.set(o,n),t.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(Ys(o)))return}i=t.createElement("link"),vt(i,"link",n),ht(i),t.head.appendChild(i)}}}function w1(n,e,t){ni.S(n,e,t);var i=To;if(i&&n){var l=Pl(i).hoistableStyles,o=ao(n);e=e||"default";var s=l.get(o);if(!s){var u={loading:0,preload:null};if(s=i.querySelector(Hs(o)))u.loading=5;else{n=Fe({rel:"stylesheet",href:n,"data-precedence":e},t),(t=hn.get(o))&&Wf(n,t);var c=s=i.createElement("link");ht(c),vt(c,"link",n),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){u.loading|=1}),c.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Ma(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:u},l.set(o,s)}}}function R1(n,e){ni.X(n,e);var t=To;if(t&&n){var i=Pl(t).hoistableScripts,l=So(n),o=i.get(l);o||(o=t.querySelector(Ys(l)),o||(n=Fe({src:n,async:!0},e),(e=hn.get(l))&&jf(n,e),o=t.createElement("script"),ht(o),vt(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function D1(n,e){ni.M(n,e);var t=To;if(t&&n){var i=Pl(t).hoistableScripts,l=So(n),o=i.get(l);o||(o=t.querySelector(Ys(l)),o||(n=Fe({src:n,async:!0,type:"module"},e),(e=hn.get(l))&&jf(n,e),o=t.createElement("script"),ht(o),vt(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function Hh(n,e,t,i){var l=(l=Ci.current)?lr(l):null;if(!l)throw Error(M(446));switch(n){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(e=ao(t.href),t=Pl(l).hoistableStyles,i=t.get(e),i||(i={type:"style",instance:null,count:0,state:null},t.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){n=ao(t.href);var o=Pl(l).hoistableStyles,s=o.get(n);if(s||(l=l.ownerDocument||l,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(n,s),(o=l.querySelector(Hs(n)))&&!o._p&&(s.instance=o,s.state.loading=5),hn.has(n)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},hn.set(n,t),o||k1(l,n,t,s.state))),e&&i===null)throw Error(M(528,""));return s}if(e&&i!==null)throw Error(M(529,""));return null;case"script":return e=t.async,t=t.src,typeof t=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=So(t),t=Pl(l).hoistableScripts,i=t.get(e),i||(i={type:"script",instance:null,count:0,state:null},t.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(M(444,n))}}function ao(n){return'href="'+un(n)+'"'}function Hs(n){return'link[rel="stylesheet"]['+n+"]"}function kv(n){return Fe({},n,{"data-precedence":n.precedence,precedence:null})}function k1(n,e,t,i){n.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=n.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),vt(e,"link",t),ht(e),n.head.appendChild(e))}function So(n){return'[src="'+un(n)+'"]'}function Ys(n){return"script[async]"+n}function Yh(n,e,t){if(e.count++,e.instance===null)switch(e.type){case"style":var i=n.querySelector('style[data-href~="'+un(t.href)+'"]');if(i)return e.instance=i,ht(i),i;var l=Fe({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return i=(n.ownerDocument||n).createElement("style"),ht(i),vt(i,"style",l),Ma(i,t.precedence,n),e.instance=i;case"stylesheet":l=ao(t.href);var o=n.querySelector(Hs(l));if(o)return e.state.loading|=4,e.instance=o,ht(o),o;i=kv(t),(l=hn.get(l))&&Wf(i,l),o=(n.ownerDocument||n).createElement("link"),ht(o);var s=o;return s._p=new Promise(function(u,c){s.onload=u,s.onerror=c}),vt(o,"link",i),e.state.loading|=4,Ma(o,t.precedence,n),e.instance=o;case"script":return o=So(t.src),(l=n.querySelector(Ys(o)))?(e.instance=l,ht(l),l):(i=t,(l=hn.get(o))&&(i=Fe({},t),jf(i,l)),n=n.ownerDocument||n,l=n.createElement("script"),ht(l),vt(l,"link",i),n.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(M(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Ma(i,t.precedence,n));return e.instance}function Ma(n,e,t){for(var i=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,o=l,s=0;s<i.length;s++){var u=i[s];if(u.dataset.precedence===e)o=u;else if(o!==l)break}o?o.parentNode.insertBefore(n,o.nextSibling):(e=t.nodeType===9?t.head:t,e.insertBefore(n,e.firstChild))}function Wf(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.title==null&&(n.title=e.title)}function jf(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.integrity==null&&(n.integrity=e.integrity)}var Na=null;function Fh(n,e,t){if(Na===null){var i=new Map,l=Na=new Map;l.set(t,i)}else l=Na,i=l.get(t),i||(i=new Map,l.set(t,i));if(i.has(n))return i;for(i.set(n,null),t=t.getElementsByTagName(n),l=0;l<t.length;l++){var o=t[l];if(!(o[Us]||o[St]||n==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var s=o.getAttribute(e)||"";s=n+s;var u=i.get(s);u?u.push(o):i.set(s,[o])}}return i}function Zh(n,e,t){n=n.ownerDocument||n,n.head.insertBefore(t,e==="title"?n.querySelector("head > title"):null)}function I1(n,e,t){if(t===1||e.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return n=e.disabled,typeof e.precedence=="string"&&n==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Iv(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var _s=null;function U1(){}function L1(n,e,t){if(_s===null)throw Error(M(475));var i=_s;if(e.type==="stylesheet"&&(typeof t.media!="string"||matchMedia(t.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var l=ao(t.href),o=n.querySelector(Hs(l));if(o){n=o._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(i.count++,i=or.bind(i),n.then(i,i)),e.state.loading|=4,e.instance=o,ht(o);return}o=n.ownerDocument||n,t=kv(t),(l=hn.get(l))&&Wf(t,l),o=o.createElement("link"),ht(o);var s=o;s._p=new Promise(function(u,c){s.onload=u,s.onerror=c}),vt(o,"link",t),e.instance=o}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,n),(n=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=or.bind(i),n.addEventListener("load",e),n.addEventListener("error",e))}}function O1(){if(_s===null)throw Error(M(475));var n=_s;return n.stylesheets&&n.count===0&&Uc(n,n.stylesheets),0<n.count?function(e){var t=setTimeout(function(){if(n.stylesheets&&Uc(n,n.stylesheets),n.unsuspend){var i=n.unsuspend;n.unsuspend=null,i()}},6e4);return n.unsuspend=e,function(){n.unsuspend=null,clearTimeout(t)}}:null}function or(){if(this.count--,this.count===0){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var sr=null;function Uc(n,e){n.stylesheets=null,n.unsuspend!==null&&(n.count++,sr=new Map,e.forEach(V1,n),sr=null,or.call(n))}function V1(n,e){if(!(e.state.loading&4)){var t=sr.get(n);if(t)var i=t.get(null);else{t=new Map,sr.set(n,t);for(var l=n.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<l.length;o++){var s=l[o];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(t.set(s.dataset.precedence,s),i=s)}i&&t.set(null,i)}l=e.instance,s=l.getAttribute("data-precedence"),o=t.get(s)||i,o===i&&t.set(null,l),t.set(s,l),this.count++,i=or.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),o?o.parentNode.insertBefore(l,o.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(l,n.firstChild)),e.state.loading|=4}}var Es={$$typeof:Gn,Provider:null,Consumer:null,_currentValue:Ki,_currentValue2:Ki,_threadCount:0};function $1(n,e,t,i,l,o,s,u){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Uv(n,e,t,i,l,o,s,u,c,f,d,p){return n=new $1(n,e,t,s,u,c,f,p),e=1,o===!0&&(e|=24),o=Wt(3,null,null,e),n.current=o,o.stateNode=n,e=Mf(),e.refCount++,n.pooledCache=e,e.refCount++,o.memoizedState={element:i,isDehydrated:t,cache:e},wf(o),n}function Lv(n){return n?(n=Il,n):Il}function Ov(n,e,t,i,l,o){l=Lv(l),i.context===null?i.context=l:i.pendingContext=l,i=_i(e),i.payload={element:t},o=o===void 0?null:o,o!==null&&(i.callback=o),t=Ei(n,i,e),t!==null&&(nn(t,n,e),es(t,n,e))}function Kh(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function ed(n,e){Kh(n,e),(n=n.alternate)&&Kh(n,e)}function Vv(n){if(n.tag===13){var e=vo(n,67108864);e!==null&&nn(e,n,67108864),ed(n,67108864)}}var ar=!0;function B1(n,e,t,i){var l=W.T;W.T=null;var o=be.p;try{be.p=2,td(n,e,t,i)}finally{be.p=o,W.T=l}}function P1(n,e,t,i){var l=W.T;W.T=null;var o=be.p;try{be.p=8,td(n,e,t,i)}finally{be.p=o,W.T=l}}function td(n,e,t,i){if(ar){var l=Lc(i);if(l===null)wu(n,e,i,rr,t),Jh(n,i);else if(G1(l,n,e,t,i))i.stopPropagation();else if(Jh(n,i),e&4&&-1<z1.indexOf(n)){for(;l!==null;){var o=yo(l);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var s=Yi(o.pendingLanes);if(s!==0){var u=o;for(u.pendingLanes|=2,u.entangledLanes|=2;s;){var c=1<<31-en(s);u.entanglements[1]|=c,s&=~c}On(o),!(De&6)&&(Wa=Dn()+500,qs(0))}}break;case 13:u=vo(o,2),u!==null&&nn(u,o,2),Or(),ed(o,2)}if(o=Lc(i),o===null&&wu(n,e,i,rr,t),o===l)break;l=o}l!==null&&i.stopPropagation()}else wu(n,e,i,null,t)}}function Lc(n){return n=yf(n),nd(n)}var rr=null;function nd(n){if(rr=null,n=Ml(n),n!==null){var e=Rs(n);if(e===null)n=null;else{var t=e.tag;if(t===13){if(n=rg(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null)}}return rr=n,null}function $v(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bx()){case dg:return 2;case hg:return 8;case Oa:case Mx:return 32;case pg:return 268435456;default:return 32}default:return 32}}var Oc=!1,Mi=null,Ni=null,wi=null,As=new Map,bs=new Map,yi=[],z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jh(n,e){switch(n){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":As.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(e.pointerId)}}function Vo(n,e,t,i,l,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:o,targetContainers:[l]},e!==null&&(e=yo(e),e!==null&&Vv(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),n)}function G1(n,e,t,i,l){switch(e){case"focusin":return Mi=Vo(Mi,n,e,t,i,l),!0;case"dragenter":return Ni=Vo(Ni,n,e,t,i,l),!0;case"mouseover":return wi=Vo(wi,n,e,t,i,l),!0;case"pointerover":var o=l.pointerId;return As.set(o,Vo(As.get(o)||null,n,e,t,i,l)),!0;case"gotpointercapture":return o=l.pointerId,bs.set(o,Vo(bs.get(o)||null,n,e,t,i,l)),!0}return!1}function Bv(n){var e=Ml(n.target);if(e!==null){var t=Rs(e);if(t!==null){if(e=t.tag,e===13){if(e=rg(t),e!==null){n.blockedOn=e,Lx(n.priority,function(){if(t.tag===13){var i=tn();i=hf(i);var l=vo(t,i);l!==null&&nn(l,t,i),ed(t,i)}});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wa(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Lc(n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);ju=i,t.target.dispatchEvent(i),ju=null}else return e=yo(t),e!==null&&Vv(e),n.blockedOn=t,!1;e.shift()}return!0}function Xh(n,e,t){wa(n)&&t.delete(e)}function q1(){Oc=!1,Mi!==null&&wa(Mi)&&(Mi=null),Ni!==null&&wa(Ni)&&(Ni=null),wi!==null&&wa(wi)&&(wi=null),As.forEach(Xh),bs.forEach(Xh)}function ca(n,e){n.blockedOn===e&&(n.blockedOn=null,Oc||(Oc=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,q1)))}var fa=null;function Qh(n){fa!==n&&(fa=n,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,function(){fa===n&&(fa=null);for(var e=0;e<n.length;e+=3){var t=n[e],i=n[e+1],l=n[e+2];if(typeof i!="function"){if(nd(i||t)===null)continue;break}var o=yo(t);o!==null&&(n.splice(e,3),e-=3,mc(o,{pending:!0,data:l,method:t.method,action:i},i,l))}}))}function Ms(n){function e(c){return ca(c,n)}Mi!==null&&ca(Mi,n),Ni!==null&&ca(Ni,n),wi!==null&&ca(wi,n),As.forEach(e),bs.forEach(e);for(var t=0;t<yi.length;t++){var i=yi[t];i.blockedOn===n&&(i.blockedOn=null)}for(;0<yi.length&&(t=yi[0],t.blockedOn===null);)Bv(t),t.blockedOn===null&&yi.shift();if(t=(n.ownerDocument||n).$$reactFormReplay,t!=null)for(i=0;i<t.length;i+=3){var l=t[i],o=t[i+1],s=l[qt]||null;if(typeof o=="function")s||Qh(t);else if(s){var u=null;if(o&&o.hasAttribute("formAction")){if(l=o,s=o[qt]||null)u=s.formAction;else if(nd(l)!==null)continue}else u=s.action;typeof u=="function"?t[i+1]=u:(t.splice(i,3),i-=3),Qh(t)}}}function id(n){this._internalRoot=n}Pr.prototype.render=id.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(M(409));var t=e.current,i=tn();Ov(t,i,n,e,null,null)};Pr.prototype.unmount=id.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ov(n.current,2,null,n,null,null),Or(),e[go]=null}};function Pr(n){this._internalRoot=n}Pr.prototype.unstable_scheduleHydration=function(n){if(n){var e=xg();n={blockedOn:null,target:n,priority:e};for(var t=0;t<yi.length&&e!==0&&e<yi[t].priority;t++);yi.splice(t,0,n),t===0&&Bv(n)}};var Wh=sg.version;if(Wh!=="19.1.0")throw Error(M(527,Wh,"19.1.0"));be.findDOMNode=function(n){var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(M(188)):(n=Object.keys(n).join(","),Error(M(268,n)));return n=xx(e),n=n!==null?ug(n):null,n=n===null?null:n.stateNode,n};var H1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!da.isDisabled&&da.supportsFiber)try{Ds=da.inject(H1),jt=da}catch{}}Er.createRoot=function(n,e){if(!ag(n))throw Error(M(299));var t=!1,i="",l=Uy,o=Ly,s=Oy,u=null;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(u=e.unstable_transitionCallbacks)),e=Uv(n,1,!1,null,null,t,i,l,o,s,u,null),n[go]=e.current,Qf(n),new id(e)};Er.hydrateRoot=function(n,e,t){if(!ag(n))throw Error(M(299));var i=!1,l="",o=Uy,s=Ly,u=Oy,c=null,f=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(c=t.unstable_transitionCallbacks),t.formState!==void 0&&(f=t.formState)),e=Uv(n,1,!0,e,t??null,i,l,o,s,u,c,f),e.context=Lv(null),t=e.current,i=tn(),i=hf(i),l=_i(i),l.callback=null,Ei(t,l,i),t=i,e.current.lanes=t,Is(e,t),On(e),n[go]=e.current,Qf(n),new Pr(e)};Er.version="19.1.0";function Pv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pv)}catch(n){console.error(n)}}Pv(),eg.exports=Er;var Y1=eg.exports;const F1=Hm(Y1),Du=["1","2","3","4","5","6","7","8","9","10","11","12"],zv=["","","","","","",""],Tt=["","","","","","","","","","","","",""],Zn="",Co="smartcalendar:userEvents",zr="smartcalendar:builtinEventOverrides",ur="smartcalendar:userEventsUpdated",Vc="smartcalendar:builtinEventOverridesUpdated",jh=2029,Gv=b.createContext(void 0),ep="smartcalendar:theme",Z1={mainBg:"bg-main",headerBg:"bg-secondary",componentBg:"bg-secondary",inputBg:"bg-tertiary",border:"border-border-primary",textPrimary:"text-text-primary",textSecondary:"text-text-secondary",accentColor:"text-accent-text",accentBg:"bg-accent-primary",activeTabBg:"bg-accent-primary",buttonBg:"bg-tertiary",buttonText:"text-white",hoverEffect:"hover:bg-tertiary/60",eventUserBg:"bg-accent-primary/20",eventBuiltinBg:"bg-tertiary/60",eventBuiltinBorder:"border-border-secondary",placeholderColor:"placeholder:text-text-tertiary",scrollbarThumb:""},K1=({children:n})=>{const[e,t]=b.useState(()=>{const l=(localStorage.getItem(ep)??"").trim();return l==="light"||l==="beige"||l==="dark"?l:"dark"});b.useEffect(()=>{localStorage.setItem(ep,e),document.documentElement.setAttribute("data-theme",e)},[e]),b.useEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[]);const i=b.useMemo(()=>({theme:e,setTheme:t,colors:Z1}),[e]);return g.jsx(Gv.Provider,{value:i,children:n})},Vi=()=>{const n=b.useContext(Gv);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},ku=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},J1=({currentDate:n,events:e,onEventClick:t,onDateClick:i,onDragStart:l,onDragEnd:o,onDrop:s})=>{const{colors:u}=Vi(),c=new Date(n),f=c.getDay();c.setDate(n.getDate()-f);const d=Array.from({length:7},(h,m)=>{const x=new Date(c);return x.setDate(c.getDate()+m),x}),p=ku(new Date);return g.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[g.jsx("div",{className:`grid grid-cols-7 border-b ${u.border} ${u.componentBg}/80 flex-shrink-0`,children:d.map((h,m)=>{const x=ku(h),S=x===p;return g.jsxs("div",{className:`p-3 text-center border-r ${u.border} last:border-r-0 ${S?`${u.accentBg}/20`:""}`,children:[g.jsx("div",{className:`text-xs ${u.textSecondary} font-medium mb-1`,children:zv[m]}),g.jsx("div",{className:`text-lg font-bold ${S?u.accentColor:u.textPrimary}`,children:h.getDate()})]},x)})}),g.jsx("div",{className:"flex-grow grid grid-cols-7 min-h-0 overflow-hidden",children:d.map(h=>{const m=ku(h),x=e.filter(_=>_.date===m),S=m===p;return g.jsx("div",{className:`border-r ${u.border} last:border-r-0 p-2 overflow-y-auto scrollbar-thin ${u.hoverEffect} transition-colors h-full ${S?`${u.accentBg}/10`:""}`,onClick:()=>i(m),onDragOver:_=>{_.preventDefault(),_.dataTransfer.dropEffect="move"},onDrop:_=>s&&s(_,m),children:g.jsx("div",{className:"space-y-2",children:x.map(_=>g.jsx("div",{"data-tour":"calendar-event",draggable:!!l,onDragStart:y=>l==null?void 0:l(y,_.id),onDragEnd:o,className:`p-2 rounded-lg text-sm cursor-grab active:cursor-grabbing shadow-sm border transition-shadow ${_.kind==="builtin"?`${u.eventBuiltinBg} hover:opacity-90 ${u.eventBuiltinBorder} ${u.textPrimary}`:`${u.eventUserBg} hover:opacity-90 border-transparent ${u.textPrimary}`}`,onClick:y=>{y.stopPropagation(),t(_)},title:_.title,children:g.jsx("div",{className:"font-medium truncate",children:_.title})},_.id))})},m)})})]})};var _e;(function(n){n.assertEqual=l=>{};function e(l){}n.assertIs=e;function t(l){throw new Error}n.assertNever=t,n.arrayToEnum=l=>{const o={};for(const s of l)o[s]=s;return o},n.getValidEnumValues=l=>{const o=n.objectKeys(l).filter(u=>typeof l[l[u]]!="number"),s={};for(const u of o)s[u]=l[u];return n.objectValues(s)},n.objectValues=l=>n.objectKeys(l).map(function(o){return l[o]}),n.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const o=[];for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&o.push(s);return o},n.find=(l,o)=>{for(const s of l)if(o(s))return s},n.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function i(l,o=" | "){return l.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}n.joinValues=i,n.jsonStringifyReplacer=(l,o)=>typeof o=="bigint"?o.toString():o})(_e||(_e={}));var tp;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(tp||(tp={}));const q=_e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),hi=n=>{switch(typeof n){case"undefined":return q.undefined;case"string":return q.string;case"number":return Number.isNaN(n)?q.nan:q.number;case"boolean":return q.boolean;case"function":return q.function;case"bigint":return q.bigint;case"symbol":return q.symbol;case"object":return Array.isArray(n)?q.array:n===null?q.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?q.promise:typeof Map<"u"&&n instanceof Map?q.map:typeof Set<"u"&&n instanceof Set?q.set:typeof Date<"u"&&n instanceof Date?q.date:q.object;default:return q.unknown}},R=_e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ei extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},i={_errors:[]},l=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(l);else if(s.code==="invalid_return_type")l(s.returnTypeError);else if(s.code==="invalid_arguments")l(s.argumentsError);else if(s.path.length===0)i._errors.push(t(s));else{let u=i,c=0;for(;c<s.path.length;){const f=s.path[c];c===s.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(t(s))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return l(this),i}static assert(e){if(!(e instanceof ei))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_e.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const l of this.issues)l.path.length>0?(t[l.path[0]]=t[l.path[0]]||[],t[l.path[0]].push(e(l))):i.push(e(l));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}ei.create=n=>new ei(n);const $c=(n,e)=>{let t;switch(n.code){case R.invalid_type:n.received===q.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case R.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,_e.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:t=`Unrecognized key(s) in object: ${_e.joinValues(n.keys,", ")}`;break;case R.invalid_union:t="Invalid input";break;case R.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${_e.joinValues(n.options)}`;break;case R.invalid_enum_value:t=`Invalid enum value. Expected ${_e.joinValues(n.options)}, received '${n.received}'`;break;case R.invalid_arguments:t="Invalid function arguments";break;case R.invalid_return_type:t="Invalid function return type";break;case R.invalid_date:t="Invalid date";break;case R.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:_e.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case R.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case R.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case R.custom:t="Invalid input";break;case R.invalid_intersection_types:t="Intersection results could not be merged";break;case R.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case R.not_finite:t="Number must be finite";break;default:t=e.defaultError,_e.assertNever(n)}return{message:t}};let X1=$c;function Q1(){return X1}const W1=n=>{const{data:e,path:t,errorMaps:i,issueData:l}=n,o=[...t,...l.path||[]],s={...l,path:o};if(l.message!==void 0)return{...l,path:o,message:l.message};let u="";const c=i.filter(f=>!!f).slice().reverse();for(const f of c)u=f(s,{data:e,defaultError:u}).message;return{...l,path:o,message:u}};function $(n,e){const t=Q1(),i=W1({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===$c?void 0:$c].filter(l=>!!l)});n.common.issues.push(i)}class kt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const l of t){if(l.status==="aborted")return ee;l.status==="dirty"&&e.dirty(),i.push(l.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const l of t){const o=await l.key,s=await l.value;i.push({key:o,value:s})}return kt.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const l of t){const{key:o,value:s}=l;if(o.status==="aborted"||s.status==="aborted")return ee;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||l.alwaysSet)&&(i[o.value]=s.value)}return{status:e.value,value:i}}}const ee=Object.freeze({status:"aborted"}),Fo=n=>({status:"dirty",value:n}),pn=n=>({status:"valid",value:n}),np=n=>n.status==="aborted",ip=n=>n.status==="dirty",ro=n=>n.status==="valid",cr=n=>typeof Promise<"u"&&n instanceof Promise;var Y;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Y||(Y={}));class Un{constructor(e,t,i,l){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const lp=(n,e)=>{if(ro(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ei(n.common.issues);return this._error=t,this._error}}};function se(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:l}=n;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:(s,u)=>{const{message:c}=n;return s.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??i??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:c??t??u.defaultError}},description:l}}class ge{get description(){return this._def.description}_getType(e){return hi(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:hi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new kt,ctx:{common:e.parent.common,data:e.data,parsedType:hi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(cr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:hi(e)},l=this._parseSync({data:e,path:i.path,parent:i});return lp(i,l)}"~validate"(e){var i,l;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:hi(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:t});return ro(o)?{value:o.value}:{issues:t.common.issues}}catch(o){(l=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(o=>ro(o)?{value:o.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:hi(e)},l=this._parse({data:e,path:i.path,parent:i}),o=await(cr(l)?l:Promise.resolve(l));return lp(i,o)}refine(e,t){const i=l=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(l):t;return this._refinement((l,o)=>{const s=e(l),u=()=>o.addIssue({code:R.custom,...i(l)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(e,t){return this._refinement((i,l)=>e(i)?!0:(l.addIssue(typeof t=="function"?t(i,l):t),!1))}_refinement(e){return new fo({schema:this,typeName:j.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Ri.create(this,this._def)}nullable(){return ho.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return In.create(this)}promise(){return mr.create(this,this._def)}or(e){return dr.create([this,e],this._def)}and(e){return hr.create(this,e,this._def)}transform(e){return new fo({...se(this._def),schema:this,typeName:j.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Gc({...se(this._def),innerType:this,defaultValue:t,typeName:j.ZodDefault})}brand(){return new SS({typeName:j.ZodBranded,type:this,...se(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new qc({...se(this._def),innerType:this,catchValue:t,typeName:j.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ld.create(this,e)}readonly(){return Hc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const j1=/^c[^\s-]{8,}$/i,eS=/^[0-9a-z]+$/,tS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,nS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iS=/^[a-z0-9_-]{21}$/i,lS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,oS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,aS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Iu;const rS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,cS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,fS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,qv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",pS=new RegExp(`^${qv}$`);function Hv(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function mS(n){return new RegExp(`^${Hv(n)}$`)}function gS(n){let e=`${qv}T${Hv(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function yS(n,e){return!!((e==="v4"||!e)&&rS.test(n)||(e==="v6"||!e)&&cS.test(n))}function vS(n,e){if(!lS.test(n))return!1;try{const[t]=n.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),l=JSON.parse(atob(i));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||e&&l.alg!==e)}catch{return!1}}function xS(n,e){return!!((e==="v4"||!e)&&uS.test(n)||(e==="v6"||!e)&&fS.test(n))}class bn extends ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==q.string){const o=this._getOrReturnCtx(e);return $(o,{code:R.invalid_type,expected:q.string,received:o.parsedType}),ee}const i=new kt;let l;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(l=this._getOrReturnCtx(e,l),$(l,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(l=this._getOrReturnCtx(e,l),$(l,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,u=e.data.length<o.value;(s||u)&&(l=this._getOrReturnCtx(e,l),s?$(l,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&$(l,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")sS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"email",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")Iu||(Iu=new RegExp(aS,"u")),Iu.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"emoji",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")nS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"uuid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")iS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"nanoid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")j1.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"cuid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")eS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"cuid2",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")tS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"ulid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),$(l,{validation:"url",code:R.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"regex",code:R.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(l=this._getOrReturnCtx(e,l),$(l,{code:R.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(l=this._getOrReturnCtx(e,l),$(l,{code:R.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(l=this._getOrReturnCtx(e,l),$(l,{code:R.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?gS(o).test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{code:R.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?pS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{code:R.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?mS(o).test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{code:R.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?oS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"duration",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?yS(e.data,o.version)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"ip",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?vS(e.data,o.alg)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"jwt",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?xS(e.data,o.version)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"cidr",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?dS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"base64",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?hS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"base64url",code:R.invalid_string,message:o.message}),i.dirty()):_e.assertNever(o);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(l=>e.test(l),{validation:t,code:R.invalid_string,...Y.errToObj(i)})}_addCheck(e){return new bn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Y.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Y.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Y.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Y.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Y.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Y.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Y.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Y.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Y.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Y.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Y.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Y.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Y.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Y.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Y.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Y.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Y.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Y.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Y.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Y.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Y.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Y.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Y.errToObj(t)})}nonempty(e){return this.min(1,Y.errToObj(e))}trim(){return new bn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}bn.create=n=>new bn({checks:[],typeName:j.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...se(n)});function TS(n,e){const t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,l=t>i?t:i,o=Number.parseInt(n.toFixed(l).replace(".","")),s=Number.parseInt(e.toFixed(l).replace(".",""));return o%s/10**l}class ol extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==q.number){const o=this._getOrReturnCtx(e);return $(o,{code:R.invalid_type,expected:q.number,received:o.parsedType}),ee}let i;const l=new kt;for(const o of this._def.checks)o.kind==="int"?_e.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{code:R.invalid_type,expected:"integer",received:"float",message:o.message}),l.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),$(i,{code:R.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),$(i,{code:R.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="multipleOf"?TS(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),$(i,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{code:R.not_finite,message:o.message}),l.dirty()):_e.assertNever(o);return{status:l.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Y.toString(t))}setLimit(e,t,i,l){return new ol({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:Y.toString(l)}]})}_addCheck(e){return new ol({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Y.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Y.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Y.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Y.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Y.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&_e.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ol.create=n=>new ol({checks:[],typeName:j.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...se(n)});class sl extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==q.bigint)return this._getInvalidInput(e);let i;const l=new kt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),$(i,{code:R.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),$(i,{code:R.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),$(i,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):_e.assertNever(o);return{status:l.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return $(t,{code:R.invalid_type,expected:q.bigint,received:t.parsedType}),ee}gte(e,t){return this.setLimit("min",e,!0,Y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Y.toString(t))}setLimit(e,t,i,l){return new sl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:Y.toString(l)}]})}_addCheck(e){return new sl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Y.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}sl.create=n=>new sl({checks:[],typeName:j.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...se(n)});class fr extends ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==q.boolean){const i=this._getOrReturnCtx(e);return $(i,{code:R.invalid_type,expected:q.boolean,received:i.parsedType}),ee}return pn(e.data)}}fr.create=n=>new fr({typeName:j.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...se(n)});class uo extends ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==q.date){const o=this._getOrReturnCtx(e);return $(o,{code:R.invalid_type,expected:q.date,received:o.parsedType}),ee}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return $(o,{code:R.invalid_date}),ee}const i=new kt;let l;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(l=this._getOrReturnCtx(e,l),$(l,{code:R.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(l=this._getOrReturnCtx(e,l),$(l,{code:R.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):_e.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new uo({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Y.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Y.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}uo.create=n=>new uo({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:j.ZodDate,...se(n)});class op extends ge{_parse(e){if(this._getType(e)!==q.symbol){const i=this._getOrReturnCtx(e);return $(i,{code:R.invalid_type,expected:q.symbol,received:i.parsedType}),ee}return pn(e.data)}}op.create=n=>new op({typeName:j.ZodSymbol,...se(n)});class sp extends ge{_parse(e){if(this._getType(e)!==q.undefined){const i=this._getOrReturnCtx(e);return $(i,{code:R.invalid_type,expected:q.undefined,received:i.parsedType}),ee}return pn(e.data)}}sp.create=n=>new sp({typeName:j.ZodUndefined,...se(n)});class ap extends ge{_parse(e){if(this._getType(e)!==q.null){const i=this._getOrReturnCtx(e);return $(i,{code:R.invalid_type,expected:q.null,received:i.parsedType}),ee}return pn(e.data)}}ap.create=n=>new ap({typeName:j.ZodNull,...se(n)});class rp extends ge{constructor(){super(...arguments),this._any=!0}_parse(e){return pn(e.data)}}rp.create=n=>new rp({typeName:j.ZodAny,...se(n)});class Bc extends ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pn(e.data)}}Bc.create=n=>new Bc({typeName:j.ZodUnknown,...se(n)});class Ui extends ge{_parse(e){const t=this._getOrReturnCtx(e);return $(t,{code:R.invalid_type,expected:q.never,received:t.parsedType}),ee}}Ui.create=n=>new Ui({typeName:j.ZodNever,...se(n)});class up extends ge{_parse(e){if(this._getType(e)!==q.undefined){const i=this._getOrReturnCtx(e);return $(i,{code:R.invalid_type,expected:q.void,received:i.parsedType}),ee}return pn(e.data)}}up.create=n=>new up({typeName:j.ZodVoid,...se(n)});class In extends ge{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),l=this._def;if(t.parsedType!==q.array)return $(t,{code:R.invalid_type,expected:q.array,received:t.parsedType}),ee;if(l.exactLength!==null){const s=t.data.length>l.exactLength.value,u=t.data.length<l.exactLength.value;(s||u)&&($(t,{code:s?R.too_big:R.too_small,minimum:u?l.exactLength.value:void 0,maximum:s?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),i.dirty())}if(l.minLength!==null&&t.data.length<l.minLength.value&&($(t,{code:R.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),i.dirty()),l.maxLength!==null&&t.data.length>l.maxLength.value&&($(t,{code:R.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((s,u)=>l.type._parseAsync(new Un(t,s,t.path,u)))).then(s=>kt.mergeArray(i,s));const o=[...t.data].map((s,u)=>l.type._parseSync(new Un(t,s,t.path,u)));return kt.mergeArray(i,o)}get element(){return this._def.type}min(e,t){return new In({...this._def,minLength:{value:e,message:Y.toString(t)}})}max(e,t){return new In({...this._def,maxLength:{value:e,message:Y.toString(t)}})}length(e,t){return new In({...this._def,exactLength:{value:e,message:Y.toString(t)}})}nonempty(e){return this.min(1,e)}}In.create=(n,e)=>new In({type:n,minLength:null,maxLength:null,exactLength:null,typeName:j.ZodArray,...se(e)});function El(n){if(n instanceof ot){const e={};for(const t in n.shape){const i=n.shape[t];e[t]=Ri.create(El(i))}return new ot({...n._def,shape:()=>e})}else return n instanceof In?new In({...n._def,type:El(n.element)}):n instanceof Ri?Ri.create(El(n.unwrap())):n instanceof ho?ho.create(El(n.unwrap())):n instanceof al?al.create(n.items.map(e=>El(e))):n}class ot extends ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=_e.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==q.object){const f=this._getOrReturnCtx(e);return $(f,{code:R.invalid_type,expected:q.object,received:f.parsedType}),ee}const{status:i,ctx:l}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof Ui&&this._def.unknownKeys==="strip"))for(const f in l.data)s.includes(f)||u.push(f);const c=[];for(const f of s){const d=o[f],p=l.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new Un(l,p,l.path,f)),alwaysSet:f in l.data})}if(this._def.catchall instanceof Ui){const f=this._def.unknownKeys;if(f==="passthrough")for(const d of u)c.push({key:{status:"valid",value:d},value:{status:"valid",value:l.data[d]}});else if(f==="strict")u.length>0&&($(l,{code:R.unrecognized_keys,keys:u}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const d of u){const p=l.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new Un(l,p,l.path,d)),alwaysSet:d in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const f=[];for(const d of c){const p=await d.key,h=await d.value;f.push({key:p,value:h,alwaysSet:d.alwaysSet})}return f}).then(f=>kt.mergeObjectSync(i,f)):kt.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return Y.errToObj,new ot({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var o,s;const l=((s=(o=this._def).errorMap)==null?void 0:s.call(o,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:Y.errToObj(e).message??l}:{message:l}}}:{}})}strip(){return new ot({...this._def,unknownKeys:"strip"})}passthrough(){return new ot({...this._def,unknownKeys:"passthrough"})}extend(e){return new ot({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ot({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:j.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ot({...this._def,catchall:e})}pick(e){const t={};for(const i of _e.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new ot({...this._def,shape:()=>t})}omit(e){const t={};for(const i of _e.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new ot({...this._def,shape:()=>t})}deepPartial(){return El(this)}partial(e){const t={};for(const i of _e.objectKeys(this.shape)){const l=this.shape[i];e&&!e[i]?t[i]=l:t[i]=l.optional()}return new ot({...this._def,shape:()=>t})}required(e){const t={};for(const i of _e.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof Ri;)o=o._def.innerType;t[i]=o}return new ot({...this._def,shape:()=>t})}keyof(){return Yv(_e.objectKeys(this.shape))}}ot.create=(n,e)=>new ot({shape:()=>n,unknownKeys:"strip",catchall:Ui.create(),typeName:j.ZodObject,...se(e)});ot.strictCreate=(n,e)=>new ot({shape:()=>n,unknownKeys:"strict",catchall:Ui.create(),typeName:j.ZodObject,...se(e)});ot.lazycreate=(n,e)=>new ot({shape:n,unknownKeys:"strip",catchall:Ui.create(),typeName:j.ZodObject,...se(e)});class dr extends ge{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function l(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const s=o.map(u=>new ei(u.ctx.common.issues));return $(t,{code:R.invalid_union,unionErrors:s}),ee}if(t.common.async)return Promise.all(i.map(async o=>{const s={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:s}),ctx:s}})).then(l);{let o;const s=[];for(const c of i){const f={...t,common:{...t.common,issues:[]},parent:null},d=c._parseSync({data:t.data,path:t.path,parent:f});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:f}),f.common.issues.length&&s.push(f.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const u=s.map(c=>new ei(c));return $(t,{code:R.invalid_union,unionErrors:u}),ee}}get options(){return this._def.options}}dr.create=(n,e)=>new dr({options:n,typeName:j.ZodUnion,...se(e)});function Pc(n,e){const t=hi(n),i=hi(e);if(n===e)return{valid:!0,data:n};if(t===q.object&&i===q.object){const l=_e.objectKeys(e),o=_e.objectKeys(n).filter(u=>l.indexOf(u)!==-1),s={...n,...e};for(const u of o){const c=Pc(n[u],e[u]);if(!c.valid)return{valid:!1};s[u]=c.data}return{valid:!0,data:s}}else if(t===q.array&&i===q.array){if(n.length!==e.length)return{valid:!1};const l=[];for(let o=0;o<n.length;o++){const s=n[o],u=e[o],c=Pc(s,u);if(!c.valid)return{valid:!1};l.push(c.data)}return{valid:!0,data:l}}else return t===q.date&&i===q.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class hr extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),l=(o,s)=>{if(np(o)||np(s))return ee;const u=Pc(o.value,s.value);return u.valid?((ip(o)||ip(s))&&t.dirty(),{status:t.value,value:u.data}):($(i,{code:R.invalid_intersection_types}),ee)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,s])=>l(o,s)):l(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}hr.create=(n,e,t)=>new hr({left:n,right:e,typeName:j.ZodIntersection,...se(t)});class al extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==q.array)return $(i,{code:R.invalid_type,expected:q.array,received:i.parsedType}),ee;if(i.data.length<this._def.items.length)return $(i,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ee;!this._def.rest&&i.data.length>this._def.items.length&&($(i,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...i.data].map((s,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new Un(i,s,i.path,u)):null}).filter(s=>!!s);return i.common.async?Promise.all(o).then(s=>kt.mergeArray(t,s)):kt.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new al({...this._def,rest:e})}}al.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new al({items:n,typeName:j.ZodTuple,rest:null,...se(e)})};class pr extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==q.object)return $(i,{code:R.invalid_type,expected:q.object,received:i.parsedType}),ee;const l=[],o=this._def.keyType,s=this._def.valueType;for(const u in i.data)l.push({key:o._parse(new Un(i,u,i.path,u)),value:s._parse(new Un(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?kt.mergeObjectAsync(t,l):kt.mergeObjectSync(t,l)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof ge?new pr({keyType:e,valueType:t,typeName:j.ZodRecord,...se(i)}):new pr({keyType:bn.create(),valueType:e,typeName:j.ZodRecord,...se(t)})}}class cp extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==q.map)return $(i,{code:R.invalid_type,expected:q.map,received:i.parsedType}),ee;const l=this._def.keyType,o=this._def.valueType,s=[...i.data.entries()].map(([u,c],f)=>({key:l._parse(new Un(i,u,i.path,[f,"key"])),value:o._parse(new Un(i,c,i.path,[f,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of s){const f=await c.key,d=await c.value;if(f.status==="aborted"||d.status==="aborted")return ee;(f.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(f.value,d.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const c of s){const f=c.key,d=c.value;if(f.status==="aborted"||d.status==="aborted")return ee;(f.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(f.value,d.value)}return{status:t.value,value:u}}}}cp.create=(n,e,t)=>new cp({valueType:e,keyType:n,typeName:j.ZodMap,...se(t)});class Ns extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==q.set)return $(i,{code:R.invalid_type,expected:q.set,received:i.parsedType}),ee;const l=this._def;l.minSize!==null&&i.data.size<l.minSize.value&&($(i,{code:R.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),t.dirty()),l.maxSize!==null&&i.data.size>l.maxSize.value&&($(i,{code:R.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),t.dirty());const o=this._def.valueType;function s(c){const f=new Set;for(const d of c){if(d.status==="aborted")return ee;d.status==="dirty"&&t.dirty(),f.add(d.value)}return{status:t.value,value:f}}const u=[...i.data.values()].map((c,f)=>o._parse(new Un(i,c,i.path,f)));return i.common.async?Promise.all(u).then(c=>s(c)):s(u)}min(e,t){return new Ns({...this._def,minSize:{value:e,message:Y.toString(t)}})}max(e,t){return new Ns({...this._def,maxSize:{value:e,message:Y.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ns.create=(n,e)=>new Ns({valueType:n,minSize:null,maxSize:null,typeName:j.ZodSet,...se(e)});class zc extends ge{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}zc.create=(n,e)=>new zc({getter:n,typeName:j.ZodLazy,...se(e)});class fp extends ge{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return $(t,{received:t.data,code:R.invalid_literal,expected:this._def.value}),ee}return{status:"valid",value:e.data}}get value(){return this._def.value}}fp.create=(n,e)=>new fp({value:n,typeName:j.ZodLiteral,...se(e)});function Yv(n,e){return new co({values:n,typeName:j.ZodEnum,...se(e)})}class co extends ge{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return $(t,{expected:_e.joinValues(i),received:t.parsedType,code:R.invalid_type}),ee}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return $(t,{received:t.data,code:R.invalid_enum_value,options:i}),ee}return pn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return co.create(e,{...this._def,...t})}exclude(e,t=this._def){return co.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}co.create=Yv;class dp extends ge{_parse(e){const t=_e.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==q.string&&i.parsedType!==q.number){const l=_e.objectValues(t);return $(i,{expected:_e.joinValues(l),received:i.parsedType,code:R.invalid_type}),ee}if(this._cache||(this._cache=new Set(_e.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const l=_e.objectValues(t);return $(i,{received:i.data,code:R.invalid_enum_value,options:l}),ee}return pn(e.data)}get enum(){return this._def.values}}dp.create=(n,e)=>new dp({values:n,typeName:j.ZodNativeEnum,...se(e)});class mr extends ge{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==q.promise&&t.common.async===!1)return $(t,{code:R.invalid_type,expected:q.promise,received:t.parsedType}),ee;const i=t.parsedType===q.promise?t.data:Promise.resolve(t.data);return pn(i.then(l=>this._def.type.parseAsync(l,{path:t.path,errorMap:t.common.contextualErrorMap})))}}mr.create=(n,e)=>new mr({type:n,typeName:j.ZodPromise,...se(e)});class fo extends ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===j.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),l=this._def.effect||null,o={addIssue:s=>{$(i,s),s.fatal?t.abort():t.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),l.type==="preprocess"){const s=l.transform(i.data,o);if(i.common.async)return Promise.resolve(s).then(async u=>{if(t.value==="aborted")return ee;const c=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return c.status==="aborted"?ee:c.status==="dirty"||t.value==="dirty"?Fo(c.value):c});{if(t.value==="aborted")return ee;const u=this._def.schema._parseSync({data:s,path:i.path,parent:i});return u.status==="aborted"?ee:u.status==="dirty"||t.value==="dirty"?Fo(u.value):u}}if(l.type==="refinement"){const s=u=>{const c=l.refinement(u,o);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?ee:(u.status==="dirty"&&t.dirty(),s(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?ee:(u.status==="dirty"&&t.dirty(),s(u.value).then(()=>({status:t.value,value:u.value}))))}if(l.type==="transform")if(i.common.async===!1){const s=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!ro(s))return ee;const u=l.transform(s.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(s=>ro(s)?Promise.resolve(l.transform(s.value,o)).then(u=>({status:t.value,value:u})):ee);_e.assertNever(l)}}fo.create=(n,e,t)=>new fo({schema:n,typeName:j.ZodEffects,effect:e,...se(t)});fo.createWithPreprocess=(n,e,t)=>new fo({schema:e,effect:{type:"preprocess",transform:n},typeName:j.ZodEffects,...se(t)});class Ri extends ge{_parse(e){return this._getType(e)===q.undefined?pn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ri.create=(n,e)=>new Ri({innerType:n,typeName:j.ZodOptional,...se(e)});class ho extends ge{_parse(e){return this._getType(e)===q.null?pn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ho.create=(n,e)=>new ho({innerType:n,typeName:j.ZodNullable,...se(e)});class Gc extends ge{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===q.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Gc.create=(n,e)=>new Gc({innerType:n,typeName:j.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...se(e)});class qc extends ge{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},l=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return cr(l)?l.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ei(i.common.issues)},input:i.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new ei(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}qc.create=(n,e)=>new qc({innerType:n,typeName:j.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...se(e)});class hp extends ge{_parse(e){if(this._getType(e)!==q.nan){const i=this._getOrReturnCtx(e);return $(i,{code:R.invalid_type,expected:q.nan,received:i.parsedType}),ee}return{status:"valid",value:e.data}}}hp.create=n=>new hp({typeName:j.ZodNaN,...se(n)});class SS extends ge{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class ld extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?ee:o.status==="dirty"?(t.dirty(),Fo(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const l=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?ee:l.status==="dirty"?(t.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:i.path,parent:i})}}static create(e,t){return new ld({in:e,out:t,typeName:j.ZodPipeline})}}class Hc extends ge{_parse(e){const t=this._def.innerType._parse(e),i=l=>(ro(l)&&(l.value=Object.freeze(l.value)),l);return cr(t)?t.then(l=>i(l)):i(t)}unwrap(){return this._def.innerType}}Hc.create=(n,e)=>new Hc({innerType:n,typeName:j.ZodReadonly,...se(e)});var j;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(j||(j={}));const qi=bn.create,pp=ol.create;sl.create;const CS=fr.create;uo.create;const mp=Bc.create;Ui.create;const Zo=In.create,_S=ot.create,ES=dr.create;hr.create;al.create;const AS=pr.create,bS=zc.create,MS=co.create;mr.create;Ri.create;ho.create;const vl={string:n=>bn.create({...n,coerce:!0}),number:n=>ol.create({...n,coerce:!0}),boolean:n=>fr.create({...n,coerce:!0}),bigint:n=>sl.create({...n,coerce:!0}),date:n=>uo.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let NS,wS;function RS(){return{geminiUrl:NS,vertexUrl:wS}}function DS(n,e,t){var i,l,o;if(!(!((i=n.httpOptions)===null||i===void 0)&&i.baseUrl)){const s=RS();return n.vertexai?(l=s.vertexUrl)!==null&&l!==void 0?l:e:(o=s.geminiUrl)!==null&&o!==void 0?o:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _o{}function Q(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const o=e[l];return o!=null?String(o):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function r(n,e,t){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(t))for(let f=0;f<c.length;f++){const d=c[f];r(d,e.slice(o+1),t[f])}else for(const f of c)r(f,e.slice(o+1),t)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];r(c[0],e.slice(o+1),t);return}(!n[s]||typeof n[s]!="object")&&(n[s]={}),n=n[s]}const i=e[e.length-1],l=n[i];if(l!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===l)return;if(typeof l=="object"&&typeof t=="object"&&l!==null&&t!==null)Object.assign(l,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else n[i]=t}function a(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const i=e[t];if(i.endsWith("[]")){const l=i.slice(0,-2);if(l in n){const o=n[l];return Array.isArray(o)?o.map(s=>a(s,e.slice(t+1))):void 0}else return}else n=n[i]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gp;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gp||(gp={}));var yp;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(yp||(yp={}));var Mn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Mn||(Mn={}));var vp;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(vp||(vp={}));var xp;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(xp||(xp={}));var Tp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Tp||(Tp={}));var Sp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Sp||(Sp={}));var Cp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Cp||(Cp={}));var _p;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(_p||(_p={}));var Ep;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Ep||(Ep={}));var Ap;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ap||(Ap={}));var bp;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(bp||(bp={}));var Mp;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Mp||(Mp={}));var gr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(gr||(gr={}));var Np;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Np||(Np={}));var Yc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Yc||(Yc={}));var wp;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wp||(wp={}));var Rp;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Rp||(Rp={}));var Dp;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Dp||(Dp={}));var kp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(kp||(kp={}));var Ip;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Ip||(Ip={}));var Up;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Up||(Up={}));var Lp;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Lp||(Lp={}));var Op;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Op||(Op={}));var Vp;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(Vp||(Vp={}));var $p;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})($p||($p={}));var Bp;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Bp||(Bp={}));var Pp;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Pp||(Pp={}));var zp;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(zp||(zp={}));var Gp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Gp||(Gp={}));var qp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(qp||(qp={}));var Hp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Hp||(Hp={}));var Yp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Yp||(Yp={}));var Fp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Fp||(Fp={}));var Zp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Zp||(Zp={}));var Kp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Kp||(Kp={}));var Jp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Jp||(Jp={}));var Xp;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Xp||(Xp={}));var Vl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Vl||(Vl={}));class $o{get text(){var e,t,i,l,o,s,u,c;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const p=[];for(const h of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[m,x]of Object.entries(h))m!=="text"&&m!=="thought"&&(x!==null||x!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,f+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,t,i,l,o,s,u,c;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const p of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,t,i,l,o,s,u,c;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,i,l,o,s,u,c,f;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,i,l,o,s,u,c,f;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class Qp{}class Wp{}class kS{}class IS{}class jp{}class em{}class tm{}class US{}class nm{}class im{}class lm{}class LS{}class Fc{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class OS{}class VS{}class $S{get text(){var e,t,i;let l="",o=!1;const s=[];for(const u of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,l+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?l:void 0}get data(){var e,t,i;let l="";const o=[];for(const s of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(l+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class BS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function He(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Fv(n,e){const t=He(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function Zv(n,e){return Array.isArray(e)?e.map(t=>yr(n,t)):[yr(n,e)]}function yr(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function PS(n,e){const t=yr(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function zS(n,e){const t=yr(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function om(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Kv(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>om(n,t)):[om(n,e)]}function Zc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function sm(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function am(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Dt(n,e){if(e==null)throw new Error("ContentUnion is required");return Zc(e)?e:{role:"user",parts:Kv(n,e)}}function Jv(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=Dt(n,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=Dt(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Dt(n,t)):[Dt(n,e)]}function xn(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(sm(e)||am(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Dt(n,e)]}const t=[],i=[],l=Zc(e[0]);for(const o of e){const s=Zc(o);if(s!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(o);else{if(sm(o)||am(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return l||t.push({role:"user",parts:Kv(n,i)}),t}const GS=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),rm=MS(["string","number","integer","object","array","boolean","null"]),qS=ES([rm,Zo(rm)]);function HS(n=!0){const e=bS(()=>{const t=_S({type:qS.optional(),format:qi().optional(),title:qi().optional(),description:qi().optional(),default:mp().optional(),items:e.optional(),minItems:vl.string().optional(),maxItems:vl.string().optional(),enum:Zo(mp()).optional(),properties:AS(qi(),e).optional(),required:Zo(qi()).optional(),minProperties:vl.string().optional(),maxProperties:vl.string().optional(),propertyOrdering:Zo(qi()).optional(),minimum:pp().optional(),maximum:pp().optional(),minLength:vl.string().optional(),maxLength:vl.string().optional(),pattern:qi().optional(),anyOf:Zo(e).optional(),additionalProperties:CS().optional()});return n?t.strict():t});return e}function YS(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Mn).includes(t[0].toUpperCase())?t[0].toUpperCase():Mn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(Mn).includes(i.toUpperCase())?i.toUpperCase():Mn.TYPE_UNSPECIFIED})}}function Kl(n){const e={},t=["items"],i=["anyOf"],l=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=n.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,n=o[1]):o[1].type==="null"&&(e.nullable=!0,n=o[0])),n.type instanceof Array&&YS(n.type,e);for(const[s,u]of Object.entries(n))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Mn).includes(u.toUpperCase())?u.toUpperCase():Mn.TYPE_UNSPECIFIED}else if(t.includes(s))e[s]=Kl(u);else if(i.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Kl(f))}e[s]=c}else if(l.includes(s)){const c={};for(const[f,d]of Object.entries(u))c[f]=Kl(d);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function vr(n,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=HS().parse(e);return Kl(t)}else return Kl(e)}function Xv(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function od(n,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Fs(n,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=vr(n,t.parameters)),t.response&&(t.response=vr(n,t.response));return e}function Zs(n,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function FS(n,e,t,i=1){const l=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:l?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:l?`${t}/${e}`:e}function $i(n,e){if(typeof e!="string")throw new Error("name must be a string");return FS(n,e,"cachedContents")}function Qv(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ii(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function ZS(n){return n!=null&&typeof n=="object"&&"name"in n}function KS(n){return n!=null&&typeof n=="object"&&"video"in n}function JS(n){return n!=null&&typeof n=="object"&&"uri"in n}function Wv(n,e){var t;let i;if(ZS(e)&&(i=e.name),!(JS(e)&&(i=e.uri,i===void 0))&&!(KS(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const o=i.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${i}`);i=o[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function jv(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function e0(n,e){for(const t of["models","tunedModels","publisherModels"])if(XS(e,t))return e[t];return[]}function XS(n,e){return n!==null&&typeof n=="object"&&e in n}function QS(n,e={}){const t=n,i={name:t.name,description:t.description,parameters:Kl(Gr(t.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function WS(n,e={}){const t=[],i=new Set;for(const l of n){const o=l.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const s=QS(l,e);s.functionDeclarations&&t.push(...s.functionDeclarations)}return{functionDeclarations:t}}function jS(n){const e=[];for(const t of n)e.push(Gr(t));return e}function eC(n){const e={};for(const[t,i]of Object.entries(n)){const l=i;e[t]=Gr(l)}return e}function Gr(n){const e=new Set(["items"]),t=new Set(["anyOf"]),i=new Set(["properties"]),l={};for(const[o,s]of Object.entries(n))if(e.has(o))l[o]=Gr(s);else if(t.has(o))l[o]=jS(s);else if(i.has(o))l[o]=eC(s);else if(o==="type"){const u=s.toUpperCase();l[o]=Object.values(Mn).includes(u)?u:Mn.TYPE_UNSPECIFIED}else GS.has(o)&&(l[o]=s);return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tC(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function nC(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function iC(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function lC(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],tC(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],nC(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],iC(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function um(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>lC(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function oC(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function sC(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function aC(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],sC(n,i)),t}function rC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function uC(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],rC(n,i)),t}function cC(){return{}}function fC(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>oC(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],aC(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],uC(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],cC());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function dC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function hC(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function pC(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],hC(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function mC(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],dC(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],pC(n,l)),t}function gC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);t!==void 0&&o!=null&&r(t,["expireTime"],o);const s=a(e,["displayName"]);t!==void 0&&s!=null&&r(t,["displayName"],s);const u=a(e,["contents"]);if(t!==void 0&&u!=null){let p=xn(n,u);Array.isArray(p)&&(p=p.map(h=>um(n,h))),r(t,["contents"],p)}const c=a(e,["systemInstruction"]);t!==void 0&&c!=null&&r(t,["systemInstruction"],um(n,Dt(n,c)));const f=a(e,["tools"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>fC(n,h))),r(t,["tools"],p)}const d=a(e,["toolConfig"]);if(t!==void 0&&d!=null&&r(t,["toolConfig"],mC(n,d)),a(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function yC(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["model"],Fv(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],gC(n,l,t)),t}function vC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],$i(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function xC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],$i(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function TC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);return t!==void 0&&o!=null&&r(t,["expireTime"],o),i}function SC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],$i(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],TC(n,l,t)),t}function CC(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),i}function _C(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],CC(n,i,t)),t}function EC(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function AC(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function bC(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function MC(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],EC(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],AC(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],bC(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function cm(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>MC(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function NC(n,e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(e,["description"]);i!=null&&r(t,["description"],i);const l=a(e,["name"]);l!=null&&r(t,["name"],l);const o=a(e,["parameters"]);o!=null&&r(t,["parameters"],o);const s=a(e,["response"]);return s!=null&&r(t,["response"],s),t}function wC(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function RC(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],wC(n,i)),t}function DC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function kC(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],DC(n,i)),t}function IC(){return{}}function UC(n,e){const t={},i=a(e,["apiKeyString"]);return i!=null&&r(t,["apiKeyString"],i),t}function LC(n,e){const t={},i=a(e,["apiKeyConfig"]);i!=null&&r(t,["apiKeyConfig"],UC(n,i));const l=a(e,["authType"]);l!=null&&r(t,["authType"],l);const o=a(e,["googleServiceAccountConfig"]);o!=null&&r(t,["googleServiceAccountConfig"],o);const s=a(e,["httpBasicAuthConfig"]);s!=null&&r(t,["httpBasicAuthConfig"],s);const u=a(e,["oauthConfig"]);u!=null&&r(t,["oauthConfig"],u);const c=a(e,["oidcConfig"]);return c!=null&&r(t,["oidcConfig"],c),t}function OC(n,e){const t={},i=a(e,["authConfig"]);return i!=null&&r(t,["authConfig"],LC(n,i)),t}function VC(){return{}}function $C(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>NC(n,h))),r(t,["functionDeclarations"],p)}const l=a(e,["retrieval"]);l!=null&&r(t,["retrieval"],l);const o=a(e,["googleSearch"]);o!=null&&r(t,["googleSearch"],RC(n,o));const s=a(e,["googleSearchRetrieval"]);s!=null&&r(t,["googleSearchRetrieval"],kC(n,s)),a(e,["enterpriseWebSearch"])!=null&&r(t,["enterpriseWebSearch"],IC());const c=a(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],OC(n,c)),a(e,["urlContext"])!=null&&r(t,["urlContext"],VC());const d=a(e,["codeExecution"]);return d!=null&&r(t,["codeExecution"],d),t}function BC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function PC(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function zC(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],PC(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function GC(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],BC(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],zC(n,l)),t}function qC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);t!==void 0&&o!=null&&r(t,["expireTime"],o);const s=a(e,["displayName"]);t!==void 0&&s!=null&&r(t,["displayName"],s);const u=a(e,["contents"]);if(t!==void 0&&u!=null){let h=xn(n,u);Array.isArray(h)&&(h=h.map(m=>cm(n,m))),r(t,["contents"],h)}const c=a(e,["systemInstruction"]);t!==void 0&&c!=null&&r(t,["systemInstruction"],cm(n,Dt(n,c)));const f=a(e,["tools"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>$C(n,m))),r(t,["tools"],h)}const d=a(e,["toolConfig"]);t!==void 0&&d!=null&&r(t,["toolConfig"],GC(n,d));const p=a(e,["kmsKeyName"]);return t!==void 0&&p!=null&&r(t,["encryption_spec","kmsKeyName"],p),i}function HC(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["model"],Fv(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],qC(n,l,t)),t}function YC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],$i(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function FC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],$i(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function ZC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);return t!==void 0&&o!=null&&r(t,["expireTime"],o),i}function KC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],$i(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],ZC(n,l,t)),t}function JC(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),i}function XC(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],JC(n,i,t)),t}function Ra(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["model"]);o!=null&&r(t,["model"],o);const s=a(e,["createTime"]);s!=null&&r(t,["createTime"],s);const u=a(e,["updateTime"]);u!=null&&r(t,["updateTime"],u);const c=a(e,["expireTime"]);c!=null&&r(t,["expireTime"],c);const f=a(e,["usageMetadata"]);return f!=null&&r(t,["usageMetadata"],f),t}function QC(){return{}}function WC(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Ra(n,s))),r(t,["cachedContents"],o)}return t}function Da(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["model"]);o!=null&&r(t,["model"],o);const s=a(e,["createTime"]);s!=null&&r(t,["createTime"],s);const u=a(e,["updateTime"]);u!=null&&r(t,["updateTime"],u);const c=a(e,["expireTime"]);c!=null&&r(t,["expireTime"],c);const f=a(e,["usageMetadata"]);return f!=null&&r(t,["usageMetadata"],f),t}function jC(){return{}}function e_(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Da(n,s))),r(t,["cachedContents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var po;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(po||(po={}));class qr{constructor(e,t,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,l)}init(e,t,i){var l,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};i?typeof i=="object"?s=Object.assign({},i):s=i:s={config:{}},s.config&&(s.config.pageToken=t.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(l=s.config)===null||l===void 0?void 0:l.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t_ extends _o{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new qr(po.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=HC(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Da(this.apiClient,d))}else{const f=yC(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Ra(this.apiClient,d))}}async get(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=YC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Da(this.apiClient,d))}else{const f=vC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Ra(this.apiClient,d))}}async delete(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=FC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(()=>{const d=jC(),p=new im;return Object.assign(p,d),p})}else{const f=xC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(()=>{const d=QC(),p=new im;return Object.assign(p,d),p})}}async update(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=KC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Da(this.apiClient,d))}else{const f=SC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Ra(this.apiClient,d))}}async listInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=XC(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=e_(this.apiClient,d),h=new lm;return Object.assign(h,p),h})}else{const f=_C(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=WC(this.apiClient,d),h=new lm;return Object.assign(h,p),h})}}}function fm(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(n){return this instanceof Ye?(this.v=n,this):new Ye(n)}function Jl(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),l[Symbol.asyncIterator]=function(){return this},l;function s(m){return function(x){return Promise.resolve(x).then(m,p)}}function u(m,x){i[m]&&(l[m]=function(S){return new Promise(function(_,y){o.push([m,S,_,y])>1||c(m,S)})},x&&(l[m]=x(l[m])))}function c(m,x){try{f(i[m](x))}catch(S){h(o[0][3],S)}}function f(m){m.value instanceof Ye?Promise.resolve(m.value.v).then(d,p):h(o[0][2],m)}function d(m){c("next",m)}function p(m){c("throw",m)}function h(m,x){m(x),o.shift(),o.length&&c(o[0][0],o[0][1])}}function us(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof fm=="function"?fm(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(u,c){s=n[o](s),l(u,c,s.done,s.value)})}}function l(o,s,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n_(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:t0(t)}function t0(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function i_(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function dm(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const l=[];let o=!0;for(;i<t&&n[i].role==="model";)l.push(n[i]),o&&!t0(n[i])&&(o=!1),i++;o?e.push(...l):e.pop()}return e}class l_{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new o_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class o_{constructor(e,t,i,l={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=l,this.history=o,this.sendPromise=Promise.resolve(),i_(o)}async sendMessage(e){var t;await this.sendPromise;const i=Dt(this.apiClient,e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,s,u;const c=await l,f=(s=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,d=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];d!=null&&(h=(u=d.slice(p))!==null&&u!==void 0?u:[]);const m=f?[f]:[];this.recordHistory(i,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var t;await this.sendPromise;const i=Dt(this.apiClient,e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const o=await l;return this.processStreamResponse(o,i)}getHistory(e=!1){const t=e?dm(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,l;return Jl(this,arguments,function*(){var s,u,c,f;const d=[];try{for(var p=!0,h=us(e),m;m=yield Ye(h.next()),s=m.done,!s;p=!0){f=m.value,p=!1;const x=f;if(n_(x)){const S=(l=(i=x.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content;S!==void 0&&d.push(S)}yield yield Ye(x)}}catch(x){u={error:x}}finally{try{!p&&!s&&(c=h.return)&&(yield Ye(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(t,d)})}recordHistory(e,t,i){let l=[];t.length>0&&t.every(o=>o.role!==void 0)?l=t:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...dm(i)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s_(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),i}function a_(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],s_(n,i,t)),t}function r_(n,e){const t={},i=a(e,["details"]);i!=null&&r(t,["details"],i);const l=a(e,["message"]);l!=null&&r(t,["message"],l);const o=a(e,["code"]);return o!=null&&r(t,["code"],o),t}function u_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["mimeType"]);o!=null&&r(t,["mimeType"],o);const s=a(e,["sizeBytes"]);s!=null&&r(t,["sizeBytes"],s);const u=a(e,["createTime"]);u!=null&&r(t,["createTime"],u);const c=a(e,["expirationTime"]);c!=null&&r(t,["expirationTime"],c);const f=a(e,["updateTime"]);f!=null&&r(t,["updateTime"],f);const d=a(e,["sha256Hash"]);d!=null&&r(t,["sha256Hash"],d);const p=a(e,["uri"]);p!=null&&r(t,["uri"],p);const h=a(e,["downloadUri"]);h!=null&&r(t,["downloadUri"],h);const m=a(e,["state"]);m!=null&&r(t,["state"],m);const x=a(e,["source"]);x!=null&&r(t,["source"],x);const S=a(e,["videoMetadata"]);S!=null&&r(t,["videoMetadata"],S);const _=a(e,["error"]);return _!=null&&r(t,["error"],r_(n,_)),t}function c_(n,e){const t={},i=a(e,["file"]);i!=null&&r(t,["file"],u_(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function f_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","file"],Wv(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function d_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","file"],Wv(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function h_(n,e){const t={},i=a(e,["details"]);i!=null&&r(t,["details"],i);const l=a(e,["message"]);l!=null&&r(t,["message"],l);const o=a(e,["code"]);return o!=null&&r(t,["code"],o),t}function Kc(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["mimeType"]);o!=null&&r(t,["mimeType"],o);const s=a(e,["sizeBytes"]);s!=null&&r(t,["sizeBytes"],s);const u=a(e,["createTime"]);u!=null&&r(t,["createTime"],u);const c=a(e,["expirationTime"]);c!=null&&r(t,["expirationTime"],c);const f=a(e,["updateTime"]);f!=null&&r(t,["updateTime"],f);const d=a(e,["sha256Hash"]);d!=null&&r(t,["sha256Hash"],d);const p=a(e,["uri"]);p!=null&&r(t,["uri"],p);const h=a(e,["downloadUri"]);h!=null&&r(t,["downloadUri"],h);const m=a(e,["state"]);m!=null&&r(t,["state"],m);const x=a(e,["source"]);x!=null&&r(t,["source"],x);const S=a(e,["videoMetadata"]);S!=null&&r(t,["videoMetadata"],S);const _=a(e,["error"]);return _!=null&&r(t,["error"],h_(n,_)),t}function p_(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["files"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Kc(n,s))),r(t,["files"],o)}return t}function m_(){return{}}function g_(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y_ extends _o{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new qr(po.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Kc(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=a_(this.apiClient,e);return o=Q("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=p_(this.apiClient,c),d=new LS;return Object.assign(d,f),d})}}async createInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=c_(this.apiClient,e);return o=Q("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=m_(),f=new OS;return Object.assign(f,c),f})}}async get(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=f_(this.apiClient,e);return o=Q("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>Kc(this.apiClient,c))}}async delete(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=d_(this.apiClient,e);return o=Q("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=g_(),f=new VS;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v_(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function x_(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function n0(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],v_(n,i)),t}function T_(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],x_(n,i)),t}function S_(n,e){const t={},i=a(e,["speaker"]);i!=null&&r(t,["speaker"],i);const l=a(e,["voiceConfig"]);return l!=null&&r(t,["voiceConfig"],n0(n,l)),t}function C_(n,e){const t={},i=a(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>S_(n,o))),r(t,["speakerVoiceConfigs"],l)}return t}function __(n,e){const t={},i=a(e,["voiceConfig"]);i!=null&&r(t,["voiceConfig"],n0(n,i));const l=a(e,["multiSpeakerVoiceConfig"]);l!=null&&r(t,["multiSpeakerVoiceConfig"],C_(n,l));const o=a(e,["languageCode"]);return o!=null&&r(t,["languageCode"],o),t}function E_(n,e){const t={},i=a(e,["voiceConfig"]);if(i!=null&&r(t,["voiceConfig"],T_(n,i)),a(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function A_(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function b_(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function M_(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function N_(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function w_(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function R_(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function D_(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],A_(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],M_(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],w_(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function k_(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],b_(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],N_(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],R_(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function I_(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>D_(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function U_(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>k_(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function L_(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function O_(n,e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(e,["description"]);i!=null&&r(t,["description"],i);const l=a(e,["name"]);l!=null&&r(t,["name"],l);const o=a(e,["parameters"]);o!=null&&r(t,["parameters"],o);const s=a(e,["response"]);return s!=null&&r(t,["response"],s),t}function V_(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function $_(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function B_(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],V_(n,i)),t}function P_(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],$_(n,i)),t}function z_(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function G_(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function q_(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],z_(n,i)),t}function H_(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],G_(n,i)),t}function Y_(){return{}}function F_(n,e){const t={},i=a(e,["apiKeyString"]);return i!=null&&r(t,["apiKeyString"],i),t}function Z_(n,e){const t={},i=a(e,["apiKeyConfig"]);i!=null&&r(t,["apiKeyConfig"],F_(n,i));const l=a(e,["authType"]);l!=null&&r(t,["authType"],l);const o=a(e,["googleServiceAccountConfig"]);o!=null&&r(t,["googleServiceAccountConfig"],o);const s=a(e,["httpBasicAuthConfig"]);s!=null&&r(t,["httpBasicAuthConfig"],s);const u=a(e,["oauthConfig"]);u!=null&&r(t,["oauthConfig"],u);const c=a(e,["oidcConfig"]);return c!=null&&r(t,["oidcConfig"],c),t}function K_(n,e){const t={},i=a(e,["authConfig"]);return i!=null&&r(t,["authConfig"],Z_(n,i)),t}function J_(){return{}}function X_(){return{}}function Q_(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>L_(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],B_(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],q_(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],J_());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function W_(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>O_(n,h))),r(t,["functionDeclarations"],p)}const l=a(e,["retrieval"]);l!=null&&r(t,["retrieval"],l);const o=a(e,["googleSearch"]);o!=null&&r(t,["googleSearch"],P_(n,o));const s=a(e,["googleSearchRetrieval"]);s!=null&&r(t,["googleSearchRetrieval"],H_(n,s)),a(e,["enterpriseWebSearch"])!=null&&r(t,["enterpriseWebSearch"],Y_());const c=a(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],K_(n,c)),a(e,["urlContext"])!=null&&r(t,["urlContext"],X_());const d=a(e,["codeExecution"]);return d!=null&&r(t,["codeExecution"],d),t}function j_(n,e){const t={},i=a(e,["handle"]);if(i!=null&&r(t,["handle"],i),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function eE(n,e){const t={},i=a(e,["handle"]);i!=null&&r(t,["handle"],i);const l=a(e,["transparent"]);return l!=null&&r(t,["transparent"],l),t}function hm(){return{}}function pm(){return{}}function tE(n,e){const t={},i=a(e,["disabled"]);i!=null&&r(t,["disabled"],i);const l=a(e,["startOfSpeechSensitivity"]);l!=null&&r(t,["startOfSpeechSensitivity"],l);const o=a(e,["endOfSpeechSensitivity"]);o!=null&&r(t,["endOfSpeechSensitivity"],o);const s=a(e,["prefixPaddingMs"]);s!=null&&r(t,["prefixPaddingMs"],s);const u=a(e,["silenceDurationMs"]);return u!=null&&r(t,["silenceDurationMs"],u),t}function nE(n,e){const t={},i=a(e,["disabled"]);i!=null&&r(t,["disabled"],i);const l=a(e,["startOfSpeechSensitivity"]);l!=null&&r(t,["startOfSpeechSensitivity"],l);const o=a(e,["endOfSpeechSensitivity"]);o!=null&&r(t,["endOfSpeechSensitivity"],o);const s=a(e,["prefixPaddingMs"]);s!=null&&r(t,["prefixPaddingMs"],s);const u=a(e,["silenceDurationMs"]);return u!=null&&r(t,["silenceDurationMs"],u),t}function iE(n,e){const t={},i=a(e,["automaticActivityDetection"]);i!=null&&r(t,["automaticActivityDetection"],tE(n,i));const l=a(e,["activityHandling"]);l!=null&&r(t,["activityHandling"],l);const o=a(e,["turnCoverage"]);return o!=null&&r(t,["turnCoverage"],o),t}function lE(n,e){const t={},i=a(e,["automaticActivityDetection"]);i!=null&&r(t,["automaticActivityDetection"],nE(n,i));const l=a(e,["activityHandling"]);l!=null&&r(t,["activityHandling"],l);const o=a(e,["turnCoverage"]);return o!=null&&r(t,["turnCoverage"],o),t}function oE(n,e){const t={},i=a(e,["targetTokens"]);return i!=null&&r(t,["targetTokens"],i),t}function sE(n,e){const t={},i=a(e,["targetTokens"]);return i!=null&&r(t,["targetTokens"],i),t}function aE(n,e){const t={},i=a(e,["triggerTokens"]);i!=null&&r(t,["triggerTokens"],i);const l=a(e,["slidingWindow"]);return l!=null&&r(t,["slidingWindow"],oE(n,l)),t}function rE(n,e){const t={},i=a(e,["triggerTokens"]);i!=null&&r(t,["triggerTokens"],i);const l=a(e,["slidingWindow"]);return l!=null&&r(t,["slidingWindow"],sE(n,l)),t}function uE(n,e){const t={},i=a(e,["proactiveAudio"]);return i!=null&&r(t,["proactiveAudio"],i),t}function cE(n,e){const t={},i=a(e,["proactiveAudio"]);return i!=null&&r(t,["proactiveAudio"],i),t}function fE(n,e,t){const i={},l=a(e,["generationConfig"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig"],l);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const s=a(e,["temperature"]);t!==void 0&&s!=null&&r(t,["setup","generationConfig","temperature"],s);const u=a(e,["topP"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topP"],u);const c=a(e,["topK"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","maxOutputTokens"],f);const d=a(e,["mediaResolution"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","mediaResolution"],d);const p=a(e,["seed"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","seed"],p);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","speechConfig"],__(n,od(n,h)));const m=a(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],m);const x=a(e,["systemInstruction"]);t!==void 0&&x!=null&&r(t,["setup","systemInstruction"],I_(n,Dt(n,x)));const S=a(e,["tools"]);if(t!==void 0&&S!=null){let w=Zs(n,S);Array.isArray(w)&&(w=w.map(N=>Q_(n,Fs(n,N)))),r(t,["setup","tools"],w)}const _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],j_(n,_));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],hm());const v=a(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&r(t,["setup","outputAudioTranscription"],hm());const T=a(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&r(t,["setup","realtimeInputConfig"],iE(n,T));const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&r(t,["setup","contextWindowCompression"],aE(n,C));const A=a(e,["proactivity"]);return t!==void 0&&A!=null&&r(t,["setup","proactivity"],uE(n,A)),i}function dE(n,e,t){const i={},l=a(e,["generationConfig"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig"],l);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const s=a(e,["temperature"]);t!==void 0&&s!=null&&r(t,["setup","generationConfig","temperature"],s);const u=a(e,["topP"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topP"],u);const c=a(e,["topK"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","maxOutputTokens"],f);const d=a(e,["mediaResolution"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","mediaResolution"],d);const p=a(e,["seed"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","seed"],p);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","speechConfig"],E_(n,od(n,h)));const m=a(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],m);const x=a(e,["systemInstruction"]);t!==void 0&&x!=null&&r(t,["setup","systemInstruction"],U_(n,Dt(n,x)));const S=a(e,["tools"]);if(t!==void 0&&S!=null){let w=Zs(n,S);Array.isArray(w)&&(w=w.map(N=>W_(n,Fs(n,N)))),r(t,["setup","tools"],w)}const _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],eE(n,_));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],pm());const v=a(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&r(t,["setup","outputAudioTranscription"],pm());const T=a(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&r(t,["setup","realtimeInputConfig"],lE(n,T));const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&r(t,["setup","contextWindowCompression"],rE(n,C));const A=a(e,["proactivity"]);return t!==void 0&&A!=null&&r(t,["setup","proactivity"],cE(n,A)),i}function hE(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["setup","model"],He(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],fE(n,l,t)),t}function pE(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["setup","model"],He(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],dE(n,l,t)),t}function mE(){return{}}function gE(){return{}}function yE(){return{}}function vE(){return{}}function xE(n,e){const t={},i=a(e,["media"]);i!=null&&r(t,["mediaChunks"],Zv(n,i));const l=a(e,["audio"]);l!=null&&r(t,["audio"],zS(n,l));const o=a(e,["audioStreamEnd"]);o!=null&&r(t,["audioStreamEnd"],o);const s=a(e,["video"]);s!=null&&r(t,["video"],PS(n,s));const u=a(e,["text"]);return u!=null&&r(t,["text"],u),a(e,["activityStart"])!=null&&r(t,["activityStart"],mE()),a(e,["activityEnd"])!=null&&r(t,["activityEnd"],yE()),t}function TE(n,e){const t={},i=a(e,["media"]);if(i!=null&&r(t,["mediaChunks"],Zv(n,i)),a(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=a(e,["audioStreamEnd"]);if(l!=null&&r(t,["audioStreamEnd"],l),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(a(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return a(e,["activityStart"])!=null&&r(t,["activityStart"],gE()),a(e,["activityEnd"])!=null&&r(t,["activityEnd"],vE()),t}function i0(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["weight"]);return l!=null&&r(t,["weight"],l),t}function SE(n,e){const t={},i=a(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>i0(n,o))),r(t,["weightedPrompts"],l)}return t}function l0(n,e){const t={},i=a(e,["temperature"]);i!=null&&r(t,["temperature"],i);const l=a(e,["topK"]);l!=null&&r(t,["topK"],l);const o=a(e,["seed"]);o!=null&&r(t,["seed"],o);const s=a(e,["guidance"]);s!=null&&r(t,["guidance"],s);const u=a(e,["bpm"]);u!=null&&r(t,["bpm"],u);const c=a(e,["density"]);c!=null&&r(t,["density"],c);const f=a(e,["brightness"]);f!=null&&r(t,["brightness"],f);const d=a(e,["scale"]);d!=null&&r(t,["scale"],d);const p=a(e,["muteBass"]);p!=null&&r(t,["muteBass"],p);const h=a(e,["muteDrums"]);h!=null&&r(t,["muteDrums"],h);const m=a(e,["onlyBassAndDrums"]);return m!=null&&r(t,["onlyBassAndDrums"],m),t}function CE(n,e){const t={},i=a(e,["musicGenerationConfig"]);return i!=null&&r(t,["musicGenerationConfig"],l0(n,i)),t}function o0(n,e){const t={},i=a(e,["model"]);return i!=null&&r(t,["model"],i),t}function s0(n,e){const t={},i=a(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>i0(n,o))),r(t,["weightedPrompts"],l)}return t}function Jc(n,e){const t={},i=a(e,["setup"]);i!=null&&r(t,["setup"],o0(n,i));const l=a(e,["clientContent"]);l!=null&&r(t,["clientContent"],s0(n,l));const o=a(e,["musicGenerationConfig"]);o!=null&&r(t,["musicGenerationConfig"],l0(n,o));const s=a(e,["playbackControl"]);return s!=null&&r(t,["playbackControl"],s),t}function _E(){return{}}function EE(){return{}}function AE(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function bE(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function ME(n,e){const t={},i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function NE(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function wE(n,e){const t={},i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function RE(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function DE(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],AE(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],ME(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],wE(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function kE(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],bE(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],NE(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],RE(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function IE(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>DE(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function UE(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>kE(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function mm(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["finished"]);return l!=null&&r(t,["finished"],l),t}function gm(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["finished"]);return l!=null&&r(t,["finished"],l),t}function LE(n,e){const t={},i=a(e,["retrievedUrl"]);i!=null&&r(t,["retrievedUrl"],i);const l=a(e,["urlRetrievalStatus"]);return l!=null&&r(t,["urlRetrievalStatus"],l),t}function OE(n,e){const t={},i=a(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>LE(n,o))),r(t,["urlMetadata"],l)}return t}function VE(n,e){const t={},i=a(e,["modelTurn"]);i!=null&&r(t,["modelTurn"],IE(n,i));const l=a(e,["turnComplete"]);l!=null&&r(t,["turnComplete"],l);const o=a(e,["interrupted"]);o!=null&&r(t,["interrupted"],o);const s=a(e,["groundingMetadata"]);s!=null&&r(t,["groundingMetadata"],s);const u=a(e,["generationComplete"]);u!=null&&r(t,["generationComplete"],u);const c=a(e,["inputTranscription"]);c!=null&&r(t,["inputTranscription"],mm(n,c));const f=a(e,["outputTranscription"]);f!=null&&r(t,["outputTranscription"],mm(n,f));const d=a(e,["urlContextMetadata"]);return d!=null&&r(t,["urlContextMetadata"],OE(n,d)),t}function $E(n,e){const t={},i=a(e,["modelTurn"]);i!=null&&r(t,["modelTurn"],UE(n,i));const l=a(e,["turnComplete"]);l!=null&&r(t,["turnComplete"],l);const o=a(e,["interrupted"]);o!=null&&r(t,["interrupted"],o);const s=a(e,["groundingMetadata"]);s!=null&&r(t,["groundingMetadata"],s);const u=a(e,["generationComplete"]);u!=null&&r(t,["generationComplete"],u);const c=a(e,["inputTranscription"]);c!=null&&r(t,["inputTranscription"],gm(n,c));const f=a(e,["outputTranscription"]);return f!=null&&r(t,["outputTranscription"],gm(n,f)),t}function BE(n,e){const t={},i=a(e,["id"]);i!=null&&r(t,["id"],i);const l=a(e,["args"]);l!=null&&r(t,["args"],l);const o=a(e,["name"]);return o!=null&&r(t,["name"],o),t}function PE(n,e){const t={},i=a(e,["args"]);i!=null&&r(t,["args"],i);const l=a(e,["name"]);return l!=null&&r(t,["name"],l),t}function zE(n,e){const t={},i=a(e,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>BE(n,o))),r(t,["functionCalls"],l)}return t}function GE(n,e){const t={},i=a(e,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>PE(n,o))),r(t,["functionCalls"],l)}return t}function qE(n,e){const t={},i=a(e,["ids"]);return i!=null&&r(t,["ids"],i),t}function HE(n,e){const t={},i=a(e,["ids"]);return i!=null&&r(t,["ids"],i),t}function ha(n,e){const t={},i=a(e,["modality"]);i!=null&&r(t,["modality"],i);const l=a(e,["tokenCount"]);return l!=null&&r(t,["tokenCount"],l),t}function pa(n,e){const t={},i=a(e,["modality"]);i!=null&&r(t,["modality"],i);const l=a(e,["tokenCount"]);return l!=null&&r(t,["tokenCount"],l),t}function YE(n,e){const t={},i=a(e,["promptTokenCount"]);i!=null&&r(t,["promptTokenCount"],i);const l=a(e,["cachedContentTokenCount"]);l!=null&&r(t,["cachedContentTokenCount"],l);const o=a(e,["responseTokenCount"]);o!=null&&r(t,["responseTokenCount"],o);const s=a(e,["toolUsePromptTokenCount"]);s!=null&&r(t,["toolUsePromptTokenCount"],s);const u=a(e,["thoughtsTokenCount"]);u!=null&&r(t,["thoughtsTokenCount"],u);const c=a(e,["totalTokenCount"]);c!=null&&r(t,["totalTokenCount"],c);const f=a(e,["promptTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(x=>ha(n,x))),r(t,["promptTokensDetails"],m)}const d=a(e,["cacheTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(x=>ha(n,x))),r(t,["cacheTokensDetails"],m)}const p=a(e,["responseTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(x=>ha(n,x))),r(t,["responseTokensDetails"],m)}const h=a(e,["toolUsePromptTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(x=>ha(n,x))),r(t,["toolUsePromptTokensDetails"],m)}return t}function FE(n,e){const t={},i=a(e,["promptTokenCount"]);i!=null&&r(t,["promptTokenCount"],i);const l=a(e,["cachedContentTokenCount"]);l!=null&&r(t,["cachedContentTokenCount"],l);const o=a(e,["candidatesTokenCount"]);o!=null&&r(t,["responseTokenCount"],o);const s=a(e,["toolUsePromptTokenCount"]);s!=null&&r(t,["toolUsePromptTokenCount"],s);const u=a(e,["thoughtsTokenCount"]);u!=null&&r(t,["thoughtsTokenCount"],u);const c=a(e,["totalTokenCount"]);c!=null&&r(t,["totalTokenCount"],c);const f=a(e,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(S=>pa(n,S))),r(t,["promptTokensDetails"],x)}const d=a(e,["cacheTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(S=>pa(n,S))),r(t,["cacheTokensDetails"],x)}const p=a(e,["candidatesTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>pa(n,S))),r(t,["responseTokensDetails"],x)}const h=a(e,["toolUsePromptTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(S=>pa(n,S))),r(t,["toolUsePromptTokensDetails"],x)}const m=a(e,["trafficType"]);return m!=null&&r(t,["trafficType"],m),t}function ZE(n,e){const t={},i=a(e,["timeLeft"]);return i!=null&&r(t,["timeLeft"],i),t}function KE(n,e){const t={},i=a(e,["timeLeft"]);return i!=null&&r(t,["timeLeft"],i),t}function JE(n,e){const t={},i=a(e,["newHandle"]);i!=null&&r(t,["newHandle"],i);const l=a(e,["resumable"]);l!=null&&r(t,["resumable"],l);const o=a(e,["lastConsumedClientMessageIndex"]);return o!=null&&r(t,["lastConsumedClientMessageIndex"],o),t}function XE(n,e){const t={},i=a(e,["newHandle"]);i!=null&&r(t,["newHandle"],i);const l=a(e,["resumable"]);l!=null&&r(t,["resumable"],l);const o=a(e,["lastConsumedClientMessageIndex"]);return o!=null&&r(t,["lastConsumedClientMessageIndex"],o),t}function QE(n,e){const t={};a(e,["setupComplete"])!=null&&r(t,["setupComplete"],_E());const l=a(e,["serverContent"]);l!=null&&r(t,["serverContent"],VE(n,l));const o=a(e,["toolCall"]);o!=null&&r(t,["toolCall"],zE(n,o));const s=a(e,["toolCallCancellation"]);s!=null&&r(t,["toolCallCancellation"],qE(n,s));const u=a(e,["usageMetadata"]);u!=null&&r(t,["usageMetadata"],YE(n,u));const c=a(e,["goAway"]);c!=null&&r(t,["goAway"],ZE(n,c));const f=a(e,["sessionResumptionUpdate"]);return f!=null&&r(t,["sessionResumptionUpdate"],JE(n,f)),t}function WE(n,e){const t={};a(e,["setupComplete"])!=null&&r(t,["setupComplete"],EE());const l=a(e,["serverContent"]);l!=null&&r(t,["serverContent"],$E(n,l));const o=a(e,["toolCall"]);o!=null&&r(t,["toolCall"],GE(n,o));const s=a(e,["toolCallCancellation"]);s!=null&&r(t,["toolCallCancellation"],HE(n,s));const u=a(e,["usageMetadata"]);u!=null&&r(t,["usageMetadata"],FE(n,u));const c=a(e,["goAway"]);c!=null&&r(t,["goAway"],KE(n,c));const f=a(e,["sessionResumptionUpdate"]);return f!=null&&r(t,["sessionResumptionUpdate"],XE(n,f)),t}function jE(){return{}}function eA(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["weight"]);return l!=null&&r(t,["weight"],l),t}function tA(n,e){const t={},i=a(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>eA(n,o))),r(t,["weightedPrompts"],l)}return t}function nA(n,e){const t={},i=a(e,["temperature"]);i!=null&&r(t,["temperature"],i);const l=a(e,["topK"]);l!=null&&r(t,["topK"],l);const o=a(e,["seed"]);o!=null&&r(t,["seed"],o);const s=a(e,["guidance"]);s!=null&&r(t,["guidance"],s);const u=a(e,["bpm"]);u!=null&&r(t,["bpm"],u);const c=a(e,["density"]);c!=null&&r(t,["density"],c);const f=a(e,["brightness"]);f!=null&&r(t,["brightness"],f);const d=a(e,["scale"]);d!=null&&r(t,["scale"],d);const p=a(e,["muteBass"]);p!=null&&r(t,["muteBass"],p);const h=a(e,["muteDrums"]);h!=null&&r(t,["muteDrums"],h);const m=a(e,["onlyBassAndDrums"]);return m!=null&&r(t,["onlyBassAndDrums"],m),t}function iA(n,e){const t={},i=a(e,["clientContent"]);i!=null&&r(t,["clientContent"],tA(n,i));const l=a(e,["musicGenerationConfig"]);return l!=null&&r(t,["musicGenerationConfig"],nA(n,l)),t}function lA(n,e){const t={},i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);l!=null&&r(t,["mimeType"],l);const o=a(e,["sourceMetadata"]);return o!=null&&r(t,["sourceMetadata"],iA(n,o)),t}function oA(n,e){const t={},i=a(e,["audioChunks"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>lA(n,o))),r(t,["audioChunks"],l)}return t}function sA(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["filteredReason"]);return l!=null&&r(t,["filteredReason"],l),t}function aA(n,e){const t={};a(e,["setupComplete"])!=null&&r(t,["setupComplete"],jE());const l=a(e,["serverContent"]);l!=null&&r(t,["serverContent"],oA(n,l));const o=a(e,["filteredPrompt"]);return o!=null&&r(t,["filteredPrompt"],sA(n,o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rA(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function uA(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function cA(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function fA(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],rA(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],uA(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],cA(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function Hr(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>fA(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function dA(n,e){const t={},i=a(e,["anyOf"]);i!=null&&r(t,["anyOf"],i);const l=a(e,["default"]);l!=null&&r(t,["default"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["enum"]);s!=null&&r(t,["enum"],s);const u=a(e,["example"]);u!=null&&r(t,["example"],u);const c=a(e,["format"]);c!=null&&r(t,["format"],c);const f=a(e,["items"]);f!=null&&r(t,["items"],f);const d=a(e,["maxItems"]);d!=null&&r(t,["maxItems"],d);const p=a(e,["maxLength"]);p!=null&&r(t,["maxLength"],p);const h=a(e,["maxProperties"]);h!=null&&r(t,["maxProperties"],h);const m=a(e,["maximum"]);m!=null&&r(t,["maximum"],m);const x=a(e,["minItems"]);x!=null&&r(t,["minItems"],x);const S=a(e,["minLength"]);S!=null&&r(t,["minLength"],S);const _=a(e,["minProperties"]);_!=null&&r(t,["minProperties"],_);const y=a(e,["minimum"]);y!=null&&r(t,["minimum"],y);const v=a(e,["nullable"]);v!=null&&r(t,["nullable"],v);const T=a(e,["pattern"]);T!=null&&r(t,["pattern"],T);const C=a(e,["properties"]);C!=null&&r(t,["properties"],C);const A=a(e,["propertyOrdering"]);A!=null&&r(t,["propertyOrdering"],A);const w=a(e,["required"]);w!=null&&r(t,["required"],w);const N=a(e,["title"]);N!=null&&r(t,["title"],N);const D=a(e,["type"]);return D!=null&&r(t,["type"],D),t}function hA(n,e){const t={};if(a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(e,["category"]);i!=null&&r(t,["category"],i);const l=a(e,["threshold"]);return l!=null&&r(t,["threshold"],l),t}function pA(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function mA(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function gA(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],mA(n,i)),t}function yA(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function vA(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],yA(n,i)),t}function xA(){return{}}function TA(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>pA(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],gA(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],vA(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],xA());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function SA(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function CA(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function _A(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],CA(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function EA(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],SA(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],_A(n,l)),t}function AA(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function a0(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],AA(n,i)),t}function bA(n,e){const t={},i=a(e,["speaker"]);i!=null&&r(t,["speaker"],i);const l=a(e,["voiceConfig"]);return l!=null&&r(t,["voiceConfig"],a0(n,l)),t}function MA(n,e){const t={},i=a(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>bA(n,o))),r(t,["speakerVoiceConfigs"],l)}return t}function NA(n,e){const t={},i=a(e,["voiceConfig"]);i!=null&&r(t,["voiceConfig"],a0(n,i));const l=a(e,["multiSpeakerVoiceConfig"]);l!=null&&r(t,["multiSpeakerVoiceConfig"],MA(n,l));const o=a(e,["languageCode"]);return o!=null&&r(t,["languageCode"],o),t}function wA(n,e){const t={},i=a(e,["includeThoughts"]);i!=null&&r(t,["includeThoughts"],i);const l=a(e,["thinkingBudget"]);return l!=null&&r(t,["thinkingBudget"],l),t}function RA(n,e,t){const i={},l=a(e,["systemInstruction"]);t!==void 0&&l!=null&&r(t,["systemInstruction"],Hr(n,Dt(n,l)));const o=a(e,["temperature"]);o!=null&&r(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&r(i,["topP"],s);const u=a(e,["topK"]);u!=null&&r(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&r(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&r(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const p=a(e,["responseLogprobs"]);p!=null&&r(i,["responseLogprobs"],p);const h=a(e,["logprobs"]);h!=null&&r(i,["logprobs"],h);const m=a(e,["presencePenalty"]);m!=null&&r(i,["presencePenalty"],m);const x=a(e,["frequencyPenalty"]);x!=null&&r(i,["frequencyPenalty"],x);const S=a(e,["seed"]);S!=null&&r(i,["seed"],S);const _=a(e,["responseMimeType"]);_!=null&&r(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);if(y!=null&&r(i,["responseSchema"],dA(n,vr(n,y))),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(e,["safetySettings"]);if(t!==void 0&&v!=null){let O=v;Array.isArray(O)&&(O=O.map(fe=>hA(n,fe))),r(t,["safetySettings"],O)}const T=a(e,["tools"]);if(t!==void 0&&T!=null){let O=Zs(n,T);Array.isArray(O)&&(O=O.map(fe=>TA(n,Fs(n,fe)))),r(t,["tools"],O)}const C=a(e,["toolConfig"]);if(t!==void 0&&C!=null&&r(t,["toolConfig"],EA(n,C)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=a(e,["cachedContent"]);t!==void 0&&A!=null&&r(t,["cachedContent"],$i(n,A));const w=a(e,["responseModalities"]);w!=null&&r(i,["responseModalities"],w);const N=a(e,["mediaResolution"]);N!=null&&r(i,["mediaResolution"],N);const D=a(e,["speechConfig"]);if(D!=null&&r(i,["speechConfig"],NA(n,Xv(n,D))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=a(e,["thinkingConfig"]);return B!=null&&r(i,["thinkingConfig"],wA(n,B)),i}function ym(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],He(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Hr(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["generationConfig"],RA(n,o,t)),t}function DA(n,e,t){const i={},l=a(e,["taskType"]);t!==void 0&&l!=null&&r(t,["requests[]","taskType"],l);const o=a(e,["title"]);t!==void 0&&o!=null&&r(t,["requests[]","title"],o);const s=a(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&r(t,["requests[]","outputDimensionality"],s),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function kA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],He(n,i));const l=a(e,["contents"]);l!=null&&r(t,["requests[]","content"],Jv(n,l));const o=a(e,["config"]);o!=null&&r(t,["config"],DA(n,o,t));const s=a(e,["model"]);return s!==void 0&&r(t,["requests[]","model"],He(n,s)),t}function IA(n,e,t){const i={};if(a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=a(e,["numberOfImages"]);t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l);const o=a(e,["aspectRatio"]);t!==void 0&&o!=null&&r(t,["parameters","aspectRatio"],o);const s=a(e,["guidanceScale"]);if(t!==void 0&&s!=null&&r(t,["parameters","guidanceScale"],s),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=a(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&r(t,["parameters","safetySetting"],u);const c=a(e,["personGeneration"]);t!==void 0&&c!=null&&r(t,["parameters","personGeneration"],c);const f=a(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&r(t,["parameters","includeSafetyAttributes"],f);const d=a(e,["includeRaiReason"]);t!==void 0&&d!=null&&r(t,["parameters","includeRaiReason"],d);const p=a(e,["language"]);t!==void 0&&p!=null&&r(t,["parameters","language"],p);const h=a(e,["outputMimeType"]);t!==void 0&&h!=null&&r(t,["parameters","outputOptions","mimeType"],h);const m=a(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&r(t,["parameters","outputOptions","compressionQuality"],m),a(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function UA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],He(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&r(t,["config"],IA(n,o,t)),t}function LA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],He(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function OA(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);t!==void 0&&s!=null&&r(t,["_query","filter"],s);const u=a(e,["queryBase"]);return t!==void 0&&u!=null&&r(t,["_url","models_url"],jv(n,u)),i}function VA(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],OA(n,i,t)),t}function $A(n,e,t){const i={},l=a(e,["displayName"]);t!==void 0&&l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);t!==void 0&&o!=null&&r(t,["description"],o);const s=a(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&r(t,["defaultCheckpointId"],s),i}function BA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],He(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],$A(n,l,t)),t}function PA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],He(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function zA(n,e){const t={};if(a(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function GA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],He(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Hr(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["config"],zA(n,o)),t}function qA(n,e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=a(e,["imageBytes"]);i!=null&&r(t,["bytesBase64Encoded"],ii(n,i));const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function HA(n,e,t){const i={},l=a(e,["numberOfVideos"]);if(t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l),a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=a(e,["durationSeconds"]);if(t!==void 0&&o!=null&&r(t,["parameters","durationSeconds"],o),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=a(e,["aspectRatio"]);if(t!==void 0&&s!=null&&r(t,["parameters","aspectRatio"],s),a(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=a(e,["personGeneration"]);if(t!==void 0&&u!=null&&r(t,["parameters","personGeneration"],u),a(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=a(e,["negativePrompt"]);t!==void 0&&c!=null&&r(t,["parameters","negativePrompt"],c);const f=a(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&r(t,["parameters","enhancePrompt"],f),a(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return i}function YA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],He(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["image"]);if(o!=null&&r(t,["instances[0]","image"],qA(n,o)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=a(e,["config"]);return s!=null&&r(t,["config"],HA(n,s,t)),t}function FA(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function ZA(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function KA(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function JA(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],FA(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],ZA(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],KA(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function Eo(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>JA(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function XA(n,e){const t={},i=a(e,["anyOf"]);i!=null&&r(t,["anyOf"],i);const l=a(e,["default"]);l!=null&&r(t,["default"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["enum"]);s!=null&&r(t,["enum"],s);const u=a(e,["example"]);u!=null&&r(t,["example"],u);const c=a(e,["format"]);c!=null&&r(t,["format"],c);const f=a(e,["items"]);f!=null&&r(t,["items"],f);const d=a(e,["maxItems"]);d!=null&&r(t,["maxItems"],d);const p=a(e,["maxLength"]);p!=null&&r(t,["maxLength"],p);const h=a(e,["maxProperties"]);h!=null&&r(t,["maxProperties"],h);const m=a(e,["maximum"]);m!=null&&r(t,["maximum"],m);const x=a(e,["minItems"]);x!=null&&r(t,["minItems"],x);const S=a(e,["minLength"]);S!=null&&r(t,["minLength"],S);const _=a(e,["minProperties"]);_!=null&&r(t,["minProperties"],_);const y=a(e,["minimum"]);y!=null&&r(t,["minimum"],y);const v=a(e,["nullable"]);v!=null&&r(t,["nullable"],v);const T=a(e,["pattern"]);T!=null&&r(t,["pattern"],T);const C=a(e,["properties"]);C!=null&&r(t,["properties"],C);const A=a(e,["propertyOrdering"]);A!=null&&r(t,["propertyOrdering"],A);const w=a(e,["required"]);w!=null&&r(t,["required"],w);const N=a(e,["title"]);N!=null&&r(t,["title"],N);const D=a(e,["type"]);return D!=null&&r(t,["type"],D),t}function QA(n,e){const t={},i=a(e,["featureSelectionPreference"]);return i!=null&&r(t,["featureSelectionPreference"],i),t}function WA(n,e){const t={},i=a(e,["method"]);i!=null&&r(t,["method"],i);const l=a(e,["category"]);l!=null&&r(t,["category"],l);const o=a(e,["threshold"]);return o!=null&&r(t,["threshold"],o),t}function jA(n,e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(e,["description"]);i!=null&&r(t,["description"],i);const l=a(e,["name"]);l!=null&&r(t,["name"],l);const o=a(e,["parameters"]);o!=null&&r(t,["parameters"],o);const s=a(e,["response"]);return s!=null&&r(t,["response"],s),t}function eb(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function tb(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],eb(n,i)),t}function nb(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function ib(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],nb(n,i)),t}function lb(){return{}}function ob(n,e){const t={},i=a(e,["apiKeyString"]);return i!=null&&r(t,["apiKeyString"],i),t}function sb(n,e){const t={},i=a(e,["apiKeyConfig"]);i!=null&&r(t,["apiKeyConfig"],ob(n,i));const l=a(e,["authType"]);l!=null&&r(t,["authType"],l);const o=a(e,["googleServiceAccountConfig"]);o!=null&&r(t,["googleServiceAccountConfig"],o);const s=a(e,["httpBasicAuthConfig"]);s!=null&&r(t,["httpBasicAuthConfig"],s);const u=a(e,["oauthConfig"]);u!=null&&r(t,["oauthConfig"],u);const c=a(e,["oidcConfig"]);return c!=null&&r(t,["oidcConfig"],c),t}function ab(n,e){const t={},i=a(e,["authConfig"]);return i!=null&&r(t,["authConfig"],sb(n,i)),t}function rb(){return{}}function r0(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>jA(n,h))),r(t,["functionDeclarations"],p)}const l=a(e,["retrieval"]);l!=null&&r(t,["retrieval"],l);const o=a(e,["googleSearch"]);o!=null&&r(t,["googleSearch"],tb(n,o));const s=a(e,["googleSearchRetrieval"]);s!=null&&r(t,["googleSearchRetrieval"],ib(n,s)),a(e,["enterpriseWebSearch"])!=null&&r(t,["enterpriseWebSearch"],lb());const c=a(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],ab(n,c)),a(e,["urlContext"])!=null&&r(t,["urlContext"],rb());const d=a(e,["codeExecution"]);return d!=null&&r(t,["codeExecution"],d),t}function ub(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function cb(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function fb(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],cb(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function db(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],ub(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],fb(n,l)),t}function hb(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function pb(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],hb(n,i)),t}function mb(n,e){const t={},i=a(e,["voiceConfig"]);if(i!=null&&r(t,["voiceConfig"],pb(n,i)),a(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function gb(n,e){const t={},i=a(e,["includeThoughts"]);i!=null&&r(t,["includeThoughts"],i);const l=a(e,["thinkingBudget"]);return l!=null&&r(t,["thinkingBudget"],l),t}function yb(n,e,t){const i={},l=a(e,["systemInstruction"]);t!==void 0&&l!=null&&r(t,["systemInstruction"],Eo(n,Dt(n,l)));const o=a(e,["temperature"]);o!=null&&r(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&r(i,["topP"],s);const u=a(e,["topK"]);u!=null&&r(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&r(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&r(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const p=a(e,["responseLogprobs"]);p!=null&&r(i,["responseLogprobs"],p);const h=a(e,["logprobs"]);h!=null&&r(i,["logprobs"],h);const m=a(e,["presencePenalty"]);m!=null&&r(i,["presencePenalty"],m);const x=a(e,["frequencyPenalty"]);x!=null&&r(i,["frequencyPenalty"],x);const S=a(e,["seed"]);S!=null&&r(i,["seed"],S);const _=a(e,["responseMimeType"]);_!=null&&r(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);y!=null&&r(i,["responseSchema"],XA(n,vr(n,y)));const v=a(e,["routingConfig"]);v!=null&&r(i,["routingConfig"],v);const T=a(e,["modelSelectionConfig"]);T!=null&&r(i,["modelConfig"],QA(n,T));const C=a(e,["safetySettings"]);if(t!==void 0&&C!=null){let it=C;Array.isArray(it)&&(it=it.map(_t=>WA(n,_t))),r(t,["safetySettings"],it)}const A=a(e,["tools"]);if(t!==void 0&&A!=null){let it=Zs(n,A);Array.isArray(it)&&(it=it.map(_t=>r0(n,Fs(n,_t)))),r(t,["tools"],it)}const w=a(e,["toolConfig"]);t!==void 0&&w!=null&&r(t,["toolConfig"],db(n,w));const N=a(e,["labels"]);t!==void 0&&N!=null&&r(t,["labels"],N);const D=a(e,["cachedContent"]);t!==void 0&&D!=null&&r(t,["cachedContent"],$i(n,D));const B=a(e,["responseModalities"]);B!=null&&r(i,["responseModalities"],B);const O=a(e,["mediaResolution"]);O!=null&&r(i,["mediaResolution"],O);const fe=a(e,["speechConfig"]);fe!=null&&r(i,["speechConfig"],mb(n,Xv(n,fe)));const Ce=a(e,["audioTimestamp"]);Ce!=null&&r(i,["audioTimestamp"],Ce);const Ut=a(e,["thinkingConfig"]);return Ut!=null&&r(i,["thinkingConfig"],gb(n,Ut)),i}function vm(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],He(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Eo(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["generationConfig"],yb(n,o,t)),t}function vb(n,e,t){const i={},l=a(e,["taskType"]);t!==void 0&&l!=null&&r(t,["instances[]","task_type"],l);const o=a(e,["title"]);t!==void 0&&o!=null&&r(t,["instances[]","title"],o);const s=a(e,["outputDimensionality"]);t!==void 0&&s!=null&&r(t,["parameters","outputDimensionality"],s);const u=a(e,["mimeType"]);t!==void 0&&u!=null&&r(t,["instances[]","mimeType"],u);const c=a(e,["autoTruncate"]);return t!==void 0&&c!=null&&r(t,["parameters","autoTruncate"],c),i}function xb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],He(n,i));const l=a(e,["contents"]);l!=null&&r(t,["instances[]","content"],Jv(n,l));const o=a(e,["config"]);return o!=null&&r(t,["config"],vb(n,o,t)),t}function Tb(n,e,t){const i={},l=a(e,["outputGcsUri"]);t!==void 0&&l!=null&&r(t,["parameters","storageUri"],l);const o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&r(t,["parameters","negativePrompt"],o);const s=a(e,["numberOfImages"]);t!==void 0&&s!=null&&r(t,["parameters","sampleCount"],s);const u=a(e,["aspectRatio"]);t!==void 0&&u!=null&&r(t,["parameters","aspectRatio"],u);const c=a(e,["guidanceScale"]);t!==void 0&&c!=null&&r(t,["parameters","guidanceScale"],c);const f=a(e,["seed"]);t!==void 0&&f!=null&&r(t,["parameters","seed"],f);const d=a(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&r(t,["parameters","safetySetting"],d);const p=a(e,["personGeneration"]);t!==void 0&&p!=null&&r(t,["parameters","personGeneration"],p);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&r(t,["parameters","includeSafetyAttributes"],h);const m=a(e,["includeRaiReason"]);t!==void 0&&m!=null&&r(t,["parameters","includeRaiReason"],m);const x=a(e,["language"]);t!==void 0&&x!=null&&r(t,["parameters","language"],x);const S=a(e,["outputMimeType"]);t!==void 0&&S!=null&&r(t,["parameters","outputOptions","mimeType"],S);const _=a(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&r(t,["parameters","outputOptions","compressionQuality"],_);const y=a(e,["addWatermark"]);t!==void 0&&y!=null&&r(t,["parameters","addWatermark"],y);const v=a(e,["enhancePrompt"]);return t!==void 0&&v!=null&&r(t,["parameters","enhancePrompt"],v),i}function Sb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],He(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&r(t,["config"],Tb(n,o,t)),t}function Yr(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["gcsUri"],i);const l=a(e,["imageBytes"]);l!=null&&r(t,["bytesBase64Encoded"],ii(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function Cb(n,e){const t={},i=a(e,["maskMode"]);i!=null&&r(t,["maskMode"],i);const l=a(e,["segmentationClasses"]);l!=null&&r(t,["maskClasses"],l);const o=a(e,["maskDilation"]);return o!=null&&r(t,["dilation"],o),t}function _b(n,e){const t={},i=a(e,["controlType"]);i!=null&&r(t,["controlType"],i);const l=a(e,["enableControlImageComputation"]);return l!=null&&r(t,["computeControl"],l),t}function Eb(n,e){const t={},i=a(e,["styleDescription"]);return i!=null&&r(t,["styleDescription"],i),t}function Ab(n,e){const t={},i=a(e,["subjectType"]);i!=null&&r(t,["subjectType"],i);const l=a(e,["subjectDescription"]);return l!=null&&r(t,["subjectDescription"],l),t}function bb(n,e){const t={},i=a(e,["referenceImage"]);i!=null&&r(t,["referenceImage"],Yr(n,i));const l=a(e,["referenceId"]);l!=null&&r(t,["referenceId"],l);const o=a(e,["referenceType"]);o!=null&&r(t,["referenceType"],o);const s=a(e,["maskImageConfig"]);s!=null&&r(t,["maskImageConfig"],Cb(n,s));const u=a(e,["controlImageConfig"]);u!=null&&r(t,["controlImageConfig"],_b(n,u));const c=a(e,["styleImageConfig"]);c!=null&&r(t,["styleImageConfig"],Eb(n,c));const f=a(e,["subjectImageConfig"]);return f!=null&&r(t,["subjectImageConfig"],Ab(n,f)),t}function Mb(n,e,t){const i={},l=a(e,["outputGcsUri"]);t!==void 0&&l!=null&&r(t,["parameters","storageUri"],l);const o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&r(t,["parameters","negativePrompt"],o);const s=a(e,["numberOfImages"]);t!==void 0&&s!=null&&r(t,["parameters","sampleCount"],s);const u=a(e,["aspectRatio"]);t!==void 0&&u!=null&&r(t,["parameters","aspectRatio"],u);const c=a(e,["guidanceScale"]);t!==void 0&&c!=null&&r(t,["parameters","guidanceScale"],c);const f=a(e,["seed"]);t!==void 0&&f!=null&&r(t,["parameters","seed"],f);const d=a(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&r(t,["parameters","safetySetting"],d);const p=a(e,["personGeneration"]);t!==void 0&&p!=null&&r(t,["parameters","personGeneration"],p);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&r(t,["parameters","includeSafetyAttributes"],h);const m=a(e,["includeRaiReason"]);t!==void 0&&m!=null&&r(t,["parameters","includeRaiReason"],m);const x=a(e,["language"]);t!==void 0&&x!=null&&r(t,["parameters","language"],x);const S=a(e,["outputMimeType"]);t!==void 0&&S!=null&&r(t,["parameters","outputOptions","mimeType"],S);const _=a(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&r(t,["parameters","outputOptions","compressionQuality"],_);const y=a(e,["editMode"]);t!==void 0&&y!=null&&r(t,["parameters","editMode"],y);const v=a(e,["baseSteps"]);return t!==void 0&&v!=null&&r(t,["parameters","editConfig","baseSteps"],v),i}function Nb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],He(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>bb(n,c))),r(t,["instances[0]","referenceImages"],u)}const s=a(e,["config"]);return s!=null&&r(t,["config"],Mb(n,s,t)),t}function wb(n,e,t){const i={},l=a(e,["includeRaiReason"]);t!==void 0&&l!=null&&r(t,["parameters","includeRaiReason"],l);const o=a(e,["outputMimeType"]);t!==void 0&&o!=null&&r(t,["parameters","outputOptions","mimeType"],o);const s=a(e,["outputCompressionQuality"]);t!==void 0&&s!=null&&r(t,["parameters","outputOptions","compressionQuality"],s);const u=a(e,["numberOfImages"]);t!==void 0&&u!=null&&r(t,["parameters","sampleCount"],u);const c=a(e,["mode"]);return t!==void 0&&c!=null&&r(t,["parameters","mode"],c),i}function Rb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],He(n,i));const l=a(e,["image"]);l!=null&&r(t,["instances[0]","image"],Yr(n,l));const o=a(e,["upscaleFactor"]);o!=null&&r(t,["parameters","upscaleConfig","upscaleFactor"],o);const s=a(e,["config"]);return s!=null&&r(t,["config"],wb(n,s,t)),t}function Db(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],He(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function kb(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);t!==void 0&&s!=null&&r(t,["_query","filter"],s);const u=a(e,["queryBase"]);return t!==void 0&&u!=null&&r(t,["_url","models_url"],jv(n,u)),i}function Ib(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],kb(n,i,t)),t}function Ub(n,e,t){const i={},l=a(e,["displayName"]);t!==void 0&&l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);t!==void 0&&o!=null&&r(t,["description"],o);const s=a(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&r(t,["defaultCheckpointId"],s),i}function Lb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],He(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],Ub(n,l,t)),t}function Ob(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],He(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function Vb(n,e,t){const i={},l=a(e,["systemInstruction"]);t!==void 0&&l!=null&&r(t,["systemInstruction"],Eo(n,Dt(n,l)));const o=a(e,["tools"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>r0(n,c))),r(t,["tools"],u)}const s=a(e,["generationConfig"]);return t!==void 0&&s!=null&&r(t,["generationConfig"],s),i}function $b(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],He(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Eo(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["config"],Vb(n,o,t)),t}function Bb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],He(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Eo(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["config"],o),t}function Pb(n,e){const t={},i=a(e,["uri"]);i!=null&&r(t,["gcsUri"],i);const l=a(e,["videoBytes"]);l!=null&&r(t,["bytesBase64Encoded"],ii(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function zb(n,e,t){const i={},l=a(e,["numberOfVideos"]);t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l);const o=a(e,["outputGcsUri"]);t!==void 0&&o!=null&&r(t,["parameters","storageUri"],o);const s=a(e,["fps"]);t!==void 0&&s!=null&&r(t,["parameters","fps"],s);const u=a(e,["durationSeconds"]);t!==void 0&&u!=null&&r(t,["parameters","durationSeconds"],u);const c=a(e,["seed"]);t!==void 0&&c!=null&&r(t,["parameters","seed"],c);const f=a(e,["aspectRatio"]);t!==void 0&&f!=null&&r(t,["parameters","aspectRatio"],f);const d=a(e,["resolution"]);t!==void 0&&d!=null&&r(t,["parameters","resolution"],d);const p=a(e,["personGeneration"]);t!==void 0&&p!=null&&r(t,["parameters","personGeneration"],p);const h=a(e,["pubsubTopic"]);t!==void 0&&h!=null&&r(t,["parameters","pubsubTopic"],h);const m=a(e,["negativePrompt"]);t!==void 0&&m!=null&&r(t,["parameters","negativePrompt"],m);const x=a(e,["enhancePrompt"]);t!==void 0&&x!=null&&r(t,["parameters","enhancePrompt"],x);const S=a(e,["generateAudio"]);t!==void 0&&S!=null&&r(t,["parameters","generateAudio"],S);const _=a(e,["lastFrame"]);return t!==void 0&&_!=null&&r(t,["instances[0]","lastFrame"],Yr(n,_)),i}function Gb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],He(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["image"]);o!=null&&r(t,["instances[0]","image"],Yr(n,o));const s=a(e,["video"]);s!=null&&r(t,["instances[0]","video"],Pb(n,s));const u=a(e,["config"]);return u!=null&&r(t,["config"],zb(n,u,t)),t}function qb(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function Hb(n,e){const t={},i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function Yb(n,e){const t={},i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function Fb(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],qb(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],Hb(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],Yb(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function Zb(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Fb(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function Kb(n,e){const t={},i=a(e,["citationSources"]);return i!=null&&r(t,["citations"],i),t}function Jb(n,e){const t={},i=a(e,["retrievedUrl"]);i!=null&&r(t,["retrievedUrl"],i);const l=a(e,["urlRetrievalStatus"]);return l!=null&&r(t,["urlRetrievalStatus"],l),t}function Xb(n,e){const t={},i=a(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>Jb(n,o))),r(t,["urlMetadata"],l)}return t}function Qb(n,e){const t={},i=a(e,["content"]);i!=null&&r(t,["content"],Zb(n,i));const l=a(e,["citationMetadata"]);l!=null&&r(t,["citationMetadata"],Kb(n,l));const o=a(e,["tokenCount"]);o!=null&&r(t,["tokenCount"],o);const s=a(e,["finishReason"]);s!=null&&r(t,["finishReason"],s);const u=a(e,["urlContextMetadata"]);u!=null&&r(t,["urlContextMetadata"],Xb(n,u));const c=a(e,["avgLogprobs"]);c!=null&&r(t,["avgLogprobs"],c);const f=a(e,["groundingMetadata"]);f!=null&&r(t,["groundingMetadata"],f);const d=a(e,["index"]);d!=null&&r(t,["index"],d);const p=a(e,["logprobsResult"]);p!=null&&r(t,["logprobsResult"],p);const h=a(e,["safetyRatings"]);return h!=null&&r(t,["safetyRatings"],h),t}function xm(n,e){const t={},i=a(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>Qb(n,c))),r(t,["candidates"],u)}const l=a(e,["modelVersion"]);l!=null&&r(t,["modelVersion"],l);const o=a(e,["promptFeedback"]);o!=null&&r(t,["promptFeedback"],o);const s=a(e,["usageMetadata"]);return s!=null&&r(t,["usageMetadata"],s),t}function Wb(n,e){const t={},i=a(e,["values"]);return i!=null&&r(t,["values"],i),t}function jb(){return{}}function e2(n,e){const t={},i=a(e,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Wb(n,s))),r(t,["embeddings"],o)}return a(e,["metadata"])!=null&&r(t,["metadata"],jb()),t}function t2(n,e){const t={},i=a(e,["bytesBase64Encoded"]);i!=null&&r(t,["imageBytes"],ii(n,i));const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function u0(n,e){const t={},i=a(e,["safetyAttributes","categories"]);i!=null&&r(t,["categories"],i);const l=a(e,["safetyAttributes","scores"]);l!=null&&r(t,["scores"],l);const o=a(e,["contentType"]);return o!=null&&r(t,["contentType"],o),t}function n2(n,e){const t={},i=a(e,["_self"]);i!=null&&r(t,["image"],t2(n,i));const l=a(e,["raiFilteredReason"]);l!=null&&r(t,["raiFilteredReason"],l);const o=a(e,["_self"]);return o!=null&&r(t,["safetyAttributes"],u0(n,o)),t}function i2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>n2(n,s))),r(t,["generatedImages"],o)}const l=a(e,["positivePromptSafetyAttributes"]);return l!=null&&r(t,["positivePromptSafetyAttributes"],u0(n,l)),t}function l2(n,e){const t={},i=a(e,["baseModel"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["createTime"]);l!=null&&r(t,["createTime"],l);const o=a(e,["updateTime"]);return o!=null&&r(t,["updateTime"],o),t}function Xc(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["version"]);s!=null&&r(t,["version"],s);const u=a(e,["_self"]);u!=null&&r(t,["tunedModelInfo"],l2(n,u));const c=a(e,["inputTokenLimit"]);c!=null&&r(t,["inputTokenLimit"],c);const f=a(e,["outputTokenLimit"]);f!=null&&r(t,["outputTokenLimit"],f);const d=a(e,["supportedGenerationMethods"]);return d!=null&&r(t,["supportedActions"],d),t}function o2(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=e0(n,l);Array.isArray(o)&&(o=o.map(s=>Xc(n,s))),r(t,["models"],o)}return t}function s2(){return{}}function a2(n,e){const t={},i=a(e,["totalTokens"]);i!=null&&r(t,["totalTokens"],i);const l=a(e,["cachedContentTokenCount"]);return l!=null&&r(t,["cachedContentTokenCount"],l),t}function r2(n,e){const t={},i=a(e,["video","uri"]);i!=null&&r(t,["uri"],i);const l=a(e,["video","encodedVideo"]);l!=null&&r(t,["videoBytes"],ii(n,l));const o=a(e,["encoding"]);return o!=null&&r(t,["mimeType"],o),t}function u2(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],r2(n,i)),t}function c2(n,e){const t={},i=a(e,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u2(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function f2(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response","generateVideoResponse"]);return u!=null&&r(t,["response"],c2(n,u)),t}function d2(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function h2(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function p2(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function m2(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],d2(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],h2(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],p2(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function g2(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>m2(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function y2(n,e){const t={},i=a(e,["citations"]);return i!=null&&r(t,["citations"],i),t}function v2(n,e){const t={},i=a(e,["retrievedUrl"]);i!=null&&r(t,["retrievedUrl"],i);const l=a(e,["urlRetrievalStatus"]);return l!=null&&r(t,["urlRetrievalStatus"],l),t}function x2(n,e){const t={},i=a(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>v2(n,o))),r(t,["urlMetadata"],l)}return t}function T2(n,e){const t={},i=a(e,["content"]);i!=null&&r(t,["content"],g2(n,i));const l=a(e,["citationMetadata"]);l!=null&&r(t,["citationMetadata"],y2(n,l));const o=a(e,["finishMessage"]);o!=null&&r(t,["finishMessage"],o);const s=a(e,["finishReason"]);s!=null&&r(t,["finishReason"],s);const u=a(e,["urlContextMetadata"]);u!=null&&r(t,["urlContextMetadata"],x2(n,u));const c=a(e,["avgLogprobs"]);c!=null&&r(t,["avgLogprobs"],c);const f=a(e,["groundingMetadata"]);f!=null&&r(t,["groundingMetadata"],f);const d=a(e,["index"]);d!=null&&r(t,["index"],d);const p=a(e,["logprobsResult"]);p!=null&&r(t,["logprobsResult"],p);const h=a(e,["safetyRatings"]);return h!=null&&r(t,["safetyRatings"],h),t}function Tm(n,e){const t={},i=a(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>T2(n,d))),r(t,["candidates"],f)}const l=a(e,["createTime"]);l!=null&&r(t,["createTime"],l);const o=a(e,["responseId"]);o!=null&&r(t,["responseId"],o);const s=a(e,["modelVersion"]);s!=null&&r(t,["modelVersion"],s);const u=a(e,["promptFeedback"]);u!=null&&r(t,["promptFeedback"],u);const c=a(e,["usageMetadata"]);return c!=null&&r(t,["usageMetadata"],c),t}function S2(n,e){const t={},i=a(e,["truncated"]);i!=null&&r(t,["truncated"],i);const l=a(e,["token_count"]);return l!=null&&r(t,["tokenCount"],l),t}function C2(n,e){const t={},i=a(e,["values"]);i!=null&&r(t,["values"],i);const l=a(e,["statistics"]);return l!=null&&r(t,["statistics"],S2(n,l)),t}function _2(n,e){const t={},i=a(e,["billableCharacterCount"]);return i!=null&&r(t,["billableCharacterCount"],i),t}function E2(n,e){const t={},i=a(e,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>C2(n,s))),r(t,["embeddings"],o)}const l=a(e,["metadata"]);return l!=null&&r(t,["metadata"],_2(n,l)),t}function A2(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["gcsUri"],i);const l=a(e,["bytesBase64Encoded"]);l!=null&&r(t,["imageBytes"],ii(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function c0(n,e){const t={},i=a(e,["safetyAttributes","categories"]);i!=null&&r(t,["categories"],i);const l=a(e,["safetyAttributes","scores"]);l!=null&&r(t,["scores"],l);const o=a(e,["contentType"]);return o!=null&&r(t,["contentType"],o),t}function sd(n,e){const t={},i=a(e,["_self"]);i!=null&&r(t,["image"],A2(n,i));const l=a(e,["raiFilteredReason"]);l!=null&&r(t,["raiFilteredReason"],l);const o=a(e,["_self"]);o!=null&&r(t,["safetyAttributes"],c0(n,o));const s=a(e,["prompt"]);return s!=null&&r(t,["enhancedPrompt"],s),t}function b2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>sd(n,s))),r(t,["generatedImages"],o)}const l=a(e,["positivePromptSafetyAttributes"]);return l!=null&&r(t,["positivePromptSafetyAttributes"],c0(n,l)),t}function M2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>sd(n,o))),r(t,["generatedImages"],l)}return t}function N2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>sd(n,o))),r(t,["generatedImages"],l)}return t}function w2(n,e){const t={},i=a(e,["endpoint"]);i!=null&&r(t,["name"],i);const l=a(e,["deployedModelId"]);return l!=null&&r(t,["deployedModelId"],l),t}function R2(n,e){const t={},i=a(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["createTime"]);l!=null&&r(t,["createTime"],l);const o=a(e,["updateTime"]);return o!=null&&r(t,["updateTime"],o),t}function D2(n,e){const t={},i=a(e,["checkpointId"]);i!=null&&r(t,["checkpointId"],i);const l=a(e,["epoch"]);l!=null&&r(t,["epoch"],l);const o=a(e,["step"]);return o!=null&&r(t,["step"],o),t}function Qc(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["versionId"]);s!=null&&r(t,["version"],s);const u=a(e,["deployedModels"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(m=>w2(n,m))),r(t,["endpoints"],h)}const c=a(e,["labels"]);c!=null&&r(t,["labels"],c);const f=a(e,["_self"]);f!=null&&r(t,["tunedModelInfo"],R2(n,f));const d=a(e,["defaultCheckpointId"]);d!=null&&r(t,["defaultCheckpointId"],d);const p=a(e,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>D2(n,m))),r(t,["checkpoints"],h)}return t}function k2(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=e0(n,l);Array.isArray(o)&&(o=o.map(s=>Qc(n,s))),r(t,["models"],o)}return t}function I2(){return{}}function U2(n,e){const t={},i=a(e,["totalTokens"]);return i!=null&&r(t,["totalTokens"],i),t}function L2(n,e){const t={},i=a(e,["tokensInfo"]);return i!=null&&r(t,["tokensInfo"],i),t}function O2(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["uri"],i);const l=a(e,["bytesBase64Encoded"]);l!=null&&r(t,["videoBytes"],ii(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function V2(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],O2(n,i)),t}function $2(n,e){const t={},i=a(e,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>V2(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function B2(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],$2(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P2="Content-Type",z2="X-Server-Timeout",G2="User-Agent",Wc="x-goog-api-client",q2="1.5.1",H2=`google-genai-sdk/${q2}`,Y2="v1beta1",F2="v1beta",Sm=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class f0 extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class jc extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class Z2{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Y2,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:F2,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const l=[this.getRequestUrlInternal(t)];return i&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))l.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(l,o,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[l,o]of Object.entries(t))typeof o=="object"?i[l]=Object.assign(Object.assign({},i[l]),o):o!==void 0&&(i[l]=o);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(l,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const l=new AbortController,o=l.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>l.abort(),t.timeout),i&&i.addEventListener("abort",()=>{l.abort()}),e.signal=o}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async l=>(await Cm(l),new Fc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async l=>(await Cm(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var t;return Jl(this,arguments,function*(){const l=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield Ye(l.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c);try{const p=JSON.parse(f);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),m=h.status,x=h.code,S=`got status: ${m}. ${JSON.stringify(p)}`;if(x>=400&&x<500)throw new f0(S);if(x>=500&&x<600)throw new jc(S)}}catch(p){const h=p;if(h.name==="ClientError"||h.name==="ServerError")throw p}s+=f;let d=s.match(Sm);for(;d;){const p=d[1];try{const h=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ye(new Fc(h)),s=s.slice(d[0].length),d=s.match(Sm)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{l.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=H2+" "+this.clientOptions.userAgentExtra;return e[G2]=t,e[Wc]=t,e[P2]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,l]of Object.entries(e.headers))t.append(i,l);e.timeout&&e.timeout>0&&t.append(z2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const l={};t!=null&&(l.mimeType=t.mimeType,l.name=t.name,l.displayName=t.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);l.sizeBytes=String(s.size);const u=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=u;const c=await this.fetchUploadUrl(l,t);return o.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let l={};t!=null&&t.httpOptions?l=t.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:Q("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=s==null?void 0:s.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Cm(n){var e;if(n===void 0)throw new jc("response is undefined");if(!n.ok){const t=n.status,i=n.statusText;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const o=`got status: ${t} ${i}. ${JSON.stringify(l)}`;throw t>=400&&t<500?new f0(o):t>=500&&t<600?new jc(o):new Error(o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K2="mcp_used/unknown";function d0(n){for(const e of n)if(ad(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function h0(n){var e;const t=(e=n[Wc])!==null&&e!==void 0?e:"";n[Wc]=(t+` ${K2}`).trimStart()}function J2(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>ad(l)))!==null&&i!==void 0?i:!1}function X2(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>!ad(l)))!==null&&i!==void 0?i:!1}function ad(n){return n!==null&&typeof n=="object"&&n instanceof rd}function Q2(n,e=100){return Jl(this,arguments,function*(){let i,l=0;for(;l<e;){const o=yield Ye(n.listTools({cursor:i}));for(const s of o.tools)yield yield Ye(s),l++;if(!o.nextCursor)break;i=o.nextCursor}})}class rd{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new rd(e,t)}async initialize(){var e,t,i,l;if(this.mcpTools.length>0)return;const o={},s=[];for(const d of this.mcpClients)try{for(var u=!0,c=(t=void 0,us(Q2(d))),f;f=await c.next(),e=f.done,!e;u=!0){l=f.value,u=!1;const p=l;s.push(p);const h=p.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(p){t={error:p}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(t)throw t.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),WS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await l.callTool({name:i.name,arguments:i.args},void 0,o);t.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function W2(n,e,t){const i=new BS;let l;t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data);const o=aA(n,l);Object.assign(i,o),e(i)}class j2{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=nM(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const d=new Promise(T=>{f=T}),p=e.callbacks,h=function(){f({})},m=this.apiClient,x={onopen:h,onmessage:T=>{W2(m,p.onmessage,T)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(T){},onclose:(i=p==null?void 0:p.onclose)!==null&&i!==void 0?i:function(T){}},S=this.webSocketFactory.create(c,tM(s),x);S.connect(),await d;const _=He(this.apiClient,e.model),y=o0(this.apiClient,{model:_}),v=Jc(this.apiClient,{setup:y});return S.send(JSON.stringify(v)),new eM(S,this.apiClient)}}class eM{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=SE(this.apiClient,e),i=s0(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=CE(this.apiClient,e),i=Jc(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=Jc(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Vl.PLAY)}pause(){this.sendPlaybackControl(Vl.PAUSE)}stop(){this.sendPlaybackControl(Vl.STOP)}resetContext(){this.sendPlaybackControl(Vl.RESET_CONTEXT)}close(){this.conn.close()}}function tM(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function nM(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lM(n,e,t){const i=new $S;let l;if(t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data),n.isVertexAI()){const o=WE(n,l);Object.assign(i,o)}else{const o=QE(n,l);Object.assign(i,o)}e(i)}class oM{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new j2(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,l,o,s,u;const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const p=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&d0(e.config.tools)&&h0(p);const h=uM(p);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const B=this.apiClient.getApiKey();let O="BidiGenerateContent",fe="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),O="BidiGenerateContentConstrained",fe="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${O}?${fe}=${B}`}let m=()=>{};const x=new Promise(B=>{m=B}),S=e.callbacks,_=function(){var B;(B=S==null?void 0:S.onopen)===null||B===void 0||B.call(S),m({})},y=this.apiClient,v={onopen:_,onmessage:B=>{lM(y,S.onmessage,B)},onerror:(t=S==null?void 0:S.onerror)!==null&&t!==void 0?t:function(B){},onclose:(i=S==null?void 0:S.onclose)!==null&&i!==void 0?i:function(B){}},T=this.webSocketFactory.create(d,rM(h),v);T.connect(),await x;let C=He(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const B=this.apiClient.getProject(),O=this.apiClient.getLocation();C=`projects/${B}/locations/${O}/`+C}let A={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[gr.AUDIO]}:e.config.responseModalities=[gr.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],N=[];for(const B of w)if(this.isCallableTool(B)){const O=B;N.push(await O.tool())}else N.push(B);N.length>0&&(e.config.tools=N);const D={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=pE(this.apiClient,D):A=hE(this.apiClient,D),delete A.config,T.send(JSON.stringify(A)),new aM(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const sM={turnComplete:!0};class aM{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=xn(e,t.turns),e.isVertexAI()?i=i.map(l=>Eo(e,l)):i=i.map(l=>Hr(e,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(iM)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},sM),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:TE(this.apiClient,e)}:t={realtimeInput:xE(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function rM(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function uM(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _m=10;function Em(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const s of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(ka(s)){l=!0;break}if(!l)return!0;const o=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ka(n){return"callTool"in n&&typeof n.callTool=="function"}function Am(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cM extends _o{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,l,o,s,u;const c=await this.processParamsForMcpUsage(t);if(!J2(t)||Em(t.config))return await this.generateContentInternal(c);if(X2(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,d;const p=xn(this.apiClient,c.contents),h=(o=(l=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:_m;let m=0;for(;m<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const x=f.candidates[0].content,S=[];for(const _ of(u=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(ka(_)){const v=await _.callTool(f.functionCalls);S.push(...v)}m++,d={role:"user",parts:S},c.contents=xn(this.apiClient,c.contents),c.contents.push(x),c.contents.push(d),Am(c.config)&&(p.push(x),p.push(d))}return Am(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async t=>{if(Em(t.config)){const i=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var l;let o;const s=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((l=c==null?void 0:c.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:s.push(c);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o}:u={generatedImages:s},u}),this.list=async t=>{var i;const s={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new qr(po.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const l={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(l)}}async processParamsForMcpUsage(e){var t,i,l;const o=(t=e.config)===null||t===void 0?void 0:t.tools;if(!o)return e;const s=await Promise.all(o.map(async c=>ka(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&d0(e.config.tools)){const c=(l=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),h0(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var t,i,l;const o=new Map;for(const s of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(ka(s)){const u=s,c=await u.tool();for(const f of(l=c.functionDeclarations)!==null&&l!==void 0?l:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var t,i,l;const o=(l=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:_m;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,d,p){var h,m;return Jl(this,arguments,function*(){for(var x,S,_,y;u<o;){s&&(u++,s=!1);const A=yield Ye(f.processParamsForMcpUsage(p)),w=yield Ye(f.generateContentStreamInternal(A)),N=[],D=[];try{for(var v=!0,T=(S=void 0,us(w)),C;C=yield Ye(T.next()),x=C.done,!x;v=!0){y=C.value,v=!1;const B=y;if(yield yield Ye(B),B.candidates&&(!((h=B.candidates[0])===null||h===void 0)&&h.content)){D.push(B.candidates[0].content);for(const O of(m=B.candidates[0].content.parts)!==null&&m!==void 0?m:[])if(u<o&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(O.functionCall.name)){const fe=yield Ye(d.get(O.functionCall.name).callTool([O.functionCall]));N.push(...fe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(B){S={error:B}}finally{try{!v&&!x&&(_=T.return)&&(yield Ye(_.call(T)))}finally{if(S)throw S.error}}if(N.length>0){s=!0;const B=new $o;B.candidates=[{content:{role:"user",parts:N}}],yield yield Ye(B);const O=[];O.push(...D),O.push({role:"user",parts:N});const fe=xn(f.apiClient,p.contents).concat(O);p.contents=fe}else break}})}(this,c,e)}async generateContentInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=vm(this.apiClient,e);return u=Q("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=Tm(this.apiClient,d),h=new $o;return Object.assign(h,p),h})}else{const f=ym(this.apiClient,e);return u=Q("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=xm(this.apiClient,d),h=new $o;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=vm(this.apiClient,e);u=Q("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const d=this.apiClient;return s=d.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return Jl(this,arguments,function*(){var h,m,x,S;try{for(var _=!0,y=us(p),v;v=yield Ye(y.next()),h=v.done,!h;_=!0){S=v.value,_=!1;const C=Tm(d,yield Ye(S.json())),A=new $o;Object.assign(A,C),yield yield Ye(A)}}catch(T){m={error:T}}finally{try{!_&&!h&&(x=y.return)&&(yield Ye(x.call(y)))}finally{if(m)throw m.error}}})})}else{const f=ym(this.apiClient,e);u=Q("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const d=this.apiClient;return s=d.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return Jl(this,arguments,function*(){var h,m,x,S;try{for(var _=!0,y=us(p),v;v=yield Ye(y.next()),h=v.done,!h;_=!0){S=v.value,_=!1;const C=xm(d,yield Ye(S.json())),A=new $o;Object.assign(A,C),yield yield Ye(A)}}catch(T){m={error:T}}finally{try{!_&&!h&&(x=y.return)&&(yield Ye(x.call(y)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=xb(this.apiClient,e);return u=Q("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=E2(this.apiClient,d),h=new Qp;return Object.assign(h,p),h})}else{const f=kA(this.apiClient,e);return u=Q("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=e2(this.apiClient,d),h=new Qp;return Object.assign(h,p),h})}}async generateImagesInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Sb(this.apiClient,e);return u=Q("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=b2(this.apiClient,d),h=new Wp;return Object.assign(h,p),h})}else{const f=UA(this.apiClient,e);return u=Q("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=i2(this.apiClient,d),h=new Wp;return Object.assign(h,p),h})}}async editImageInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Nb(this.apiClient,e);return o=Q("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=M2(this.apiClient,c),d=new kS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Rb(this.apiClient,e);return o=Q("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=N2(this.apiClient,c),d=new IS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Db(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Qc(this.apiClient,d))}else{const f=LA(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Xc(this.apiClient,d))}}async listInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ib(this.apiClient,e);return u=Q("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=k2(this.apiClient,d),h=new jp;return Object.assign(h,p),h})}else{const f=VA(this.apiClient,e);return u=Q("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=o2(this.apiClient,d),h=new jp;return Object.assign(h,p),h})}}async update(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Lb(this.apiClient,e);return u=Q("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Qc(this.apiClient,d))}else{const f=BA(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Xc(this.apiClient,d))}}async delete(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ob(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(()=>{const d=I2(),p=new em;return Object.assign(p,d),p})}else{const f=PA(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(()=>{const d=s2(),p=new em;return Object.assign(p,d),p})}}async countTokens(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=$b(this.apiClient,e);return u=Q("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=U2(this.apiClient,d),h=new tm;return Object.assign(h,p),h})}else{const f=GA(this.apiClient,e);return u=Q("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=a2(this.apiClient,d),h=new tm;return Object.assign(h,p),h})}}async computeTokens(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Bb(this.apiClient,e);return o=Q("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=L2(this.apiClient,c),d=new US;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Gb(this.apiClient,e);return u=Q("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>B2(this.apiClient,d))}else{const f=YA(this.apiClient,e);return u=Q("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>f2(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fM(n,e){const t={},i=a(e,["operationName"]);i!=null&&r(t,["_url","operationName"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function dM(n,e){const t={},i=a(e,["operationName"]);i!=null&&r(t,["_url","operationName"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function hM(n,e){const t={},i=a(e,["operationName"]);i!=null&&r(t,["operationName"],i);const l=a(e,["resourceName"]);l!=null&&r(t,["_url","resourceName"],l);const o=a(e,["config"]);return o!=null&&r(t,["config"],o),t}function pM(n,e){const t={},i=a(e,["video","uri"]);i!=null&&r(t,["uri"],i);const l=a(e,["video","encodedVideo"]);l!=null&&r(t,["videoBytes"],ii(n,l));const o=a(e,["encoding"]);return o!=null&&r(t,["mimeType"],o),t}function mM(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],pM(n,i)),t}function gM(n,e){const t={},i=a(e,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>mM(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function yM(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response","generateVideoResponse"]);return u!=null&&r(t,["response"],gM(n,u)),t}function vM(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["uri"],i);const l=a(e,["bytesBase64Encoded"]);l!=null&&r(t,["videoBytes"],ii(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function xM(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],vM(n,i)),t}function TM(n,e){const t={},i=a(e,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>xM(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function bm(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],TM(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SM extends _o{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=t.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:l,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})}async getVideosOperationInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=dM(this.apiClient,e);return u=Q("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>bm(this.apiClient,d))}else{const f=fM(this.apiClient,e);return u=Q("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>yM(this.apiClient,d))}}async fetchPredictVideosOperationInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=hM(this.apiClient,e);return o=Q("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>bm(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CM(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function p0(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],CM(n,i)),t}function _M(n,e){const t={},i=a(e,["speaker"]);i!=null&&r(t,["speaker"],i);const l=a(e,["voiceConfig"]);return l!=null&&r(t,["voiceConfig"],p0(n,l)),t}function EM(n,e){const t={},i=a(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>_M(n,o))),r(t,["speakerVoiceConfigs"],l)}return t}function AM(n,e){const t={},i=a(e,["voiceConfig"]);i!=null&&r(t,["voiceConfig"],p0(n,i));const l=a(e,["multiSpeakerVoiceConfig"]);l!=null&&r(t,["multiSpeakerVoiceConfig"],EM(n,l));const o=a(e,["languageCode"]);return o!=null&&r(t,["languageCode"],o),t}function bM(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function MM(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function NM(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function wM(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],bM(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],MM(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],NM(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function RM(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>wM(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function DM(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function kM(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function IM(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],kM(n,i)),t}function UM(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function LM(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],UM(n,i)),t}function OM(){return{}}function VM(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>DM(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],IM(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],LM(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],OM());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function $M(n,e){const t={},i=a(e,["handle"]);if(i!=null&&r(t,["handle"],i),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Mm(){return{}}function BM(n,e){const t={},i=a(e,["disabled"]);i!=null&&r(t,["disabled"],i);const l=a(e,["startOfSpeechSensitivity"]);l!=null&&r(t,["startOfSpeechSensitivity"],l);const o=a(e,["endOfSpeechSensitivity"]);o!=null&&r(t,["endOfSpeechSensitivity"],o);const s=a(e,["prefixPaddingMs"]);s!=null&&r(t,["prefixPaddingMs"],s);const u=a(e,["silenceDurationMs"]);return u!=null&&r(t,["silenceDurationMs"],u),t}function PM(n,e){const t={},i=a(e,["automaticActivityDetection"]);i!=null&&r(t,["automaticActivityDetection"],BM(n,i));const l=a(e,["activityHandling"]);l!=null&&r(t,["activityHandling"],l);const o=a(e,["turnCoverage"]);return o!=null&&r(t,["turnCoverage"],o),t}function zM(n,e){const t={},i=a(e,["targetTokens"]);return i!=null&&r(t,["targetTokens"],i),t}function GM(n,e){const t={},i=a(e,["triggerTokens"]);i!=null&&r(t,["triggerTokens"],i);const l=a(e,["slidingWindow"]);return l!=null&&r(t,["slidingWindow"],zM(n,l)),t}function qM(n,e){const t={},i=a(e,["proactiveAudio"]);return i!=null&&r(t,["proactiveAudio"],i),t}function HM(n,e,t){const i={},l=a(e,["generationConfig"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig"],l);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const s=a(e,["temperature"]);t!==void 0&&s!=null&&r(t,["setup","generationConfig","temperature"],s);const u=a(e,["topP"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topP"],u);const c=a(e,["topK"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","maxOutputTokens"],f);const d=a(e,["mediaResolution"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","mediaResolution"],d);const p=a(e,["seed"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","seed"],p);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","speechConfig"],AM(n,od(n,h)));const m=a(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],m);const x=a(e,["systemInstruction"]);t!==void 0&&x!=null&&r(t,["setup","systemInstruction"],RM(n,Dt(n,x)));const S=a(e,["tools"]);if(t!==void 0&&S!=null){let w=Zs(n,S);Array.isArray(w)&&(w=w.map(N=>VM(n,Fs(n,N)))),r(t,["setup","tools"],w)}const _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],$M(n,_));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],Mm());const v=a(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&r(t,["setup","outputAudioTranscription"],Mm());const T=a(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&r(t,["setup","realtimeInputConfig"],PM(n,T));const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&r(t,["setup","contextWindowCompression"],GM(n,C));const A=a(e,["proactivity"]);return t!==void 0&&A!=null&&r(t,["setup","proactivity"],qM(n,A)),i}function YM(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["setup","model"],He(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],HM(n,l,t)),t}function FM(n,e,t){const i={},l=a(e,["expireTime"]);t!==void 0&&l!=null&&r(t,["expireTime"],l);const o=a(e,["newSessionExpireTime"]);t!==void 0&&o!=null&&r(t,["newSessionExpireTime"],o);const s=a(e,["uses"]);t!==void 0&&s!=null&&r(t,["uses"],s);const u=a(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&r(t,["bidiGenerateContentSetup"],YM(n,u));const c=a(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&r(t,["fieldMask"],c),i}function ZM(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],FM(n,i,t)),t}function KM(n,e){const t={},i=a(e,["name"]);return i!=null&&r(t,["name"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JM(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(o=>`${t}.${o}`);e.push(...l)}else e.push(t)}return e.join(",")}function XM(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(n.bidiGenerateContentSetup=o,t=o):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const l=n.fieldMask;if(t){const o=JM(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?n.fieldMask=o:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];l.length>0&&(u=l.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?n.fieldMask=l.join(","):delete n.fieldMask;return n}class QM extends _o{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=ZM(this.apiClient,e);o=Q("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=XM(u,e.config);return l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>KM(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WM(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function jM(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);return t!==void 0&&s!=null&&r(t,["_query","filter"],s),i}function eN(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],jM(n,i,t)),t}function tN(n,e){const t={},i=a(e,["textInput"]);i!=null&&r(t,["textInput"],i);const l=a(e,["output"]);return l!=null&&r(t,["output"],l),t}function nN(n,e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=a(e,["examples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>tN(n,o))),r(t,["examples","examples"],l)}return t}function iN(n,e,t){const i={};if(a(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=a(e,["tunedModelDisplayName"]);if(t!==void 0&&l!=null&&r(t,["displayName"],l),a(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=a(e,["epochCount"]);t!==void 0&&o!=null&&r(t,["tuningTask","hyperparameters","epochCount"],o);const s=a(e,["learningRateMultiplier"]);if(s!=null&&r(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=a(e,["batchSize"]);t!==void 0&&u!=null&&r(t,["tuningTask","hyperparameters","batchSize"],u);const c=a(e,["learningRate"]);return t!==void 0&&c!=null&&r(t,["tuningTask","hyperparameters","learningRate"],c),i}function lN(n,e){const t={},i=a(e,["baseModel"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["trainingDataset"]);l!=null&&r(t,["tuningTask","trainingData"],nN(n,l));const o=a(e,["config"]);return o!=null&&r(t,["config"],iN(n,o,t)),t}function oN(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function sN(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);return t!==void 0&&s!=null&&r(t,["_query","filter"],s),i}function aN(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],sN(n,i,t)),t}function rN(n,e,t){const i={},l=a(e,["gcsUri"]);if(t!==void 0&&l!=null&&r(t,["supervisedTuningSpec","trainingDatasetUri"],l),a(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function uN(n,e){const t={},i=a(e,["gcsUri"]);return i!=null&&r(t,["validationDatasetUri"],i),t}function cN(n,e,t){const i={},l=a(e,["validationDataset"]);t!==void 0&&l!=null&&r(t,["supervisedTuningSpec"],uN(n,l));const o=a(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&r(t,["tunedModelDisplayName"],o);const s=a(e,["description"]);t!==void 0&&s!=null&&r(t,["description"],s);const u=a(e,["epochCount"]);t!==void 0&&u!=null&&r(t,["supervisedTuningSpec","hyperParameters","epochCount"],u);const c=a(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&r(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const f=a(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&r(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const d=a(e,["adapterSize"]);if(t!==void 0&&d!=null&&r(t,["supervisedTuningSpec","hyperParameters","adapterSize"],d),a(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function fN(n,e){const t={},i=a(e,["baseModel"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["trainingDataset"]);l!=null&&r(t,["supervisedTuningSpec","trainingDatasetUri"],rN(n,l,t));const o=a(e,["config"]);return o!=null&&r(t,["config"],cN(n,o,t)),t}function dN(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["model"],i);const l=a(e,["name"]);return l!=null&&r(t,["endpoint"],l),t}function m0(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["state"]);l!=null&&r(t,["state"],Qv(n,l));const o=a(e,["createTime"]);o!=null&&r(t,["createTime"],o);const s=a(e,["tuningTask","startTime"]);s!=null&&r(t,["startTime"],s);const u=a(e,["tuningTask","completeTime"]);u!=null&&r(t,["endTime"],u);const c=a(e,["updateTime"]);c!=null&&r(t,["updateTime"],c);const f=a(e,["description"]);f!=null&&r(t,["description"],f);const d=a(e,["baseModel"]);d!=null&&r(t,["baseModel"],d);const p=a(e,["_self"]);p!=null&&r(t,["tunedModel"],dN(n,p));const h=a(e,["distillationSpec"]);h!=null&&r(t,["distillationSpec"],h);const m=a(e,["experiment"]);m!=null&&r(t,["experiment"],m);const x=a(e,["labels"]);x!=null&&r(t,["labels"],x);const S=a(e,["pipelineJob"]);S!=null&&r(t,["pipelineJob"],S);const _=a(e,["serviceAccount"]);_!=null&&r(t,["serviceAccount"],_);const y=a(e,["tunedModelDisplayName"]);return y!=null&&r(t,["tunedModelDisplayName"],y),t}function hN(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["tunedModels"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>m0(n,s))),r(t,["tuningJobs"],o)}return t}function pN(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);return s!=null&&r(t,["error"],s),t}function mN(n,e){const t={},i=a(e,["checkpointId"]);i!=null&&r(t,["checkpointId"],i);const l=a(e,["epoch"]);l!=null&&r(t,["epoch"],l);const o=a(e,["step"]);o!=null&&r(t,["step"],o);const s=a(e,["endpoint"]);return s!=null&&r(t,["endpoint"],s),t}function gN(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["model"],i);const l=a(e,["endpoint"]);l!=null&&r(t,["endpoint"],l);const o=a(e,["checkpoints"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>mN(n,u))),r(t,["checkpoints"],s)}return t}function ef(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["state"]);l!=null&&r(t,["state"],Qv(n,l));const o=a(e,["createTime"]);o!=null&&r(t,["createTime"],o);const s=a(e,["startTime"]);s!=null&&r(t,["startTime"],s);const u=a(e,["endTime"]);u!=null&&r(t,["endTime"],u);const c=a(e,["updateTime"]);c!=null&&r(t,["updateTime"],c);const f=a(e,["error"]);f!=null&&r(t,["error"],f);const d=a(e,["description"]);d!=null&&r(t,["description"],d);const p=a(e,["baseModel"]);p!=null&&r(t,["baseModel"],p);const h=a(e,["tunedModel"]);h!=null&&r(t,["tunedModel"],gN(n,h));const m=a(e,["supervisedTuningSpec"]);m!=null&&r(t,["supervisedTuningSpec"],m);const x=a(e,["tuningDataStats"]);x!=null&&r(t,["tuningDataStats"],x);const S=a(e,["encryptionSpec"]);S!=null&&r(t,["encryptionSpec"],S);const _=a(e,["partnerModelTuningSpec"]);_!=null&&r(t,["partnerModelTuningSpec"],_);const y=a(e,["distillationSpec"]);y!=null&&r(t,["distillationSpec"],y);const v=a(e,["experiment"]);v!=null&&r(t,["experiment"],v);const T=a(e,["labels"]);T!=null&&r(t,["labels"],T);const C=a(e,["pipelineJob"]);C!=null&&r(t,["pipelineJob"],C);const A=a(e,["serviceAccount"]);A!=null&&r(t,["serviceAccount"],A);const w=a(e,["tunedModelDisplayName"]);return w!=null&&r(t,["tunedModelDisplayName"],w),t}function yN(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["tuningJobs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>ef(n,s))),r(t,["tuningJobs"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vN extends _o{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new qr(po.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const i=await this.tuneMldevInternal(t);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Yc.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=oN(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>ef(this.apiClient,d))}else{const f=WM(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>m0(this.apiClient,d))}}async listInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=aN(this.apiClient,e);return u=Q("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=yN(this.apiClient,d),h=new nm;return Object.assign(h,p),h})}else{const f=eN(this.apiClient,e);return u=Q("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=hN(this.apiClient,d),h=new nm;return Object.assign(h,p),h})}}async tuneInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=fN(this.apiClient,e);return o=Q("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>ef(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=lN(this.apiClient,e);return o=Q("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>pN(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xN{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const TN=1024*1024*8,SN=3,CN=1e3,_N=2,Uu="x-goog-upload-status";async function EN(n,e,t){var i,l,o;let s=0,u=0,c=new Fc(new Response),f="upload";for(s=n.size;u<s;){const p=Math.min(TN,s-u),h=n.slice(u,u+p);u+p>=s&&(f+=", finalize");let m=0,x=CN;for(;m<SN&&(c=await t.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[Uu]));)m++,await bN(x),x=x*_N;if(u+=p,((l=c==null?void 0:c.headers)===null||l===void 0?void 0:l[Uu])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[Uu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function AN(n){return{size:n.size,type:n.type}}function bN(n){return new Promise(e=>setTimeout(e,n))}class MN{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await EN(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await AN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NN{create(e,t,i){return new wN(e,t,i)}}class wN{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nm="x-goog-api-key";class RN{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Nm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Nm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DN="gl-node/";class g0{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=DS(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const l=new RN(this.apiKey);this.apiClient=new Z2({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:DN+"web",uploader:new MN,downloader:new xN}),this.models=new cM(this.apiClient),this.live=new oM(this.apiClient,l,new NN),this.chats=new l_(this.models,this.apiClient),this.caches=new t_(this.apiClient),this.files=new y_(this.apiClient),this.operations=new SM(this.apiClient),this.authTokens=new QM(this.apiClient),this.tunings=new vN(this.apiClient)}}function ud(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let hl=ud();function y0(n){hl=n}const v0=/[&<>"']/,kN=new RegExp(v0.source,"g"),x0=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,IN=new RegExp(x0.source,"g"),UN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wm=n=>UN[n];function Qt(n,e){if(e){if(v0.test(n))return n.replace(kN,wm)}else if(x0.test(n))return n.replace(IN,wm);return n}const LN=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ON(n){return n.replace(LN,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const VN=/(^|[^\[])\^/g;function Oe(n,e){let t=typeof n=="string"?n:n.source;e=e||"";const i={replace:(l,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(VN,"$1"),t=t.replace(l,s),i},getRegex:()=>new RegExp(t,e)};return i}function Rm(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const cs={exec:()=>null};function Dm(n,e){const t=n.replace(/\|/g,(o,s,u)=>{let c=!1,f=s;for(;--f>=0&&u[f]==="\\";)c=!c;return c?"|":" |"}),i=t.split(/ \|/);let l=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;l<i.length;l++)i[l]=i[l].trim().replace(/\\\|/g,"|");return i}function Bo(n,e,t){const i=n.length;if(i===0)return"";let l=0;for(;l<i&&n.charAt(i-l-1)===e;)l++;return n.slice(0,i-l)}function $N(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let i=0;i<n.length;i++)if(n[i]==="\\")i++;else if(n[i]===e[0])t++;else if(n[i]===e[1]&&(t--,t<0))return i;return-1}function km(n,e,t,i){const l=e.href,o=e.title?Qt(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const u={type:"link",raw:t,href:l,title:o,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,u}return{type:"image",raw:t,href:l,title:o,text:Qt(s)}}function BN(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(l=>{const o=l.match(/^\s+/);if(o===null)return l;const[s]=o;return s.length>=i.length?l.slice(i.length):l}).join(`
`)}class xr{constructor(e){Ge(this,"options");Ge(this,"rules");Ge(this,"lexer");this.options=e||hl}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Bo(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],l=BN(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:l}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const l=Bo(i,"#");(this.options.pedantic||!l||/ $/.test(l))&&(i=l.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Bo(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let i=Bo(t[0],`
`).split(`
`),l="",o="";const s=[];for(;i.length>0;){let u=!1;const c=[];let f;for(f=0;f<i.length;f++)if(/^ {0,3}>/.test(i[f]))c.push(i[f]),u=!0;else if(!u)c.push(i[f]);else break;i=i.slice(f);const d=c.join(`
`),p=d.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");l=l?`${l}
${d}`:d,o=o?`${o}
${p}`:p;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,s,!0),this.lexer.state.top=h,i.length===0)break;const m=s[s.length-1];if((m==null?void 0:m.type)==="code")break;if((m==null?void 0:m.type)==="blockquote"){const x=m,S=x.raw+`
`+i.join(`
`),_=this.blockquote(S);s[s.length-1]=_,l=l.substring(0,l.length-x.raw.length)+_.raw,o=o.substring(0,o.length-x.text.length)+_.text;break}else if((m==null?void 0:m.type)==="list"){const x=m,S=x.raw+`
`+i.join(`
`),_=this.list(S);s[s.length-1]=_,l=l.substring(0,l.length-m.raw.length)+_.raw,o=o.substring(0,o.length-x.raw.length)+_.raw,i=S.substring(s[s.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:s,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const l=i.length>1,o={type:"list",raw:"",ordered:l,start:l?+i.slice(0,-1):"",loose:!1,items:[]};i=l?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=l?i:"[*+-]");const s=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`);let u=!1;for(;e;){let c=!1,f="",d="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;f=t[0],e=e.substring(f.length);let p=t[2].split(`
`,1)[0].replace(/^\t+/,y=>" ".repeat(3*y.length)),h=e.split(`
`,1)[0],m=!p.trim(),x=0;if(this.options.pedantic?(x=2,d=p.trimStart()):m?x=t[1].length+1:(x=t[2].search(/[^ ]/),x=x>4?1:x,d=p.slice(x),x+=t[1].length),m&&/^ *$/.test(h)&&(f+=h+`
`,e=e.substring(h.length+1),c=!0),!c){const y=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),v=new RegExp(`^ {0,${Math.min(3,x-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),T=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:\`\`\`|~~~)`),C=new RegExp(`^ {0,${Math.min(3,x-1)}}#`);for(;e;){const A=e.split(`
`,1)[0];if(h=A,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),T.test(h)||C.test(h)||y.test(h)||v.test(e))break;if(h.search(/[^ ]/)>=x||!h.trim())d+=`
`+h.slice(x);else{if(m||p.search(/[^ ]/)>=4||T.test(p)||C.test(p)||v.test(p))break;d+=`
`+h}!m&&!h.trim()&&(m=!0),f+=A+`
`,e=e.substring(A.length+1),p=h.slice(x)}}o.loose||(u?o.loose=!0:/\n *\n *$/.test(f)&&(u=!0));let S=null,_;this.options.gfm&&(S=/^\[[ xX]\] /.exec(d),S&&(_=S[0]!=="[ ] ",d=d.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:f,task:!!S,checked:_,loose:!1,text:d,tokens:[]}),o.raw+=f}o.items[o.items.length-1].raw=o.items[o.items.length-1].raw.trimEnd(),o.items[o.items.length-1].text=o.items[o.items.length-1].text.trimEnd(),o.raw=o.raw.trimEnd();for(let c=0;c<o.items.length;c++)if(this.lexer.state.top=!1,o.items[c].tokens=this.lexer.blockTokens(o.items[c].text,[]),!o.loose){const f=o.items[c].tokens.filter(p=>p.type==="space"),d=f.length>0&&f.some(p=>/\n.*\n/.test(p.raw));o.loose=d}if(o.loose)for(let c=0;c<o.items.length;c++)o.items[c].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),l=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:l,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const i=Dm(t[1]),l=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===l.length){for(const u of l)/^ *-+: *$/.test(u)?s.align.push("right"):/^ *:-+: *$/.test(u)?s.align.push("center"):/^ *:-+ *$/.test(u)?s.align.push("left"):s.align.push(null);for(let u=0;u<i.length;u++)s.header.push({text:i[u],tokens:this.lexer.inline(i[u]),header:!0,align:s.align[u]});for(const u of o)s.rows.push(Dm(u,s.header.length).map((c,f)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:s.align[f]})));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Qt(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const s=Bo(i.slice(0,-1),"\\");if((i.length-s.length)%2===0)return}else{const s=$N(t[2],"()");if(s>-1){const c=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let l=t[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);s&&(l=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(i)?l=l.slice(1):l=l.slice(1,-1)),km(t,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const l=(i[2]||i[1]).replace(/\s+/g," "),o=t[l.toLowerCase()];if(!o){const s=i[0].charAt(0);return{type:"text",raw:s,text:s}}return km(i,o,i[0],this.lexer)}}emStrong(e,t,i=""){let l=this.rules.inline.emStrongLDelim.exec(e);if(!l||l[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(l[1]||l[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const s=[...l[0]].length-1;let u,c,f=s,d=0;const p=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,t=t.slice(-1*e.length+s);(l=p.exec(t))!=null;){if(u=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!u)continue;if(c=[...u].length,l[3]||l[4]){f+=c;continue}else if((l[5]||l[6])&&s%3&&!((s+c)%3)){d+=c;continue}if(f-=c,f>0)continue;c=Math.min(c,c+f+d);const h=[...l[0]][0].length,m=e.slice(0,s+l.index+h+c);if(Math.min(s,c)%2){const S=m.slice(1,-1);return{type:"em",raw:m,text:S,tokens:this.lexer.inlineTokens(S)}}const x=m.slice(2,-2);return{type:"strong",raw:m,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const l=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return l&&o&&(i=i.substring(1,i.length-1)),i=Qt(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let i,l;return t[2]==="@"?(i=Qt(t[1]),l="mailto:"+i):(i=Qt(t[1]),l=i),{type:"link",raw:t[0],text:i,href:l,tokens:[{type:"text",raw:i,text:i}]}}}url(e){var i;let t;if(t=this.rules.inline.url.exec(e)){let l,o;if(t[2]==="@")l=Qt(t[0]),o="mailto:"+l;else{let s;do s=t[0],t[0]=((i=this.rules.inline._backpedal.exec(t[0]))==null?void 0:i[0])??"";while(s!==t[0]);l=Qt(t[0]),t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:l,href:o,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let i;return this.lexer.state.inRawBlock?i=t[0]:i=Qt(t[0]),{type:"text",raw:t[0],text:i}}}}const PN=/^(?: *(?:\n|$))+/,zN=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,GN=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ks=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,qN=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,T0=/(?:[*+-]|\d{1,9}[.)])/,S0=Oe(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,T0).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),cd=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,HN=/^[^\n]+/,fd=/(?!\s*\])(?:\\.|[^\[\]\\])+/,YN=Oe(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",fd).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),FN=Oe(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,T0).getRegex(),Fr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",dd=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ZN=Oe("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",dd).replace("tag",Fr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),C0=Oe(cd).replace("hr",Ks).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fr).getRegex(),KN=Oe(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",C0).getRegex(),hd={blockquote:KN,code:zN,def:YN,fences:GN,heading:qN,hr:Ks,html:ZN,lheading:S0,list:FN,newline:PN,paragraph:C0,table:cs,text:HN},Im=Oe("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ks).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fr).getRegex(),JN={...hd,table:Im,paragraph:Oe(cd).replace("hr",Ks).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Im).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Fr).getRegex()},XN={...hd,html:Oe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",dd).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:cs,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Oe(cd).replace("hr",Ks).replace("heading",` *#{1,6} *[^
]`).replace("lheading",S0).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},_0=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,QN=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,E0=/^( {2,}|\\)\n(?!\s*$)/,WN=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Js="\\p{P}\\p{S}",jN=Oe(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Js).getRegex(),ew=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,tw=Oe(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Js).getRegex(),nw=Oe("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Js).getRegex(),iw=Oe("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Js).getRegex(),lw=Oe(/\\([punct])/,"gu").replace(/punct/g,Js).getRegex(),ow=Oe(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),sw=Oe(dd).replace("(?:-->|$)","-->").getRegex(),aw=Oe("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",sw).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Tr=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,rw=Oe(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Tr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),A0=Oe(/^!?\[(label)\]\[(ref)\]/).replace("label",Tr).replace("ref",fd).getRegex(),b0=Oe(/^!?\[(ref)\](?:\[\])?/).replace("ref",fd).getRegex(),uw=Oe("reflink|nolink(?!\\()","g").replace("reflink",A0).replace("nolink",b0).getRegex(),pd={_backpedal:cs,anyPunctuation:lw,autolink:ow,blockSkip:ew,br:E0,code:QN,del:cs,emStrongLDelim:tw,emStrongRDelimAst:nw,emStrongRDelimUnd:iw,escape:_0,link:rw,nolink:b0,punctuation:jN,reflink:A0,reflinkSearch:uw,tag:aw,text:WN,url:cs},cw={...pd,link:Oe(/^!?\[(label)\]\((.*?)\)/).replace("label",Tr).getRegex(),reflink:Oe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Tr).getRegex()},tf={...pd,escape:Oe(_0).replace("])","~|])").getRegex(),url:Oe(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},fw={...tf,br:Oe(E0).replace("{2,}","*").getRegex(),text:Oe(tf.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ma={normal:hd,gfm:JN,pedantic:XN},Po={normal:pd,gfm:tf,breaks:fw,pedantic:cw};class Nn{constructor(e){Ge(this,"tokens");Ge(this,"options");Ge(this,"state");Ge(this,"tokenizer");Ge(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||hl,this.options.tokenizer=this.options.tokenizer||new xr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:ma.normal,inline:Po.normal};this.options.pedantic?(t.block=ma.pedantic,t.inline=Po.pedantic):this.options.gfm&&(t.block=ma.gfm,this.options.breaks?t.inline=Po.breaks:t.inline=Po.gfm),this.tokenizer.rules=t}static get rules(){return{block:ma,inline:Po}}static lex(e,t){return new Nn(t).lex(e)}static lexInline(e,t){return new Nn(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],i=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(u,c,f)=>c+"    ".repeat(f.length));let l,o,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(l=u.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))){if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length),l.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+l.raw,o.text+=`
`+l.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+l.raw,o.text+=`
`+l.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let u=1/0;const c=e.slice(1);let f;this.options.extensions.startBlock.forEach(d=>{f=d.call({lexer:this},c),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(this.state.top&&(l=this.tokenizer.paragraph(s))){o=t[t.length-1],i&&(o==null?void 0:o.type)==="paragraph"?(o.raw+=`
`+l.raw,o.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(l),i=s.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length),o=t[t.length-1],o&&o.type==="text"?(o.raw+=`
`+l.raw,o.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(l);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,l,o,s=e,u,c,f;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)d.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,u.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(i=d.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),l=t[t.length-1],l&&i.type==="text"&&l.type==="text"?(l.raw+=i.raw,l.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),l=t[t.length-1],l&&i.type==="text"&&l.type==="text"?(l.raw+=i.raw,l.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,s,f)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const p=e.slice(1);let h;this.options.extensions.startInline.forEach(m=>{h=m.call({lexer:this},p),typeof h=="number"&&h>=0&&(d=Math.min(d,h))}),d<1/0&&d>=0&&(o=e.substring(0,d+1))}if(i=this.tokenizer.inlineText(o)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(f=i.raw.slice(-1)),c=!0,l=t[t.length-1],l&&l.type==="text"?(l.raw+=i.raw,l.text+=i.text):t.push(i);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}}class Sr{constructor(e){Ge(this,"options");Ge(this,"parser");this.options=e||hl}space(e){return""}code({text:e,lang:t,escaped:i}){var s;const l=(s=(t||"").match(/^\S*/))==null?void 0:s[0],o=e.replace(/\n$/,"")+`
`;return l?'<pre><code class="language-'+Qt(l)+'">'+(i?o:Qt(o,!0))+`</code></pre>
`:"<pre><code>"+(i?o:Qt(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,i=e.start;let l="";for(let u=0;u<e.items.length;u++){const c=e.items[u];l+=this.listitem(c)}const o=t?"ol":"ul",s=t&&i!==1?' start="'+i+'"':"";return"<"+o+s+`>
`+l+"</"+o+`>
`}listitem(e){let t="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" "}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",i="";for(let o=0;o<e.header.length;o++)i+=this.tablecell(e.header[o]);t+=this.tablerow({text:i});let l="";for(let o=0;o<e.rows.length;o++){const s=e.rows[o];i="";for(let u=0;u<s.length;u++)i+=this.tablecell(s[u]);l+=this.tablerow({text:i})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+l+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+t+`</${i}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:i}){const l=this.parser.parseInline(i),o=Rm(e);if(o===null)return l;e=o;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+l+"</a>",s}image({href:e,title:t,text:i}){const l=Rm(e);if(l===null)return i;e=l;let o=`<img src="${e}" alt="${i}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class md{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class wn{constructor(e){Ge(this,"options");Ge(this,"renderer");Ge(this,"textRenderer");this.options=e||hl,this.options.renderer=this.options.renderer||new Sr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new md}static parse(e,t){return new wn(t).parse(e)}static parseInline(e,t){return new wn(t).parseInline(e)}parse(e,t=!0){let i="";for(let l=0;l<e.length;l++){const o=e[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const u=o,c=this.options.extensions.renderers[u.type].call({parser:this},u);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){i+=c||"";continue}}const s=o;switch(s.type){case"space":{i+=this.renderer.space(s);continue}case"hr":{i+=this.renderer.hr(s);continue}case"heading":{i+=this.renderer.heading(s);continue}case"code":{i+=this.renderer.code(s);continue}case"table":{i+=this.renderer.table(s);continue}case"blockquote":{i+=this.renderer.blockquote(s);continue}case"list":{i+=this.renderer.list(s);continue}case"html":{i+=this.renderer.html(s);continue}case"paragraph":{i+=this.renderer.paragraph(s);continue}case"text":{let u=s,c=this.renderer.text(u);for(;l+1<e.length&&e[l+1].type==="text";)u=e[++l],c+=`
`+this.renderer.text(u);t?i+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c}]}):i+=c;continue}default:{const u='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let l=0;l<e.length;l++){const o=e[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=u||"";continue}}const s=o;switch(s.type){case"escape":{i+=t.text(s);break}case"html":{i+=t.html(s);break}case"link":{i+=t.link(s);break}case"image":{i+=t.image(s);break}case"strong":{i+=t.strong(s);break}case"em":{i+=t.em(s);break}case"codespan":{i+=t.codespan(s);break}case"br":{i+=t.br(s);break}case"del":{i+=t.del(s);break}case"text":{i+=t.text(s);break}default:{const u='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}}class fs{constructor(e){Ge(this,"options");this.options=e||hl}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}Ge(fs,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var ti,M0,nf,N0;class dw{constructor(...e){Md(this,ti);Ge(this,"defaults",ud());Ge(this,"options",this.setOptions);Ge(this,"parse",wo(this,ti,nf).call(this,Nn.lex,wn.parse));Ge(this,"parseInline",wo(this,ti,nf).call(this,Nn.lexInline,wn.parseInline));Ge(this,"Parser",wn);Ge(this,"Renderer",Sr);Ge(this,"TextRenderer",md);Ge(this,"Lexer",Nn);Ge(this,"Tokenizer",xr);Ge(this,"Hooks",fs);this.use(...e)}walkTokens(e,t){var l,o;let i=[];for(const s of e)switch(i=i.concat(t.call(this,s)),s.type){case"table":{const u=s;for(const c of u.header)i=i.concat(this.walkTokens(c.tokens,t));for(const c of u.rows)for(const f of c)i=i.concat(this.walkTokens(f.tokens,t));break}case"list":{const u=s;i=i.concat(this.walkTokens(u.items,t));break}default:{const u=s;(o=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&o[u.type]?this.defaults.extensions.childTokens[u.type].forEach(c=>{const f=u[c].flat(1/0);i=i.concat(this.walkTokens(f,t))}):u.tokens&&(i=i.concat(this.walkTokens(u.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const l={...i};if(l.async=this.defaults.async||l.async||!1,i.extensions&&(i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const s=t.renderers[o.name];s?t.renderers[o.name]=function(...u){let c=o.renderer.apply(this,u);return c===!1&&(c=s.apply(this,u)),c}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=t[o.level];s?s.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),l.extensions=t),i.renderer){const o=this.defaults.renderer||new Sr(this.defaults);for(const s in i.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const u=s;let c=i.renderer[u];i.useNewRenderer||(c=wo(this,ti,M0).call(this,c,u,o));const f=o[u];o[u]=(...d)=>{let p=c.apply(o,d);return p===!1&&(p=f.apply(o,d)),p||""}}l.renderer=o}if(i.tokenizer){const o=this.defaults.tokenizer||new xr(this.defaults);for(const s in i.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const u=s,c=i.tokenizer[u],f=o[u];o[u]=(...d)=>{let p=c.apply(o,d);return p===!1&&(p=f.apply(o,d)),p}}l.tokenizer=o}if(i.hooks){const o=this.defaults.hooks||new fs;for(const s in i.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;const u=s,c=i.hooks[u],f=o[u];fs.passThroughHooks.has(s)?o[u]=d=>{if(this.defaults.async)return Promise.resolve(c.call(o,d)).then(h=>f.call(o,h));const p=c.call(o,d);return f.call(o,p)}:o[u]=(...d)=>{let p=c.apply(o,d);return p===!1&&(p=f.apply(o,d)),p}}l.hooks=o}if(i.walkTokens){const o=this.defaults.walkTokens,s=i.walkTokens;l.walkTokens=function(u){let c=[];return c.push(s.call(this,u)),o&&(c=c.concat(o.call(this,u))),c}}this.defaults={...this.defaults,...l}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Nn.lex(e,t??this.defaults)}parser(e,t){return wn.parse(e,t??this.defaults)}}ti=new WeakSet,M0=function(e,t,i){switch(t){case"heading":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,i.parser.parseInline(l.tokens),l.depth,ON(i.parser.parseInline(l.tokens,i.parser.textRenderer)))};case"code":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text,l.lang,!!l.escaped)};case"table":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);let o="",s="";for(let c=0;c<l.header.length;c++)s+=this.tablecell({text:l.header[c].text,tokens:l.header[c].tokens,header:!0,align:l.align[c]});o+=this.tablerow({text:s});let u="";for(let c=0;c<l.rows.length;c++){const f=l.rows[c];s="";for(let d=0;d<f.length;d++)s+=this.tablecell({text:f[d].text,tokens:f[d].tokens,header:!1,align:l.align[d]});u+=this.tablerow({text:s})}return e.call(this,o,u)};case"blockquote":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);const o=this.parser.parse(l.tokens);return e.call(this,o)};case"list":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);const o=l.ordered,s=l.start,u=l.loose;let c="";for(let f=0;f<l.items.length;f++){const d=l.items[f],p=d.checked,h=d.task;let m="";if(d.task){const x=this.checkbox({checked:!!p});u?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=x+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=x+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:x+" "}):m+=x+" "}m+=this.parser.parse(d.tokens,u),c+=this.listitem({type:"list_item",raw:m,text:m,task:h,checked:!!p,loose:u,tokens:d.tokens})}return e.call(this,c,o,s)};case"html":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text,l.block)};case"paragraph":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"escape":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)};case"link":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.href,l.title,this.parser.parseInline(l.tokens))};case"image":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.href,l.title,l.text)};case"strong":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"em":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"codespan":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)};case"del":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"text":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)}}return e},nf=function(e,t){return(i,l)=>{const o={...l},s={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const u=wo(this,ti,N0).call(this,!!s.silent,!!s.async);if(typeof i>"u"||i===null)return u(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return u(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(i):i).then(c=>e(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>t(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(u);try{s.hooks&&(i=s.hooks.preprocess(i));let c=e(i,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let f=t(c,s);return s.hooks&&(f=s.hooks.postprocess(f)),f}catch(c){return u(c)}}},N0=function(e,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const l="<p>An error occurred:</p><pre>"+Qt(i.message+"",!0)+"</pre>";return t?Promise.resolve(l):l}if(t)return Promise.reject(i);throw i}};const rl=new dw;function Ne(n,e){return rl.parse(n,e)}Ne.options=Ne.setOptions=function(n){return rl.setOptions(n),Ne.defaults=rl.defaults,y0(Ne.defaults),Ne};Ne.getDefaults=ud;Ne.defaults=hl;Ne.use=function(...n){return rl.use(...n),Ne.defaults=rl.defaults,y0(Ne.defaults),Ne};Ne.walkTokens=function(n,e){return rl.walkTokens(n,e)};Ne.parseInline=rl.parseInline;Ne.Parser=wn;Ne.parser=wn.parse;Ne.Renderer=Sr;Ne.TextRenderer=md;Ne.Lexer=Nn;Ne.lexer=Nn.lex;Ne.Tokenizer=xr;Ne.Hooks=fs;Ne.parse=Ne;Ne.options;Ne.setOptions;Ne.use;Ne.walkTokens;Ne.parseInline;wn.parse;Nn.lex;const Lu="smartcalendar:geminiApiKey",Ou="smartcalendar:openRouterApiKey",Um="smartcalendar:aiProviderPreference",Vu="smartcalendar:openRouterModel",w0=b.createContext(void 0);function hw({children:n}){const[e,t]=b.useState(()=>(localStorage.getItem(Lu)??"").trim()),[i,l]=b.useState(()=>(localStorage.getItem(Ou)??"").trim()),[o,s]=b.useState(()=>{const _=(localStorage.getItem(Um)??"").trim();return _==="auto"||_==="gemini"||_==="openrouter"?_:"auto"}),[u,c]=b.useState(()=>(localStorage.getItem(Vu)??"").trim()),f=b.useCallback(_=>{const y=_.trim();t(y),y?localStorage.setItem(Lu,y):localStorage.removeItem(Lu)},[]),d=b.useCallback(_=>{const y=_.trim();l(y),y?localStorage.setItem(Ou,y):localStorage.removeItem(Ou)},[]),p=b.useCallback(_=>{s(_),localStorage.setItem(Um,_)},[]),h=b.useCallback(_=>{const y=_.trim();c(y),y?localStorage.setItem(Vu,y):localStorage.removeItem(Vu)},[]),m=b.useCallback(()=>{f("")},[f]),x=b.useCallback(()=>{d("")},[d]),S=b.useMemo(()=>({apiKey:e,openRouterApiKey:i,aiProviderPreference:o,openRouterModel:u,setApiKey:f,setOpenRouterApiKey:d,setAiProviderPreference:p,setOpenRouterModel:h,clearApiKey:m,clearOpenRouterApiKey:x}),[e,i,o,u,f,d,p,h,m,x]);return g.jsx(w0.Provider,{value:S,children:n})}function gd(){const n=b.useContext(w0);if(!n)throw new Error("useApiKey must be used within an ApiKeyProvider");return n}const pw="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let R0=(n=21)=>{let e="",t=crypto.getRandomValues(new Uint8Array(n|=0));for(;n--;)e+=pw[t[n]&63];return e};const mw="https://openrouter.ai/api/v1/chat/completions",gw=["deepseek/deepseek-r1:free","google/gemma-2-9b-it:free","mistralai/mistral-7b-instruct:free"];async function lf({apiKey:n,messages:e,model:t,temperature:i=.2}){var s,u,c,f;const l=t?[t]:[...gw];let o=null;for(const d of l)try{const p=await fetch(mw,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"SmartCalendar"},body:JSON.stringify({model:d,messages:e,temperature:i})}),h=await p.text();if(!p.ok)try{const S=JSON.parse(h),_=(s=S==null?void 0:S.error)==null?void 0:s.message;throw new Error(_||`OpenRouter   (${p.status})`)}catch{throw new Error(`OpenRouter   (${p.status})`)}const m=JSON.parse(h),x=(f=(c=(u=m==null?void 0:m.choices)==null?void 0:u[0])==null?void 0:c.message)==null?void 0:f.content;if(!x||typeof x!="string")throw new Error("OpenRouter   .");return x}catch(p){o=p}throw o instanceof Error?o:new Error("OpenRouter  ")}const yw=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-slate-400 group-hover:text-cyan-400 transition-colors",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),vw=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-slate-400 group-hover:text-cyan-400 transition-colors",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})}),Lm=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),xw=({className:n=""})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-5 h-5 ${n}`,children:g.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})}),Om=({className:n=""})=>g.jsx("div",{className:`animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-cyan-500 ${n}`}),Tw=({className:n=""})=>g.jsx("div",{className:`h-4 w-4 rounded-full border-2 border-slate-500 ${n}`}),Sw=({className:n=""})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-4 h-4 ${n}`,children:g.jsx("path",{d:"M10 4.5a.75.75 0 01.75.75v4h4a.75.75 0 010 1.5h-4v4a.75.75 0 01-1.5 0v-4h-4a.75.75 0 010-1.5h4v-4A.75.75 0 0110 4.5z"})}),$u=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},Vm=n=>{const[e,t,i]=n.split("-").map(Number);return{year:e,month:t,day:i}},Cw=(n,e,t)=>{const i=String(n).padStart(4,"0"),l=String(e).padStart(2,"0"),o=String(t).padStart(2,"0");return`${i}-${l}-${o}`},yd=n=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n),Xl=n=>typeof n=="string"&&Tt.includes(n),D0=n=>n==="manual"||n==="ai",_w=()=>{try{const n=localStorage.getItem(Co);if(!n)return[];const e=JSON.parse(n);return Array.isArray(e)?e.map(i=>{if(!i||typeof i!="object")return null;const l=i,o=l.id,s=l.date,u=l.title,c=l.category,f=l.source;if(typeof o!="string"||!yd(s)||typeof u!="string")return null;const d=Xl(c)?c:Zn,p=D0(f)?f:"manual";return{id:o,date:s,title:u,category:d,kind:"user",source:p}}).filter(i=>!!i):[]}catch{return[]}},Ew=n=>{try{const e=n.map(({id:t,date:i,title:l,category:o,source:s})=>({id:t,date:i,title:l,category:o,source:s}));localStorage.setItem(Co,JSON.stringify(e))}catch{}},k0="smartcalendar:eventFilters",yn=["manual","ai"],Aw=()=>{try{const n=localStorage.getItem(k0);if(!n)return{categories:[...Tt],sources:[...yn]};const e=JSON.parse(n);if(!e||typeof e!="object"||Array.isArray(e))return{categories:[...Tt],sources:[...yn]};const t=e,i=t.categories,l=t.sources,o=new Set;if(Array.isArray(i))for(const f of i)Xl(f)&&o.add(f);const s=new Set;if(Array.isArray(l))for(const f of l)D0(f)&&s.add(f);let u=[...Tt];Array.isArray(i)&&(u=Tt.filter(f=>o.has(f)),u.length===0&&i.length>0&&(u=[...Tt]));let c=[...yn];return Array.isArray(l)&&(c=yn.filter(f=>s.has(f)),c.length===0&&l.length>0&&(c=[...yn])),{categories:u,sources:c}}catch{return{categories:[...Tt],sources:[...yn]}}},bw=n=>{try{localStorage.setItem(k0,JSON.stringify({categories:n.categories,sources:n.sources}))}catch{}},Mw=()=>{try{const n=localStorage.getItem(zr);if(!n)return{};const e=JSON.parse(n);if(!e||typeof e!="object"||Array.isArray(e))return{};const t={};for(const[i,l]of Object.entries(e)){if(!l||typeof l!="object"||Array.isArray(l))continue;const o=l,s={};yd(o.date)&&(s.date=o.date),typeof o.title=="string"&&o.title.trim()&&(s.title=o.title.trim()),Xl(o.category)&&(s.category=o.category),(s.date||s.title||s.category)&&(t[i]=s)}return t}catch{return{}}},Nw=n=>{try{localStorage.setItem(zr,JSON.stringify(n))}catch{}},zo=["  ...","    (Google Search)...","   K-   ...","   ...","   ...","     ..."],ww=({scheduleText:n,manualContextText:e})=>{const{apiKey:t,openRouterApiKey:i,aiProviderPreference:l,openRouterModel:o}=gd(),{colors:s}=Vi(),[u,c]=b.useState(new Date),[f,d]=b.useState("month"),[p,h]=b.useState([]),[m,x]=b.useState({}),S=b.useMemo(()=>p.map(E=>{const U=m[E.id];return U?{...E,date:U.date??E.date,title:U.title??E.title,category:U.category??E.category}:E}),[p,m]),[_,y]=b.useState([]),v=b.useMemo(()=>[...S,..._],[S,_]),[{categories:T,sources:C}]=b.useState(()=>Aw()),[A,w]=b.useState(T),[N,D]=b.useState(C),[B,O]=b.useState(!1),fe=b.useRef(null);b.useEffect(()=>{bw({categories:A,sources:N})},[A,N]),b.useEffect(()=>{if(!B)return;const E=U=>{const P=fe.current;P&&(U.target instanceof Node&&P.contains(U.target)||O(!1))};return window.addEventListener("mousedown",E),()=>window.removeEventListener("mousedown",E)},[B]);const Ce=b.useMemo(()=>new Set(A),[A]),Ut=b.useMemo(()=>new Set(N),[N]),it=b.useMemo(()=>v.filter(E=>Ce.has(E.category)&&Ut.has(E.source)),[v,Ce,Ut]),_t=A.length===Tt.length&&N.length===yn.length,V=()=>{if(_t){w([]),D([]);return}w([...Tt]),D([...yn])},ne=E=>{w(U=>{const P=new Set(U);return P.has(E)?P.delete(E):P.add(E),Tt.filter(L=>P.has(L))})},te=E=>{D(U=>{const P=new Set(U);return P.has(E)?P.delete(E):P.add(E),yn.filter(L=>P.has(L))})},ke=()=>{w([...Tt]),D([...yn])},[pe,Et]=b.useState(null),[Lt,k]=b.useState({}),[K,H]=b.useState({}),[I,z]=b.useState(!1),[ye,Ee]=b.useState(null),[G,X]=b.useState(0),[le,J]=b.useState(!0),[me,Be]=b.useState(null),[Yt,je]=b.useState(new Set),[Ie,Ve]=b.useState(null),[At,Ot]=b.useState(null),Pe=b.useRef(!1),mn=new Date,[Ao,bo]=b.useState(!1),[pl,Mo]=b.useState("create"),[Se,Ft]=b.useState(null),[ue,ze]=b.useState("user"),[bt,Zt]=b.useState(""),[lt,Vt]=b.useState(Zn),[Mt,Bi]=b.useState(mn.getFullYear()),[Z,Me]=b.useState(mn.getMonth()+1),[$t,Sn]=b.useState(mn.getDate()),[No,li]=b.useState(null),Zr=b.useMemo(()=>{if(!t)return null;try{return new g0({apiKey:t})}catch(E){return console.error("Failed to initialize Gemini AI:",E),null}},[t]),Vn=b.useMemo(()=>{const E=!!t,U=!!i;return l==="gemini"?E?"gemini":U?"openrouter":null:l==="openrouter"?U?"openrouter":E?"gemini":null:E?"gemini":U?"openrouter":null},[l,t,i]);b.useEffect(()=>{const E=()=>y(_w());return E(),window.addEventListener(ur,E),()=>window.removeEventListener(ur,E)},[]),b.useEffect(()=>{Ew(_)},[_]),b.useEffect(()=>{const E=()=>x(Mw());return E(),window.addEventListener(Vc,E),()=>window.removeEventListener(Vc,E)},[]),b.useEffect(()=>{Nw(m)},[m]),b.useEffect(()=>{(U=>{J(!0),Be(null);const P=new Date().getFullYear(),L=jh,F=[];let ve=1;if(!U||U.trim()===""){Be("   ."),h([]),J(!1);return}const oe=U.split(`
`).filter(ce=>ce.trim()!=="");if(oe.length===0){Be("    ."),h([]),J(!1);return}oe.forEach((ce,we)=>{const Nt=ce.split(";").map(xe=>xe.trim());if(Nt.length===3){const xe=Nt[0],rt=Nt[1],ie=Nt[2],et=xe.match(/(\d+)/),xt=rt.match(/(\d+)/);if(et&&xt&&ie){const Cn=parseInt(et[1],10)-1,si=parseInt(xt[1],10);if(Cn>=0&&Cn<12&&si>0&&si<=31){const ai=ie.split(",").map(Bt=>Bt.trim()).filter(Bt=>Bt);for(let Bt=P;Bt<=L;Bt++)ai.forEach(Ad=>{const Qs=new Date(Bt,Cn,si);Qs.getFullYear()===Bt&&Qs.getMonth()===Cn&&Qs.getDate()===si&&F.push({id:`event-${Bt}-${Cn+1}-${si}-${Ad.substring(0,10).replace(/[^a-zA-Z0-9----]/g,"")}-${ve++}`,date:$u(Qs),title:Ad,kind:"builtin",category:Zn,source:"manual"})})}else console.warn(`Invalid date components (month or day out of range) in schedule data on line ${we+1}: ${ce}`)}else console.warn(`Invalid format (month/day regex mismatch) in schedule data on line ${we+1}: ${ce}`)}else ce.trim()&&console.warn(`Skipping malformed line (expected 3 parts separated by ';') in schedule data on line ${we+1}: ${ce}`)}),h(F),oe.length>0&&F.length===0&&Be("      .  (: 1 ; 1 ; ) ."),J(!1)})(n)},[n]),b.useEffect(()=>{let E;if(I&&G<zo.length){const U=1300+Math.random()*1500;E=window.setTimeout(()=>{X(P=>P+1)},U)}return()=>clearTimeout(E)},[I,G]);const vd=E=>{c(U=>{const P=new Date(U);return P.setDate(1),P.setMonth(P.getMonth()+E),P}),je(new Set)},xd=E=>{c(U=>{const P=new Date(U);return P.setDate(P.getDate()+E*7),P})},Pi=u.getFullYear(),ml=u.getMonth(),O0=new Date(Pi,ml+1,0).getDate(),V0=new Date(Pi,ml,1).getDay(),Kr=new Date,Td=b.useCallback(async E=>{var U,P,L;if(!Vn){Ee("AI    . API   ."),z(!1);return}if(Vn==="gemini"&&!Zr){Ee("AI    . Gemini  ."),z(!1);return}if(Lt[E.id]){z(!1);return}z(!0),X(0),Ee(null);try{const F=Vn==="gemini"?" Google      ,     . Markdown       .":"     ,  K-/NEIS       . Markdown       .";let ve=`    : '${E.title}'${E.category?` ( : ${E.category})`:""}.
 : ${E.date}
        (       ):

1.  **/ **:        . (3-4 )
2.  ****:          . **          ** .     (: "1. [/]  .", "2.   [] > [ ]    .", "3. []  .", "4.       .", "5.     []  []    .")  .
            :
        1.       ,   YouTube 
        2.      
        3.        
    K-  NEIS   ,           .            .      " "  "       ."   .`;e&&(ve+=`
3.  ** **:     ,   '${E.title}' /      , , ,     .       "  " .

---    ---
${e}
---    ---`),ve+=`

${F}`;let oe,ce;if(Vn==="gemini"){const we=await Zr.models.generateContent({model:"gemini-2.5-flash",contents:ve,config:{thinkingConfig:{thinkingBudget:3e3},tools:[{googleSearch:{}}]}});oe=we.text,ce=(L=(P=(U=we.candidates)==null?void 0:U[0])==null?void 0:P.groundingMetadata)==null?void 0:L.groundingChunks}else oe=await lf({apiKey:i,model:o.trim()||void 0,messages:[{role:"system",content:"      .   ,      ."},{role:"user",content:ve}],temperature:.2}),ce=void 0;oe?k(we=>({...we,[E.id]:oe})):Ee("AI    ."),ce&&ce.length>0?H(we=>({...we,[E.id]:ce})):Vn==="openrouter"&&H(we=>{if(!we[E.id])return we;const Nt={...we};return delete Nt[E.id],Nt})}catch(F){console.error("Error generating event description:",F);let ve="    .    .";F instanceof Error&&(F.message.includes("API key not valid")?ve="API   . .":F.message.includes("OpenRouter")&&(F.message.includes("401")||F.message.toLowerCase().includes("unauthorized"))?ve="OpenRouter API   . .":F.message.includes("quota")?ve="API   .":(F.message.toLowerCase().includes("failed to fetch")||F.message.toLowerCase().includes("network"))&&(ve="  .   .")),Ee(ve)}finally{z(!1),G<zo.length-1&&X(zo.length)}},[Vn,Zr,i,o,Lt,G,e]),Sd=E=>{Et(E),Ee(null),Lt[E.id]?z(!1):(X(0),Td(E))},zi=b.useCallback(E=>{k(U=>{if(!U[E])return U;const P={...U};return delete P[E],P}),H(U=>{if(!U[E])return U;const P={...U};return delete P[E],P})},[]),Cd=b.useCallback((E,U)=>{if(!E||!yd(U))return;const P=_.find(F=>F.id===E);if(P){if(P.date===U)return;y(F=>F.map(ve=>ve.id===E?{...ve,date:U}:ve)),zi(E),Et(F=>F&&F.id===E?{...F,date:U}:F);return}const L=p.find(F=>F.id===E);L&&(L.date===U?x(F=>{const ve=F[E];if(!ve)return F;const oe={...ve};delete oe.date;const ce={...F};return!oe.date&&!oe.title&&!oe.category?delete ce[E]:ce[E]=oe,ce}):x(F=>{const oe={...F[E]??{}};oe.date=U;const ce={...F};return ce[E]=oe,ce}),zi(E),Et(F=>F&&F.id===E?{...F,date:U}:F))},[_,p,zi]),Jr=E=>{const{year:U,month:P,day:L}=Vm(E);!Number.isFinite(U)||!Number.isFinite(P)||!Number.isFinite(L)||(Mo("create"),Ft(null),ze("user"),Zt(""),Vt(Zn),Bi(U),Me(P),Sn(L),li(null),bo(!0))},$0=E=>{const{year:U,month:P,day:L}=Vm(E.date);!Number.isFinite(U)||!Number.isFinite(P)||!Number.isFinite(L)||(Mo("edit"),Ft(E.id),ze(E.kind),Zt(E.title),Vt(E.category??Zn),Bi(U),Me(P),Sn(L),li(null),bo(!0))},oi=()=>{bo(!1),li(null)},Xs=b.useMemo(()=>new Date(Mt,Z,0).getDate(),[Mt,Z]);b.useEffect(()=>{$t>Xs&&Sn(Xs)},[$t,Xs]);const B0=b.useMemo(()=>{const E=new Date().getFullYear(),U=Math.min(E,Mt),P=Math.max(jh,E+2,Mt);return Array.from({length:P-U+1},(L,F)=>U+F)},[Mt]),P0=()=>{const E=bt.trim();if(!E){li("  .");return}const U=Cw(Mt,Z,$t),P=new Date(Mt,Z-1,$t);if(Number.isNaN(P.getTime())||$u(P)!==U){li("  .");return}if(pl==="create"){const L=Xl(lt)?lt:null;if(!L){li(" .");return}const F={id:`user-${R0(10)}`,date:U,title:E,category:L,kind:"user",source:"manual"};y(ve=>[F,...ve]),oi();return}if(!Se){li("   .");return}if(ue==="user"){const L=Xl(lt)?lt:null;if(!L){li(" .");return}y(F=>F.map(ve=>ve.id===Se?{...ve,date:U,title:E,category:L}:ve)),zi(Se),oi();return}x(L=>{const F=p.find(we=>we.id===Se);if(!F)return L;const oe={...L[Se]??{}};U===F.date?delete oe.date:oe.date=U,E===F.title?delete oe.title:oe.title=E,Xl(lt)?oe.category=lt:delete oe.category;const ce={...L};return!oe.date&&!oe.title&&!oe.category?delete ce[Se]:ce[Se]=oe,ce}),zi(Se),oi()},_d=()=>{if(Se){if(ue==="builtin"){x(E=>{if(!E[Se])return E;const P={...E};return delete P[Se],P}),zi(Se),oi();return}y(E=>E.filter(U=>U.id!==Se)),zi(Se),oi()}},Ed=E=>{je(U=>{const P=new Set(U);return P.has(E)?P.delete(E):P.add(E),P})},z0=()=>g.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center mb-4 sm:mb-6 px-1 sm:px-2",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("h2",{className:`text-xl sm:text-2xl font-bold ${s.textPrimary} tracking-wide`,children:f==="month"?`${Pi} ${Du[ml]}`:`${Pi} ${Du[u.getMonth()]} ${Math.ceil(u.getDate()/7)} ()`}),g.jsxs("div",{className:`flex ${s.inputBg} rounded-lg p-1 border ${s.border}`,children:[g.jsx("button",{onClick:()=>d("month"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${f==="month"?`${s.activeTabBg} ${s.buttonText} shadow-sm`:`${s.textSecondary} hover:${s.textPrimary}`}`,children:""}),g.jsx("button",{onClick:()=>d("week"),"data-tour":"view-week",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${f==="week"?`${s.activeTabBg} ${s.buttonText} shadow-sm`:`${s.textSecondary} hover:${s.textPrimary}`}`,children:""})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"relative",ref:fe,children:[g.jsxs("button",{type:"button",onClick:()=>O(E=>!E),"data-tour":"filter-button",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors border ${s.border} ${s.inputBg} ${s.textPrimary} hover:opacity-90`,"aria-label":"",children:["",_t?"":" "]}),B&&g.jsxs("div",{className:`absolute right-0 mt-2 w-72 ${s.componentBg} border ${s.border} rounded-xl shadow-xl p-3 z-[110]`,onClick:E=>E.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[g.jsx("span",{className:`text-sm font-semibold ${s.textPrimary}`,children:""}),g.jsx("button",{type:"button",onClick:ke,className:`text-xs ${s.textSecondary} hover:${s.textPrimary} underline`,children:""})]}),g.jsxs("label",{className:`flex items-center gap-2 text-sm ${s.textPrimary}`,children:[g.jsx("input",{type:"checkbox",className:`mt-0.5 h-4 w-4 rounded border ${s.border} ${s.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:_t,onChange:V})," "]}),g.jsxs("div",{className:`mt-3 pt-2 border-t ${s.border}`,children:[g.jsx("div",{className:`text-xs font-semibold ${s.textSecondary} mb-1`,children:""}),g.jsx("div",{className:"max-h-40 overflow-y-auto scrollbar-thin pr-1 space-y-1",children:Tt.map(E=>g.jsxs("label",{className:`flex items-center gap-2 text-sm ${s.textPrimary}`,children:[g.jsx("input",{type:"checkbox",className:`mt-0.5 h-4 w-4 rounded border ${s.border} ${s.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:Ce.has(E),onChange:()=>ne(E)}),g.jsx("span",{className:"truncate",children:E})]},E))})]}),g.jsxs("div",{className:`mt-3 pt-2 border-t ${s.border}`,children:[g.jsx("div",{className:`text-xs font-semibold ${s.textSecondary} mb-1`,children:" "}),g.jsx("div",{className:"space-y-1",children:yn.map(E=>g.jsxs("label",{className:`flex items-center gap-2 text-sm ${s.textPrimary}`,children:[g.jsx("input",{type:"checkbox",className:`mt-0.5 h-4 w-4 rounded border ${s.border} ${s.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:Ut.has(E),onChange:()=>te(E)}),E==="manual"?" ":"AI "]},E))})]})]})]}),g.jsx("button",{onClick:()=>f==="month"?vd(-1):xd(-1),className:`p-2 rounded-full ${s.hoverEffect} focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 transition-colors group`,"aria-label":"Previous",children:g.jsx(yw,{})}),g.jsx("button",{onClick:()=>f==="month"?vd(1):xd(1),className:`p-2 rounded-full ${s.hoverEffect} focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 transition-colors group`,"aria-label":"Next",children:g.jsx(vw,{})})]})]}),G0=()=>g.jsx("div",{className:"flex-shrink-0 grid grid-cols-7 gap-1 sm:gap-2 mb-2 px-1",children:zv.map(E=>g.jsx("div",{className:`text-center font-medium text-xs sm:text-sm ${s.textSecondary} uppercase`,children:E},E))}),q0=()=>{const E=[];for(let L=0;L<V0;L++)E.push(g.jsx("div",{className:"border border-transparent rounded-lg"},`blank-${L}`));const U=[],P=3;for(let L=1;L<=O0;L++){const F=L===Kr.getDate()&&ml===Kr.getMonth()&&Pi===Kr.getFullYear(),ve=new Date(Pi,ml,L),oe=$u(ve),ce=it.filter(ie=>ie.date===oe),we=Yt.has(oe),Nt=!we&&ce.length>P,xe=Nt?P-1:P,rt=we?ce:ce.slice(0,xe);U.push(g.jsx("div",{className:"relative min-h-[80px] sm:min-h-[100px]",children:g.jsxs("div",{"aria-label":`${Du[ml]} ${L}, ${Pi}. ${ce.length} .   .`,onClick:()=>{Ie||Pe.current||Jr(oe)},onDragOver:ie=>{Ie&&(ie.preventDefault(),ie.dataTransfer.dropEffect="move",Ot(oe))},onDragLeave:()=>{Ot(ie=>ie===oe?null:ie)},onDrop:ie=>{ie.preventDefault(),ie.stopPropagation();const et=ie.dataTransfer.getData("text/plain");et&&Cd(et,oe),Pe.current=!0,window.setTimeout(()=>{Pe.current=!1},0),Ve(null),Ot(null)},className:`
              p-2 border rounded-lg 
              flex flex-col items-start justify-start 
              text-left 
              transition-all duration-200 ease-in-out transform
              w-full
              ${we?`absolute top-0 left-0 z-50 h-auto min-h-full shadow-2xl ring-2 ring-cyan-500/50 ${s.componentBg}`:"relative h-full hover:scale-[1.01] hover:shadow-2xl"}
              ${!we&&F?"bg-cyan-600/20 border-cyan-500 shadow-xl":""}
              ${!we&&!F?`${s.inputBg} ${s.border} shadow-lg hover:opacity-90`:""}
              ${we?"border-cyan-500/50":""}
              ${At===oe?"ring-2 ring-cyan-400 ring-offset-2 ring-offset-transparent":""}
            `,children:[g.jsx("button",{type:"button",onClick:ie=>{ie.stopPropagation(),Jr(oe)},className:`absolute top-1 left-1 p-1 rounded-md border transition-all
                opacity-0 pointer-events-none
                group-hover:opacity-100 group-hover:pointer-events-auto
                group-focus-within:opacity-100 group-focus-within:pointer-events-auto
                ${F?"bg-cyan-500/20 border-cyan-400/40 text-cyan-200 hover:bg-cyan-500/30":`${s.buttonBg} ${s.border} ${s.textPrimary} ${s.hoverEffect}`}`,"aria-label":" ",title:" ",children:g.jsx(Sw,{})}),g.jsx("span",{className:`
              text-xs sm:text-sm font-medium self-end
              ${F?`${s.accentColor} font-bold`:s.textSecondary}
            `,children:L}),g.jsxs("div",{className:`w-full mt-1 space-y-1 flex flex-col ${we?"":"overflow-y-auto flex-grow"}`,children:[rt.map(ie=>{const et=ie.kind==="user";return g.jsx("button",{type:"button","data-tour":"calendar-event",onClick:xt=>{xt.stopPropagation(),!Pe.current&&Sd(ie)},draggable:!0,onDragStart:xt=>{xt.dataTransfer.setData("text/plain",ie.id),xt.dataTransfer.effectAllowed="move",Ve(ie.id)},onDragEnd:()=>{Ve(null),Ot(null)},className:`text-left w-full text-xs p-1 rounded transition-colors focus:outline-none focus:ring-2
                      ${et?`${s.eventUserBg} hover:opacity-90 ${s.textPrimary} focus:ring-current`:`${s.eventBuiltinBg} hover:opacity-90 ${s.textPrimary} focus:ring-current`} cursor-grab active:cursor-grabbing`,title:ie.title,"aria-label":`: ${ie.title}. AI  .   `,children:g.jsx("span",{className:"block truncate",children:ie.title})},ie.id)}),Nt&&g.jsxs("button",{type:"button","data-tour":"calendar-more",onClick:ie=>{ie.stopPropagation(),Ed(oe)},className:`text-xs ${s.accentColor} hover:opacity-80 mt-1 py-0.5 w-full text-center rounded ${s.hoverEffect} transition-colors`,"aria-label":`${ce.length-xe}   `,children:["+",ce.length-xe," "]}),we&&ce.length>P&&g.jsx("button",{type:"button",onClick:ie=>{ie.stopPropagation(),Ed(oe)},className:`text-xs ${s.textSecondary} hover:${s.textPrimary} mt-1 py-0.5 w-full text-center rounded ${s.hoverEffect} transition-colors`,"aria-label":"  ",children:" "}),ce.length===0&&g.jsx("div",{className:"flex-grow"})]})]})},L))}return g.jsx(g.Fragment,{children:[...E,...U]})},H0=()=>{if(!pe)return null;const E=Lt[pe.id],U=K[pe.id];let P="/ ",L="",F="",ve="",oe=" ",ce="",we="";if(E){const xe=E,rt=xe.match(/1\.\s*(?:\*\*)?\/ (?:\*\*)?:?/i),ie=xe.match(/2\.\s*(?:\*\*)?(?:\*\*)?:?/i),et=xe.match(/3\.\s*(?:\*\*)? (?:\*\*)?:?/i);let xt=rt?(rt.index||0)+rt[0].length:-1,Cn=ie?(ie.index||0)+ie[0].length:-1,si=et?(et.index||0)+et[0].length:-1,ai=xe.length;ie&&(ie.index||0)>xt&&xt!==-1&&(ai=Math.min(ai,ie.index||0)),et&&(et.index||0)>xt&&xt!==-1&&(ai=Math.min(ai,et.index||0));let Bt=xe.length;et&&(et.index||0)>Cn&&Cn!==-1&&(Bt=Math.min(Bt,et.index||0)),xt!==-1&&(L=xe.substring(xt,ai).trim()),Cn!==-1&&(!rt||((ie==null?void 0:ie.index)||0)>=ai)&&(ve=xe.substring(Cn,Bt).trim()),si!==-1&&(!ie||((et==null?void 0:et.index)||0)>=Bt)&&(ce=xe.substring(si).trim()),!rt&&!ie&&!et&&xe?we=xe.trim():rt&&!L&&!ve&&!ce&&xt!==-1&&(L=xe.substring(xt).trim())}const Nt=xe=>{if(!xe)return null;const ie=Ne.parse(xe,{breaks:!0,gfm:!0}).replace(/<ul>/g,'<ul class="list-disc list-outside ml-5 space-y-1">').replace(/<ol>/g,'<ol class="list-decimal list-outside ml-5 space-y-1">').replace(/<li>/g,`<li class="text-sm ${s.textSecondary} leading-relaxed">`).replace(/<p>/g,`<p class="text-sm ${s.textSecondary} leading-relaxed mb-2">`).replace(/<strong>/g,`<strong class="font-semibold ${s.textPrimary}">`).replace(/<h3>/g,`<h3 class="text-base font-semibold ${s.accentColor} mt-2 mb-1">`).replace(/<h4>/g,`<h4 class="text-sm font-semibold ${s.accentColor} mt-1 mb-1">`);return g.jsx("div",{dangerouslySetInnerHTML:{__html:ie}})};return g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",onClick:()=>Et(null),role:"dialog","aria-modal":"true","aria-labelledby":"event-modal-title",children:g.jsxs("div",{className:`${s.componentBg} p-5 sm:p-6 rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col ${s.textPrimary} border ${s.border}`,onClick:xe=>xe.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-start mb-4 flex-shrink-0 gap-3",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("h3",{id:"event-modal-title",className:`text-lg font-semibold ${s.accentColor} truncate`,children:pe.title}),g.jsxs("p",{className:`text-xs ${s.textSecondary} mt-0.5`,children:["AI   ",Vn==="gemini"?"Gemini":Vn==="openrouter"?"OpenRouter":"",pe.category?`  ${pe.category}`:""]})]}),g.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g.jsx("button",{type:"button",onClick:()=>{Et(null),$0(pe)},className:`${s.buttonBg} ${s.hoverEffect} ${s.buttonText} font-semibold py-1.5 px-3 rounded-lg transition-colors text-sm`,children:""}),g.jsx("button",{onClick:()=>Et(null),className:`p-1 ${s.textSecondary} hover:${s.textPrimary} transition-colors rounded-full ${s.hoverEffect}`,"aria-label":" ",type:"button",children:g.jsx(Lm,{})})]})]}),g.jsxs("div",{className:"overflow-y-auto flex-grow pr-1 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-blue-700 hover:scrollbar-thumb-blue-600 active:scrollbar-thumb-blue-500 scrollbar-thumb-rounded-md",children:[I&&!E&&!ye&&g.jsxs("div",{className:"text-sm text-slate-300 py-4",children:[g.jsx("ul",{className:"space-y-2.5",children:zo.map((xe,rt)=>g.jsxs("li",{className:"flex items-center space-x-2.5",children:[rt<G?g.jsx(xw,{className:"text-green-500 flex-shrink-0"}):rt===G&&I?g.jsx(Om,{className:"flex-shrink-0"}):g.jsx(Tw,{className:"text-slate-500 flex-shrink-0"}),g.jsx("span",{className:`${rt<G?"text-slate-500 line-through":rt===G&&I?"text-cyan-400 font-medium":"text-slate-400"}`,children:xe})]},rt))}),G>=zo.length&&I&&g.jsxs("div",{className:"flex items-center space-x-2.5 mt-3",children:[g.jsx(Om,{className:"flex-shrink-0"}),g.jsx("span",{className:"text-cyan-400 font-medium",children:" ..."})]})]}),ye&&g.jsxs("div",{className:"text-sm text-red-400 bg-red-900/20 border border-red-700 p-3 rounded-md",children:[g.jsx("p",{className:"font-semibold mb-1",children:""}),ye]}),!E&&!I&&!ye&&g.jsxs("div",{className:`text-sm ${s.textSecondary} py-4`,children:[g.jsx("p",{className:`font-semibold ${s.textPrimary} mb-1`,children:"AI    ."}),g.jsxs("p",{children:[" ",g.jsx("span",{className:`${s.textPrimary} font-medium`,children:"API Key "})," Gemini  OpenRouter     ."]}),g.jsx("button",{type:"button",onClick:()=>Td(pe),className:`${s.accentBg} hover:opacity-90 ${s.buttonText} font-semibold py-2 px-3 rounded-lg transition-colors text-xs mt-3`,children:"AI  "})]}),E&&!ye&&g.jsxs(g.Fragment,{children:[we&&g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:Nt(we)}),L&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-md font-semibold text-cyan-400 mb-1.5",children:P}),g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:Nt(L)})]}),ve&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-md font-semibold text-cyan-400 mb-1.5",children:F}),g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:Nt(ve)})]}),ce&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-md font-semibold text-cyan-400 mb-1.5",children:oe}),g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:Nt(ce)})]}),U&&U.length>0&&g.jsxs("div",{className:"mt-5 pt-4 border-t border-slate-700",children:[g.jsx("h4",{className:"text-xs font-semibold text-slate-400 mb-2",children:"  (Google ):"}),g.jsx("ul",{className:"space-y-1.5",children:U.map((xe,rt)=>xe.web&&xe.web.uri?g.jsx("li",{className:"text-xs",children:g.jsx("a",{href:xe.web.uri,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 hover:text-cyan-400 hover:underline",title:xe.web.title||xe.web.uri,children:xe.web.title||xe.web.uri})},rt):null).filter(Boolean)})]})]}),!Vn&&(!(pe!=null&&pe.id)||!Lt[pe.id]&&!I&&!ye)&&g.jsx("div",{className:"text-sm text-yellow-400 bg-yellow-900/20 border border-yellow-700 p-3 rounded-md mt-3",children:"AI   API  .    ."})]})]})})},Y0=()=>{if(!Ao)return null;const E=pl==="create"?" ":ue==="builtin"?"  ":" ",U=Array.from({length:12},(L,F)=>F+1),P=Array.from({length:Xs},(L,F)=>F+1);return g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",onClick:oi,role:"dialog","aria-modal":"true","aria-labelledby":"event-editor-title",children:g.jsxs("div",{className:`${s.componentBg} p-5 sm:p-6 rounded-lg shadow-2xl w-full max-w-lg flex flex-col ${s.textPrimary} border ${s.border}`,onClick:L=>L.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-start gap-3",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("h3",{id:"event-editor-title",className:`text-lg font-semibold ${s.accentColor}`,children:E}),g.jsx("p",{className:`text-xs ${s.textSecondary} mt-0.5`,children:"    . (&   )"}),ue==="builtin"&&g.jsx("p",{className:"text-[11px] text-slate-500 mt-1",children:"     ."})]}),g.jsx("button",{type:"button",onClick:oi,className:`p-1 ${s.textSecondary} hover:${s.textPrimary} transition-colors rounded-full ${s.hoverEffect}`,"aria-label":" ",children:g.jsx(Lm,{})})]}),g.jsxs("div",{className:"mt-4 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:`text-sm ${s.textPrimary} block mb-1`,children:""}),g.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[g.jsx("select",{value:Mt,onChange:L=>Bi(Number(L.target.value)),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,"aria-label":" ",children:B0.map(L=>g.jsxs("option",{value:L,children:[L,""]},L))}),g.jsx("select",{value:Z,onChange:L=>Me(Number(L.target.value)),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,"aria-label":" ",children:U.map(L=>g.jsxs("option",{value:L,children:[L,""]},L))}),g.jsx("select",{value:$t,onChange:L=>Sn(Number(L.target.value)),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,"aria-label":" ",children:P.map(L=>g.jsxs("option",{value:L,children:[L,""]},L))})]}),g.jsx("p",{className:"text-[11px] text-slate-500 mt-1",children:"       ."})]}),g.jsxs("div",{children:[g.jsx("label",{className:`text-sm ${s.textPrimary} block mb-1`,htmlFor:"event-category",children:""}),g.jsxs("select",{id:"event-category",value:lt,onChange:L=>Vt(L.target.value),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,children:[g.jsx("option",{value:"",children:" ()"}),Tt.map(L=>g.jsx("option",{value:L,children:L},L))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:`text-sm ${s.textPrimary} block mb-1`,htmlFor:"event-title",children:" "}),g.jsx("input",{id:"event-title",value:bt,onChange:L=>Zt(L.target.value),placeholder:":   ",className:`w-full p-2.5 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none placeholder-slate-600`,autoFocus:!0}),No&&g.jsx("div",{className:"mt-2 text-xs text-red-300 bg-red-900/20 border border-red-700 p-2 rounded-md",children:No})]})]}),g.jsxs("div",{className:"mt-5 flex items-center justify-between gap-3",children:[pl==="edit"?ue==="user"?g.jsx("button",{type:"button",onClick:_d,className:"bg-red-600 hover:bg-red-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:""}):g.jsx("button",{type:"button",onClick:_d,className:`${s.buttonBg} ${s.hoverEffect} ${s.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:" "}):g.jsx("div",{}),g.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[g.jsx("button",{type:"button",onClick:oi,className:`${s.buttonBg} ${s.hoverEffect} ${s.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:""}),g.jsx("button",{type:"button",onClick:P0,className:`${s.accentBg} hover:opacity-90 ${s.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:""})]})]})]})})};return g.jsxs("div",{className:`${s.componentBg} px-4 sm:px-6 py-3 sm:py-5 rounded-xl shadow-2xl flex flex-col w-full h-full border ${s.border}`,children:[z0(),le&&g.jsx("div",{className:"text-center p-2 text-sm text-cyan-400 my-1",children:"   ..."}),me&&!le&&g.jsxs("div",{className:"text-center p-2 text-sm text-red-400 bg-red-900/30 rounded-md my-1",children:[g.jsx("p",{className:"font-semibold",children:"  :"}),g.jsx("p",{children:me}),g.jsx("p",{className:"text-xs mt-1",children:"      ."})]}),!le&&!me&&v.length===0&&g.jsx("div",{className:"text-center p-2 text-sm text-slate-400 my-1",children:"  .     ."}),!le&&!me&&v.length>0&&it.length===0&&g.jsxs("div",{className:"text-center p-2 text-sm text-slate-300 bg-slate-900/30 rounded-md my-1",children:[g.jsx("p",{children:"    ."}),g.jsx("button",{type:"button",onClick:ke,className:`${s.accentBg} hover:opacity-90 ${s.buttonText} font-semibold py-1.5 px-3 rounded-lg transition-colors text-xs mt-2`,children:" "})]}),f==="month"?g.jsxs("div",{className:"flex-grow flex flex-col min-h-0",children:[G0(),g.jsx("div",{className:`flex-grow grid grid-cols-7 grid-rows-6 sm:gap-1 min-h-0 ${s.inputBg}/50 rounded-xl sm:border ${s.border}/50 sm:p-2 overflow-hidden`,children:q0()})]}):g.jsx("div",{className:"flex-grow flex flex-col min-h-0",children:g.jsx(J1,{currentDate:u,events:it,onEventClick:Sd,onDateClick:E=>{Ie||Pe.current||Jr(E)},onDragStart:(E,U)=>{Ve(U),E.dataTransfer.setData("text/plain",U),E.dataTransfer.effectAllowed="move"},onDragEnd:()=>{Ve(null),Ot(null)},onDrop:(E,U)=>{E.preventDefault();const P=E.dataTransfer.getData("text/plain");P&&(Cd(P,U),Pe.current=!0,setTimeout(()=>{Pe.current=!1},100)),Ve(null),Ot(null)}})}),H0(),Y0()]})},$l=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},Rw=n=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n),ds=n=>{if(!Rw(n))return!1;const[e,t,i]=n.split("-").map(Number),l=new Date(e,t-1,i);return l.getFullYear()===e&&l.getMonth()===t-1&&l.getDate()===i},I0=n=>typeof n!="string"?null:Tt.includes(n)?n:null,Dw=n=>n==="manual"||n==="ai"?n:null,hs=(n,e)=>n.localeCompare(e),Bu=(n,e)=>{if(!ds(n))return n;const[t,i,l]=n.split("-").map(Number),o=new Date(t,i-1,l);return o.setDate(o.getDate()+e),$l(o)},Hi=(n,e)=>hs(n,e)<0?e:n,kw=(n,e)=>hs(n,e)>0?e:n,Iw=(n,e=new Date)=>{const t=[/(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C?\s*[~-]\s*(\d{1,2})\s*\uC77C?/,/(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C?\s*[~-]\s*(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C?/,/(\d{1,2})\s*[\/\.]\s*(\d{1,2})\s*[~-]\s*(\d{1,2})\s*[\/\.]\s*(\d{1,2})/,/(\d{1,2})\s*\s*(\d{1,2})\s*?\s*[~\\-]\s*(\d{1,2})\s*?/,/(\d{1,2})\s*\s*(\d{1,2})\s*?\s*[~\\-]\s*(\d{1,2})\s*\s*(\d{1,2})\s*?/,/(\d{1,2})\s*[\\/\\.]\\s*(\d{1,2})\s*[~\\-]\s*(\d{1,2})\s*[\\/\\.]\\s*(\d{1,2})/];let i=null,l=null,o=null,s=null;for(const x of t){const S=n.match(x);if(S){if(x===t[0]){i=Number(S[1]),l=Number(S[2]),o=i,s=Number(S[3]);break}if(x===t[1]){i=Number(S[1]),l=Number(S[2]),o=Number(S[3]),s=Number(S[4]);break}if(x===t[2]){i=Number(S[1]),l=Number(S[2]),o=Number(S[3]),s=Number(S[4]);break}}}if(!i||!l||!o||!s||!Number.isFinite(i)||!Number.isFinite(l)||!Number.isFinite(o)||!Number.isFinite(s)||i<1||i>12||o<1||o>12||l<1||l>31||s<1||s>31)return null;const u=new Date(e.getFullYear(),e.getMonth(),e.getDate());let c=e.getFullYear();new Date(c,i-1,l)<u&&(c+=1);const p=o<i||o===i&&s<l?c+1:c,h=new Date(c,i-1,l),m=new Date(p,o-1,s);return Number.isNaN(h.getTime())||Number.isNaN(m.getTime())||$l(h)!==`${String(c).padStart(4,"0")}-${String(i).padStart(2,"0")}-${String(l).padStart(2,"0")}`||$l(m)!==`${String(p).padStart(4,"0")}-${String(o).padStart(2,"0")}-${String(s).padStart(2,"0")}`?null:{start:$l(h),end:$l(m)}},$m=n=>["","","","","","","","","",""].some(t=>n.includes(t)),Bm=n=>["","","","","","","",""].some(t=>n.includes(t)),Uw=()=>{try{const n=localStorage.getItem(Co);if(!n)return[];const e=JSON.parse(n);return Array.isArray(e)?e.map(t=>{if(!t||typeof t!="object")return null;const i=t,l=i.id,o=i.date,s=i.title,u=i.category,c=i.source;if(typeof l!="string"||typeof s!="string"||!s.trim()||typeof o!="string"||!ds(o))return null;const f=I0(u)??Zn,d=Dw(c)??"manual";return{id:l,date:o,title:s.trim(),category:f,source:d}}).filter(t=>!!t):[]}catch{return[]}},Lw=n=>{try{const e=n.map(({id:t,date:i,title:l,category:o,source:s})=>({id:t,date:i,title:l,category:o,source:s}));localStorage.setItem(Co,JSON.stringify(e))}catch{}},Ow=n=>{const e=n.indexOf("{");if(e<0)return null;const t=n.lastIndexOf("}");return t<=e?null:n.slice(e,t+1)},Vw=({className:n="w-5 h-5"})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.8,stroke:"currentColor",className:n,children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 2v2m8-2v2M4 7h16"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5h14a2 2 0 012 2v13a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11v6m-3-3h6"})]}),$w=({className:n="w-5 h-5"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.8,stroke:"currentColor",className:n,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),Bw=({className:n="w-6 h-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:g.jsx("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 00-3 3v10.5a3 3 0 003 3h15a3 3 0 003-3V6.75a3 3 0 00-3-3h-15zm4.125 3a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0zM15.375 3a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0zM19.5 6.75a1.125 1.125 0 11-2.25 0 1.125 1.125 0 012.25 0zM10.875 12a3.375 3.375 0 00-3.375 3.375h6.75A3.375 3.375 0 0010.875 12zM4.125 13.875a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z",clipRule:"evenodd"})}),Pw=({className:n="w-6 h-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:g.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z",clipRule:"evenodd"})}),zw=()=>g.jsxs("div",{className:"flex items-center gap-1.5 px-1 py-1",children:[g.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300/80",style:{animation:"typingDot 1.2s infinite ease-in-out",animationDelay:"0ms"}}),g.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300/80",style:{animation:"typingDot 1.2s infinite ease-in-out",animationDelay:"150ms"}}),g.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300/80",style:{animation:"typingDot 1.2s infinite ease-in-out",animationDelay:"300ms"}})]}),Gw=({manualContextText:n})=>{const{apiKey:e,openRouterApiKey:t,aiProviderPreference:i,openRouterModel:l}=gd(),{colors:o}=Vi(),[s,u]=b.useState(null),[c,f]=b.useState(null),[d,p]=b.useState([]),[h,m]=b.useState(""),[x,S]=b.useState(!1),[_,y]=b.useState(null),[v,T]=b.useState(!1),[C,A]=b.useState(!1),[w,N]=b.useState(null),[D,B]=b.useState(null),O=b.useRef(null),fe=b.useRef(null),Ce=b.useRef(!1),Ut=b.useRef({});b.useEffect(()=>{if(e)try{const k=new g0({apiKey:e});u(k),y(null),T(!0)}catch(k){console.error("Failed to initialize GoogleGenAI:",k),y("AI   . API   ."),T(!1)}else t?(u(null),f(null),y(null),T(!0),p([{id:"initial-ai-message",text:"!      .",isUser:!1}])):(console.warn("API_KEY for chatbot is not set. Chatbot AI features will be disabled."),u(null),f(null),p([{id:"initial-no-key",text:"API      .  **API Key **  .",isUser:!1}]),y("AI    API  ."),T(!1))},[e,t]),b.useEffect(()=>{var k;if(s&&v){let K="You are a helpful assistant for Korean school administration tasks. Provide concise and accurate information based on your knowledge and Google Search results. Cite your sources when available using the grounding information. Respond in Korean. Format your responses using markdown where appropriate (e.g., lists, bolding).!      ";n&&(K+=`

Additionally, you have access to the following table of contents from a school administration manual. When a user's query relates to topics covered in this manual, please reference the relevant sections or page numbers in your response if applicable. If you use information from this manual, please try to cite it (e.g., " 10, 168p ").

--- SCHOOL ADMINISTRATION MANUAL (TABLE OF CONTENTS) START ---
${n}
--- SCHOOL ADMINISTRATION MANUAL (TABLE OF CONTENTS) END ---`);try{const H=s.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:K,tools:[{googleSearch:{}}]}});f(H),p([{id:"initial-ai-message",text:"!      .",isUser:!1}]),(k=fe.current)==null||k.focus()}catch(H){console.error("Failed to create chat session:",H),y("   .    API  .")}}},[s,v,n]);const it=b.useCallback(k=>{if(!k)return;const K=Ut.current[k.id];K&&K.scrollIntoView({behavior:"smooth",block:k.align??"start"})},[]);b.useEffect(()=>{if(Ce.current){Ce.current=!1;return}D&&(it(D),B(null))},[d,D,it]);const _t=b.useCallback((k,K)=>{Ce.current=!0,p(H=>H.map(I=>{if(I.id!==k||!I.scheduleProposal||I.scheduleProposal.applied||K<0||K>=I.scheduleProposal.selected.length)return I;const z=I.scheduleProposal.selected.slice();return z[K]=!z[K],{...I,scheduleProposal:{...I.scheduleProposal,selected:z}}}))},[]),V=b.useCallback(k=>{Ce.current=!0,p(K=>K.map(H=>{if(H.id!==k||!H.scheduleProposal||H.scheduleProposal.applied)return H;const I=H.scheduleProposal.selected.every(Boolean),z=H.scheduleProposal.selected.map(()=>!I);return{...H,scheduleProposal:{...H.scheduleProposal,selected:z}}}))},[]),ne=b.useCallback((k,K)=>{Ce.current=!0,N(H=>H&&H.messageId===k&&H.index===K?null:{messageId:k,index:K})},[]),te=b.useCallback((k,K,H)=>{ds(H)&&(Ce.current=!0,p(I=>I.map(z=>{if(z.id!==k||!z.scheduleProposal||z.scheduleProposal.applied||K<0||K>=z.scheduleProposal.items.length)return z;const ye=z.scheduleProposal.items.slice();return ye[K]={...ye[K],date:H},{...z,scheduleProposal:{...z.scheduleProposal,items:ye}}})),N(null))},[]),ke=b.useCallback(k=>{Ce.current=!0,p(K=>{const H=K.find(J=>J.id===k);if(!(H!=null&&H.scheduleProposal)||H.scheduleProposal.applied)return K;const I=H.scheduleProposal,z=I.items.filter((J,me)=>I.selected[me]);if(z.length===0)return K;const ye=Uw(),Ee=new Set(ye.map(J=>`${J.date}::${J.title}`)),G=[];for(const J of z){const me=`${J.date}::${J.title}`;Ee.has(me)||(Ee.add(me),G.push({id:`user-${R0(10)}`,date:J.date,title:J.title,category:J.category,source:"ai"}))}const X=[...G,...ye];Lw(X),window.dispatchEvent(new CustomEvent(ur));const le=[];return le.push(` : **${G.length}**   .`),I.project&&le.push(`- : **${I.project}**`),I.deadline&&le.push(`- : **${I.deadline}**`),G.length>0?(le.push(""),le.push(...G.map(J=>`- ${J.date} ${J.title}`))):(le.push(""),le.push("        .")),K.map(J=>J.id!==k?J:{...J,text:`${J.text}

${le.join(`
`)}`.trim(),scheduleProposal:{...I,applied:!0,appliedCount:G.length,skippedCount:Math.max(0,z.length-G.length)}})})},[]),pe=b.useCallback(async()=>{var I,z,ye,Ee;if(!h.trim()||x||!v)return;const k=h.trim(),K={id:`user-${Date.now()}`,text:k,isUser:!0};p(G=>[...G,K]),m(""),S(!0),y(null);const H=`ai-${Date.now()}`;p(G=>[...G,{id:H,text:"",isUser:!1,sources:[]}]),B({id:H,align:"start"});try{const G=(()=>{const X=!!e,le=!!t;return i==="gemini"?X?"gemini":le?"openrouter":null:i==="openrouter"?le?"openrouter":X?"gemini":null:X?"gemini":le?"openrouter":null})();if(!G)throw new Error("API_KEY_MISSING");if(C){const X=new Date,le=$l(X),J=Iw(k,X),me=(J==null?void 0:J.start)??null,Be=(J==null?void 0:J.end)??null,je=`    'K-( //)  ' ' ( )'  .
-      (/////// ) //   K-  , "  (/)    ()"    .
  : "12 24  " ' (/)' , " ", "/", " ", "  "  3~4  .
-  (//  )     events  ([]) .
${G==="gemini"?"-   Google Search()  K-   /     .":"-   ,  K-       . (  )"}
-  JSON(/ ).     .

( /  ):
{
  "project": string,
  "deadline": "YYYY-MM-DD" | null,
  "events": [
    { "date": "YYYY-MM-DD", "task": string, "title": string, "category": string | null }
  ]
}

:
- title  "\${project}: \${task}" .
- date  ISO(YYYY-MM-DD).
-     (${le}, KST)    ''  .
- events **  3~4**. ( 3,    4)  task .
- events date  .
- (deadline)  events   (       ).
- category    ( null):
  ${Tt.join(", ")}

   (: "12 20~24 "):
- executionStart: ${me??"null"}
- executionEnd: ${Be??"null"}
- **//////    executionStart   **.
- **//    executionStart~executionEnd  ** .
- **///    executionEnd   ** .
-    , " ()  / "   .

 : """${k}"""`;let Ie="",Ve=[],At=!1;if(G==="gemini"){if(!s)throw new Error("AI_NOT_READY");const ue=async lt=>{var Z,Me,$t;const Vt=await s.models.generateContent({model:"gemini-2.5-flash",contents:lt,config:{thinkingConfig:{thinkingBudget:3e3},tools:[{googleSearch:{}}]}}),Mt=(($t=(Me=(Z=Vt.candidates)==null?void 0:Z[0])==null?void 0:Me.groundingMetadata)==null?void 0:$t.groundingChunks)??[],Bi=Mt.filter(Sn=>{var No;return(No=Sn.web)==null?void 0:No.uri});return{response:Vt,groundingChunks:Mt,webChunks:Bi}};let{response:ze,groundingChunks:bt,webChunks:Zt}=await ue(je);if(At=Zt.length>0,!At){const lt=`${je}

:  googleSearch    1 web.uri  .   events  ([]) .`;({response:ze,groundingChunks:bt,webChunks:Zt}=await ue(lt)),At=Zt.length>0}Ie=ze.text??"",Ve=bt}else Ie=await lf({apiKey:t,model:l.trim()||void 0,messages:[{role:"system",content:"  (K-)  .  JSON ,      ."},{role:"user",content:je}],temperature:.2}),Ve=[],At=!1;const Ot=Ow(Ie)??Ie;let Pe;try{Pe=JSON.parse(Ot)}catch{throw new Error("MODEL_RETURNED_INVALID_JSON")}const mn=typeof(Pe==null?void 0:Pe.project)=="string"&&Pe.project.trim()?Pe.project.trim():k.slice(0,30).trim(),Ao=typeof(Pe==null?void 0:Pe.deadline)=="string"&&ds(Pe.deadline)?Pe.deadline:null,bo=Array.isArray(Pe==null?void 0:Pe.events)?Pe.events.map(ue=>{const ze=ue==null?void 0:ue.date,bt=typeof(ue==null?void 0:ue.task)=="string"?ue.task.trim():typeof(ue==null?void 0:ue.title)=="string"?ue.title.trim():"";if(!bt)return null;const Zt=`${mn}:`,lt=bt.startsWith(Zt)?bt.slice(Zt.length).trim():bt,Vt=mn?`${mn}: ${lt}`:lt,Mt=I0(ue==null?void 0:ue.category)??Zn;return!ds(ze)||!Vt?null:{date:ze,title:Vt,category:Mt}}).filter(Boolean):[],pl=[],Mo=new Set;for(const ue of bo){const ze=`${ue.date}::${ue.title}`;Mo.has(ze)||(Mo.add(ze),pl.push(ue))}let Se=pl.slice(0,4).map(({date:ue,title:ze,category:bt})=>({date:Hi(ue,le),title:ze,category:bt}));if(me&&Be){const ue=Hi(Bu(me,-1),le),ze=Hi(Be,le);Se=Se.map(Z=>{let Me=Z.date;const $t=$m(Z.title),Sn=Bm(Z.title);return $t?Me=kw(Me,ue):Sn?Me=Hi(Me,ze):(hs(Me,me)<0&&(Me=me),hs(Me,Be)>0&&(Me=Be)),Me=Hi(Me,le),{...Z,date:Me}});const bt=Z=>Z.includes("")||Z.includes("")||Z.includes("")?0:Z.includes("")||Z.includes("")||Z.includes("")||Z.includes("")?1:Z.includes("")||Z.includes("")||Z.includes("")?2:3,Zt=Z=>Z.includes("")||Z.includes("")?0:Z.includes("")||Z.includes("")?1:Z.includes("")||Z.includes("")?2:3,lt=Se.map((Z,Me)=>({idx:Me,title:Z.title})).filter(({title:Z})=>$m(Z)).map(({idx:Z})=>Z).sort((Z,Me)=>bt(Se[Z].title)-bt(Se[Me].title)),Vt=Se.map((Z,Me)=>({idx:Me,title:Z.title})).filter(({title:Z})=>Bm(Z)).map(({idx:Z})=>Z).sort((Z,Me)=>Zt(Se[Z].title)-Zt(Se[Me].title)),Mt=new Set(lt.map(Z=>Se[Z].date));lt.length>1&&Mt.size<lt.length&&lt.forEach((Z,Me)=>{const $t=lt.length-1-Me,Sn=Hi(Bu(ue,-$t),le);Se[Z]={...Se[Z],date:Sn}});const Bi=new Set(Vt.map(Z=>Se[Z].date));Vt.length>1&&Bi.size<Vt.length&&Vt.forEach((Z,Me)=>{const $t=Hi(Bu(ze,Me),le);Se[Z]={...Se[Z],date:$t}})}Se.sort((ue,ze)=>hs(ue.date,ze.date));const Ft=[];mn&&Ft.push(`- : **${mn}**`),Ao&&Ft.push(`- : **${Ao}**`),me&&Be&&Ft.push(`- : **${me} ~ ${Be}**`),G==="gemini"&&!At&&Ft.push("- :        ."),G==="openrouter"&&Ft.push("- : OpenRouter  Google       ."),Se.length>0?(Ft.unshift("     ****   ."),p(ue=>ue.map(ze=>ze.id===H?{...ze,text:Ft.join(`
`),sources:Ve,scheduleProposal:{project:mn,deadline:Ao,items:Se,selected:Se.map(()=>!0),applied:!1}}:ze))):(Ft.unshift("  ."),Ft.push('K-      . ) "12 24  (),    "'),p(ue=>ue.map(ze=>ze.id===H?{...ze,text:Ft.join(`
`),sources:Ve,scheduleProposal:void 0}:ze)))}else if(G==="gemini"){if(!c)throw new Error("CHAT_NOT_READY");const X=await c.sendMessageStream({message:k});let le="",J=[];for await(const me of X){const Be=me.text;Be&&(le+=Be);const Yt=(ye=(z=(I=me.candidates)==null?void 0:I[0])==null?void 0:z.groundingMetadata)==null?void 0:ye.groundingChunks;if(Yt){const je=Yt.filter(Ie=>Ie.web&&Ie.web.uri&&!J.some(Ve=>{var At,Ot;return((At=Ve.web)==null?void 0:At.uri)===((Ot=Ie.web)==null?void 0:Ot.uri)}));J=[...J,...je]}p(je=>je.map(Ie=>Ie.id===H?{...Ie,text:le,sources:J}:Ie))}}else{const X=[];X.push("   ( K-/NEIS) ."),X.push("  /     ."),X.push(" ,       ."),n&&(X.push("     //  ."),X.push("---    ---"),X.push(n),X.push("---    ---"));const le=d.filter(me=>me.text&&me.text.trim().length>0).slice(-12).map(me=>({role:me.isUser?"user":"assistant",content:me.text})),J=await lf({apiKey:t,model:l.trim()||void 0,messages:[{role:"system",content:X.join(`
`)},...le,{role:"user",content:k}],temperature:.2});p(me=>me.map(Be=>Be.id===H?{...Be,text:J,sources:[]}:Be))}}catch(G){console.error("Error sending message to AI API:",G);let X="    .    .";G instanceof Error&&G.message==="MODEL_RETURNED_INVALID_JSON"?X="AI  JSON   .       . (: '11 13 ,     ')":G instanceof Error&&G.message==="CHAT_NOT_READY"?X="    .     .":G instanceof Error&&G.message==="AI_NOT_READY"?X="AI   .     .":G instanceof Error&&G.message==="API_KEY_MISSING"&&(X="AI   API  .  **API Key **  ."),G instanceof Error&&(G.message.includes("API key not valid")?X="API   .  .":G.message.includes("OpenRouter")&&(G.message.includes("401")||G.message.toLowerCase().includes("unauthorized"))?X="OpenRouter API   .":G.message.includes("quota")?X="API   .":(G.message.toLowerCase().includes("network error")||G.message.toLowerCase().includes("failed to fetch"))&&(X="  .   .")),y(X),p(le=>le.map(J=>J.id===H?{...J,text:`: ${X}`,sources:[]}:J))}finally{S(!1),(Ee=fe.current)==null||Ee.focus()}},[h,c,s,x,v,C,e,t,i,l,n,d]),Et=k=>{k.key==="Enter"&&!x&&pe()},Lt=k=>{const H=Ne.parse(k,{breaks:!0,gfm:!0}).replace(/<ul>/g,'<ul class="list-disc ml-5 mb-2">').replace(/<ol>/g,'<ol class="list-decimal ml-5 mb-2">').replace(/<p>/g,'<p class="mb-2">');return g.jsx("div",{dangerouslySetInnerHTML:{__html:H}})};return g.jsxs("div",{className:`${o.componentBg} p-3 sm:p-4 rounded-xl shadow-xl flex flex-col h-full border ${o.border} ${o.textPrimary}`,children:[g.jsx("h2",{className:`text-lg font-semibold ${o.accentColor} mb-3 text-center border-b ${o.border} pb-2 flex-shrink-0`,children:"AI  "}),!v&&_&&g.jsx("div",{className:"p-3 my-2 text-sm text-yellow-300 bg-yellow-700/30 border border-yellow-600 rounded-md text-center flex-shrink-0",children:_}),v&&_&&!d.find(k=>k.text.includes(_||""))&&g.jsx("div",{className:"p-3 my-2 text-sm text-red-400 bg-red-800/30 border border-red-700 rounded-md text-center flex-shrink-0",children:_}),g.jsxs("div",{className:`flex-grow overflow-y-auto min-h-0 space-y-4 pr-1 mb-3 scrollbar-thin scrollbar-track-transparent ${o.scrollbarThumb} scrollbar-thumb-rounded-md`,children:[d.map(k=>g.jsxs("div",{ref:K=>{Ut.current[k.id]=K},className:`flex flex-col ${k.isUser?"items-end":"items-start"}`,children:[g.jsxs("div",{className:`flex items-start max-w-[85%] ${k.isUser?"flex-row-reverse":"flex-row"}`,children:[!k.isUser&&g.jsx(Bw,{className:`w-5 h-5 ${o.accentColor} mr-2 mt-1 flex-shrink-0`}),k.isUser&&g.jsx(Pw,{className:`w-5 h-5 ${o.accentColor} ml-2 mt-1 flex-shrink-0`}),g.jsxs("div",{className:`px-3 py-2 rounded-lg ${k.isUser?`${o.accentBg} ${o.buttonText} rounded-br-none`:`${o.inputBg} ${o.textPrimary} border ${o.border} rounded-bl-none`}`,children:[g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",style:{color:"inherit"},children:!k.isUser&&x&&k.text.trim()===""?g.jsx(zw,{}):Lt(k.text)}),!k.isUser&&k.scheduleProposal&&g.jsxs("div",{className:`mt-3 pt-2 border-t ${o.border}`,children:[g.jsx("div",{className:"space-y-2",children:k.scheduleProposal.items.map((K,H)=>{var G,X,le;const I=!!((X=(G=k.scheduleProposal)==null?void 0:G.selected)!=null&&X[H]),z=!!((le=k.scheduleProposal)!=null&&le.applied),ye=`${k.id}-proposal-check-${H}`,Ee=(w==null?void 0:w.messageId)===k.id&&(w==null?void 0:w.index)===H;return g.jsxs("div",{className:`flex items-start gap-2 text-sm leading-snug ${z?"opacity-60":""}`,children:[g.jsx("input",{type:"checkbox",id:ye,className:`mt-0.5 h-4 w-4 rounded ${o.border} ${o.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:I,disabled:z,onChange:()=>_t(k.id,H)}),g.jsxs("div",{className:"flex flex-col min-w-0",children:[g.jsxs("div",{className:"flex items-start gap-2 min-w-0",children:[g.jsxs("div",{className:"relative flex-shrink-0",children:[g.jsx("button",{type:"button",className:`font-mono text-xs ${o.textSecondary} hover:opacity-80 underline underline-offset-2 disabled:no-underline disabled:cursor-default`,disabled:z,onClick:()=>ne(k.id,H),children:K.date}),Ee&&!z&&g.jsxs("div",{className:`absolute z-50 top-full left-0 mt-1 w-44 rounded-lg border ${o.border} ${o.componentBg} p-2 shadow-xl`,children:[g.jsx("div",{className:`text-[11px] ${o.textSecondary} mb-1`,children:" "}),g.jsx("input",{type:"date",className:`w-full rounded-md ${o.inputBg} border ${o.border} px-2 py-1 text-xs ${o.textPrimary} focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,value:K.date,onChange:J=>te(k.id,H,J.target.value)}),g.jsx("div",{className:"mt-2 flex justify-end",children:g.jsx("button",{type:"button",className:`px-2 py-1 rounded-md ${o.inputBg} hover:opacity-80 ${o.textPrimary} text-[11px] border ${o.border}`,onClick:()=>N(null),children:""})})]})]}),g.jsx("label",{htmlFor:ye,className:`${o.textPrimary} cursor-pointer break-words min-w-0`,children:K.title})]}),g.jsxs("div",{className:`text-xs ${o.textSecondary}`,children:[": ",K.category]})]})]},`${k.id}-proposal-${H}`)})}),g.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[g.jsx("button",{type:"button",className:`px-2.5 py-1.5 rounded-md ${o.inputBg} hover:opacity-80 ${o.textPrimary} text-xs border ${o.border} disabled:opacity-50 disabled:cursor-not-allowed`,onClick:()=>V(k.id),disabled:!!k.scheduleProposal.applied,children:k.scheduleProposal.selected.every(Boolean)?"":""}),g.jsx("button",{type:"button",className:`px-2.5 py-1.5 rounded-md ${o.accentBg} hover:opacity-90 ${o.buttonText} text-xs border border-cyan-500/40 disabled:opacity-50 disabled:cursor-not-allowed`,onClick:()=>ke(k.id),disabled:!!k.scheduleProposal.applied||k.scheduleProposal.selected.filter(Boolean).length===0,children:""}),k.scheduleProposal.applied&&g.jsxs("span",{className:`text-xs ${o.textSecondary}`,children:[" (",k.scheduleProposal.appliedCount??0," )"]})]})]})]})]}),k.sources&&k.sources.length>0&&!k.isUser&&g.jsxs("div",{className:`mt-1.5 ml-7 text-xs ${o.textSecondary} max-w-[85%]`,children:[g.jsx("p",{className:"font-semibold mb-0.5",children:" :"}),g.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:k.sources.map((K,H)=>K.web&&K.web.uri&&g.jsx("li",{children:g.jsx("a",{href:K.web.uri,target:"_blank",rel:"noopener noreferrer",className:`hover:${o.accentColor} underline`,title:K.web.title||K.web.uri,children:K.web.title||K.web.uri})},`${k.id}-src-${H}`))})]})]},k.id)),g.jsx("div",{ref:O})]}),g.jsx("div",{className:`flex-shrink-0 mt-auto pt-3 border-t ${o.border}`,children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{type:"button",onClick:()=>A(k=>!k),"data-tour":"ai-schedule-toggle",className:`p-2.5 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-400 border ${C?`${o.accentBg} text-white border-transparent`:`${o.inputBg} ${o.textPrimary} ${o.border} hover:opacity-80`}`,"aria-label":"  ",title:C?" : ON":" : OFF",disabled:x,children:g.jsx(Vw,{className:"w-5 h-5"})}),g.jsx("input",{ref:fe,"data-tour":"chat-input",type:"text",value:h,onChange:k=>m(k.target.value),onKeyPress:Et,placeholder:v?C?": ) 1113  ":" ...":"API   ",className:`flex-grow p-2.5 ${o.inputBg} border ${o.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm ${o.textPrimary} ${o.placeholderColor} disabled:opacity-50`,disabled:!v||x,"aria-label":"  "}),g.jsx("button",{onClick:pe,disabled:!v||x||!h.trim(),className:`p-2.5 ${o.accentBg} hover:opacity-90 ${o.buttonText} rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-400`,"aria-label":" ",children:x?g.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):g.jsx($w,{})})]})})]})},qw=`
1	;	1	;	 (  ) ,  ( 6) ,   () 
1	;	2	;	  ,      ,   ,    ,     (     ) ,    
1	;	3	;	    , (   5) ,      
1	;	4	;	     ,     (4) ,    (1) 
1	;	5	;	   ,     (1   ) 
1	;	6	;	  ,  ,   
1	;	7	;	 (, 1) 
1	;	8	;	   (4 12) ,    
1	;	9	;	   () , 2   ,    
1	;	10	;	    , 4     ,        
1	;	11	;	2024      2025   (k) , 2024    2025   
1	;	12	;	, , ,   () 
1	;	13	;	 
1	;	15	;	() ,     , 4   ,  [( )] 
1	;	16	;	  ,     
1	;	17	;	  ()  ,     
1	;	18	;	       ,     
1	;	19	;	  
1	;	20	;	  , (4) 4   , 4   
1	;	21	;	  
1	;	22	;	  
1	;	23	;	   (NEIS ) ,  1      
1	;	24	;	(   ) ,    (7-12) 
1	;	25	;	      ,    () ,     
1	;	26	;	   
1	;	27	;	  ,   () ,     (7~12) ,      
1	;	30	;	(  ) ,   ,  () () ,     ,  (7~12)() ,     
1	;	31	;	         , (NEP)     (  ) 
2	;	1	;	  (   ) ,   
2	;	2	;	    , ,,  () 
2	;	3	;	  ,      , ,,  (  ) 
2	;	4	;	  ,  ,   
2	;	5	;	   () ,     
2	;	6	;	   ,   () 
2	;	7	;	  (  ) ,    
2	;	8	;	2024  ()   2025   ,     
2	;	9	;	(2.23) (, , , ) ,    
2	;	10	;	    , 4     
2	;	11	;	  ,  
2	;	12	;	     ,     
2	;	13	;	4   , (,  ) 
2	;	14	;	   ,    (,,) 
2	;	16	;	  ( 10) ,  (  1 ) 
2	;	17	;	  ,     
2	;	18	;	   
2	;	19	;	() ,    () 
2	;	20	;	  , (4) 4   , 4   
2	;	21	;	 ,  (2 ) , 3.1.  4   
2	;	22	;	   ,  6    () 
2	;	23	;	 ()
2	;	24	;	  
2	;	25	;	(4) , (,,,) 
2	;	26	;	,    ,   
2	;	27	;	 ()
2	;	28	;	(  ), /  , ,   ,   ,   (   3.10/  2 ) 
3	;	1	;	    ,      
3	;	3	;	  ,  ,   ,      ,   
3	;	4	;	  ,   ,        ,     
3	;	6	;	  (~3.13) ,     
3	;	7	;	   ,    ,    
3	;	8	;	     ,     
3	;	9	;	   
3	;	10	;	    , 4     ,    
3	;	12	;	 
3	;	13	;	   () ,  
3	;	14	;	 () , 4   ,  
3	;	15	;	     ,  6    () 
3	;	17	;	  ,     ,   
3	;	19	;	()
3	;	20	;	(4) 4   , 4   ,   ,      ,    ,  (~3.21) 
3	;	21	;	      ,   (~3.30) 
3	;	22	;	      
3	;	23	;	()
3	;	24	;	 (2)
3	;	25	;	(   ) 
3	;	26	;	  
3	;	27	;	 
3	;	28	;	      (4) ,     (4) ,  () () 
3	;	29	;	   ,       
3	;	31	;	  () , (  ),   ,  () () ,     
4	;	1	;	  ,      , /  ,   
4	;	2	;	   (1 3)
4	;	3	;	  ,  ,   ,     
4	;	4	;	      ,   (1) ,     
4	;	5	;	  (4.1.)
4	;	8	;	  (/  .   ) 
4	;	9	;	    , 4     ,    
4	;	10	;	   () ,    
4	;	11	;	    ,     ,      
4	;	12	;	       
4	;	13	;	 
4	;	14	;	  ,  
4	;	15	;	    , 4   ,   ( ) 
4	;	16	;	()
4	;	17	;	  ,     
4	;	18	;	  , (4) 4   , 4   
4	;	19	;	     , 1/4       ,          
4	;	23	;	 ()
4	;	25	;	(   ) 
4	;	26	;	       () ,       
4	;	27	;	   () ,      
4	;	28	;	  ,    
4	;	30	;	(  ),   ,  ( ()) ,     
5	;	1	;	  ,      ,  () 
5	;	2	;	 ,   ,     
5	;	3	;	    
5	;	6	;	 
5	;	8	;	   ,   (  ) 
5	;	9	;	    (/) ,  ()    
5	;	11	;	  ,     , 4     
5	;	12	;	
5	;	14	;	    , 4   , (,  ) 
5	;	15	;	  ,     
5	;	16	;	    
5	;	18	;	()
5	;	19	;	  , (4) 4   , 4   
5	;	20	;	()
5	;	21	;	(1)
5	;	22	;	(   ) 
5	;	23	;	 ( )
5	;	26	;	 
5	;	27	;	  
5	;	28	;	    
5	;	29	;	(  ),   ,  ( ()) ,     
6	;	2	;	  ,      ,  () 
6	;	3	;	  ,  ,   
6	;	4	;	   ,     
6	;	6	;	     ,     
6	;	8	;	  (   ) 
6	;	9	;	  
6	;	10	;	    , 4     
6	;	12	;	  ,  
6	;	13	;	4   , (,  ) 
6	;	14	;	     () ,      ,      
6	;	15	;	    ,   
6	;	16	;	   
6	;	17	;	  ,     
6	;	18	;	() ,  (3) 
6	;	19	;	  , (4) 4   , 4   
6	;	20	;	    ,      ,      
6	;	24	;	(   ) 
6	;	25	;	  
6	;	26	;	 
6	;	27	;	      (1) ,     (1) 
6	;	28	;	    ,       
6	;	29	;	   
6	;	30	;	(  ),   ,  () () ,     
7	;	1	;	  ,      ,       
7	;	2	;	     ,  
7	;	3	;	  ,  ,   ,     
7	;	4	;	2/4       ,   (2) ,  (2) 
7	;	5	;	    
7	;	7	;	   (  )
7	;	8	;	   (2 6) ,    
7	;	9	;	    , 4     
7	;	10	;	
7	;	11	;	    ,    ,        
7	;	13	;	     ,    
7	;	14	;	 
7	;	15	;	    ,     , 4   ,  
7	;	16	;	()
7	;	17	;	  ,     
7	;	18	;	  , (4) 4   , 4   
7	;	19	;	   
7	;	24	;	(   ) ,     (1-6) 
7	;	25	;	      ,         
7	;	28	;	 
7	;	29	;	  
7	;	30	;	    (1-6)
7	;	31	;	(  ),   ,  ( ()) ,     ,  (1~6)  
8	;	1	;	  ,      
8	;	2	;	  (7 ) 
8	;	4	;	  ,  ,   
8	;	5	;	   
8	;	7	;	   ,    
8	;	8	;	   
8	;	10	;	  
8	;	11	;	    , 4     
8	;	12	;	  ,  
8	;	14	;	  ,     , 4   ,  
8	;	15	;	     
8	;	17	;	  ,  () 
8	;	18	;	   
8	;	19	;	() ,   , (4) 4   , 4   
8	;	21	;	(2)
8	;	22	;	    ,  ()  
8	;	25	;	(   ) 
8	;	26	;	 
8	;	27	;	  
8	;	28	;	(  ),   ,  ( ()) ,     
9	;	1	;	   ,      ,  (, )    
9	;	3	;	  ,  ,   
9	;	4	;	   
9	;	5	;	  
9	;	7	;	()
9	;	8	;	  
9	;	9	;	  
9	;	10	;	    , 4     
9	;	11	;	 (4)
9	;	12	;	  ,  
9	;	13	;	    
9	;	15	;	    , 4   ,  
9	;	17	;	()
9	;	18	;	  ,     
9	;	19	;	  , (4) 4   , 4   
9	;	20	;	  
9	;	23	;	(   ) 
9	;	25	;	  
9	;	26	;	       
9	;	28	;	   
9	;	29	;	  ,       (2) ,     (2) 
9	;	30	;	(  ),   ,  ( ()) ,     
10	;	1	;	  ,      
10	;	2	;	 ,   ,     ,    ,    
10	;	3	;	  (10.1.) , 3/4       ,     (3) 
10	;	9	;	    , 4     
10	;	10	;	  ,       ,     
10	;	13	;	  ,  ,    (3-9) 
10	;	14	;	() ,     , 4   ,  
10	;	16	;	  ,     
10	;	17	;	         
10	;	19	;	   () ,    
10	;	20	;	  , (4) 4   , 4   
10	;	22	;	 ()
10	;	24	;	(   ) 
10	;	25	;	     
10	;	26	;	   (16 3)
10	;	27	;	 
10	;	28	;	  
10	;	30	;	(  ),   ,  ( ()) ,     
11	;	1	;	    
11	;	2	;	 (   )
11	;	3	;	  ,      
11	;	4	;	  ,  ,   
11	;	5	;	   
11	;	6	;	   ,    
11	;	7	;	  
11	;	9	;	    , 4     
11	;	10	;	
11	;	12	;	 
11	;	13	;	4   ,  
11	;	14	;	   
11	;	16	;	  ,     ,     
11	;	18	;	()
11	;	19	;	  , (4) 4   , 4   
11	;	20	;	(3)
11	;	21	;	    
11	;	23	;	 (2)   
11	;	24	;	(   ) 
11	;	25	;	  
11	;	26	;	 
11	;	27	;	(  ),   ,  ( ()) ,     
11	;	28	;	     ()
12	;	1	;	  ,      
12	;	3	;	  ,  ,   
12	;	4	;	   
12	;	5	;	  (3)   ,        , 4/4       
12	;	7	;	    ( )
12	;	8	;	  (  11.12  )
12	;	9	;	  
12	;	10	;	    , 4     
12	;	11	;	     ,  ()   
12	;	12	;	 
12	;	13	;	   (NEIS) ,       
12	;	14	;	     ,   
12	;	15	;	    , 4   ,  
12	;	16	;	  ( ) ,     
12	;	17	;	() ,   ,     
12	;	18	;	 () 1 
12	;	19	;	  , (4) 4   , 4   
12	;	20	;	   ,   ,     ,       
12	;	21	;	    
12	;	23	;	(   ) 
12	;	25	;	  
12	;	26	;	    ,      ,     
12	;	28	;	   
12	;	29	;	 
12	;	30	;	      (3) ,     (3) 
12	;	31	;	(  ),   ,  ( ()) ,    
`,Pm=`
  "2025   "     .

### **1 **
*   **1.    3**
    *   **1.  :**  2(), 4(   ) 7( ),   3(   )
    *   **2.  :**  8( ),   5(  )
    *   **3.  :**  9( ),   6( )
    *   **4.  :**  18(   ) 19( ),  22(  ),   14(  ) 17(  ),   24(    ), 25(  ),   29(  ),  31( )
    *   **5. ():**  18(),   18(),   8(   ),   9(    ),  23( ),  1() 3( )
*   **2.    6**
    *   **1. ON-LINE  :**       ,    4( )
    *   **2. OFF-LINE  :** (      )
    *   **3. NEIS   :** (   )
    *   **4. NEIS  :** (   )
    *   **5. FAX :**    3( ), 5( ),    6(   )
*   **3.   10**
    *   **1.    :**  10( ),   6(  )
    *   **2. ():**  9(  ), 11(  ), 16(    ),   7(  ), 8(3 )
    *   **3.  :**  12(), 122( ),      7( ), 9( )
    *   **4.     :**  13(   ) 17( ),   12(   ) 17( ),   7( )
*   **4.    15**
    *   **1.    :**  36(    ) 43( ),   43(    ),    21(    ), 24( )

### **2 **
*   **1.   17**
    *   **1.  :**      2(  ),      4(  ) 6(),       33(   ) 40(),  4(  ),    3()
    *   **2. :**      7(  ), 8(  ),       36() 40(),  7( ), 8( )
    *   **3.  :**      2(  ) 14( ),        11(  )
*   **2.    20**
    *   **1.  :**       3() 8( ),        2(  ) 6(  )
    *   **2. :**       9(   ) 10( ),        7( ),      4()
*   **3. K-()  22**
    *   **1. :**       18( ),        15( ) 17( )
*   **4.   27**
    *   **1.  :**     19(  ),      19( ) 25( ),      4( ) 6( )
    *   **2.  :**      23(  ),      7(   ) 13(  )
    *   **3.   :**      24( ) 33(  ),      14( )
    *   **4.  :**      26() 32( ),      19(  )
    *   **5.  :**      43(       ),      35( )
*   **5.    31**
    *   **1.  :**       61( ),        45( )
    *   **2.  :**       61( ),        45( ),      10(),       10( )
*   **6.   33**
    *   **1.  :**  20( ),  1() 8(),    4( )
    *   **2.   :**  4(  ) 8(),    39( )

### **3 **
*   **1.   35**
    *   **1.  ( ):**     3( )
    *   **2. ():**     5(   ),     8(5    )
*   **2.    37**
    *   **1. :**   3(    ),    3(  ),    7(    )
*   **3.   40**
    *   **1.  :** ,   ,       ,        
    *   **2.    :**    8(),  5( ),       11()
*   **4.   42**
    *   **1.   :**  63(), 64(),  31()
*   **5.      45**
    *   **1.  :**   8( )
    *   **2.  :**   9( )
*   **6.      48**
    *   **1.  :**  8( )
    *   **2.  :**  9( )

### **4   **
*   **1.    51**
    *   **1.    :**  17( ),        17( ),    ,      4(  ),       2(),  56(   ),   25(  ),  293(  ),   265(   ),     10(),   ,   
*   **2.    65**
    *   **1.   :** ,    44() 72()
*   **3.    75**
    *   **1. :** ,  ,    73( ) 83(),    53(  ) 56()
*   **4.   84**
    *   **1. :** ,  ,  ,   

### **5 **
*   **1.      88**
    *   **1.    :**    4(   )
    *   **2.   :**    73(   )
*   **2. ()    91**
    *   **1. ()  :**   16(  ),   31( ),    28(),    44()
*   **3.     93**
    *   **1.    :**  28(    ),   49(    ),    56(  )
*   **4.      94**
    *   **1.   () :**  33(),  312(),  (, 2019. 10.),     56(   ),  293(  ),      8(    )
*   **5.   95**
    *   **1.  :**  34(),    59( )
    *   **2. :**   54( ),    60( ),    61( )

### **6 **
*   **1.   97**
    *   **1.   :**       
    *   **2.  :**      8(  ),       
*   **2.   98**
    *   **1.   :**   78(    ),    
    *   **2. :**   7(   ), 72(  ),      20(  ),    
*   **3.     105**
    *   **1. :**   10( ), 11( ),    19(   ),        10(   )
*   **4.   108**
    *   **1. :**   6(),    16( ), 18(     ),     6(),     ()

### **7 **
*   **1.     110**
    *   **1.   :**  31( ),   58(  ),  193(  )
    *   **2.    ,   :**   58(  ),     22( ),  193(  ),   ()
*   **2.    115**
    *   **1.  :**  32(),   572(  ),     9( )
    *   **2.  :**     12( )  152( )
*   **3.   119**
    *   **1.  :**   602(),     16(),   ()
*   **4.   120**
    *   **1.  :**   602(),     16(),   ()

### **8 **
*   **1. (NEIS)  122**
    *   **1. NEIS :** 2025   ,   
*   **2.     124**
    *   **1. :** ,  ,    ,     ,  ,       ,         ,       
*   **3.   139**
    *   **1.    :**  137( ), 140(   ), 143(   ), 164( )
*   **4.   141**
    *   **1.    :**  276( ), 229( )
    *   **3.   :**  195(  ), 227( ), 246(),   3( )
*   **5.   144**
    *   **1. :**  66( ) 68( ),   65(    )
    *   **3. :**  75( ), 77( ),   72()
*   **6.   147**
    *   **1. , :**  8(   ) 10(   ),   4(   )
*   **7.   149**
    *   **1. ,  :**  72(),  
*   **8.   151**
    *   **1.    :**    ,      5(  )

### **9 **
*   **1.    155**
    *   **1.  :**        2(),  25( )
    *   **3.  :**    46( ), 47( )
    *   **5.     :**   30(    ),    58( )

### **10  **
*   **1.     162**
    *   **1.   :**    11( ), 14(  )
*   **2.    167**
    *   **1.  :**    11( )
*   **3.   171**
    *   **1.   :**    14(  )
*   **4.   173**
    *   **1.   :**    14(  )
*   **5.   175**
    *   **1.   :**    14(  )
*   **6.  ,     176**
    *   **1.    :**    16(     )  17( )
*   **7.    178**
    *   **1.   :**    15(   ),  302( )
*   **8.    179**
    *   **1.  :**    18(), 19( )
*   **9.    181**
    *   **1.   :**    4(), 20( ), 23( )

### **11  **
*   **1.    183**
    *   **1. :**    25( )
    *   **2. :**     9( ),    42(   )
    *   **3. :**    26(  ) 28( ),        3(),     22( ),       

### **12  **
*   **1.    189**
    *   **1.  ():**  20 2( ),  19( ),    4( ),    30(  ),      ,  5(   ) 8()
    *   **2.   ():**    155() 157( ),  4( ), 6(    )
    *   **3.    :**  30( ),  7(    ),   3(    ),    4(), 19( ), 34( )
*   **2.    194**
    *   **1.   :**    33(   ) 36()
    *   **2. :**    33(   )
*   **3.    206**
*   **4.    218**
*   **5.   223**

### **13 **
*   **1.    228**
    *   **1.  :**  4(  ), 6( )
    *   **2.   :**    ,    ,   7( ),  664( ),  2(),     2()
*   **2.    236**
    *   **1. :** (   )
    *   **2. :** (   )
    *   **3.  :**   2() 10( ),     2( )
*   **3.     244**
    *   **1.     :**  4( ), 7( ),   22( ), 23(   ),           (),         (),   48(   )
    *   **2. :**   7( ) 10( ), 15( ), 16(     ), 20(   ), 322( ) 36( ), 124( ),     ,        ,    ,    
    *   **3. 2 ,   :**   18(2 ), 19(   )
    *   **4.   :**   43(  ), 44(  ),    
    *   **5.    :**   442(   )
*   **4.    264**
    *   **1.  :**   47( ) 48(   ),    
    *   **2.    :**   50(   ),   33(     ), 48(  ),   33(   )
*   **5.    267**
    *   **1.    :** (   )
    *   **2. , ,    :**      5(, ,        ),       4(    ),  2(), 61(   ) 66(   )
    *   **3.  :**   302( ), 35(  ),     ,      ,   ,    98( ),      154(),     2(), 17(  ),     9 5( )
*   **6.     290**
    *   **1.  :**   262(     ), 344(  ), 643(    ), 83( ),    53(    ),      8(  ),       10(),     1 9(   ), 9 9( )  12()
*   **7.    298**
    *   **1. :** (   )
    *   **2.       :** (   )
    *   **3.      :** (   )

### **14 **
*   **1.   300**
    *   **1.  :**    91( )
    *   **2.  :**    91( )
    *   **3.  :**    40( ),     3( )  [1]
    *   **4.  :**    40( ),    90(  ) 99(), 127(   ),  34( ),   40(      )

### **15 **
*   **1.      304**
    *   **1.   :**   64(),   46(  )
*   **2.      307**
    *   **1.  :**   64(),   47( )
    *   **2.  :**   64(),   47(  ),   11(  )
*   **3.      310**
    *   **1.  :**   64(),   50()
*   **4.       311**
    *   **1.  :**   45(  )
    *   **2.    :**   52(    )

### **16 **
*   **1.      312**
    *   **1.  :**    58( ),     58( ),    5( ) [1]
*   **2.    314**
    *   **1.  :**    68(),    5( ), 10( ), [1]   ,     9()
*   **3.   319**
    *   **2. :**  14(  ),    16(  ),     17( ),     14( )
*   **4.   321**
    *   **1.  :**    16(  ),     62(  )
*   **5.    323**
    *   **1.  :**    76( ), 77(  ), 78( ),     78(   ), 79( ),    17( ), 18( )
*   **6.   326**
    *   **1. :**    60( ),     59(),     24()
*   **7.     328**
    *   **1.   :**       5( ) 13( )
*   **8. (RFID)    331**
    *   **1. (RFID)  :**    66( ),    35(  )

### **17 **
*   **1.    334**
    *   **1.  :**     5(  ),      3( )
    *   **2.    :** (   )
*   **2.    335**
    *   **1.    :**   52( ),    2( )
    *   **2.      :**  38(),    18()
*   **3.    338**
    *   **1.     :**      12( )
    *   **2.    :**     95(   ),      92(   ),     5()
*   **4.      340**
    *   **1.   :**     20(), 21(),      13( )
    *   **2.  :**      31(  ),     29( ), 31( ),    8(  )[3]
*   **5.     345**
    *   **1. ():**     20( ), 21(),            4(     )
*   **6.   348**
    *   **1.    :**      33()
    *   **2.   :**     51( ), 52(   )
*   **7.   350**
    *   **1.  :**         34(   ),       5(  ),      4(  )

### **18 **
*   **1.    354**
    *   **1.  :**         13(  ),       11( ),        5()
*   **2.    359**
    *   **1.  :**  ( )
    *   **2.  :**  6(  ), 10(  ) 19(),   5(  ), 12(  ) 20(),    ,     ,    ,        4
    *   **3.  :**     4( ) 8( ), 14( ),  24( ), 34(   ), 36(   ), 39( ),   11(    ), 14(  ),  16(    ),  16(,    ), 22( ), 23(    ),   6(), 19(  ),   20(     ), 23(   ),      7(  ),  16()
    *   **4.  :**  17(  ), 29(), 30(),   153 1(    ),   202(), 25(), 50(), 64(  ),  34(), 37(  ), 41(), 57(),   15(  ), 30(  ),   52(), 66(), 70(  ), 75( )
    *   **5.  :**  15(), 18(  ), 28(),   13( ), 16(  ),   53(  ), 64( ) 68( ),   
    *   **6.  :**  27( ) 29( ), 31( ), 32( , , ), 48(    ), 50( ),   37(    ),   46( ), 50(     ), 52(  ), 54(  ),      
*   **3.    363**
    *   **1. 23  :**  6(    ), 8(3  ), 9(   ), 11( ), 12( ), 22(  ), 23(), 28(  ),   4( ), 5(3  ), 8(  ),        5()
*   **4.    381**
    *   **1. :** (   )
*   **5.    385**
    *   **1.    ( ):**    () 254(   )

### **19     **
*   **1.        387**
    *   **1.    :**       2 4( ), ,     
    *   **2. () :**  8(),  111(),   154()
*   **2.    392**
    *   **1.    :**  38( ),    69( ), 156(), 157(),    41( )
*   **3.     394**
    *   **1.  :** (   )
*   **4.     396**
    *   **1.      :** ,  , ,  ,  ,  8,   19,   3, 6,  6, 7,   9,   3,  15,   7, ,  ,  ,       ,  7, 72,  52
*   **5.    399**
    *   **1.   :**   ,    
*   **6.     403**
    *   **1. ()   () :**  6(),   7(  ),   3( )
*   **7.  (BTL)   405**
    *   **1.   :**    4 2( )
    *   **2.    :** (   )
`,Hw="https://aistudio.google.com/app/apikey",Yw="https://openrouter.ai/keys",Pu=1,ws=n=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n),Cr=n=>typeof n=="string"&&Tt.includes(n),U0=n=>n==="manual"||n==="ai",xl=n=>{if(!ws(n))return null;const e=Number(n.slice(0,4));return Number.isFinite(e)?e:null},zu=n=>{const e=/^event-(\d{4})-/.exec(n);if(!e)return null;const t=Number(e[1]);return Number.isFinite(t)?t:null},zm=()=>{try{const n=localStorage.getItem(Co);if(!n)return[];const e=JSON.parse(n);if(!Array.isArray(e))return[];const t=[];for(const i of e){if(!i||typeof i!="object")continue;const l=i,o=l.id,s=l.date,u=l.title,c=l.category,f=l.source;typeof o!="string"||!o||ws(s)&&(typeof u!="string"||!u.trim()||t.push({id:o,date:s,title:u.trim(),category:Cr(c)?c:Zn,source:U0(f)?f:"manual"}))}return t}catch{return[]}},Fw=n=>{localStorage.setItem(Co,JSON.stringify(n)),window.dispatchEvent(new CustomEvent(ur))},Gm=()=>{try{const n=localStorage.getItem(zr);if(!n)return{};const e=JSON.parse(n);if(!e||typeof e!="object"||Array.isArray(e))return{};const t={};for(const[i,l]of Object.entries(e)){if(!l||typeof l!="object"||Array.isArray(l))continue;const o=l,s={};ws(o.date)&&(s.date=o.date),typeof o.title=="string"&&o.title.trim()&&(s.title=o.title.trim()),Cr(o.category)&&(s.category=o.category),(s.date||s.title||s.category)&&(t[i]=s)}return t}catch{return{}}},Zw=n=>{localStorage.setItem(zr,JSON.stringify(n)),window.dispatchEvent(new CustomEvent(Vc))},Kw=({isOpen:n,onClose:e,geminiApiKey:t,openRouterApiKey:i,aiProviderPreference:l,openRouterModel:o,onSaveGemini:s,onSaveOpenRouter:u,onSaveAiProviderPreference:c,onSaveOpenRouterModel:f,onClearGemini:d,onClearOpenRouter:p})=>{const{colors:h}=Vi(),[m,x]=b.useState(t),[S,_]=b.useState(i),[y,v]=b.useState(l),[T,C]=b.useState(o),[A,w]=b.useState(!1),[N,D]=b.useState(!1),[B,O]=b.useState(()=>new Date().getFullYear()),[fe,Ce]=b.useState(null);b.useEffect(()=>{n&&(x(t),_(i),v(l),C(o),w(!1),D(!1),O(new Date().getFullYear()),Ce(null))},[n,t,i,l,o]);const Ut=b.useMemo(()=>t?t.length<=8?"*".repeat(t.length):`${t.slice(0,4)}${"*".repeat(t.length-8)}${t.slice(-4)}`:"",[t]),it=b.useMemo(()=>i?i.length<=10?"*".repeat(i.length):`${i.slice(0,6)}${"*".repeat(i.length-10)}${i.slice(-4)}`:"",[i]),_t=b.useMemo(()=>{const I=!!m.trim(),z=!!S.trim();return y==="gemini"?I?"gemini":z?"openrouter":null:y==="openrouter"?z?"openrouter":I?"gemini":null:I?"gemini":z?"openrouter":null},[y,m,S]),V=y==="auto"||y==="gemini",ne=y==="auto"||y==="openrouter";if(!n)return null;const te=()=>{s(m),u(S),c(y),f(T),e()},ke=()=>{d(),p(),x(""),_(""),e()},pe=I=>{const z=zm().filter(G=>xl(G.date)===I),ye=Gm(),Ee={};for(const[G,X]of Object.entries(ye))((X.date&&xl(X.date))??zu(G))===I&&(Ee[G]=X);return{version:Pu,createdAt:new Date().toISOString(),year:I,userEvents:z,builtinEventOverrides:Ee}},Et=(I,z)=>{const ye=new Blob([z],{type:"application/json"}),Ee=URL.createObjectURL(ye),G=document.createElement("a");G.href=Ee,G.download=I,document.body.appendChild(G),G.click(),G.remove(),URL.revokeObjectURL(Ee)},Lt=()=>{Ce(null);const I=Math.trunc(B);if(!Number.isFinite(I)||I<1900||I>9999){Ce({type:"error",message:"  ."});return}try{const z=pe(I),ye=JSON.stringify(z,null,2);Et(`smart-calendar-backup-${I}.json`,ye),Ce({type:"success",message:`${I}   .`})}catch(z){Ce({type:"error",message:z instanceof Error?z.message:"    ."})}},k=I=>{if(!I||typeof I!="object"||Array.isArray(I))throw new Error("    .");const z=I,ye=z.version,Ee=typeof ye=="number"?ye:ye===void 0?0:NaN;if(Ee!==0&&Ee!==Pu)throw new Error("    .");const G=z.year;if(typeof G!="number"||!Number.isFinite(G))throw new Error("    . (year)");const X=Math.trunc(G),le=z.userEvents??z.events;if(!Array.isArray(le))throw new Error("    . (userEvents)");const J=z.builtinEventOverrides??z.builtinOverrides??z.overrides;if(J!==void 0&&(typeof J!="object"||J===null||Array.isArray(J)))throw new Error("    . (builtinEventOverrides)");const me=[];for(const Yt of le){if(!Yt||typeof Yt!="object")continue;const je=Yt,Ie=je.id,Ve=je.date,At=je.title,Ot=je.category,Pe=je.source;typeof Ie!="string"||!Ie||!ws(Ve)||typeof At!="string"||!At.trim()||xl(Ve)!==X||me.push({id:Ie,date:Ve,title:At.trim(),category:Cr(Ot)?Ot:Zn,source:U0(Pe)?Pe:"manual"})}const Be={};if(J&&typeof J=="object"&&!Array.isArray(J))for(const[Yt,je]of Object.entries(J)){if(!je||typeof je!="object"||Array.isArray(je))continue;const Ie=je,Ve={};ws(Ie.date)&&(Ve.date=Ie.date),typeof Ie.title=="string"&&Ie.title.trim()&&(Ve.title=Ie.title.trim()),Cr(Ie.category)&&(Ve.category=Ie.category),((Ve.date&&xl(Ve.date))??zu(Yt))===X&&(Ve.date||Ve.title||Ve.category)&&(Be[Yt]=Ve)}return{version:Pu,createdAt:typeof z.createdAt=="string"?z.createdAt:new Date().toISOString(),year:X,userEvents:me,builtinEventOverrides:Be}},K=async I=>{Ce(null);try{const z=await I.text(),ye=JSON.parse(z),Ee=k(ye),X=zm().filter(me=>xl(me.date)!==Ee.year);Fw([...Ee.userEvents,...X]);const le=Gm(),J={};for(const[me,Be]of Object.entries(le))((Be.date&&xl(Be.date))??zu(me))!==Ee.year&&(J[me]=Be);Zw({...J,...Ee.builtinEventOverrides}),Ce({type:"success",message:`${Ee.year}  . ( ${Ee.userEvents.length} /   ${Object.keys(Ee.builtinEventOverrides).length})`})}catch(z){Ce({type:"error",message:z instanceof Error?z.message:"    ."})}},H=async I=>{var ye;const z=(ye=I.target.files)==null?void 0:ye[0];z&&(await K(z),I.target.value="")};return g.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:`w-full max-w-lg max-h-[90vh] overflow-y-auto scrollbar-thin ${h.componentBg} border ${h.border} rounded-xl shadow-xl p-5`,children:[g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:`text-lg font-semibold ${h.accentColor}`,children:"API Key "}),g.jsx("p",{className:`text-xs ${h.textSecondary} mt-1`,children:"   (localStorage) . (  PC  )"})]}),g.jsx("button",{onClick:e,className:`${h.textSecondary} hover:${h.textPrimary} px-2 py-1 rounded-md ${h.hoverEffect}`,"aria-label":"",children:""})]}),g.jsxs("div",{className:"mt-4 space-y-5",children:[V&&g.jsxs("section",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("label",{className:`text-sm ${h.textPrimary} block`,htmlFor:"ai-provider-select",children:"AI Provider"}),g.jsxs("span",{className:`text-xs ${h.textSecondary}`,children:[" : ",_t??""]})]}),g.jsxs("select",{id:"ai-provider-select",value:y,onChange:I=>v(I.target.value),className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm`,children:[g.jsx("option",{value:"auto",children:"()"}),g.jsx("option",{value:"gemini",children:"Google AI Studio (Gemini)"}),g.jsx("option",{value:"openrouter",children:"OpenRouter"})]}),g.jsx("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:" Provider  ,   Provider  ."}),g.jsxs("ol",{className:`text-[11px] ${h.textSecondary} leading-relaxed list-decimal list-inside mt-2 space-y-0.5`,children:[g.jsx("li",{children:"Google AI Studio API Key ."}),g.jsx("li",{children:"    ."})]})]}),ne&&g.jsxs("section",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("label",{className:`text-sm ${h.textPrimary} block`,htmlFor:"gemini-api-key-input",children:"Gemini API Key"}),g.jsx("a",{href:Hw,target:"_blank",rel:"noopener noreferrer",className:`text-xs ${h.textSecondary} hover:${h.textPrimary} underline`,children:" "})]}),g.jsx("input",{id:"gemini-api-key-input",type:A?"text":"password",value:m,onChange:I=>x(I.target.value),placeholder:"AIza...   ",className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm placeholder-slate-500`}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("button",{onClick:()=>w(I=>!I),className:`text-xs ${h.textSecondary} hover:${h.textPrimary}`,type:"button",children:A?"":""}),t&&g.jsxs("div",{className:`text-xs ${h.textSecondary}`,children:[": ",Ut]})]}),g.jsxs("div",{className:"mt-2 space-y-1",children:[g.jsx("label",{className:`text-xs ${h.textSecondary} block`,htmlFor:"openrouter-model-input",children:"OpenRouter  ()"}),g.jsx("input",{id:"openrouter-model-input",type:"text",value:T,onChange:I=>C(I.target.value),placeholder:"(     )",className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm placeholder-slate-500`}),g.jsxs("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:[": ",g.jsx("span",{className:"font-mono",children:"deepseek/deepseek-r1:free"}),"  ",g.jsx("span",{className:"font-mono",children:"google/gemma-2-9b-it:free"})]})]}),g.jsxs("ol",{className:`text-[11px] ${h.textSecondary} leading-relaxed list-decimal list-inside mt-2 space-y-0.5`,children:[g.jsx("li",{children:"OpenRouter   Keys  API Key ."}),g.jsx("li",{children:"    ."})]})]}),g.jsxs("section",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("label",{className:`text-sm ${h.textPrimary} block`,htmlFor:"openrouter-api-key-input",children:"OpenRouter API Key"}),g.jsx("a",{href:Yw,target:"_blank",rel:"noopener noreferrer",className:`text-xs ${h.textSecondary} hover:${h.textPrimary} underline`,children:" /"})]}),g.jsx("input",{id:"openrouter-api-key-input",type:N?"text":"password",value:S,onChange:I=>_(I.target.value),placeholder:"sk-or-v1-...   ",className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm placeholder-slate-500`}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("button",{onClick:()=>D(I=>!I),className:`text-xs ${h.textSecondary} hover:${h.textPrimary}`,type:"button",children:N?"":""}),i&&g.jsxs("div",{className:`text-xs ${h.textSecondary}`,children:[": ",it]})]})]}),g.jsx("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:"()  Gemini    Gemini ,  OpenRouter ."}),g.jsxs("section",{className:`space-y-2 pt-4 border-t ${h.border}`,children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("h3",{className:`text-sm font-semibold ${h.textPrimary}`,children:" / "}),g.jsx("span",{className:`text-[11px] ${h.textSecondary}`,children:" JSON "})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 items-end",children:[g.jsxs("div",{children:[g.jsx("label",{className:`text-xs ${h.textSecondary} block mb-1`,htmlFor:"backup-year-input",children:""}),g.jsx("input",{id:"backup-year-input",type:"number",value:B,onChange:I=>O(Number(I.target.value)),className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm`,min:1900,max:9999})]}),g.jsx("button",{type:"button",onClick:Lt,className:`${h.buttonBg} ${h.hoverEffect} ${h.buttonText} font-semibold py-2.5 px-4 rounded-lg transition-colors text-sm w-full`,children:" "}),g.jsxs("label",{className:`${h.accentBg} hover:opacity-90 ${h.buttonText} font-semibold py-2.5 px-4 rounded-lg transition-colors text-sm w-full text-center cursor-pointer`,children:[g.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:H})," "]})]}),fe&&g.jsx("div",{className:`text-xs p-2 rounded-md border ${fe.type==="success"?"text-green-200 bg-green-900/20 border-green-700":"text-red-200 bg-red-900/20 border-red-700"}`,children:fe.message}),g.jsx("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:"    /   . (API Key  )"})]})]}),g.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[g.jsx("button",{onClick:ke,className:`${h.eventBuiltinBg} hover:opacity-90 ${h.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,type:"button",children:" "}),g.jsx("button",{onClick:te,className:`${h.accentBg} hover:opacity-90 ${h.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,type:"button",children:""})]})]})})},ga=8,Bl=(n,e,t)=>Math.min(t,Math.max(e,n)),Jw=n=>{const e=n.getBoundingClientRect(),t=Bl(e.top-ga,0,window.innerHeight),i=Bl(e.left-ga,0,window.innerWidth),l=Bl(e.right+ga,0,window.innerWidth),o=Bl(e.bottom+ga,0,window.innerHeight);return{top:t,left:i,width:Math.max(0,l-i),height:Math.max(0,o-t),right:l,bottom:o}},Xw=n=>n?document.querySelector(`[data-tour="${CSS.escape(n)}"]`):null,Qw=({isOpen:n,steps:e,onClose:t})=>{var v,T;const{colors:i}=Vi(),[l,o]=b.useState(0),[s,u]=b.useState(!1),[c,f]=b.useState(null),d=b.useRef(null),[p,h]=b.useState(null),m=e[l];b.useEffect(()=>{n&&(o(0),u(!1),f(null))},[n]),b.useLayoutEffect(()=>{if(!n||!m)return;const C=()=>{const A=Xw(m.target);if(!A){f(null);return}f(Jw(A))};return C(),window.addEventListener("resize",C),window.addEventListener("scroll",C,!0),()=>{window.removeEventListener("resize",C),window.removeEventListener("scroll",C,!0)}},[n,m==null?void 0:m.target]),b.useLayoutEffect(()=>{n&&d.current&&h(d.current.getBoundingClientRect())},[n,l]);const x=b.useMemo(()=>{var N,D;const C=c?{x:c.left+c.width/2,y:c.top+c.height/2}:{x:window.innerWidth/2,y:window.innerHeight/2},A=((N=m==null?void 0:m.arrowOffset)==null?void 0:N.x)??0,w=((D=m==null?void 0:m.arrowOffset)==null?void 0:D.y)??0;return{x:Bl(C.x+A,0,window.innerWidth),y:Bl(C.y+w,0,window.innerHeight)}},[c,(v=m==null?void 0:m.arrowOffset)==null?void 0:v.x,(T=m==null?void 0:m.arrowOffset)==null?void 0:T.y]),S=b.useMemo(()=>p?{x:p.left+p.width/2,y:p.top}:{x:32,y:window.innerHeight-32},[p]),_=()=>{if(l>=e.length-1){t({dismissed:s});return}o(C=>C+1)},y=()=>t({dismissed:s});return!n||!m?null:g.jsxs("div",{className:"fixed inset-0 z-[200]",role:"dialog","aria-modal":"true","aria-label":" ",onClick:_,children:[c?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed bg-black/60",style:{top:0,left:0,width:"100%",height:`${c.top}px`}}),g.jsx("div",{className:"fixed bg-black/60",style:{top:`${c.bottom}px`,left:0,width:"100%",height:`${window.innerHeight-c.bottom}px`}}),g.jsx("div",{className:"fixed bg-black/60",style:{top:`${c.top}px`,left:0,width:`${c.left}px`,height:`${c.height}px`}}),g.jsx("div",{className:"fixed bg-black/60",style:{top:`${c.top}px`,left:`${c.right}px`,width:`${window.innerWidth-c.right}px`,height:`${c.height}px`}}),g.jsx("div",{className:"fixed pointer-events-none border-2 border-cyan-400 rounded-xl shadow-[0_0_0_2px_rgba(34,211,238,0.2)]",style:{top:`${c.top}px`,left:`${c.left}px`,width:`${c.width}px`,height:`${c.height}px`}})]}):g.jsx("div",{className:"fixed inset-0 bg-black/60"}),c&&g.jsxs("svg",{className:"fixed inset-0 pointer-events-none",width:"100%",height:"100%","aria-hidden":"true",children:[g.jsx("defs",{children:g.jsx("marker",{id:"tour-arrowhead",markerWidth:"10",markerHeight:"8",refX:"8",refY:"4",orient:"auto",children:g.jsx("path",{d:"M0,0 L10,4 L0,8 Z",fill:"rgba(34,211,238,0.95)"})})}),g.jsx("line",{x1:S.x,y1:S.y,x2:x.x,y2:x.y,stroke:"rgba(34,211,238,0.9)",strokeWidth:"2",markerEnd:"url(#tour-arrowhead)"})]}),g.jsxs("div",{ref:d,className:`fixed left-4 bottom-4 w-[min(380px,calc(100vw-32px))] ${i.componentBg} border ${i.border} rounded-xl shadow-2xl p-4`,onClick:C=>C.stopPropagation(),children:[g.jsxs("div",{className:"flex items-start justify-between gap-3",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsxs("div",{className:`text-[11px] ${i.textSecondary}`,children:[l+1," / ",e.length]}),g.jsx("div",{className:`text-base font-semibold ${i.accentColor} mt-0.5`,children:m.title})]}),g.jsx("button",{type:"button",onClick:y,className:`text-xs ${i.textSecondary} hover:${i.textPrimary} underline`,children:""})]}),g.jsx("p",{className:`mt-2 text-sm ${i.textPrimary} leading-relaxed`,children:m.description}),g.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[g.jsxs("label",{className:`flex items-center gap-2 text-xs ${i.textSecondary}`,children:[g.jsx("input",{type:"checkbox",checked:s,onChange:C=>u(C.target.checked),className:`mt-0.5 h-4 w-4 rounded border ${i.border} ${i.inputBg} text-cyan-500 focus:ring-cyan-400`}),"  "]}),g.jsx("div",{className:`text-xs ${i.textSecondary}`,children:"   "})]})]})]})},Ww=({isOpen:n,onClose:e})=>{const{colors:t}=Vi();return n?g.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:g.jsxs("div",{className:`${t.componentBg} p-6 rounded-xl shadow-2xl border ${t.border} w-full max-w-2xl max-h-[80vh] flex flex-col relative`,onClick:i=>i.stopPropagation(),children:[g.jsx("button",{onClick:e,className:`absolute top-4 right-4 ${t.textSecondary} hover:${t.textPrimary} transition-colors`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),g.jsx("h2",{className:`text-xl sm:text-2xl font-bold ${t.accentColor} mb-4 pr-8`,children:" "}),g.jsx("div",{className:"flex-grow overflow-y-auto min-h-0 scrollbar-thin pr-2",children:g.jsxs("ul",{className:`space-y-4 ${t.textSecondary}`,children:[g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" :"})," /   ,   ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" :"})," /  AI ( )   ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:"AI :"})," Gemini  OpenRouter API Key   / . (Gemini  Gemini  )"]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:"API  :"}),"  ",g.jsx("strong",{children:"API Key "}),"  ",g.jsx("strong",{children:" "}),"   Google      ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" :"}),"       ",g.jsx("strong",{children:""}),"  . /   ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" / :"}),"  /   (:  ) ,       .   &     . (:    AI   ",g.jsx("strong",{children:""}),")"]})]})]})}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{onClick:e,className:`${t.accentBg} hover:opacity-90 ${t.buttonText} px-6 py-2 rounded-lg font-semibold transition-colors`,children:""})})]})}):null},qm="smartcalendar:tourSeen",jw=[{target:"chat-input",title:" ",description:" AI ,     ."},{target:"ai-schedule-toggle",title:"AI  ",description:"        ."},{target:"calendar-event",title:" ",description:"    AI  ."},{target:"view-week",title:" ",description:"        ."},{target:"calendar-more",title:"",description:"    +N      .",arrowOffset:{y:-16}},{target:"calendar-event",title:" ()",description:" &     ."},{target:"filter-button",title:"",description:"/ (/AI)    ."},{target:"api-settings-button",title:"",description:"Provider , API Key , /    ."}],eR=({onOpenUsage:n})=>{const{apiKey:e,openRouterApiKey:t,aiProviderPreference:i,openRouterModel:l,setApiKey:o,setOpenRouterApiKey:s,setAiProviderPreference:u,setOpenRouterModel:c,clearApiKey:f,clearOpenRouterApiKey:d}=gd(),{theme:p,setTheme:h,colors:m}=Vi(),[x,S]=b.useState(!1);return g.jsxs("header",{className:`flex justify-between items-center p-4 ${m.headerBg} border-b ${m.border}`,children:[g.jsx("h1",{className:`text-xl font-bold ${m.accentColor}`,children:"ON  "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`flex rounded-lg p-1 border ${m.border} mr-2`,children:["dark","light","beige"].map(_=>g.jsx("button",{onClick:()=>h(_),className:`w-6 h-6 rounded-md flex items-center justify-center transition-colors mx-0.5
                 ${p===_?"ring-2 ring-offset-1 ring-cyan-500":"hover:opacity-80"}
                 ${_==="dark"?"bg-slate-800":_==="light"?"bg-white border border-gray-300":"bg-[#e4dcc0]"}
               `,title:`${_} theme`},_))}),g.jsx("button",{onClick:n,className:`${m.accentBg} hover:opacity-90 ${m.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors mr-2`,children:""}),g.jsxs("div",{className:`hidden sm:block text-xs ${m.textSecondary}`,children:["Provider: ",i==="auto"?"":i==="gemini"?"Gemini":"OpenRouter","  Key: ",e||t?"":""]}),g.jsxs("div",{className:`hidden lg:block text-xs ${m.textSecondary}`,children:["Gemini: ",e?"":"","  OpenRouter: ",t?"":""]}),g.jsx("button",{onClick:()=>S(!0),"data-tour":"api-settings-button",className:`bg-slate-700 hover:bg-slate-600 ${m.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:"API Key "})]}),g.jsx(Kw,{isOpen:x,onClose:()=>S(!1),geminiApiKey:e,openRouterApiKey:t,aiProviderPreference:i,openRouterModel:l,onSaveGemini:o,onSaveOpenRouter:s,onSaveAiProviderPreference:u,onSaveOpenRouterModel:c,onClearGemini:f,onClearOpenRouter:d})]})},tR=()=>{const[n,e]=b.useState(!1),[t,i]=b.useState(!1),{colors:l}=Vi();return b.useEffect(()=>{localStorage.getItem(qm)==="1"||i(!0)},[]),g.jsxs("div",{className:`h-screen flex flex-col ${l.mainBg} antialiased overflow-hidden`,children:[g.jsx(eR,{onOpenUsage:()=>e(!0)}),g.jsx(Ww,{isOpen:n,onClose:()=>e(!1)}),g.jsx(Qw,{isOpen:t,steps:jw,onClose:({dismissed:o})=>{i(!1),localStorage.setItem(qm,"1")}}),!t&&g.jsx("button",{type:"button",onClick:()=>i(!0),className:`fixed left-4 bottom-4 z-[150] w-11 h-11 rounded-full ${l.accentBg} hover:opacity-90 ${l.buttonText} font-bold shadow-xl`,"aria-label":"  ",children:"?"}),g.jsx("main",{className:"flex-grow p-4 sm:p-6 md:p-8 flex flex-col min-h-0",children:g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 sm:gap-6 w-full max-w-screen-2xl mx-auto flex-grow min-h-0",children:[g.jsx("div",{className:"md:w-[75%] w-full order-1 md:order-1 flex flex-col min-h-0",children:g.jsx("div",{className:"w-full flex-grow min-h-0 flex flex-col",children:g.jsx(ww,{scheduleText:qw,manualContextText:Pm})})}),g.jsx("div",{className:"md:w-[25%] w-full order-2 md:order-2 flex flex-col min-h-0",children:g.jsx(Gw,{manualContextText:Pm})})]})})]})},nR=()=>g.jsx(K1,{children:g.jsx(tR,{})}),L0=document.getElementById("root");if(!L0)throw new Error("Could not find root element to mount to");const iR=F1.createRoot(L0);iR.render(g.jsx(dx.StrictMode,{children:g.jsx(hw,{children:g.jsx(nR,{})})}));
