var Q0=Object.defineProperty;var Rd=n=>{throw TypeError(n)};var W0=(n,e,t)=>e in n?Q0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Be=(n,e,t)=>W0(n,typeof e!="symbol"?e+"":e,t),j0=(n,e,t)=>e.has(n)||Rd("Cannot "+t);var Dd=(n,e,t)=>e.has(n)?Rd("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t);var ko=(n,e,t)=>(j0(n,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=t(l);fetch(l.href,o)}})();function Jm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xm={exports:{}},br={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex=Symbol.for("react.transitional.element"),tx=Symbol.for("react.fragment");function Qm(n,e,t){var i=null;if(t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),"key"in e){t={};for(var l in e)l!=="key"&&(t[l]=e[l])}else t=e;return e=t.ref,{$$typeof:ex,type:n,key:i,ref:e!==void 0?e:null,props:t}}br.Fragment=tx;br.jsx=Qm;br.jsxs=Qm;Xm.exports=br;var g=Xm.exports,Wm={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=Symbol.for("react.transitional.element"),nx=Symbol.for("react.portal"),ix=Symbol.for("react.fragment"),lx=Symbol.for("react.strict_mode"),ox=Symbol.for("react.profiler"),sx=Symbol.for("react.consumer"),ax=Symbol.for("react.context"),rx=Symbol.for("react.forward_ref"),ux=Symbol.for("react.suspense"),cx=Symbol.for("react.memo"),jm=Symbol.for("react.lazy"),kd=Symbol.iterator;function fx(n){return n===null||typeof n!="object"?null:(n=kd&&n[kd]||n["@@iterator"],typeof n=="function"?n:null)}var eg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tg=Object.assign,ng={};function To(n,e,t){this.props=n,this.context=e,this.refs=ng,this.updater=t||eg}To.prototype.isReactComponent={};To.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};To.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function ig(){}ig.prototype=To.prototype;function cf(n,e,t){this.props=n,this.context=e,this.refs=ng,this.updater=t||eg}var ff=cf.prototype=new ig;ff.constructor=cf;tg(ff,To.prototype);ff.isPureReactComponent=!0;var Id=Array.isArray,Fe={H:null,A:null,T:null,S:null,V:null},lg=Object.prototype.hasOwnProperty;function df(n,e,t,i,l,o){return t=o.ref,{$$typeof:uf,type:n,key:e,ref:t!==void 0?t:null,props:o}}function dx(n,e){return df(n.type,e,void 0,void 0,void 0,n.props)}function hf(n){return typeof n=="object"&&n!==null&&n.$$typeof===uf}function hx(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Ud=/\/+/g;function eu(n,e){return typeof n=="object"&&n!==null&&n.key!=null?hx(""+n.key):e.toString(36)}function Ld(){}function px(n){switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:switch(typeof n.status=="string"?n.then(Ld,Ld):(n.status="pending",n.then(function(e){n.status==="pending"&&(n.status="fulfilled",n.value=e)},function(e){n.status==="pending"&&(n.status="rejected",n.reason=e)})),n.status){case"fulfilled":return n.value;case"rejected":throw n.reason}}throw n}function Al(n,e,t,i,l){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"bigint":case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case uf:case nx:s=!0;break;case jm:return s=n._init,Al(s(n._payload),e,t,i,l)}}if(s)return l=l(n),s=i===""?"."+eu(n,0):i,Id(l)?(t="",s!=null&&(t=s.replace(Ud,"$&/")+"/"),Al(l,e,t,"",function(f){return f})):l!=null&&(hf(l)&&(l=dx(l,t+(l.key==null||n&&n.key===l.key?"":(""+l.key).replace(Ud,"$&/")+"/")+s)),e.push(l)),1;s=0;var u=i===""?".":i+":";if(Id(n))for(var c=0;c<n.length;c++)i=n[c],o=u+eu(i,c),s+=Al(i,e,t,o,l);else if(c=fx(n),typeof c=="function")for(n=c.call(n),c=0;!(i=n.next()).done;)i=i.value,o=u+eu(i,c++),s+=Al(i,e,t,o,l);else if(o==="object"){if(typeof n.then=="function")return Al(px(n),e,t,i,l);throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function ea(n,e,t){if(n==null)return n;var i=[],l=0;return Al(n,i,"","",function(o){return e.call(t,o,l++)}),i}function mx(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Od=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function gx(){}ae.Children={map:ea,forEach:function(n,e,t){ea(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ea(n,function(){e++}),e},toArray:function(n){return ea(n,function(e){return e})||[]},only:function(n){if(!hf(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ae.Component=To;ae.Fragment=ix;ae.Profiler=ox;ae.PureComponent=cf;ae.StrictMode=lx;ae.Suspense=ux;ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Fe;ae.__COMPILER_RUNTIME={__proto__:null,c:function(n){return Fe.H.useMemoCache(n)}};ae.cache=function(n){return function(){return n.apply(null,arguments)}};ae.cloneElement=function(n,e,t){if(n==null)throw Error("The argument must be a React element, but you passed "+n+".");var i=tg({},n.props),l=n.key,o=void 0;if(e!=null)for(s in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(l=""+e.key),e)!lg.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=t;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}return df(n.type,l,void 0,void 0,o,i)};ae.createContext=function(n){return n={$$typeof:ax,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider=n,n.Consumer={$$typeof:sx,_context:n},n};ae.createElement=function(n,e,t){var i,l={},o=null;if(e!=null)for(i in e.key!==void 0&&(o=""+e.key),e)lg.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=e[i]);var s=arguments.length-2;if(s===1)l.children=t;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];l.children=u}if(n&&n.defaultProps)for(i in s=n.defaultProps,s)l[i]===void 0&&(l[i]=s[i]);return df(n,o,void 0,void 0,null,l)};ae.createRef=function(){return{current:null}};ae.forwardRef=function(n){return{$$typeof:rx,render:n}};ae.isValidElement=hf;ae.lazy=function(n){return{$$typeof:jm,_payload:{_status:-1,_result:n},_init:mx}};ae.memo=function(n,e){return{$$typeof:cx,type:n,compare:e===void 0?null:e}};ae.startTransition=function(n){var e=Fe.T,t={};Fe.T=t;try{var i=n(),l=Fe.S;l!==null&&l(t,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(gx,Od)}catch(o){Od(o)}finally{Fe.T=e}};ae.unstable_useCacheRefresh=function(){return Fe.H.useCacheRefresh()};ae.use=function(n){return Fe.H.use(n)};ae.useActionState=function(n,e,t){return Fe.H.useActionState(n,e,t)};ae.useCallback=function(n,e){return Fe.H.useCallback(n,e)};ae.useContext=function(n){return Fe.H.useContext(n)};ae.useDebugValue=function(){};ae.useDeferredValue=function(n,e){return Fe.H.useDeferredValue(n,e)};ae.useEffect=function(n,e,t){var i=Fe.H;if(typeof t=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(n,e)};ae.useId=function(){return Fe.H.useId()};ae.useImperativeHandle=function(n,e,t){return Fe.H.useImperativeHandle(n,e,t)};ae.useInsertionEffect=function(n,e){return Fe.H.useInsertionEffect(n,e)};ae.useLayoutEffect=function(n,e){return Fe.H.useLayoutEffect(n,e)};ae.useMemo=function(n,e){return Fe.H.useMemo(n,e)};ae.useOptimistic=function(n,e){return Fe.H.useOptimistic(n,e)};ae.useReducer=function(n,e,t){return Fe.H.useReducer(n,e,t)};ae.useRef=function(n){return Fe.H.useRef(n)};ae.useState=function(n){return Fe.H.useState(n)};ae.useSyncExternalStore=function(n,e,t){return Fe.H.useSyncExternalStore(n,e,t)};ae.useTransition=function(){return Fe.H.useTransition()};ae.version="19.1.0";Wm.exports=ae;var A=Wm.exports;const yx=Jm(A);var og={exports:{}},Mr={},sg={exports:{}},ag={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(V,le){var te=V.length;V.push(le);e:for(;0<te;){var Re=te-1>>>1,ce=V[Re];if(0<l(ce,le))V[Re]=le,V[te]=ce,te=Re;else break e}}function t(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var le=V[0],te=V.pop();if(te!==le){V[0]=te;e:for(var Re=0,ce=V.length,Nt=ce>>>1;Re<Nt;){var Yt=2*(Re+1)-1,k=V[Yt],Z=Yt+1,q=V[Z];if(0>l(k,te))Z<ce&&0>l(q,k)?(V[Re]=q,V[Z]=te,Re=Z):(V[Re]=k,V[Yt]=te,Re=Yt);else if(Z<ce&&0>l(q,te))V[Re]=q,V[Z]=te,Re=Z;else break e}}return le}function l(V,le){var te=V.sortIndex-le.sortIndex;return te!==0?te:V.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();n.unstable_now=function(){return s.now()-u}}var c=[],f=[],d=1,p=null,h=3,m=!1,x=!1,S=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(V){for(var le=t(f);le!==null;){if(le.callback===null)i(f);else if(le.startTime<=V)i(f),le.sortIndex=le.expirationTime,e(c,le);else break;le=t(f)}}function b(V){if(S=!1,C(V),!x)if(t(c)!==null)x=!0,w||(w=!0,xe());else{var le=t(f);le!==null&&Mt(b,le.startTime-V)}}var w=!1,N=-1,D=5,P=-1;function O(){return _?!0:!(n.unstable_now()-P<D)}function fe(){if(_=!1,w){var V=n.unstable_now();P=V;var le=!0;try{e:{x=!1,S&&(S=!1,v(N),N=-1),m=!0;var te=h;try{t:{for(C(V),p=t(c);p!==null&&!(p.expirationTime>V&&O());){var Re=p.callback;if(typeof Re=="function"){p.callback=null,h=p.priorityLevel;var ce=Re(p.expirationTime<=V);if(V=n.unstable_now(),typeof ce=="function"){p.callback=ce,C(V),le=!0;break t}p===t(c)&&i(c),C(V)}else i(c);p=t(c)}if(p!==null)le=!0;else{var Nt=t(f);Nt!==null&&Mt(b,Nt.startTime-V),le=!1}}break e}finally{p=null,h=te,m=!1}le=void 0}}finally{le?xe():w=!1}}}var xe;if(typeof T=="function")xe=function(){T(fe)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,nt=Ot.port2;Ot.port1.onmessage=fe,xe=function(){nt.postMessage(null)}}else xe=function(){y(fe,0)};function Mt(V,le){N=y(function(){V(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_next=function(V){switch(h){case 1:case 2:case 3:var le=3;break;default:le=h}var te=h;h=le;try{return V()}finally{h=te}},n.unstable_requestPaint=function(){_=!0},n.unstable_runWithPriority=function(V,le){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=h;h=V;try{return le()}finally{h=te}},n.unstable_scheduleCallback=function(V,le,te){var Re=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Re+te:Re):te=Re,V){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=te+ce,V={id:d++,callback:le,priorityLevel:V,startTime:te,expirationTime:ce,sortIndex:-1},te>Re?(V.sortIndex=te,e(f,V),t(c)===null&&V===t(f)&&(S?(v(N),N=-1):S=!0,Mt(b,te-Re))):(V.sortIndex=ce,e(c,V),x||m||(x=!0,w||(w=!0,xe()))),V},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(V){var le=h;return function(){var te=h;h=le;try{return V.apply(this,arguments)}finally{h=te}}}})(ag);sg.exports=ag;var vx=sg.exports,rg={exports:{}},Lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx=A;function ug(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function di(){}var kt={d:{f:di,r:function(){throw Error(ug(522))},D:di,C:di,L:di,m:di,X:di,S:di,M:di},p:0,findDOMNode:null},Tx=Symbol.for("react.portal");function Sx(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tx,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}var Xo=xx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Nr(n,e){if(n==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=kt;Lt.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(ug(299));return Sx(n,e,null,t)};Lt.flushSync=function(n){var e=Xo.T,t=kt.p;try{if(Xo.T=null,kt.p=2,n)return n()}finally{Xo.T=e,kt.p=t,kt.d.f()}};Lt.preconnect=function(n,e){typeof n=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,kt.d.C(n,e))};Lt.prefetchDNS=function(n){typeof n=="string"&&kt.d.D(n)};Lt.preinit=function(n,e){if(typeof n=="string"&&e&&typeof e.as=="string"){var t=e.as,i=Nr(t,e.crossOrigin),l=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;t==="style"?kt.d.S(n,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:o}):t==="script"&&kt.d.X(n,{crossOrigin:i,integrity:l,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Lt.preinitModule=function(n,e){if(typeof n=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var t=Nr(e.as,e.crossOrigin);kt.d.M(n,{crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&kt.d.M(n)};Lt.preload=function(n,e){if(typeof n=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var t=e.as,i=Nr(t,e.crossOrigin);kt.d.L(n,t,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Lt.preloadModule=function(n,e){if(typeof n=="string")if(e){var t=Nr(e.as,e.crossOrigin);kt.d.m(n,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else kt.d.m(n)};Lt.requestFormReset=function(n){kt.d.r(n)};Lt.unstable_batchedUpdates=function(n,e){return n(e)};Lt.useFormState=function(n,e,t){return Xo.H.useFormState(n,e,t)};Lt.useFormStatus=function(){return Xo.H.useHostTransitionStatus()};Lt.version="19.1.0";function cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cg)}catch(n){console.error(n)}}cg(),rg.exports=Lt;var Cx=rg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ct=vx,fg=A,_x=Cx;function M(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function dg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ks(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function hg(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Vd(n){if(ks(n)!==n)throw Error(M(188))}function Ex(n){var e=n.alternate;if(!e){if(e=ks(n),e===null)throw Error(M(188));return e!==n?null:n}for(var t=n,i=e;;){var l=t.return;if(l===null)break;var o=l.alternate;if(o===null){if(i=l.return,i!==null){t=i;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===t)return Vd(l),n;if(o===i)return Vd(l),e;o=o.sibling}throw Error(M(188))}if(t.return!==i.return)t=l,i=o;else{for(var s=!1,u=l.child;u;){if(u===t){s=!0,t=l,i=o;break}if(u===i){s=!0,i=l,t=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===t){s=!0,t=o,i=l;break}if(u===i){s=!0,i=o,t=l;break}u=u.sibling}if(!s)throw Error(M(189))}}if(t.alternate!==i)throw Error(M(190))}if(t.tag!==3)throw Error(M(188));return t.stateNode.current===t?n:e}function pg(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n;for(n=n.child;n!==null;){if(e=pg(n),e!==null)return e;n=n.sibling}return null}var He=Object.assign,Ax=Symbol.for("react.element"),ta=Symbol.for("react.transitional.element"),Ho=Symbol.for("react.portal"),Rl=Symbol.for("react.fragment"),mg=Symbol.for("react.strict_mode"),Fu=Symbol.for("react.profiler"),bx=Symbol.for("react.provider"),gg=Symbol.for("react.consumer"),Yn=Symbol.for("react.context"),pf=Symbol.for("react.forward_ref"),Zu=Symbol.for("react.suspense"),Ku=Symbol.for("react.suspense_list"),mf=Symbol.for("react.memo"),mi=Symbol.for("react.lazy"),Ju=Symbol.for("react.activity"),Mx=Symbol.for("react.memo_cache_sentinel"),$d=Symbol.iterator;function Io(n){return n===null||typeof n!="object"?null:(n=$d&&n[$d]||n["@@iterator"],typeof n=="function"?n:null)}var Nx=Symbol.for("react.client.reference");function Xu(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Nx?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Rl:return"Fragment";case Fu:return"Profiler";case mg:return"StrictMode";case Zu:return"Suspense";case Ku:return"SuspenseList";case Ju:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case Ho:return"Portal";case Yn:return(n.displayName||"Context")+".Provider";case gg:return(n._context.displayName||"Context")+".Consumer";case pf:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case mf:return e=n.displayName||null,e!==null?e:Xu(n.type)||"Memo";case mi:e=n._payload,n=n._init;try{return Xu(n(e))}catch{}}return null}var Yo=Array.isArray,W=fg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e=_x.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Wi={pending:!1,data:null,method:null,action:null},Qu=[],Dl=-1;function Ln(n){return{current:n}}function mt(n){0>Dl||(n.current=Qu[Dl],Qu[Dl]=null,Dl--)}function Ze(n,e){Dl++,Qu[Dl]=n.current,n.current=e}var Rn=Ln(null),gs=Ln(null),bi=Ln(null),Oa=Ln(null);function Va(n,e){switch(Ze(bi,e),Ze(gs,n),Ze(Rn,null),e.nodeType){case 9:case 11:n=(n=e.documentElement)&&(n=n.namespaceURI)?qh(n):0;break;default:if(n=e.tagName,e=e.namespaceURI)e=qh(e),n=Iv(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}mt(Rn),Ze(Rn,n)}function no(){mt(Rn),mt(gs),mt(bi)}function Wu(n){n.memoizedState!==null&&Ze(Oa,n);var e=Rn.current,t=Iv(e,n.type);e!==t&&(Ze(gs,n),Ze(Rn,t))}function $a(n){gs.current===n&&(mt(Rn),mt(gs)),Oa.current===n&&(mt(Oa),bs._currentValue=Wi)}var ju=Object.prototype.hasOwnProperty,gf=ct.unstable_scheduleCallback,tu=ct.unstable_cancelCallback,wx=ct.unstable_shouldYield,Rx=ct.unstable_requestPaint,Dn=ct.unstable_now,Dx=ct.unstable_getCurrentPriorityLevel,yg=ct.unstable_ImmediatePriority,vg=ct.unstable_UserBlockingPriority,Ba=ct.unstable_NormalPriority,kx=ct.unstable_LowPriority,xg=ct.unstable_IdlePriority,Ix=ct.log,Ux=ct.unstable_setDisableYieldValue,Is=null,Wt=null;function Ci(n){if(typeof Ix=="function"&&Ux(n),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Is,n)}catch{}}var jt=Math.clz32?Math.clz32:Vx,Lx=Math.log,Ox=Math.LN2;function Vx(n){return n>>>=0,n===0?32:31-(Lx(n)/Ox|0)|0}var na=256,ia=4194304;function Ji(n){var e=n&42;if(e!==0)return e;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function wr(n,e,t){var i=n.pendingLanes;if(i===0)return 0;var l=0,o=n.suspendedLanes,s=n.pingedLanes;n=n.warmLanes;var u=i&134217727;return u!==0?(i=u&~o,i!==0?l=Ji(i):(s&=u,s!==0?l=Ji(s):t||(t=u&~n,t!==0&&(l=Ji(t))))):(u=i&~o,u!==0?l=Ji(u):s!==0?l=Ji(s):t||(t=i&~n,t!==0&&(l=Ji(t)))),l===0?0:e!==0&&e!==l&&!(e&o)&&(o=l&-l,t=e&-e,o>=t||o===32&&(t&4194048)!==0)?e:l}function Us(n,e){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&e)===0}function $x(n,e){switch(n){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tg(){var n=na;return na<<=1,!(na&4194048)&&(na=256),n}function Sg(){var n=ia;return ia<<=1,!(ia&62914560)&&(ia=4194304),n}function nu(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ls(n,e){n.pendingLanes|=e,e!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Bx(n,e,t,i,l,o){var s=n.pendingLanes;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=t,n.entangledLanes&=t,n.errorRecoveryDisabledLanes&=t,n.shellSuspendCounter=0;var u=n.entanglements,c=n.expirationTimes,f=n.hiddenUpdates;for(t=s&~t;0<t;){var d=31-jt(t),p=1<<d;u[d]=0,c[d]=-1;var h=f[d];if(h!==null)for(f[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}t&=~p}i!==0&&Cg(n,i,0),o!==0&&l===0&&n.tag!==0&&(n.suspendedLanes|=o&~(s&~e))}function Cg(n,e,t){n.pendingLanes|=e,n.suspendedLanes&=~e;var i=31-jt(e);n.entangledLanes|=e,n.entanglements[i]=n.entanglements[i]|1073741824|t&4194090}function _g(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-jt(t),l=1<<i;l&e|n[i]&e&&(n[i]|=e),t&=~l}}function yf(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function vf(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function Eg(){var n=_e.p;return n!==0?n:(n=window.event,n===void 0?32:qv(n.type))}function Px(n,e){var t=_e.p;try{return _e.p=n,e()}finally{_e.p=t}}var Bi=Math.random().toString(36).slice(2),At="__reactFiber$"+Bi,qt="__reactProps$"+Bi,So="__reactContainer$"+Bi,ec="__reactEvents$"+Bi,zx="__reactListeners$"+Bi,Gx="__reactHandles$"+Bi,Bd="__reactResources$"+Bi,Os="__reactMarker$"+Bi;function xf(n){delete n[At],delete n[qt],delete n[ec],delete n[zx],delete n[Gx]}function kl(n){var e=n[At];if(e)return e;for(var t=n.parentNode;t;){if(e=t[So]||t[At]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Fh(n);n!==null;){if(t=n[At])return t;n=Fh(n)}return e}n=t,t=n.parentNode}return null}function Co(n){if(n=n[At]||n[So]){var e=n.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return n}return null}function Fo(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n.stateNode;throw Error(M(33))}function Yl(n){var e=n[Bd];return e||(e=n[Bd]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ht(n){n[Os]=!0}var Ag=new Set,bg={};function hl(n,e){io(n,e),io(n+"Capture",e)}function io(n,e){for(bg[n]=e,n=0;n<e.length;n++)Ag.add(e[n])}var qx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pd={},zd={};function Hx(n){return ju.call(zd,n)?!0:ju.call(Pd,n)?!1:qx.test(n)?zd[n]=!0:(Pd[n]=!0,!1)}function Ta(n,e,t){if(Hx(e))if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":n.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){n.removeAttribute(e);return}}n.setAttribute(e,""+t)}}function la(n,e,t){if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(e);return}n.setAttribute(e,""+t)}}function zn(n,e,t,i){if(i===null)n.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(t);return}n.setAttributeNS(e,t,""+i)}}var iu,Gd;function bl(n){if(iu===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);iu=e&&e[1]||"",Gd=-1<t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+iu+n+Gd}var lu=!1;function ou(n,e){if(!n||lu)return"";lu=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(m){var h=m}Reflect.construct(n,[],p)}else{try{p.call()}catch(m){h=m}n.call(p.prototype)}}else{try{throw Error()}catch(m){h=m}(p=n())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),s=o[0],u=o[1];if(s&&u){var c=s.split(`
`),f=u.split(`
`);for(l=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;l<f.length&&!f[l].includes("DetermineComponentFrameRoot");)l++;if(i===c.length||l===f.length)for(i=c.length-1,l=f.length-1;1<=i&&0<=l&&c[i]!==f[l];)l--;for(;1<=i&&0<=l;i--,l--)if(c[i]!==f[l]){if(i!==1||l!==1)do if(i--,l--,0>l||c[i]!==f[l]){var d=`
`+c[i].replace(" at new "," at ");return n.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",n.displayName)),d}while(1<=i&&0<=l);break}}}finally{lu=!1,Error.prepareStackTrace=t}return(t=n?n.displayName||n.name:"")?bl(t):""}function Yx(n){switch(n.tag){case 26:case 27:case 5:return bl(n.type);case 16:return bl("Lazy");case 13:return bl("Suspense");case 19:return bl("SuspenseList");case 0:case 15:return ou(n.type,!1);case 11:return ou(n.type.render,!1);case 1:return ou(n.type,!0);case 31:return bl("Activity");default:return""}}function qd(n){try{var e="";do e+=Yx(n),n=n.return;while(n);return e}catch(t){return`
Error generating stack: `+t.message+`
`+t.stack}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Mg(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Fx(n){var e=Mg(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var l=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return l.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Pa(n){n._valueTracker||(n._valueTracker=Fx(n))}function Ng(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=Mg(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function za(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Zx=/[\n"\\]/g;function cn(n){return n.replace(Zx,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function tc(n,e,t,i,l,o,s,u){n.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?n.type=s:n.removeAttribute("type"),e!=null?s==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+an(e)):n.value!==""+an(e)&&(n.value=""+an(e)):s!=="submit"&&s!=="reset"||n.removeAttribute("value"),e!=null?nc(n,s,an(e)):t!=null?nc(n,s,an(t)):i!=null&&n.removeAttribute("value"),l==null&&o!=null&&(n.defaultChecked=!!o),l!=null&&(n.checked=l&&typeof l!="function"&&typeof l!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?n.name=""+an(u):n.removeAttribute("name")}function wg(n,e,t,i,l,o,s,u){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(n.type=o),e!=null||t!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;t=t!=null?""+an(t):"",e=e!=null?""+an(e):t,u||e===n.value||(n.value=e),n.defaultValue=e}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,n.checked=u?n.checked:!!i,n.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(n.name=s)}function nc(n,e,t){e==="number"&&za(n.ownerDocument)===n||n.defaultValue===""+t||(n.defaultValue=""+t)}function Fl(n,e,t,i){if(n=n.options,e){e={};for(var l=0;l<t.length;l++)e["$"+t[l]]=!0;for(t=0;t<n.length;t++)l=e.hasOwnProperty("$"+n[t].value),n[t].selected!==l&&(n[t].selected=l),l&&i&&(n[t].defaultSelected=!0)}else{for(t=""+an(t),e=null,l=0;l<n.length;l++){if(n[l].value===t){n[l].selected=!0,i&&(n[l].defaultSelected=!0);return}e!==null||n[l].disabled||(e=n[l])}e!==null&&(e.selected=!0)}}function Rg(n,e,t){if(e!=null&&(e=""+an(e),e!==n.value&&(n.value=e),t==null)){n.defaultValue!==e&&(n.defaultValue=e);return}n.defaultValue=t!=null?""+an(t):""}function Dg(n,e,t,i){if(e==null){if(i!=null){if(t!=null)throw Error(M(92));if(Yo(i)){if(1<i.length)throw Error(M(93));i=i[0]}t=i}t==null&&(t=""),e=t}t=an(e),n.defaultValue=t,i=n.textContent,i===t&&i!==""&&i!==null&&(n.value=i)}function lo(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Kx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hd(n,e,t){var i=e.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?i?n.setProperty(e,""):e==="float"?n.cssFloat="":n[e]="":i?n.setProperty(e,t):typeof t!="number"||t===0||Kx.has(e)?e==="float"?n.cssFloat=t:n[e]=(""+t).trim():n[e]=t+"px"}function kg(n,e,t){if(e!=null&&typeof e!="object")throw Error(M(62));if(n=n.style,t!=null){for(var i in t)!t.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="");for(var l in e)i=e[l],e.hasOwnProperty(l)&&t[l]!==i&&Hd(n,l,i)}else for(var o in e)e.hasOwnProperty(o)&&Hd(n,o,e[o])}function Tf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(n){return Xx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ic=null;function Sf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Il=null,Zl=null;function Yd(n){var e=Co(n);if(e&&(n=e.stateNode)){var t=n[qt]||null;e:switch(n=e.stateNode,e.type){case"input":if(tc(n,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+cn(""+e)+'"][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var l=i[qt]||null;if(!l)throw Error(M(90));tc(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<t.length;e++)i=t[e],i.form===n.form&&Ng(i)}break e;case"textarea":Rg(n,t.value,t.defaultValue);break e;case"select":e=t.value,e!=null&&Fl(n,!!t.multiple,e,!1)}}}var su=!1;function Ig(n,e,t){if(su)return n(e,t);su=!0;try{var i=n(e);return i}finally{if(su=!1,(Il!==null||Zl!==null)&&(Br(),Il&&(e=Il,n=Zl,Zl=Il=null,Yd(e),n)))for(e=0;e<n.length;e++)Yd(n[e])}}function ys(n,e){var t=n.stateNode;if(t===null)return null;var i=t[qt]||null;if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(M(231,e,typeof t));return t}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lc=!1;if(jn)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){lc=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{lc=!1}var _i=null,Cf=null,Ca=null;function Ug(){if(Ca)return Ca;var n,e=Cf,t=e.length,i,l="value"in _i?_i.value:_i.textContent,o=l.length;for(n=0;n<t&&e[n]===l[n];n++);var s=t-n;for(i=1;i<=s&&e[t-i]===l[o-i];i++);return Ca=l.slice(n,1<i?1-i:void 0)}function _a(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function oa(){return!0}function Fd(){return!1}function Ht(n){function e(t,i,l,o,s){this._reactName=t,this._targetInst=l,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?oa:Fd,this.isPropagationStopped=Fd,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),e}var pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rr=Ht(pl),Vs=He({},pl,{view:0,detail:0}),Qx=Ht(Vs),au,ru,Lo,Dr=He({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_f,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Lo&&(Lo&&n.type==="mousemove"?(au=n.screenX-Lo.screenX,ru=n.screenY-Lo.screenY):ru=au=0,Lo=n),au)},movementY:function(n){return"movementY"in n?n.movementY:ru}}),Zd=Ht(Dr),Wx=He({},Dr,{dataTransfer:0}),jx=Ht(Wx),eT=He({},Vs,{relatedTarget:0}),uu=Ht(eT),tT=He({},pl,{animationName:0,elapsedTime:0,pseudoElement:0}),nT=Ht(tT),iT=He({},pl,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),lT=Ht(iT),oT=He({},pl,{data:0}),Kd=Ht(oT),sT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uT(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=rT[n])?!!e[n]:!1}function _f(){return uT}var cT=He({},Vs,{key:function(n){if(n.key){var e=sT[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=_a(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?aT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_f,charCode:function(n){return n.type==="keypress"?_a(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_a(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),fT=Ht(cT),dT=He({},Dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jd=Ht(dT),hT=He({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_f}),pT=Ht(hT),mT=He({},pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),gT=Ht(mT),yT=He({},Dr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),vT=Ht(yT),xT=He({},pl,{newState:0,oldState:0}),TT=Ht(xT),ST=[9,13,27,32],Ef=jn&&"CompositionEvent"in window,Qo=null;jn&&"documentMode"in document&&(Qo=document.documentMode);var CT=jn&&"TextEvent"in window&&!Qo,Lg=jn&&(!Ef||Qo&&8<Qo&&11>=Qo),Xd=" ",Qd=!1;function Og(n,e){switch(n){case"keyup":return ST.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ul=!1;function _T(n,e){switch(n){case"compositionend":return Vg(e);case"keypress":return e.which!==32?null:(Qd=!0,Xd);case"textInput":return n=e.data,n===Xd&&Qd?null:n;default:return null}}function ET(n,e){if(Ul)return n==="compositionend"||!Ef&&Og(n,e)?(n=Ug(),Ca=Cf=_i=null,Ul=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lg&&e.locale!=="ko"?null:e.data;default:return null}}var AT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!AT[n.type]:e==="textarea"}function $g(n,e,t,i){Il?Zl?Zl.push(i):Zl=[i]:Il=i,e=or(e,"onChange"),0<e.length&&(t=new Rr("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Wo=null,vs=null;function bT(n){Rv(n,0)}function kr(n){var e=Fo(n);if(Ng(e))return n}function jd(n,e){if(n==="change")return e}var Bg=!1;if(jn){var cu;if(jn){var fu="oninput"in document;if(!fu){var eh=document.createElement("div");eh.setAttribute("oninput","return;"),fu=typeof eh.oninput=="function"}cu=fu}else cu=!1;Bg=cu&&(!document.documentMode||9<document.documentMode)}function th(){Wo&&(Wo.detachEvent("onpropertychange",Pg),vs=Wo=null)}function Pg(n){if(n.propertyName==="value"&&kr(vs)){var e=[];$g(e,vs,n,Sf(n)),Ig(bT,e)}}function MT(n,e,t){n==="focusin"?(th(),Wo=e,vs=t,Wo.attachEvent("onpropertychange",Pg)):n==="focusout"&&th()}function NT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return kr(vs)}function wT(n,e){if(n==="click")return kr(e)}function RT(n,e){if(n==="input"||n==="change")return kr(e)}function DT(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var nn=typeof Object.is=="function"?Object.is:DT;function xs(n,e){if(nn(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var l=t[i];if(!ju.call(e,l)||!nn(n[l],e[l]))return!1}return!0}function nh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ih(n,e){var t=nh(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=nh(t)}}function zg(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?zg(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Gg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var e=za(n.document);e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=za(n.document)}return e}function Af(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var kT=jn&&"documentMode"in document&&11>=document.documentMode,Ll=null,oc=null,jo=null,sc=!1;function lh(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;sc||Ll==null||Ll!==za(i)||(i=Ll,"selectionStart"in i&&Af(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),jo&&xs(jo,i)||(jo=i,i=or(oc,"onSelect"),0<i.length&&(e=new Rr("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Ll)))}function Fi(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ol={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionrun:Fi("Transition","TransitionRun"),transitionstart:Fi("Transition","TransitionStart"),transitioncancel:Fi("Transition","TransitionCancel"),transitionend:Fi("Transition","TransitionEnd")},du={},qg={};jn&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function ml(n){if(du[n])return du[n];if(!Ol[n])return n;var e=Ol[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in qg)return du[n]=e[t];return n}var Hg=ml("animationend"),Yg=ml("animationiteration"),Fg=ml("animationstart"),IT=ml("transitionrun"),UT=ml("transitionstart"),LT=ml("transitioncancel"),Zg=ml("transitionend"),Kg=new Map,ac="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ac.push("scrollEnd");function Tn(n,e){Kg.set(n,e),hl(e,[n])}var oh=new WeakMap;function fn(n,e){if(typeof n=="object"&&n!==null){var t=oh.get(n);return t!==void 0?t:(e={value:n,source:e,stack:qd(e)},oh.set(n,e),e)}return{value:n,source:e,stack:qd(e)}}var sn=[],Vl=0,bf=0;function Ir(){for(var n=Vl,e=bf=Vl=0;e<n;){var t=sn[e];sn[e++]=null;var i=sn[e];sn[e++]=null;var l=sn[e];sn[e++]=null;var o=sn[e];if(sn[e++]=null,i!==null&&l!==null){var s=i.pending;s===null?l.next=l:(l.next=s.next,s.next=l),i.pending=l}o!==0&&Jg(t,l,o)}}function Ur(n,e,t,i){sn[Vl++]=n,sn[Vl++]=e,sn[Vl++]=t,sn[Vl++]=i,bf|=i,n.lanes|=i,n=n.alternate,n!==null&&(n.lanes|=i)}function Mf(n,e,t,i){return Ur(n,e,t,i),Ga(n)}function _o(n,e){return Ur(n,null,null,e),Ga(n)}function Jg(n,e,t){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t);for(var l=!1,o=n.return;o!==null;)o.childLanes|=t,i=o.alternate,i!==null&&(i.childLanes|=t),o.tag===22&&(n=o.stateNode,n===null||n._visibility&1||(l=!0)),n=o,o=o.return;return n.tag===3?(o=n.stateNode,l&&e!==null&&(l=31-jt(t),n=o.hiddenUpdates,i=n[l],i===null?n[l]=[e]:i.push(e),e.lane=t|536870912),o):null}function Ga(n){if(50<us)throw us=0,Nc=null,Error(M(185));for(var e=n.return;e!==null;)n=e,e=n.return;return n.tag===3?n.stateNode:null}var $l={};function OT(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(n,e,t,i){return new OT(n,e,t,i)}function Nf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qn(n,e){var t=n.alternate;return t===null?(t=Qt(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&65011712,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t.refCleanup=n.refCleanup,t}function Xg(n,e){n.flags&=65011714;var t=n.alternate;return t===null?(n.childLanes=0,n.lanes=e,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.type=t.type,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n}function Ea(n,e,t,i,l,o){var s=0;if(i=n,typeof n=="function")Nf(n)&&(s=1);else if(typeof n=="string")s=$1(n,t,Rn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Ju:return n=Qt(31,t,e,l),n.elementType=Ju,n.lanes=o,n;case Rl:return ji(t.children,l,o,e);case mg:s=8,l|=24;break;case Fu:return n=Qt(12,t,e,l|2),n.elementType=Fu,n.lanes=o,n;case Zu:return n=Qt(13,t,e,l),n.elementType=Zu,n.lanes=o,n;case Ku:return n=Qt(19,t,e,l),n.elementType=Ku,n.lanes=o,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case bx:case Yn:s=10;break e;case gg:s=9;break e;case pf:s=11;break e;case mf:s=14;break e;case mi:s=16,i=null;break e}s=29,t=Error(M(130,n===null?"null":typeof n,"")),i=null}return e=Qt(s,t,e,l),e.elementType=n,e.type=i,e.lanes=o,e}function ji(n,e,t,i){return n=Qt(7,n,i,e),n.lanes=t,n}function hu(n,e,t){return n=Qt(6,n,null,e),n.lanes=t,n}function pu(n,e,t){return e=Qt(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}var Bl=[],Pl=0,qa=null,Ha=0,rn=[],un=0,el=null,Fn=1,Zn="";function Xi(n,e){Bl[Pl++]=Ha,Bl[Pl++]=qa,qa=n,Ha=e}function Qg(n,e,t){rn[un++]=Fn,rn[un++]=Zn,rn[un++]=el,el=n;var i=Fn;n=Zn;var l=32-jt(i)-1;i&=~(1<<l),t+=1;var o=32-jt(e)+l;if(30<o){var s=l-l%5;o=(i&(1<<s)-1).toString(32),i>>=s,l-=s,Fn=1<<32-jt(e)+l|t<<l|i,Zn=o+n}else Fn=1<<o|t<<l|i,Zn=n}function wf(n){n.return!==null&&(Xi(n,1),Qg(n,1,0))}function Rf(n){for(;n===qa;)qa=Bl[--Pl],Bl[Pl]=null,Ha=Bl[--Pl],Bl[Pl]=null;for(;n===el;)el=rn[--un],rn[un]=null,Zn=rn[--un],rn[un]=null,Fn=rn[--un],rn[un]=null}var Dt=null,We=null,Ce=!1,tl=null,En=!1,rc=Error(M(519));function ol(n){var e=Error(M(418,""));throw Ts(fn(e,n)),rc}function sh(n){var e=n.stateNode,t=n.type,i=n.memoizedProps;switch(e[At]=n,e[qt]=i,t){case"dialog":he("cancel",e),he("close",e);break;case"iframe":case"object":case"embed":he("load",e);break;case"video":case"audio":for(t=0;t<_s.length;t++)he(_s[t],e);break;case"source":he("error",e);break;case"img":case"image":case"link":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"input":he("invalid",e),wg(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Pa(e);break;case"select":he("invalid",e);break;case"textarea":he("invalid",e),Dg(e,i.value,i.defaultValue,i.children),Pa(e)}t=i.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||e.textContent===""+t||i.suppressHydrationWarning===!0||kv(e.textContent,t)?(i.popover!=null&&(he("beforetoggle",e),he("toggle",e)),i.onScroll!=null&&he("scroll",e),i.onScrollEnd!=null&&he("scrollend",e),i.onClick!=null&&(e.onclick=Gr),e=!0):e=!1,e||ol(n)}function ah(n){for(Dt=n.return;Dt;)switch(Dt.tag){case 5:case 13:En=!1;return;case 27:case 3:En=!0;return;default:Dt=Dt.return}}function Oo(n){if(n!==Dt)return!1;if(!Ce)return ah(n),Ce=!0,!1;var e=n.tag,t;if((t=e!==3&&e!==27)&&((t=e===5)&&(t=n.type,t=!(t!=="form"&&t!=="button")||Uc(n.type,n.memoizedProps)),t=!t),t&&We&&ol(n),ah(n),e===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(M(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8)if(t=n.data,t==="/$"){if(e===0){We=vn(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++;n=n.nextSibling}We=null}}else e===27?(e=We,Pi(n.type)?(n=Vc,Vc=null,We=n):We=e):We=Dt?vn(n.stateNode.nextSibling):null;return!0}function $s(){We=Dt=null,Ce=!1}function rh(){var n=tl;return n!==null&&(Gt===null?Gt=n:Gt.push.apply(Gt,n),tl=null),n}function Ts(n){tl===null?tl=[n]:tl.push(n)}var uc=Ln(null),gl=null,Kn=null;function vi(n,e,t){Ze(uc,e._currentValue),e._currentValue=t}function Wn(n){n._currentValue=uc.current,mt(uc)}function cc(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function fc(n,e,t,i){var l=n.child;for(l!==null&&(l.return=n);l!==null;){var o=l.dependencies;if(o!==null){var s=l.child;o=o.firstContext;e:for(;o!==null;){var u=o;o=l;for(var c=0;c<e.length;c++)if(u.context===e[c]){o.lanes|=t,u=o.alternate,u!==null&&(u.lanes|=t),cc(o.return,t,n),i||(s=null);break e}o=u.next}}else if(l.tag===18){if(s=l.return,s===null)throw Error(M(341));s.lanes|=t,o=s.alternate,o!==null&&(o.lanes|=t),cc(s,t,n),s=null}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===n){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}}function Bs(n,e,t,i){n=null;for(var l=e,o=!1;l!==null;){if(!o){if(l.flags&524288)o=!0;else if(l.flags&262144)break}if(l.tag===10){var s=l.alternate;if(s===null)throw Error(M(387));if(s=s.memoizedProps,s!==null){var u=l.type;nn(l.pendingProps.value,s.value)||(n!==null?n.push(u):n=[u])}}else if(l===Oa.current){if(s=l.alternate,s===null)throw Error(M(387));s.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(n!==null?n.push(bs):n=[bs])}l=l.return}n!==null&&fc(e,n,t,i),e.flags|=262144}function Ya(n){for(n=n.firstContext;n!==null;){if(!nn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function sl(n){gl=n,Kn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function bt(n){return Wg(gl,n)}function sa(n,e){return gl===null&&sl(n),Wg(n,e)}function Wg(n,e){var t=e._currentValue;if(e={context:e,memoizedValue:t,next:null},Kn===null){if(n===null)throw Error(M(308));Kn=e,n.dependencies={lanes:0,firstContext:e},n.flags|=524288}else Kn=Kn.next=e;return t}var VT=typeof AbortController<"u"?AbortController:function(){var n=[],e=this.signal={aborted:!1,addEventListener:function(t,i){n.push(i)}};this.abort=function(){e.aborted=!0,n.forEach(function(t){return t()})}},$T=ct.unstable_scheduleCallback,BT=ct.unstable_NormalPriority,rt={$$typeof:Yn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new VT,data:new Map,refCount:0}}function Ps(n){n.refCount--,n.refCount===0&&$T(BT,function(){n.controller.abort()})}var es=null,dc=0,oo=0,Kl=null;function PT(n,e){if(es===null){var t=es=[];dc=0,oo=ed(),Kl={status:"pending",value:void 0,then:function(i){t.push(i)}}}return dc++,e.then(uh,uh),e}function uh(){if(--dc===0&&es!==null){Kl!==null&&(Kl.status="fulfilled");var n=es;es=null,oo=0,Kl=null;for(var e=0;e<n.length;e++)(0,n[e])()}}function zT(n,e){var t=[],i={status:"pending",value:null,reason:null,then:function(l){t.push(l)}};return n.then(function(){i.status="fulfilled",i.value=e;for(var l=0;l<t.length;l++)(0,t[l])(e)},function(l){for(i.status="rejected",i.reason=l,l=0;l<t.length;l++)(0,t[l])(void 0)}),i}var ch=W.S;W.S=function(n,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&PT(n,e),ch!==null&&ch(n,e)};var nl=Ln(null);function kf(){var n=nl.current;return n!==null?n:Pe.pooledCache}function Aa(n,e){e===null?Ze(nl,nl.current):Ze(nl,e.pool)}function jg(){var n=kf();return n===null?null:{parent:rt._currentValue,pool:n}}var zs=Error(M(460)),ey=Error(M(474)),Lr=Error(M(542)),hc={then:function(){}};function fh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function aa(){}function ty(n,e,t){switch(t=n[t],t===void 0?n.push(e):t!==e&&(e.then(aa,aa),e=t),e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,hh(n),n;default:if(typeof e.status=="string")e.then(aa,aa);else{if(n=Pe,n!==null&&100<n.shellSuspendCounter)throw Error(M(482));n=e,n.status="pending",n.then(function(i){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=i}},function(i){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,hh(n),n}throw ts=e,zs}}var ts=null;function dh(){if(ts===null)throw Error(M(459));var n=ts;return ts=null,n}function hh(n){if(n===zs||n===Lr)throw Error(M(483))}var gi=!1;function If(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pc(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Mi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ni(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,we&2){var l=i.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),i.pending=e,e=Ga(n),Jg(n,null,t),e}return Ur(n,i,e,t),Ga(n)}function ns(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194048)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,_g(n,t)}}function mu(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var l=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};o===null?l=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?l=o=e:o=o.next=e}else l=o=e;t={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}var mc=!1;function is(){if(mc){var n=Kl;if(n!==null)throw n}}function ls(n,e,t,i){mc=!1;var l=n.updateQueue;gi=!1;var o=l.firstBaseUpdate,s=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var c=u,f=c.next;c.next=null,s===null?o=f:s.next=f,s=c;var d=n.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==s&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(o!==null){var p=l.baseState;s=0,d=f=c=null,u=o;do{var h=u.lane&-536870913,m=h!==u.lane;if(m?(ve&h)===h:(i&h)===h){h!==0&&h===oo&&(mc=!0),d!==null&&(d=d.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var x=n,S=u;h=e;var _=t;switch(S.tag){case 1:if(x=S.payload,typeof x=="function"){p=x.call(_,p,h);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,h=typeof x=="function"?x.call(_,p,h):x,h==null)break e;p=He({},p,h);break e;case 2:gi=!0}}h=u.callback,h!==null&&(n.flags|=64,m&&(n.flags|=8192),m=l.callbacks,m===null?l.callbacks=[h]:m.push(h))}else m={lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=m,c=p):d=d.next=m,s|=h;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;m=u,u=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);d===null&&(c=p),l.baseState=c,l.firstBaseUpdate=f,l.lastBaseUpdate=d,o===null&&(l.shared.lanes=0),Vi|=s,n.lanes=s,n.memoizedState=p}}function ny(n,e){if(typeof n!="function")throw Error(M(191,n));n.call(e)}function iy(n,e){var t=n.callbacks;if(t!==null)for(n.callbacks=null,n=0;n<t.length;n++)ny(t[n],e)}var so=Ln(null),Fa=Ln(0);function ph(n,e){n=ni,Ze(Fa,n),Ze(so,e),ni=n|e.baseLanes}function gc(){Ze(Fa,ni),Ze(so,so.current)}function Uf(){ni=Fa.current,mt(so),mt(Fa)}var Li=0,ue=null,Ie=null,ot=null,Za=!1,Jl=!1,al=!1,Ka=0,Ss=0,Xl=null,GT=0;function et(){throw Error(M(321))}function Lf(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!nn(n[t],e[t]))return!1;return!0}function Of(n,e,t,i,l,o){return Li=o,ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,W.H=n===null||n.memoizedState===null?Uy:Ly,al=!1,o=t(i,l),al=!1,Jl&&(o=oy(e,t,i,l)),ly(n),o}function ly(n){W.H=Ja;var e=Ie!==null&&Ie.next!==null;if(Li=0,ot=Ie=ue=null,Za=!1,Ss=0,Xl=null,e)throw Error(M(300));n===null||pt||(n=n.dependencies,n!==null&&Ya(n)&&(pt=!0))}function oy(n,e,t,i){ue=n;var l=0;do{if(Jl&&(Xl=null),Ss=0,Jl=!1,25<=l)throw Error(M(301));if(l+=1,ot=Ie=null,n.updateQueue!=null){var o=n.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}W.H=JT,o=e(t,i)}while(Jl);return o}function qT(){var n=W.H,e=n.useState()[0];return e=typeof e.then=="function"?Gs(e):e,n=n.useState()[0],(Ie!==null?Ie.memoizedState:null)!==n&&(ue.flags|=1024),e}function Vf(){var n=Ka!==0;return Ka=0,n}function $f(n,e,t){e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~t}function Bf(n){if(Za){for(n=n.memoizedState;n!==null;){var e=n.queue;e!==null&&(e.pending=null),n=n.next}Za=!1}Li=0,ot=Ie=ue=null,Jl=!1,Ss=Ka=0,Xl=null}function Pt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?ue.memoizedState=ot=n:ot=ot.next=n,ot}function st(){if(Ie===null){var n=ue.alternate;n=n!==null?n.memoizedState:null}else n=Ie.next;var e=ot===null?ue.memoizedState:ot.next;if(e!==null)ot=e,Ie=n;else{if(n===null)throw ue.alternate===null?Error(M(467)):Error(M(310));Ie=n,n={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},ot===null?ue.memoizedState=ot=n:ot=ot.next=n}return ot}function Pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gs(n){var e=Ss;return Ss+=1,Xl===null&&(Xl=[]),n=ty(Xl,n,e),e=ue,(ot===null?e.memoizedState:ot.next)===null&&(e=e.alternate,W.H=e===null||e.memoizedState===null?Uy:Ly),n}function Or(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Gs(n);if(n.$$typeof===Yn)return bt(n)}throw Error(M(438,String(n)))}function zf(n){var e=null,t=ue.updateQueue;if(t!==null&&(e=t.memoCache),e==null){var i=ue.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),t===null&&(t=Pf(),ue.updateQueue=t),t.memoCache=e,t=e.data[e.index],t===void 0)for(t=e.data[e.index]=Array(n),i=0;i<n;i++)t[i]=Mx;return e.index++,t}function ei(n,e){return typeof e=="function"?e(n):e}function ba(n){var e=st();return Gf(e,Ie,n)}function Gf(n,e,t){var i=n.queue;if(i===null)throw Error(M(311));i.lastRenderedReducer=t;var l=n.baseQueue,o=i.pending;if(o!==null){if(l!==null){var s=l.next;l.next=o.next,o.next=s}e.baseQueue=l=o,i.pending=null}if(o=n.baseState,l===null)n.memoizedState=o;else{e=l.next;var u=s=null,c=null,f=e,d=!1;do{var p=f.lane&-536870913;if(p!==f.lane?(ve&p)===p:(Li&p)===p){var h=f.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),p===oo&&(d=!0);else if((Li&h)===h){f=f.next,h===oo&&(d=!0);continue}else p={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=p,s=o):c=c.next=p,ue.lanes|=h,Vi|=h;p=f.action,al&&t(o,p),o=f.hasEagerState?f.eagerState:t(o,p)}else h={lane:p,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=h,s=o):c=c.next=h,ue.lanes|=p,Vi|=p;f=f.next}while(f!==null&&f!==e);if(c===null?s=o:c.next=u,!nn(o,n.memoizedState)&&(pt=!0,d&&(t=Kl,t!==null)))throw t;n.memoizedState=o,n.baseState=s,n.baseQueue=c,i.lastRenderedState=o}return l===null&&(i.lanes=0),[n.memoizedState,i.dispatch]}function gu(n){var e=st(),t=e.queue;if(t===null)throw Error(M(311));t.lastRenderedReducer=n;var i=t.dispatch,l=t.pending,o=e.memoizedState;if(l!==null){t.pending=null;var s=l=l.next;do o=n(o,s.action),s=s.next;while(s!==l);nn(o,e.memoizedState)||(pt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,i]}function sy(n,e,t){var i=ue,l=st(),o=Ce;if(o){if(t===void 0)throw Error(M(407));t=t()}else t=e();var s=!nn((Ie||l).memoizedState,t);s&&(l.memoizedState=t,pt=!0),l=l.queue;var u=uy.bind(null,i,l,n);if(qs(2048,8,u,[n]),l.getSnapshot!==e||s||ot!==null&&ot.memoizedState.tag&1){if(i.flags|=2048,ao(9,Vr(),ry.bind(null,i,l,t,e),null),Pe===null)throw Error(M(349));o||Li&124||ay(i,e,t)}return t}function ay(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ue.updateQueue,e===null?(e=Pf(),ue.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function ry(n,e,t,i){e.value=t,e.getSnapshot=i,cy(e)&&fy(n)}function uy(n,e,t){return t(function(){cy(e)&&fy(n)})}function cy(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!nn(n,t)}catch{return!0}}function fy(n){var e=_o(n,2);e!==null&&tn(e,n,2)}function yc(n){var e=Pt();if(typeof n=="function"){var t=n;if(n=t(),al){Ci(!0);try{t()}finally{Ci(!1)}}}return e.memoizedState=e.baseState=n,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:n},e}function dy(n,e,t,i){return n.baseState=t,Gf(n,Ie,typeof i=="function"?i:ei)}function HT(n,e,t,i,l){if($r(n))throw Error(M(485));if(n=e.action,n!==null){var o={payload:l,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){o.listeners.push(s)}};W.T!==null?t(!0):o.isTransition=!1,i(o),t=e.pending,t===null?(o.next=e.pending=o,hy(e,o)):(o.next=t.next,e.pending=t.next=o)}}function hy(n,e){var t=e.action,i=e.payload,l=n.state;if(e.isTransition){var o=W.T,s={};W.T=s;try{var u=t(l,i),c=W.S;c!==null&&c(s,u),mh(n,e,u)}catch(f){vc(n,e,f)}finally{W.T=o}}else try{o=t(l,i),mh(n,e,o)}catch(f){vc(n,e,f)}}function mh(n,e,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(i){gh(n,e,i)},function(i){return vc(n,e,i)}):gh(n,e,t)}function gh(n,e,t){e.status="fulfilled",e.value=t,py(e),n.state=t,e=n.pending,e!==null&&(t=e.next,t===e?n.pending=null:(t=t.next,e.next=t,hy(n,t)))}function vc(n,e,t){var i=n.pending;if(n.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=t,py(e),e=e.next;while(e!==i)}n.action=null}function py(n){n=n.listeners;for(var e=0;e<n.length;e++)(0,n[e])()}function my(n,e){return e}function yh(n,e){if(Ce){var t=Pe.formState;if(t!==null){e:{var i=ue;if(Ce){if(We){t:{for(var l=We,o=En;l.nodeType!==8;){if(!o){l=null;break t}if(l=vn(l.nextSibling),l===null){l=null;break t}}o=l.data,l=o==="F!"||o==="F"?l:null}if(l){We=vn(l.nextSibling),i=l.data==="F!";break e}}ol(i)}i=!1}i&&(e=t[0])}}return t=Pt(),t.memoizedState=t.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:e},t.queue=i,t=Dy.bind(null,ue,i),i.dispatch=t,i=yc(!1),o=Ff.bind(null,ue,!1,i.queue),i=Pt(),l={state:e,dispatch:null,action:n,pending:null},i.queue=l,t=HT.bind(null,ue,l,o,t),l.dispatch=t,i.memoizedState=n,[e,t,!1]}function vh(n){var e=st();return gy(e,Ie,n)}function gy(n,e,t){if(e=Gf(n,e,my)[0],n=ba(ei)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Gs(e)}catch(s){throw s===zs?Lr:s}else i=e;e=st();var l=e.queue,o=l.dispatch;return t!==e.memoizedState&&(ue.flags|=2048,ao(9,Vr(),YT.bind(null,l,t),null)),[i,o,n]}function YT(n,e){n.action=e}function xh(n){var e=st(),t=Ie;if(t!==null)return gy(e,t,n);st(),e=e.memoizedState,t=st();var i=t.queue.dispatch;return t.memoizedState=n,[e,i,!1]}function ao(n,e,t,i){return n={tag:n,create:t,deps:i,inst:e,next:null},e=ue.updateQueue,e===null&&(e=Pf(),ue.updateQueue=e),t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n),n}function Vr(){return{destroy:void 0,resource:void 0}}function yy(){return st().memoizedState}function Ma(n,e,t,i){var l=Pt();i=i===void 0?null:i,ue.flags|=n,l.memoizedState=ao(1|e,Vr(),t,i)}function qs(n,e,t,i){var l=st();i=i===void 0?null:i;var o=l.memoizedState.inst;Ie!==null&&i!==null&&Lf(i,Ie.memoizedState.deps)?l.memoizedState=ao(e,o,t,i):(ue.flags|=n,l.memoizedState=ao(1|e,o,t,i))}function Th(n,e){Ma(8390656,8,n,e)}function vy(n,e){qs(2048,8,n,e)}function xy(n,e){return qs(4,2,n,e)}function Ty(n,e){return qs(4,4,n,e)}function Sy(n,e){if(typeof e=="function"){n=n();var t=e(n);return function(){typeof t=="function"?t():e(null)}}if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Cy(n,e,t){t=t!=null?t.concat([n]):null,qs(4,4,Sy.bind(null,e,n),t)}function qf(){}function _y(n,e){var t=st();e=e===void 0?null:e;var i=t.memoizedState;return e!==null&&Lf(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function Ey(n,e){var t=st();e=e===void 0?null:e;var i=t.memoizedState;if(e!==null&&Lf(e,i[1]))return i[0];if(i=n(),al){Ci(!0);try{n()}finally{Ci(!1)}}return t.memoizedState=[i,e],i}function Hf(n,e,t){return t===void 0||Li&1073741824?n.memoizedState=e:(n.memoizedState=t,n=pv(),ue.lanes|=n,Vi|=n,t)}function Ay(n,e,t,i){return nn(t,e)?t:so.current!==null?(n=Hf(n,t,i),nn(n,e)||(pt=!0),n):Li&42?(n=pv(),ue.lanes|=n,Vi|=n,e):(pt=!0,n.memoizedState=t)}function by(n,e,t,i,l){var o=_e.p;_e.p=o!==0&&8>o?o:8;var s=W.T,u={};W.T=u,Ff(n,!1,e,t);try{var c=l(),f=W.S;if(f!==null&&f(u,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=zT(c,i);os(n,e,d,en(n))}else os(n,e,i,en(n))}catch(p){os(n,e,{then:function(){},status:"rejected",reason:p},en())}finally{_e.p=o,W.T=s}}function FT(){}function xc(n,e,t,i){if(n.tag!==5)throw Error(M(476));var l=My(n).queue;by(n,l,e,Wi,t===null?FT:function(){return Ny(n),t(i)})}function My(n){var e=n.memoizedState;if(e!==null)return e;e={memoizedState:Wi,baseState:Wi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:Wi},next:null};var t={};return e.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:t},next:null},n.memoizedState=e,n=n.alternate,n!==null&&(n.memoizedState=e),e}function Ny(n){var e=My(n).next.queue;os(n,e,{},en())}function Yf(){return bt(bs)}function wy(){return st().memoizedState}function Ry(){return st().memoizedState}function ZT(n){for(var e=n.return;e!==null;){switch(e.tag){case 24:case 3:var t=en();n=Mi(t);var i=Ni(e,n,t);i!==null&&(tn(i,e,t),ns(i,e,t)),e={cache:Df()},n.payload=e;return}e=e.return}}function KT(n,e,t){var i=en();t={lane:i,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},$r(n)?ky(e,t):(t=Mf(n,e,t,i),t!==null&&(tn(t,n,i),Iy(t,e,i)))}function Dy(n,e,t){var i=en();os(n,e,t,i)}function os(n,e,t,i){var l={lane:i,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if($r(n))ky(e,l);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,u=o(s,t);if(l.hasEagerState=!0,l.eagerState=u,nn(u,s))return Ur(n,e,l,0),Pe===null&&Ir(),!1}catch{}finally{}if(t=Mf(n,e,l,i),t!==null)return tn(t,n,i),Iy(t,e,i),!0}return!1}function Ff(n,e,t,i){if(i={lane:2,revertLane:ed(),action:i,hasEagerState:!1,eagerState:null,next:null},$r(n)){if(e)throw Error(M(479))}else e=Mf(n,t,i,2),e!==null&&tn(e,n,2)}function $r(n){var e=n.alternate;return n===ue||e!==null&&e===ue}function ky(n,e){Jl=Za=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Iy(n,e,t){if(t&4194048){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,_g(n,t)}}var Ja={readContext:bt,use:Or,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et},Uy={readContext:bt,use:Or,useCallback:function(n,e){return Pt().memoizedState=[n,e===void 0?null:e],n},useContext:bt,useEffect:Th,useImperativeHandle:function(n,e,t){t=t!=null?t.concat([n]):null,Ma(4194308,4,Sy.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Ma(4194308,4,n,e)},useInsertionEffect:function(n,e){Ma(4,2,n,e)},useMemo:function(n,e){var t=Pt();e=e===void 0?null:e;var i=n();if(al){Ci(!0);try{n()}finally{Ci(!1)}}return t.memoizedState=[i,e],i},useReducer:function(n,e,t){var i=Pt();if(t!==void 0){var l=t(e);if(al){Ci(!0);try{t(e)}finally{Ci(!1)}}}else l=e;return i.memoizedState=i.baseState=l,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:l},i.queue=n,n=n.dispatch=KT.bind(null,ue,n),[i.memoizedState,n]},useRef:function(n){var e=Pt();return n={current:n},e.memoizedState=n},useState:function(n){n=yc(n);var e=n.queue,t=Dy.bind(null,ue,e);return e.dispatch=t,[n.memoizedState,t]},useDebugValue:qf,useDeferredValue:function(n,e){var t=Pt();return Hf(t,n,e)},useTransition:function(){var n=yc(!1);return n=by.bind(null,ue,n.queue,!0,!1),Pt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,e,t){var i=ue,l=Pt();if(Ce){if(t===void 0)throw Error(M(407));t=t()}else{if(t=e(),Pe===null)throw Error(M(349));ve&124||ay(i,e,t)}l.memoizedState=t;var o={value:t,getSnapshot:e};return l.queue=o,Th(uy.bind(null,i,o,n),[n]),i.flags|=2048,ao(9,Vr(),ry.bind(null,i,o,t,e),null),t},useId:function(){var n=Pt(),e=Pe.identifierPrefix;if(Ce){var t=Zn,i=Fn;t=(i&~(1<<32-jt(i)-1)).toString(32)+t,e=""+e+"R"+t,t=Ka++,0<t&&(e+="H"+t.toString(32)),e+=""}else t=GT++,e=""+e+"r"+t.toString(32)+"";return n.memoizedState=e},useHostTransitionStatus:Yf,useFormState:yh,useActionState:yh,useOptimistic:function(n){var e=Pt();e.memoizedState=e.baseState=n;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=t,e=Ff.bind(null,ue,!0,t),t.dispatch=e,[n,e]},useMemoCache:zf,useCacheRefresh:function(){return Pt().memoizedState=ZT.bind(null,ue)}},Ly={readContext:bt,use:Or,useCallback:_y,useContext:bt,useEffect:vy,useImperativeHandle:Cy,useInsertionEffect:xy,useLayoutEffect:Ty,useMemo:Ey,useReducer:ba,useRef:yy,useState:function(){return ba(ei)},useDebugValue:qf,useDeferredValue:function(n,e){var t=st();return Ay(t,Ie.memoizedState,n,e)},useTransition:function(){var n=ba(ei)[0],e=st().memoizedState;return[typeof n=="boolean"?n:Gs(n),e]},useSyncExternalStore:sy,useId:wy,useHostTransitionStatus:Yf,useFormState:vh,useActionState:vh,useOptimistic:function(n,e){var t=st();return dy(t,Ie,n,e)},useMemoCache:zf,useCacheRefresh:Ry},JT={readContext:bt,use:Or,useCallback:_y,useContext:bt,useEffect:vy,useImperativeHandle:Cy,useInsertionEffect:xy,useLayoutEffect:Ty,useMemo:Ey,useReducer:gu,useRef:yy,useState:function(){return gu(ei)},useDebugValue:qf,useDeferredValue:function(n,e){var t=st();return Ie===null?Hf(t,n,e):Ay(t,Ie.memoizedState,n,e)},useTransition:function(){var n=gu(ei)[0],e=st().memoizedState;return[typeof n=="boolean"?n:Gs(n),e]},useSyncExternalStore:sy,useId:wy,useHostTransitionStatus:Yf,useFormState:xh,useActionState:xh,useOptimistic:function(n,e){var t=st();return Ie!==null?dy(t,Ie,n,e):(t.baseState=n,[n,t.queue.dispatch])},useMemoCache:zf,useCacheRefresh:Ry},Ql=null,Cs=0;function ra(n){var e=Cs;return Cs+=1,Ql===null&&(Ql=[]),ty(Ql,n,e)}function Vo(n,e){e=e.props.ref,n.ref=e!==void 0?e:null}function ua(n,e){throw e.$$typeof===Ax?Error(M(525)):(n=Object.prototype.toString.call(e),Error(M(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)))}function Sh(n){var e=n._init;return e(n._payload)}function Oy(n){function e(y,v){if(n){var T=y.deletions;T===null?(y.deletions=[v],y.flags|=16):T.push(v)}}function t(y,v){if(!n)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function i(y){for(var v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function l(y,v){return y=Qn(y,v),y.index=0,y.sibling=null,y}function o(y,v,T){return y.index=T,n?(T=y.alternate,T!==null?(T=T.index,T<v?(y.flags|=67108866,v):T):(y.flags|=67108866,v)):(y.flags|=1048576,v)}function s(y){return n&&y.alternate===null&&(y.flags|=67108866),y}function u(y,v,T,C){return v===null||v.tag!==6?(v=hu(T,y.mode,C),v.return=y,v):(v=l(v,T),v.return=y,v)}function c(y,v,T,C){var b=T.type;return b===Rl?d(y,v,T.props.children,C,T.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===mi&&Sh(b)===v.type)?(v=l(v,T.props),Vo(v,T),v.return=y,v):(v=Ea(T.type,T.key,T.props,null,y.mode,C),Vo(v,T),v.return=y,v)}function f(y,v,T,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=pu(T,y.mode,C),v.return=y,v):(v=l(v,T.children||[]),v.return=y,v)}function d(y,v,T,C,b){return v===null||v.tag!==7?(v=ji(T,y.mode,C,b),v.return=y,v):(v=l(v,T),v.return=y,v)}function p(y,v,T){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=hu(""+v,y.mode,T),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ta:return T=Ea(v.type,v.key,v.props,null,y.mode,T),Vo(T,v),T.return=y,T;case Ho:return v=pu(v,y.mode,T),v.return=y,v;case mi:var C=v._init;return v=C(v._payload),p(y,v,T)}if(Yo(v)||Io(v))return v=ji(v,y.mode,T,null),v.return=y,v;if(typeof v.then=="function")return p(y,ra(v),T);if(v.$$typeof===Yn)return p(y,sa(y,v),T);ua(y,v)}return null}function h(y,v,T,C){var b=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return b!==null?null:u(y,v,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ta:return T.key===b?c(y,v,T,C):null;case Ho:return T.key===b?f(y,v,T,C):null;case mi:return b=T._init,T=b(T._payload),h(y,v,T,C)}if(Yo(T)||Io(T))return b!==null?null:d(y,v,T,C,null);if(typeof T.then=="function")return h(y,v,ra(T),C);if(T.$$typeof===Yn)return h(y,v,sa(y,T),C);ua(y,T)}return null}function m(y,v,T,C,b){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return y=y.get(T)||null,u(v,y,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ta:return y=y.get(C.key===null?T:C.key)||null,c(v,y,C,b);case Ho:return y=y.get(C.key===null?T:C.key)||null,f(v,y,C,b);case mi:var w=C._init;return C=w(C._payload),m(y,v,T,C,b)}if(Yo(C)||Io(C))return y=y.get(T)||null,d(v,y,C,b,null);if(typeof C.then=="function")return m(y,v,T,ra(C),b);if(C.$$typeof===Yn)return m(y,v,T,sa(v,C),b);ua(v,C)}return null}function x(y,v,T,C){for(var b=null,w=null,N=v,D=v=0,P=null;N!==null&&D<T.length;D++){N.index>D?(P=N,N=null):P=N.sibling;var O=h(y,N,T[D],C);if(O===null){N===null&&(N=P);break}n&&N&&O.alternate===null&&e(y,N),v=o(O,v,D),w===null?b=O:w.sibling=O,w=O,N=P}if(D===T.length)return t(y,N),Ce&&Xi(y,D),b;if(N===null){for(;D<T.length;D++)N=p(y,T[D],C),N!==null&&(v=o(N,v,D),w===null?b=N:w.sibling=N,w=N);return Ce&&Xi(y,D),b}for(N=i(N);D<T.length;D++)P=m(N,y,D,T[D],C),P!==null&&(n&&P.alternate!==null&&N.delete(P.key===null?D:P.key),v=o(P,v,D),w===null?b=P:w.sibling=P,w=P);return n&&N.forEach(function(fe){return e(y,fe)}),Ce&&Xi(y,D),b}function S(y,v,T,C){if(T==null)throw Error(M(151));for(var b=null,w=null,N=v,D=v=0,P=null,O=T.next();N!==null&&!O.done;D++,O=T.next()){N.index>D?(P=N,N=null):P=N.sibling;var fe=h(y,N,O.value,C);if(fe===null){N===null&&(N=P);break}n&&N&&fe.alternate===null&&e(y,N),v=o(fe,v,D),w===null?b=fe:w.sibling=fe,w=fe,N=P}if(O.done)return t(y,N),Ce&&Xi(y,D),b;if(N===null){for(;!O.done;D++,O=T.next())O=p(y,O.value,C),O!==null&&(v=o(O,v,D),w===null?b=O:w.sibling=O,w=O);return Ce&&Xi(y,D),b}for(N=i(N);!O.done;D++,O=T.next())O=m(N,y,D,O.value,C),O!==null&&(n&&O.alternate!==null&&N.delete(O.key===null?D:O.key),v=o(O,v,D),w===null?b=O:w.sibling=O,w=O);return n&&N.forEach(function(xe){return e(y,xe)}),Ce&&Xi(y,D),b}function _(y,v,T,C){if(typeof T=="object"&&T!==null&&T.type===Rl&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ta:e:{for(var b=T.key;v!==null;){if(v.key===b){if(b=T.type,b===Rl){if(v.tag===7){t(y,v.sibling),C=l(v,T.props.children),C.return=y,y=C;break e}}else if(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===mi&&Sh(b)===v.type){t(y,v.sibling),C=l(v,T.props),Vo(C,T),C.return=y,y=C;break e}t(y,v);break}else e(y,v);v=v.sibling}T.type===Rl?(C=ji(T.props.children,y.mode,C,T.key),C.return=y,y=C):(C=Ea(T.type,T.key,T.props,null,y.mode,C),Vo(C,T),C.return=y,y=C)}return s(y);case Ho:e:{for(b=T.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){t(y,v.sibling),C=l(v,T.children||[]),C.return=y,y=C;break e}else{t(y,v);break}else e(y,v);v=v.sibling}C=pu(T,y.mode,C),C.return=y,y=C}return s(y);case mi:return b=T._init,T=b(T._payload),_(y,v,T,C)}if(Yo(T))return x(y,v,T,C);if(Io(T)){if(b=Io(T),typeof b!="function")throw Error(M(150));return T=b.call(T),S(y,v,T,C)}if(typeof T.then=="function")return _(y,v,ra(T),C);if(T.$$typeof===Yn)return _(y,v,sa(y,T),C);ua(y,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,v!==null&&v.tag===6?(t(y,v.sibling),C=l(v,T),C.return=y,y=C):(t(y,v),C=hu(T,y.mode,C),C.return=y,y=C),s(y)):t(y,v)}return function(y,v,T,C){try{Cs=0;var b=_(y,v,T,C);return Ql=null,b}catch(N){if(N===zs||N===Lr)throw N;var w=Qt(29,N,null,y.mode);return w.lanes=C,w.return=y,w}finally{}}}var ro=Oy(!0),Vy=Oy(!1),hn=Ln(null),kn=null;function xi(n){var e=n.alternate;Ze(ut,ut.current&1),Ze(hn,n),kn===null&&(e===null||so.current!==null||e.memoizedState!==null)&&(kn=n)}function $y(n){if(n.tag===22){if(Ze(ut,ut.current),Ze(hn,n),kn===null){var e=n.alternate;e!==null&&e.memoizedState!==null&&(kn=n)}}else Ti()}function Ti(){Ze(ut,ut.current),Ze(hn,hn.current)}function Jn(n){mt(hn),kn===n&&(kn=null),mt(ut)}var ut=Ln(0);function Xa(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||Oc(t)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function yu(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:He({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Tc={enqueueSetState:function(n,e,t){n=n._reactInternals;var i=en(),l=Mi(i);l.payload=e,t!=null&&(l.callback=t),e=Ni(n,l,i),e!==null&&(tn(e,n,i),ns(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=en(),l=Mi(i);l.tag=1,l.payload=e,t!=null&&(l.callback=t),e=Ni(n,l,i),e!==null&&(tn(e,n,i),ns(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=en(),i=Mi(t);i.tag=2,e!=null&&(i.callback=e),e=Ni(n,i,t),e!==null&&(tn(e,n,t),ns(e,n,t))}};function Ch(n,e,t,i,l,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!xs(t,i)||!xs(l,o):!0}function _h(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Tc.enqueueReplaceState(e,e.state,null)}function rl(n,e){var t=e;if("ref"in e){t={};for(var i in e)i!=="ref"&&(t[i]=e[i])}if(n=n.defaultProps){t===e&&(t=He({},t));for(var l in n)t[l]===void 0&&(t[l]=n[l])}return t}var Qa=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function By(n){Qa(n)}function Py(n){console.error(n)}function zy(n){Qa(n)}function Wa(n,e){try{var t=n.onUncaughtError;t(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Eh(n,e,t){try{var i=n.onCaughtError;i(t.value,{componentStack:t.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Sc(n,e,t){return t=Mi(t),t.tag=3,t.payload={element:null},t.callback=function(){Wa(n,e)},t}function Gy(n){return n=Mi(n),n.tag=3,n}function qy(n,e,t,i){var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var o=i.value;n.payload=function(){return l(o)},n.callback=function(){Eh(e,t,i)}}var s=t.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Eh(e,t,i),typeof l!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var u=i.stack;this.componentDidCatch(i.value,{componentStack:u!==null?u:""})})}function XT(n,e,t,i,l){if(t.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=t.alternate,e!==null&&Bs(e,t,l,!0),t=hn.current,t!==null){switch(t.tag){case 13:return kn===null?wc():t.alternate===null&&je===0&&(je=3),t.flags&=-257,t.flags|=65536,t.lanes=l,i===hc?t.flags|=16384:(e=t.updateQueue,e===null?t.updateQueue=new Set([i]):e.add(i),Nu(n,i,l)),!1;case 22:return t.flags|=65536,i===hc?t.flags|=16384:(e=t.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},t.updateQueue=e):(t=e.retryQueue,t===null?e.retryQueue=new Set([i]):t.add(i)),Nu(n,i,l)),!1}throw Error(M(435,t.tag))}return Nu(n,i,l),wc(),!1}if(Ce)return e=hn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=l,i!==rc&&(n=Error(M(422),{cause:i}),Ts(fn(n,t)))):(i!==rc&&(e=Error(M(423),{cause:i}),Ts(fn(e,t))),n=n.current.alternate,n.flags|=65536,l&=-l,n.lanes|=l,i=fn(i,t),l=Sc(n.stateNode,i,l),mu(n,l),je!==4&&(je=2)),!1;var o=Error(M(520),{cause:i});if(o=fn(o,t),rs===null?rs=[o]:rs.push(o),je!==4&&(je=2),e===null)return!0;i=fn(i,t),t=e;do{switch(t.tag){case 3:return t.flags|=65536,n=l&-l,t.lanes|=n,n=Sc(t.stateNode,i,n),mu(t,n),!1;case 1:if(e=t.type,o=t.stateNode,(t.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(wi===null||!wi.has(o))))return t.flags|=65536,l&=-l,t.lanes|=l,l=Gy(l),qy(l,n,t,i),mu(t,l),!1}t=t.return}while(t!==null);return!1}var Hy=Error(M(461)),pt=!1;function yt(n,e,t,i){e.child=n===null?Vy(e,null,t,i):ro(e,n.child,t,i)}function Ah(n,e,t,i,l){t=t.render;var o=e.ref;if("ref"in i){var s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}else s=i;return sl(e),i=Of(n,e,t,s,o,l),u=Vf(),n!==null&&!pt?($f(n,e,l),ti(n,e,l)):(Ce&&u&&wf(e),e.flags|=1,yt(n,e,i,l),e.child)}function bh(n,e,t,i,l){if(n===null){var o=t.type;return typeof o=="function"&&!Nf(o)&&o.defaultProps===void 0&&t.compare===null?(e.tag=15,e.type=o,Yy(n,e,o,i,l)):(n=Ea(t.type,null,i,e,e.mode,l),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!Zf(n,l)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:xs,t(s,i)&&n.ref===e.ref)return ti(n,e,l)}return e.flags|=1,n=Qn(o,i),n.ref=e.ref,n.return=e,e.child=n}function Yy(n,e,t,i,l){if(n!==null){var o=n.memoizedProps;if(xs(o,i)&&n.ref===e.ref)if(pt=!1,e.pendingProps=i=o,Zf(n,l))n.flags&131072&&(pt=!0);else return e.lanes=n.lanes,ti(n,e,l)}return Cc(n,e,t,i,l)}function Fy(n,e,t){var i=e.pendingProps,l=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=o!==null?o.baseLanes|t:t,n!==null){for(l=e.child=n.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;e.childLanes=o&~i}else e.childLanes=0,e.child=null;return Mh(n,e,i,t)}if(t&536870912)e.memoizedState={baseLanes:0,cachePool:null},n!==null&&Aa(e,o!==null?o.cachePool:null),o!==null?ph(e,o):gc(),$y(e);else return e.lanes=e.childLanes=536870912,Mh(n,e,o!==null?o.baseLanes|t:t,t)}else o!==null?(Aa(e,o.cachePool),ph(e,o),Ti(),e.memoizedState=null):(n!==null&&Aa(e,null),gc(),Ti());return yt(n,e,l,t),e.child}function Mh(n,e,t,i){var l=kf();return l=l===null?null:{parent:rt._currentValue,pool:l},e.memoizedState={baseLanes:t,cachePool:l},n!==null&&Aa(e,null),gc(),$y(e),n!==null&&Bs(n,e,i,!0),null}function Na(n,e){var t=e.ref;if(t===null)n!==null&&n.ref!==null&&(e.flags|=4194816);else{if(typeof t!="function"&&typeof t!="object")throw Error(M(284));(n===null||n.ref!==t)&&(e.flags|=4194816)}}function Cc(n,e,t,i,l){return sl(e),t=Of(n,e,t,i,void 0,l),i=Vf(),n!==null&&!pt?($f(n,e,l),ti(n,e,l)):(Ce&&i&&wf(e),e.flags|=1,yt(n,e,t,l),e.child)}function Nh(n,e,t,i,l,o){return sl(e),e.updateQueue=null,t=oy(e,i,t,l),ly(n),i=Vf(),n!==null&&!pt?($f(n,e,o),ti(n,e,o)):(Ce&&i&&wf(e),e.flags|=1,yt(n,e,t,o),e.child)}function wh(n,e,t,i,l){if(sl(e),e.stateNode===null){var o=$l,s=t.contextType;typeof s=="object"&&s!==null&&(o=bt(s)),o=new t(i,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Tc,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=i,o.state=e.memoizedState,o.refs={},If(e),s=t.contextType,o.context=typeof s=="object"&&s!==null?bt(s):$l,o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(yu(e,t,s,i),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&Tc.enqueueReplaceState(o,o.state,null),ls(e,i,o,l),is(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(n===null){o=e.stateNode;var u=e.memoizedProps,c=rl(t,u);o.props=c;var f=o.context,d=t.contextType;s=$l,typeof d=="object"&&d!==null&&(s=bt(d));var p=t.getDerivedStateFromProps;d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function",u=e.pendingProps!==u,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u||f!==s)&&_h(e,o,i,s),gi=!1;var h=e.memoizedState;o.state=h,ls(e,i,o,l),is(),f=e.memoizedState,u||h!==f||gi?(typeof p=="function"&&(yu(e,t,p,i),f=e.memoizedState),(c=gi||Ch(e,t,c,i,h,f,s))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),o.props=i,o.state=f,o.context=s,i=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,pc(n,e),s=e.memoizedProps,d=rl(t,s),o.props=d,p=e.pendingProps,h=o.context,f=t.contextType,c=$l,typeof f=="object"&&f!==null&&(c=bt(f)),u=t.getDerivedStateFromProps,(f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==p||h!==c)&&_h(e,o,i,c),gi=!1,h=e.memoizedState,o.state=h,ls(e,i,o,l),is();var m=e.memoizedState;s!==p||h!==m||gi||n!==null&&n.dependencies!==null&&Ya(n.dependencies)?(typeof u=="function"&&(yu(e,t,u,i),m=e.memoizedState),(d=gi||Ch(e,t,d,i,h,m,c)||n!==null&&n.dependencies!==null&&Ya(n.dependencies))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),o.props=i,o.state=m,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),i=!1)}return o=i,Na(n,e),i=(e.flags&128)!==0,o||i?(o=e.stateNode,t=i&&typeof t.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,n!==null&&i?(e.child=ro(e,n.child,null,l),e.child=ro(e,null,t,l)):yt(n,e,t,l),e.memoizedState=o.state,n=e.child):n=ti(n,e,l),n}function Rh(n,e,t,i){return $s(),e.flags|=256,yt(n,e,t,i),e.child}var vu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xu(n){return{baseLanes:n,cachePool:jg()}}function Tu(n,e,t){return n=n!==null?n.childLanes&~t:0,e&&(n|=dn),n}function Zy(n,e,t){var i=e.pendingProps,l=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=n!==null&&n.memoizedState===null?!1:(ut.current&2)!==0),s&&(l=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,n===null){if(Ce){if(l?xi(e):Ti(),Ce){var u=We,c;if(c=u){e:{for(c=u,u=En;c.nodeType!==8;){if(!u){u=null;break e}if(c=vn(c.nextSibling),c===null){u=null;break e}}u=c}u!==null?(e.memoizedState={dehydrated:u,treeContext:el!==null?{id:Fn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},c=Qt(18,null,null,0),c.stateNode=u,c.return=e,e.child=c,Dt=e,We=null,c=!0):c=!1}c||ol(e)}if(u=e.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return Oc(u)?e.lanes=32:e.lanes=536870912,null;Jn(e)}return u=i.children,i=i.fallback,l?(Ti(),l=e.mode,u=ja({mode:"hidden",children:u},l),i=ji(i,l,t,null),u.return=e,i.return=e,u.sibling=i,e.child=u,l=e.child,l.memoizedState=xu(t),l.childLanes=Tu(n,s,t),e.memoizedState=vu,i):(xi(e),_c(e,u))}if(c=n.memoizedState,c!==null&&(u=c.dehydrated,u!==null)){if(o)e.flags&256?(xi(e),e.flags&=-257,e=Su(n,e,t)):e.memoizedState!==null?(Ti(),e.child=n.child,e.flags|=128,e=null):(Ti(),l=i.fallback,u=e.mode,i=ja({mode:"visible",children:i.children},u),l=ji(l,u,t,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,ro(e,n.child,null,t),i=e.child,i.memoizedState=xu(t),i.childLanes=Tu(n,s,t),e.memoizedState=vu,e=l);else if(xi(e),Oc(u)){if(s=u.nextSibling&&u.nextSibling.dataset,s)var f=s.dgst;s=f,i=Error(M(419)),i.stack="",i.digest=s,Ts({value:i,source:null,stack:null}),e=Su(n,e,t)}else if(pt||Bs(n,e,t,!1),s=(t&n.childLanes)!==0,pt||s){if(s=Pe,s!==null&&(i=t&-t,i=i&42?1:yf(i),i=i&(s.suspendedLanes|t)?0:i,i!==0&&i!==c.retryLane))throw c.retryLane=i,_o(n,i),tn(s,n,i),Hy;u.data==="$?"||wc(),e=Su(n,e,t)}else u.data==="$?"?(e.flags|=192,e.child=n.child,e=null):(n=c.treeContext,We=vn(u.nextSibling),Dt=e,Ce=!0,tl=null,En=!1,n!==null&&(rn[un++]=Fn,rn[un++]=Zn,rn[un++]=el,Fn=n.id,Zn=n.overflow,el=e),e=_c(e,i.children),e.flags|=4096);return e}return l?(Ti(),l=i.fallback,u=e.mode,c=n.child,f=c.sibling,i=Qn(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?l=Qn(f,l):(l=ji(l,u,t,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,i=l,l=e.child,u=n.child.memoizedState,u===null?u=xu(t):(c=u.cachePool,c!==null?(f=rt._currentValue,c=c.parent!==f?{parent:f,pool:f}:c):c=jg(),u={baseLanes:u.baseLanes|t,cachePool:c}),l.memoizedState=u,l.childLanes=Tu(n,s,t),e.memoizedState=vu,i):(xi(e),t=n.child,n=t.sibling,t=Qn(t,{mode:"visible",children:i.children}),t.return=e,t.sibling=null,n!==null&&(s=e.deletions,s===null?(e.deletions=[n],e.flags|=16):s.push(n)),e.child=t,e.memoizedState=null,t)}function _c(n,e){return e=ja({mode:"visible",children:e},n.mode),e.return=n,n.child=e}function ja(n,e){return n=Qt(22,n,null,e),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Su(n,e,t){return ro(e,n.child,null,t),n=_c(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Dh(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),cc(n.return,e,t)}function Cu(n,e,t,i,l){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:l}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=t,o.tailMode=l)}function Ky(n,e,t){var i=e.pendingProps,l=i.revealOrder,o=i.tail;if(yt(n,e,i.children,t),i=ut.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Dh(n,t,e);else if(n.tag===19)Dh(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}switch(Ze(ut,i),l){case"forwards":for(t=e.child,l=null;t!==null;)n=t.alternate,n!==null&&Xa(n)===null&&(l=t),t=t.sibling;t=l,t===null?(l=e.child,e.child=null):(l=t.sibling,t.sibling=null),Cu(e,!1,l,t,o);break;case"backwards":for(t=null,l=e.child,e.child=null;l!==null;){if(n=l.alternate,n!==null&&Xa(n)===null){e.child=l;break}n=l.sibling,l.sibling=t,t=l,l=n}Cu(e,!0,t,null,o);break;case"together":Cu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ti(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Vi|=e.lanes,!(t&e.childLanes))if(n!==null){if(Bs(n,e,t,!1),(t&e.childLanes)===0)return null}else return null;if(n!==null&&e.child!==n.child)throw Error(M(153));if(e.child!==null){for(n=e.child,t=Qn(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Qn(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Zf(n,e){return n.lanes&e?!0:(n=n.dependencies,!!(n!==null&&Ya(n)))}function QT(n,e,t){switch(e.tag){case 3:Va(e,e.stateNode.containerInfo),vi(e,rt,n.memoizedState.cache),$s();break;case 27:case 5:Wu(e);break;case 4:Va(e,e.stateNode.containerInfo);break;case 10:vi(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(xi(e),e.flags|=128,null):t&e.child.childLanes?Zy(n,e,t):(xi(e),n=ti(n,e,t),n!==null?n.sibling:null);xi(e);break;case 19:var l=(n.flags&128)!==0;if(i=(t&e.childLanes)!==0,i||(Bs(n,e,t,!1),i=(t&e.childLanes)!==0),l){if(i)return Ky(n,e,t);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ze(ut,ut.current),i)break;return null;case 22:case 23:return e.lanes=0,Fy(n,e,t);case 24:vi(e,rt,n.memoizedState.cache)}return ti(n,e,t)}function Jy(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps)pt=!0;else{if(!Zf(n,t)&&!(e.flags&128))return pt=!1,QT(n,e,t);pt=!!(n.flags&131072)}else pt=!1,Ce&&e.flags&1048576&&Qg(e,Ha,e.index);switch(e.lanes=0,e.tag){case 16:e:{n=e.pendingProps;var i=e.elementType,l=i._init;if(i=l(i._payload),e.type=i,typeof i=="function")Nf(i)?(n=rl(i,n),e.tag=1,e=wh(null,e,i,n,t)):(e.tag=0,e=Cc(null,e,i,n,t));else{if(i!=null){if(l=i.$$typeof,l===pf){e.tag=11,e=Ah(null,e,i,n,t);break e}else if(l===mf){e.tag=14,e=bh(null,e,i,n,t);break e}}throw e=Xu(i)||i,Error(M(306,e,""))}}return e;case 0:return Cc(n,e,e.type,e.pendingProps,t);case 1:return i=e.type,l=rl(i,e.pendingProps),wh(n,e,i,l,t);case 3:e:{if(Va(e,e.stateNode.containerInfo),n===null)throw Error(M(387));i=e.pendingProps;var o=e.memoizedState;l=o.element,pc(n,e),ls(e,i,null,t);var s=e.memoizedState;if(i=s.cache,vi(e,rt,i),i!==o.cache&&fc(e,[rt],t,!0),is(),i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=Rh(n,e,i,t);break e}else if(i!==l){l=fn(Error(M(424)),e),Ts(l),e=Rh(n,e,i,t);break e}else{switch(n=e.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(We=vn(n.firstChild),Dt=e,Ce=!0,tl=null,En=!0,t=Vy(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling}else{if($s(),i===l){e=ti(n,e,t);break e}yt(n,e,i,t)}e=e.child}return e;case 26:return Na(n,e),n===null?(t=Kh(e.type,null,e.pendingProps,null))?e.memoizedState=t:Ce||(t=e.type,n=e.pendingProps,i=sr(bi.current).createElement(t),i[At]=e,i[qt]=n,xt(i,t,n),ht(i),e.stateNode=i):e.memoizedState=Kh(e.type,n.memoizedProps,e.pendingProps,n.memoizedState),null;case 27:return Wu(e),n===null&&Ce&&(i=e.stateNode=Lv(e.type,e.pendingProps,bi.current),Dt=e,En=!0,l=We,Pi(e.type)?(Vc=l,We=vn(i.firstChild)):We=l),yt(n,e,e.pendingProps.children,t),Na(n,e),n===null&&(e.flags|=4194304),e.child;case 5:return n===null&&Ce&&((l=i=We)&&(i=A1(i,e.type,e.pendingProps,En),i!==null?(e.stateNode=i,Dt=e,We=vn(i.firstChild),En=!1,l=!0):l=!1),l||ol(e)),Wu(e),l=e.type,o=e.pendingProps,s=n!==null?n.memoizedProps:null,i=o.children,Uc(l,o)?i=null:s!==null&&Uc(l,s)&&(e.flags|=32),e.memoizedState!==null&&(l=Of(n,e,qT,null,null,t),bs._currentValue=l),Na(n,e),yt(n,e,i,t),e.child;case 6:return n===null&&Ce&&((n=t=We)&&(t=b1(t,e.pendingProps,En),t!==null?(e.stateNode=t,Dt=e,We=null,n=!0):n=!1),n||ol(e)),null;case 13:return Zy(n,e,t);case 4:return Va(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=ro(e,null,i,t):yt(n,e,i,t),e.child;case 11:return Ah(n,e,e.type,e.pendingProps,t);case 7:return yt(n,e,e.pendingProps,t),e.child;case 8:return yt(n,e,e.pendingProps.children,t),e.child;case 12:return yt(n,e,e.pendingProps.children,t),e.child;case 10:return i=e.pendingProps,vi(e,e.type,i.value),yt(n,e,i.children,t),e.child;case 9:return l=e.type._context,i=e.pendingProps.children,sl(e),l=bt(l),i=i(l),e.flags|=1,yt(n,e,i,t),e.child;case 14:return bh(n,e,e.type,e.pendingProps,t);case 15:return Yy(n,e,e.type,e.pendingProps,t);case 19:return Ky(n,e,t);case 31:return i=e.pendingProps,t=e.mode,i={mode:i.mode,children:i.children},n===null?(t=ja(i,t),t.ref=e.ref,e.child=t,t.return=e,e=t):(t=Qn(n.child,i),t.ref=e.ref,e.child=t,t.return=e,e=t),e;case 22:return Fy(n,e,t);case 24:return sl(e),i=bt(rt),n===null?(l=kf(),l===null&&(l=Pe,o=Df(),l.pooledCache=o,o.refCount++,o!==null&&(l.pooledCacheLanes|=t),l=o),e.memoizedState={parent:i,cache:l},If(e),vi(e,rt,l)):(n.lanes&t&&(pc(n,e),ls(e,null,null,t),is()),l=n.memoizedState,o=e.memoizedState,l.parent!==i?(l={parent:i,cache:i},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),vi(e,rt,i)):(i=o.cache,vi(e,rt,i),i!==l.cache&&fc(e,[rt],t,!0))),yt(n,e,e.pendingProps.children,t),e.child;case 29:throw e.pendingProps}throw Error(M(156,e.tag))}function Gn(n){n.flags|=4}function kh(n,e){if(e.type!=="stylesheet"||e.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!$v(e)){if(e=hn.current,e!==null&&((ve&4194048)===ve?kn!==null:(ve&62914560)!==ve&&!(ve&536870912)||e!==kn))throw ts=hc,ey;n.flags|=8192}}function ca(n,e){e!==null&&(n.flags|=4),n.flags&16384&&(e=n.tag!==22?Sg():536870912,n.lanes|=e,uo|=e)}function $o(n,e){if(!Ce)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Xe(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var l=n.child;l!==null;)t|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=n,l=l.sibling;else for(l=n.child;l!==null;)t|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=n,l=l.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function WT(n,e,t){var i=e.pendingProps;switch(Rf(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return Xe(e),null;case 3:return t=e.stateNode,i=null,n!==null&&(i=n.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Wn(rt),no(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(n===null||n.child===null)&&(Oo(e)?Gn(e):n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rh())),Xe(e),null;case 26:return t=e.memoizedState,n===null?(Gn(e),t!==null?(Xe(e),kh(e,t)):(Xe(e),e.flags&=-16777217)):t?t!==n.memoizedState?(Gn(e),Xe(e),kh(e,t)):(Xe(e),e.flags&=-16777217):(n.memoizedProps!==i&&Gn(e),Xe(e),e.flags&=-16777217),null;case 27:$a(e),t=bi.current;var l=e.type;if(n!==null&&e.stateNode!=null)n.memoizedProps!==i&&Gn(e);else{if(!i){if(e.stateNode===null)throw Error(M(166));return Xe(e),null}n=Rn.current,Oo(e)?sh(e):(n=Lv(l,i,t),e.stateNode=n,Gn(e))}return Xe(e),null;case 5:if($a(e),t=e.type,n!==null&&e.stateNode!=null)n.memoizedProps!==i&&Gn(e);else{if(!i){if(e.stateNode===null)throw Error(M(166));return Xe(e),null}if(n=Rn.current,Oo(e))sh(e);else{switch(l=sr(bi.current),n){case 1:n=l.createElementNS("http://www.w3.org/2000/svg",t);break;case 2:n=l.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;default:switch(t){case"svg":n=l.createElementNS("http://www.w3.org/2000/svg",t);break;case"math":n=l.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;case"script":n=l.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof i.is=="string"?l.createElement("select",{is:i.is}):l.createElement("select"),i.multiple?n.multiple=!0:i.size&&(n.size=i.size);break;default:n=typeof i.is=="string"?l.createElement(t,{is:i.is}):l.createElement(t)}}n[At]=e,n[qt]=i;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=n;e:switch(xt(n,t,i),t){case"button":case"input":case"select":case"textarea":n=!!i.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Gn(e)}}return Xe(e),e.flags&=-16777217,null;case 6:if(n&&e.stateNode!=null)n.memoizedProps!==i&&Gn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(M(166));if(n=bi.current,Oo(e)){if(n=e.stateNode,t=e.memoizedProps,i=null,l=Dt,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}n[At]=e,n=!!(n.nodeValue===t||i!==null&&i.suppressHydrationWarning===!0||kv(n.nodeValue,t)),n||ol(e)}else n=sr(n).createTextNode(i),n[At]=e,e.stateNode=n}return Xe(e),null;case 13:if(i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(l=Oo(e),i!==null&&i.dehydrated!==null){if(n===null){if(!l)throw Error(M(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(M(317));l[At]=e}else $s(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),l=!1}else l=rh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(Jn(e),e):(Jn(e),null)}if(Jn(e),e.flags&128)return e.lanes=t,e;if(t=i!==null,n=n!==null&&n.memoizedState!==null,t){i=e.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool);var o=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==l&&(i.flags|=2048)}return t!==n&&t&&(e.child.flags|=8192),ca(e,e.updateQueue),Xe(e),null;case 4:return no(),n===null&&td(e.stateNode.containerInfo),Xe(e),null;case 10:return Wn(e.type),Xe(e),null;case 19:if(mt(ut),l=e.memoizedState,l===null)return Xe(e),null;if(i=(e.flags&128)!==0,o=l.rendering,o===null)if(i)$o(l,!1);else{if(je!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Xa(n),o!==null){for(e.flags|=128,$o(l,!1),n=o.updateQueue,e.updateQueue=n,ca(e,n),e.subtreeFlags=0,n=t,t=e.child;t!==null;)Xg(t,n),t=t.sibling;return Ze(ut,ut.current&1|2),e.child}n=n.sibling}l.tail!==null&&Dn()>tr&&(e.flags|=128,i=!0,$o(l,!1),e.lanes=4194304)}else{if(!i)if(n=Xa(o),n!==null){if(e.flags|=128,i=!0,n=n.updateQueue,e.updateQueue=n,ca(e,n),$o(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Ce)return Xe(e),null}else 2*Dn()-l.renderingStartTime>tr&&t!==536870912&&(e.flags|=128,i=!0,$o(l,!1),e.lanes=4194304);l.isBackwards?(o.sibling=e.child,e.child=o):(n=l.last,n!==null?n.sibling=o:e.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Dn(),e.sibling=null,n=ut.current,Ze(ut,i?n&1|2:n&1),e):(Xe(e),null);case 22:case 23:return Jn(e),Uf(),i=e.memoizedState!==null,n!==null?n.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?t&536870912&&!(e.flags&128)&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),t=e.updateQueue,t!==null&&ca(e,t.retryQueue),t=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==t&&(e.flags|=2048),n!==null&&mt(nl),null;case 24:return t=null,n!==null&&(t=n.memoizedState.cache),e.memoizedState.cache!==t&&(e.flags|=2048),Wn(rt),Xe(e),null;case 25:return null;case 30:return null}throw Error(M(156,e.tag))}function jT(n,e){switch(Rf(e),e.tag){case 1:return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Wn(rt),no(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 26:case 27:case 5:return $a(e),null;case 13:if(Jn(e),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(M(340));$s()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return mt(ut),null;case 4:return no(),null;case 10:return Wn(e.type),null;case 22:case 23:return Jn(e),Uf(),n!==null&&mt(nl),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 24:return Wn(rt),null;case 25:return null;default:return null}}function Xy(n,e){switch(Rf(e),e.tag){case 3:Wn(rt),no();break;case 26:case 27:case 5:$a(e);break;case 4:no();break;case 13:Jn(e);break;case 19:mt(ut);break;case 10:Wn(e.type);break;case 22:case 23:Jn(e),Uf(),n!==null&&mt(nl);break;case 24:Wn(rt)}}function Hs(n,e){try{var t=e.updateQueue,i=t!==null?t.lastEffect:null;if(i!==null){var l=i.next;t=l;do{if((t.tag&n)===n){i=void 0;var o=t.create,s=t.inst;i=o(),s.destroy=i}t=t.next}while(t!==l)}}catch(u){Oe(e,e.return,u)}}function Oi(n,e,t){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var o=l.next;i=o;do{if((i.tag&n)===n){var s=i.inst,u=s.destroy;if(u!==void 0){s.destroy=void 0,l=e;var c=t,f=u;try{f()}catch(d){Oe(l,c,d)}}}i=i.next}while(i!==o)}}catch(d){Oe(e,e.return,d)}}function Qy(n){var e=n.updateQueue;if(e!==null){var t=n.stateNode;try{iy(e,t)}catch(i){Oe(n,n.return,i)}}}function Wy(n,e,t){t.props=rl(n.type,n.memoizedProps),t.state=n.memoizedState;try{t.componentWillUnmount()}catch(i){Oe(n,e,i)}}function ss(n,e){try{var t=n.ref;if(t!==null){switch(n.tag){case 26:case 27:case 5:var i=n.stateNode;break;case 30:i=n.stateNode;break;default:i=n.stateNode}typeof t=="function"?n.refCleanup=t(i):t.current=i}}catch(l){Oe(n,e,l)}}function An(n,e){var t=n.ref,i=n.refCleanup;if(t!==null)if(typeof i=="function")try{i()}catch(l){Oe(n,e,l)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(l){Oe(n,e,l)}else t.current=null}function jy(n){var e=n.type,t=n.memoizedProps,i=n.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":t.autoFocus&&i.focus();break e;case"img":t.src?i.src=t.src:t.srcSet&&(i.srcset=t.srcSet)}}catch(l){Oe(n,n.return,l)}}function _u(n,e,t){try{var i=n.stateNode;T1(i,n.type,t,e),i[qt]=e}catch(l){Oe(n,n.return,l)}}function ev(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Pi(n.type)||n.tag===4}function Eu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ev(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Pi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ec(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t).insertBefore(n,e):(e=t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,e.appendChild(n),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Gr));else if(i!==4&&(i===27&&Pi(n.type)&&(t=n.stateNode,e=null),n=n.child,n!==null))for(Ec(n,e,t),n=n.sibling;n!==null;)Ec(n,e,t),n=n.sibling}function er(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(i===27&&Pi(n.type)&&(t=n.stateNode),n=n.child,n!==null))for(er(n,e,t),n=n.sibling;n!==null;)er(n,e,t),n=n.sibling}function tv(n){var e=n.stateNode,t=n.memoizedProps;try{for(var i=n.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);xt(e,i,t),e[At]=n,e[qt]=t}catch(o){Oe(n,n.return,o)}}var Hn=!1,tt=!1,Au=!1,Ih=typeof WeakSet=="function"?WeakSet:Set,dt=null;function e1(n,e){if(n=n.containerInfo,kc=cr,n=Gg(n),Af(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var l=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,u=-1,c=-1,f=0,d=0,p=n,h=null;t:for(;;){for(var m;p!==t||l!==0&&p.nodeType!==3||(u=s+l),p!==o||i!==0&&p.nodeType!==3||(c=s+i),p.nodeType===3&&(s+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===n)break t;if(h===t&&++f===l&&(u=s),h===o&&++d===i&&(c=s),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}t=u===-1||c===-1?null:{start:u,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Ic={focusedElem:n,selectionRange:t},cr=!1,dt=e;dt!==null;)if(e=dt,n=e.child,(e.subtreeFlags&1024)!==0&&n!==null)n.return=e,dt=n;else for(;dt!==null;){switch(e=dt,o=e.alternate,n=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&o!==null){n=void 0,t=e,l=o.memoizedProps,o=o.memoizedState,i=t.stateNode;try{var x=rl(t.type,l,t.elementType===t.type);n=i.getSnapshotBeforeUpdate(x,o),i.__reactInternalSnapshotBeforeUpdate=n}catch(S){Oe(t,t.return,S)}}break;case 3:if(n&1024){if(n=e.stateNode.containerInfo,t=n.nodeType,t===9)Lc(n);else if(t===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Lc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(M(163))}if(n=e.sibling,n!==null){n.return=e.return,dt=n;break}dt=e.return}}function nv(n,e,t){var i=t.flags;switch(t.tag){case 0:case 11:case 15:hi(n,t),i&4&&Hs(5,t);break;case 1:if(hi(n,t),i&4)if(n=t.stateNode,e===null)try{n.componentDidMount()}catch(s){Oe(t,t.return,s)}else{var l=rl(t.type,e.memoizedProps);e=e.memoizedState;try{n.componentDidUpdate(l,e,n.__reactInternalSnapshotBeforeUpdate)}catch(s){Oe(t,t.return,s)}}i&64&&Qy(t),i&512&&ss(t,t.return);break;case 3:if(hi(n,t),i&64&&(n=t.updateQueue,n!==null)){if(e=null,t.child!==null)switch(t.child.tag){case 27:case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}try{iy(n,e)}catch(s){Oe(t,t.return,s)}}break;case 27:e===null&&i&4&&tv(t);case 26:case 5:hi(n,t),e===null&&i&4&&jy(t),i&512&&ss(t,t.return);break;case 12:hi(n,t);break;case 13:hi(n,t),i&4&&ov(n,t),i&64&&(n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(t=u1.bind(null,t),M1(n,t))));break;case 22:if(i=t.memoizedState!==null||Hn,!i){e=e!==null&&e.memoizedState!==null||tt,l=Hn;var o=tt;Hn=i,(tt=e)&&!o?pi(n,t,(t.subtreeFlags&8772)!==0):hi(n,t),Hn=l,tt=o}break;case 30:break;default:hi(n,t)}}function iv(n){var e=n.alternate;e!==null&&(n.alternate=null,iv(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&xf(e)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ye=null,zt=!1;function qn(n,e,t){for(t=t.child;t!==null;)lv(n,e,t),t=t.sibling}function lv(n,e,t){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Is,t)}catch{}switch(t.tag){case 26:tt||An(t,e),qn(n,e,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:tt||An(t,e);var i=Ye,l=zt;Pi(t.type)&&(Ye=t.stateNode,zt=!1),qn(n,e,t),cs(t.stateNode),Ye=i,zt=l;break;case 5:tt||An(t,e);case 6:if(i=Ye,l=zt,Ye=null,qn(n,e,t),Ye=i,zt=l,Ye!==null)if(zt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(t.stateNode)}catch(o){Oe(t,e,o)}else try{Ye.removeChild(t.stateNode)}catch(o){Oe(t,e,o)}break;case 18:Ye!==null&&(zt?(n=Ye,Yh(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.stateNode),ws(n)):Yh(Ye,t.stateNode));break;case 4:i=Ye,l=zt,Ye=t.stateNode.containerInfo,zt=!0,qn(n,e,t),Ye=i,zt=l;break;case 0:case 11:case 14:case 15:tt||Oi(2,t,e),tt||Oi(4,t,e),qn(n,e,t);break;case 1:tt||(An(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"&&Wy(t,e,i)),qn(n,e,t);break;case 21:qn(n,e,t);break;case 22:tt=(i=tt)||t.memoizedState!==null,qn(n,e,t),tt=i;break;default:qn(n,e,t)}}function ov(n,e){if(e.memoizedState===null&&(n=e.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ws(n)}catch(t){Oe(e,e.return,t)}}function t1(n){switch(n.tag){case 13:case 19:var e=n.stateNode;return e===null&&(e=n.stateNode=new Ih),e;case 22:return n=n.stateNode,e=n._retryCache,e===null&&(e=n._retryCache=new Ih),e;default:throw Error(M(435,n.tag))}}function bu(n,e){var t=t1(n);e.forEach(function(i){var l=c1.bind(null,n,i);t.has(i)||(t.add(i),i.then(l,l))})}function Zt(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var l=t[i],o=n,s=e,u=s;e:for(;u!==null;){switch(u.tag){case 27:if(Pi(u.type)){Ye=u.stateNode,zt=!1;break e}break;case 5:Ye=u.stateNode,zt=!1;break e;case 3:case 4:Ye=u.stateNode.containerInfo,zt=!0;break e}u=u.return}if(Ye===null)throw Error(M(160));lv(o,s,l),Ye=null,zt=!1,o=l.alternate,o!==null&&(o.return=null),l.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)sv(e,n),e=e.sibling}var gn=null;function sv(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Zt(e,n),Kt(n),i&4&&(Oi(3,n,n.return),Hs(3,n),Oi(5,n,n.return));break;case 1:Zt(e,n),Kt(n),i&512&&(tt||t===null||An(t,t.return)),i&64&&Hn&&(n=n.updateQueue,n!==null&&(i=n.callbacks,i!==null&&(t=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=t===null?i:t.concat(i))));break;case 26:var l=gn;if(Zt(e,n),Kt(n),i&512&&(tt||t===null||An(t,t.return)),i&4){var o=t!==null?t.memoizedState:null;if(i=n.memoizedState,t===null)if(i===null)if(n.stateNode===null){e:{i=n.type,t=n.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":o=l.getElementsByTagName("title")[0],(!o||o[Os]||o[At]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=l.createElement(i),l.head.insertBefore(o,l.querySelector("head > title"))),xt(o,i,t),o[At]=n,ht(o),i=o;break e;case"link":var s=Xh("link","href",l).get(i+(t.href||""));if(s){for(var u=0;u<s.length;u++)if(o=s[u],o.getAttribute("href")===(t.href==null||t.href===""?null:t.href)&&o.getAttribute("rel")===(t.rel==null?null:t.rel)&&o.getAttribute("title")===(t.title==null?null:t.title)&&o.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){s.splice(u,1);break t}}o=l.createElement(i),xt(o,i,t),l.head.appendChild(o);break;case"meta":if(s=Xh("meta","content",l).get(i+(t.content||""))){for(u=0;u<s.length;u++)if(o=s[u],o.getAttribute("content")===(t.content==null?null:""+t.content)&&o.getAttribute("name")===(t.name==null?null:t.name)&&o.getAttribute("property")===(t.property==null?null:t.property)&&o.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&o.getAttribute("charset")===(t.charSet==null?null:t.charSet)){s.splice(u,1);break t}}o=l.createElement(i),xt(o,i,t),l.head.appendChild(o);break;default:throw Error(M(468,i))}o[At]=n,ht(o),i=o}n.stateNode=i}else Qh(l,n.type,n.stateNode);else n.stateNode=Jh(l,i,n.memoizedProps);else o!==i?(o===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):o.count--,i===null?Qh(l,n.type,n.stateNode):Jh(l,i,n.memoizedProps)):i===null&&n.stateNode!==null&&_u(n,n.memoizedProps,t.memoizedProps)}break;case 27:Zt(e,n),Kt(n),i&512&&(tt||t===null||An(t,t.return)),t!==null&&i&4&&_u(n,n.memoizedProps,t.memoizedProps);break;case 5:if(Zt(e,n),Kt(n),i&512&&(tt||t===null||An(t,t.return)),n.flags&32){l=n.stateNode;try{lo(l,"")}catch(m){Oe(n,n.return,m)}}i&4&&n.stateNode!=null&&(l=n.memoizedProps,_u(n,l,t!==null?t.memoizedProps:l)),i&1024&&(Au=!0);break;case 6:if(Zt(e,n),Kt(n),i&4){if(n.stateNode===null)throw Error(M(162));i=n.memoizedProps,t=n.stateNode;try{t.nodeValue=i}catch(m){Oe(n,n.return,m)}}break;case 3:if(Da=null,l=gn,gn=ar(e.containerInfo),Zt(e,n),gn=l,Kt(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{ws(e.containerInfo)}catch(m){Oe(n,n.return,m)}Au&&(Au=!1,av(n));break;case 4:i=gn,gn=ar(n.stateNode.containerInfo),Zt(e,n),Kt(n),gn=i;break;case 12:Zt(e,n),Kt(n);break;case 13:Zt(e,n),Kt(n),n.child.flags&8192&&n.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(Wf=Dn()),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,bu(n,i)));break;case 22:l=n.memoizedState!==null;var c=t!==null&&t.memoizedState!==null,f=Hn,d=tt;if(Hn=f||l,tt=d||c,Zt(e,n),tt=d,Hn=f,Kt(n),i&8192)e:for(e=n.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(t===null||c||Hn||tt||Qi(n)),t=null,e=n;;){if(e.tag===5||e.tag===26){if(t===null){c=t=e;try{if(o=c.stateNode,l)s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{u=c.stateNode;var p=c.memoizedProps.style,h=p!=null&&p.hasOwnProperty("display")?p.display:null;u.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){Oe(c,c.return,m)}}}else if(e.tag===6){if(t===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(m){Oe(c,c.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===n)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;t===e&&(t=null),e=e.return}t===e&&(t=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=n.updateQueue,i!==null&&(t=i.retryQueue,t!==null&&(i.retryQueue=null,bu(n,t))));break;case 19:Zt(e,n),Kt(n),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,bu(n,i)));break;case 30:break;case 21:break;default:Zt(e,n),Kt(n)}}function Kt(n){var e=n.flags;if(e&2){try{for(var t,i=n.return;i!==null;){if(ev(i)){t=i;break}i=i.return}if(t==null)throw Error(M(160));switch(t.tag){case 27:var l=t.stateNode,o=Eu(n);er(n,o,l);break;case 5:var s=t.stateNode;t.flags&32&&(lo(s,""),t.flags&=-33);var u=Eu(n);er(n,u,s);break;case 3:case 4:var c=t.stateNode.containerInfo,f=Eu(n);Ec(n,f,c);break;default:throw Error(M(161))}}catch(d){Oe(n,n.return,d)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function av(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var e=n;av(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),n=n.sibling}}function hi(n,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)nv(n,e.alternate,e),e=e.sibling}function Qi(n){for(n=n.child;n!==null;){var e=n;switch(e.tag){case 0:case 11:case 14:case 15:Oi(4,e,e.return),Qi(e);break;case 1:An(e,e.return);var t=e.stateNode;typeof t.componentWillUnmount=="function"&&Wy(e,e.return,t),Qi(e);break;case 27:cs(e.stateNode);case 26:case 5:An(e,e.return),Qi(e);break;case 22:e.memoizedState===null&&Qi(e);break;case 30:Qi(e);break;default:Qi(e)}n=n.sibling}}function pi(n,e,t){for(t=t&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,l=n,o=e,s=o.flags;switch(o.tag){case 0:case 11:case 15:pi(l,o,t),Hs(4,o);break;case 1:if(pi(l,o,t),i=o,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(f){Oe(i,i.return,f)}if(i=o,l=i.updateQueue,l!==null){var u=i.stateNode;try{var c=l.shared.hiddenCallbacks;if(c!==null)for(l.shared.hiddenCallbacks=null,l=0;l<c.length;l++)ny(c[l],u)}catch(f){Oe(i,i.return,f)}}t&&s&64&&Qy(o),ss(o,o.return);break;case 27:tv(o);case 26:case 5:pi(l,o,t),t&&i===null&&s&4&&jy(o),ss(o,o.return);break;case 12:pi(l,o,t);break;case 13:pi(l,o,t),t&&s&4&&ov(l,o);break;case 22:o.memoizedState===null&&pi(l,o,t),ss(o,o.return);break;case 30:break;default:pi(l,o,t)}e=e.sibling}}function Kf(n,e){var t=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==t&&(n!=null&&n.refCount++,t!=null&&Ps(t))}function Jf(n,e){n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&Ps(n))}function _n(n,e,t,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rv(n,e,t,i),e=e.sibling}function rv(n,e,t,i){var l=e.flags;switch(e.tag){case 0:case 11:case 15:_n(n,e,t,i),l&2048&&Hs(9,e);break;case 1:_n(n,e,t,i);break;case 3:_n(n,e,t,i),l&2048&&(n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&Ps(n)));break;case 12:if(l&2048){_n(n,e,t,i),n=e.stateNode;try{var o=e.memoizedProps,s=o.id,u=o.onPostCommit;typeof u=="function"&&u(s,e.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(c){Oe(e,e.return,c)}}else _n(n,e,t,i);break;case 13:_n(n,e,t,i);break;case 23:break;case 22:o=e.stateNode,s=e.alternate,e.memoizedState!==null?o._visibility&2?_n(n,e,t,i):as(n,e):o._visibility&2?_n(n,e,t,i):(o._visibility|=2,Ml(n,e,t,i,(e.subtreeFlags&10256)!==0)),l&2048&&Kf(s,e);break;case 24:_n(n,e,t,i),l&2048&&Jf(e.alternate,e);break;default:_n(n,e,t,i)}}function Ml(n,e,t,i,l){for(l=l&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=n,s=e,u=t,c=i,f=s.flags;switch(s.tag){case 0:case 11:case 15:Ml(o,s,u,c,l),Hs(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?Ml(o,s,u,c,l):as(o,s):(d._visibility|=2,Ml(o,s,u,c,l)),l&&f&2048&&Kf(s.alternate,s);break;case 24:Ml(o,s,u,c,l),l&&f&2048&&Jf(s.alternate,s);break;default:Ml(o,s,u,c,l)}e=e.sibling}}function as(n,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var t=n,i=e,l=i.flags;switch(i.tag){case 22:as(t,i),l&2048&&Kf(i.alternate,i);break;case 24:as(t,i),l&2048&&Jf(i.alternate,i);break;default:as(t,i)}e=e.sibling}}var Zo=8192;function Sl(n){if(n.subtreeFlags&Zo)for(n=n.child;n!==null;)uv(n),n=n.sibling}function uv(n){switch(n.tag){case 26:Sl(n),n.flags&Zo&&n.memoizedState!==null&&P1(gn,n.memoizedState,n.memoizedProps);break;case 5:Sl(n);break;case 3:case 4:var e=gn;gn=ar(n.stateNode.containerInfo),Sl(n),gn=e;break;case 22:n.memoizedState===null&&(e=n.alternate,e!==null&&e.memoizedState!==null?(e=Zo,Zo=16777216,Sl(n),Zo=e):Sl(n));break;default:Sl(n)}}function cv(n){var e=n.alternate;if(e!==null&&(n=e.child,n!==null)){e.child=null;do e=n.sibling,n.sibling=null,n=e;while(n!==null)}}function Bo(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var i=e[t];dt=i,dv(i,n)}cv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fv(n),n=n.sibling}function fv(n){switch(n.tag){case 0:case 11:case 15:Bo(n),n.flags&2048&&Oi(9,n,n.return);break;case 3:Bo(n);break;case 12:Bo(n);break;case 22:var e=n.stateNode;n.memoizedState!==null&&e._visibility&2&&(n.return===null||n.return.tag!==13)?(e._visibility&=-3,wa(n)):Bo(n);break;default:Bo(n)}}function wa(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var i=e[t];dt=i,dv(i,n)}cv(n)}for(n=n.child;n!==null;){switch(e=n,e.tag){case 0:case 11:case 15:Oi(8,e,e.return),wa(e);break;case 22:t=e.stateNode,t._visibility&2&&(t._visibility&=-3,wa(e));break;default:wa(e)}n=n.sibling}}function dv(n,e){for(;dt!==null;){var t=dt;switch(t.tag){case 0:case 11:case 15:Oi(8,t,e);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var i=t.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ps(t.memoizedState.cache)}if(i=t.child,i!==null)i.return=t,dt=i;else e:for(t=n;dt!==null;){i=dt;var l=i.sibling,o=i.return;if(iv(i),i===t){dt=null;break e}if(l!==null){l.return=o,dt=l;break e}dt=o}}}var n1={getCacheForType:function(n){var e=bt(rt),t=e.data.get(n);return t===void 0&&(t=n(),e.data.set(n,t)),t}},i1=typeof WeakMap=="function"?WeakMap:Map,we=0,Pe=null,pe=null,ve=0,Ne=0,Jt=null,Ei=!1,Eo=!1,Xf=!1,ni=0,je=0,Vi=0,il=0,Qf=0,dn=0,uo=0,rs=null,Gt=null,Ac=!1,Wf=0,tr=1/0,nr=null,wi=null,vt=0,Ri=null,co=null,Wl=0,bc=0,Mc=null,hv=null,us=0,Nc=null;function en(){if(we&2&&ve!==0)return ve&-ve;if(W.T!==null){var n=oo;return n!==0?n:ed()}return Eg()}function pv(){dn===0&&(dn=!(ve&536870912)||Ce?Tg():536870912);var n=hn.current;return n!==null&&(n.flags|=32),dn}function tn(n,e,t){(n===Pe&&(Ne===2||Ne===9)||n.cancelPendingCommit!==null)&&(fo(n,0),Ai(n,ve,dn,!1)),Ls(n,t),(!(we&2)||n!==Pe)&&(n===Pe&&(!(we&2)&&(il|=t),je===4&&Ai(n,ve,dn,!1)),On(n))}function mv(n,e,t){if(we&6)throw Error(M(327));var i=!t&&(e&124)===0&&(e&n.expiredLanes)===0||Us(n,e),l=i?s1(n,e):Mu(n,e,!0),o=i;do{if(l===0){Eo&&!i&&Ai(n,e,0,!1);break}else{if(t=n.current.alternate,o&&!l1(t)){l=Mu(n,e,!1),o=!1;continue}if(l===2){if(o=e,n.errorRecoveryDisabledLanes&o)var s=0;else s=n.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var u=n;l=rs;var c=u.current.memoizedState.isDehydrated;if(c&&(fo(u,s).flags|=256),s=Mu(u,s,!1),s!==2){if(Xf&&!c){u.errorRecoveryDisabledLanes|=o,il|=o,l=4;break e}o=Gt,Gt=l,o!==null&&(Gt===null?Gt=o:Gt.push.apply(Gt,o))}l=s}if(o=!1,l!==2)continue}}if(l===1){fo(n,0),Ai(n,e,0,!0);break}e:{switch(i=n,o=l,o){case 0:case 1:throw Error(M(345));case 4:if((e&4194048)!==e)break;case 6:Ai(i,e,dn,!Ei);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(M(329))}if((e&62914560)===e&&(l=Wf+300-Dn(),10<l)){if(Ai(i,e,dn,!Ei),wr(i,0,!0)!==0)break e;i.timeoutHandle=Uv(Uh.bind(null,i,t,Gt,nr,Ac,e,dn,il,uo,Ei,o,2,-0,0),l);break e}Uh(i,t,Gt,nr,Ac,e,dn,il,uo,Ei,o,0,-0,0)}}break}while(!0);On(n)}function Uh(n,e,t,i,l,o,s,u,c,f,d,p,h,m){if(n.timeoutHandle=-1,p=e.subtreeFlags,(p&8192||(p&16785408)===16785408)&&(As={stylesheets:null,count:0,unsuspend:B1},uv(e),p=z1(),p!==null)){n.cancelPendingCommit=p(Oh.bind(null,n,e,o,t,i,l,s,u,c,d,1,h,m)),Ai(n,o,s,!f);return}Oh(n,e,o,t,i,l,s,u,c)}function l1(n){for(var e=n;;){var t=e.tag;if((t===0||t===11||t===15)&&e.flags&16384&&(t=e.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var i=0;i<t.length;i++){var l=t[i],o=l.getSnapshot;l=l.value;try{if(!nn(o(),l))return!1}catch{return!1}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ai(n,e,t,i){e&=~Qf,e&=~il,n.suspendedLanes|=e,n.pingedLanes&=~e,i&&(n.warmLanes|=e),i=n.expirationTimes;for(var l=e;0<l;){var o=31-jt(l),s=1<<o;i[o]=-1,l&=~s}t!==0&&Cg(n,t,e)}function Br(){return we&6?!0:(Ys(0),!1)}function jf(){if(pe!==null){if(Ne===0)var n=pe.return;else n=pe,Kn=gl=null,Bf(n),Ql=null,Cs=0,n=pe;for(;n!==null;)Xy(n.alternate,n),n=n.return;pe=null}}function fo(n,e){var t=n.timeoutHandle;t!==-1&&(n.timeoutHandle=-1,C1(t)),t=n.cancelPendingCommit,t!==null&&(n.cancelPendingCommit=null,t()),jf(),Pe=n,pe=t=Qn(n.current,null),ve=e,Ne=0,Jt=null,Ei=!1,Eo=Us(n,e),Xf=!1,uo=dn=Qf=il=Vi=je=0,Gt=rs=null,Ac=!1,e&8&&(e|=e&32);var i=n.entangledLanes;if(i!==0)for(n=n.entanglements,i&=e;0<i;){var l=31-jt(i),o=1<<l;e|=n[l],i&=~o}return ni=e,Ir(),t}function gv(n,e){ue=null,W.H=Ja,e===zs||e===Lr?(e=dh(),Ne=3):e===ey?(e=dh(),Ne=4):Ne=e===Hy?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Jt=e,pe===null&&(je=1,Wa(n,fn(e,n.current)))}function yv(){var n=W.H;return W.H=Ja,n===null?Ja:n}function vv(){var n=W.A;return W.A=n1,n}function wc(){je=4,Ei||(ve&4194048)!==ve&&hn.current!==null||(Eo=!0),!(Vi&134217727)&&!(il&134217727)||Pe===null||Ai(Pe,ve,dn,!1)}function Mu(n,e,t){var i=we;we|=2;var l=yv(),o=vv();(Pe!==n||ve!==e)&&(nr=null,fo(n,e)),e=!1;var s=je;e:do try{if(Ne!==0&&pe!==null){var u=pe,c=Jt;switch(Ne){case 8:jf(),s=6;break e;case 3:case 2:case 9:case 6:hn.current===null&&(e=!0);var f=Ne;if(Ne=0,Jt=null,zl(n,u,c,f),t&&Eo){s=0;break e}break;default:f=Ne,Ne=0,Jt=null,zl(n,u,c,f)}}o1(),s=je;break}catch(d){gv(n,d)}while(!0);return e&&n.shellSuspendCounter++,Kn=gl=null,we=i,W.H=l,W.A=o,pe===null&&(Pe=null,ve=0,Ir()),s}function o1(){for(;pe!==null;)xv(pe)}function s1(n,e){var t=we;we|=2;var i=yv(),l=vv();Pe!==n||ve!==e?(nr=null,tr=Dn()+500,fo(n,e)):Eo=Us(n,e);e:do try{if(Ne!==0&&pe!==null){e=pe;var o=Jt;t:switch(Ne){case 1:Ne=0,Jt=null,zl(n,e,o,1);break;case 2:case 9:if(fh(o)){Ne=0,Jt=null,Lh(e);break}e=function(){Ne!==2&&Ne!==9||Pe!==n||(Ne=7),On(n)},o.then(e,e);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:fh(o)?(Ne=0,Jt=null,Lh(e)):(Ne=0,Jt=null,zl(n,e,o,7));break;case 5:var s=null;switch(pe.tag){case 26:s=pe.memoizedState;case 5:case 27:var u=pe;if(!s||$v(s)){Ne=0,Jt=null;var c=u.sibling;if(c!==null)pe=c;else{var f=u.return;f!==null?(pe=f,Pr(f)):pe=null}break t}}Ne=0,Jt=null,zl(n,e,o,5);break;case 6:Ne=0,Jt=null,zl(n,e,o,6);break;case 8:jf(),je=6;break e;default:throw Error(M(462))}}a1();break}catch(d){gv(n,d)}while(!0);return Kn=gl=null,W.H=i,W.A=l,we=t,pe!==null?0:(Pe=null,ve=0,Ir(),je)}function a1(){for(;pe!==null&&!wx();)xv(pe)}function xv(n){var e=Jy(n.alternate,n,ni);n.memoizedProps=n.pendingProps,e===null?Pr(n):pe=e}function Lh(n){var e=n,t=e.alternate;switch(e.tag){case 15:case 0:e=Nh(t,e,e.pendingProps,e.type,void 0,ve);break;case 11:e=Nh(t,e,e.pendingProps,e.type.render,e.ref,ve);break;case 5:Bf(e);default:Xy(t,e),e=pe=Xg(e,ni),e=Jy(t,e,ni)}n.memoizedProps=n.pendingProps,e===null?Pr(n):pe=e}function zl(n,e,t,i){Kn=gl=null,Bf(e),Ql=null,Cs=0;var l=e.return;try{if(XT(n,l,e,t,ve)){je=1,Wa(n,fn(t,n.current)),pe=null;return}}catch(o){if(l!==null)throw pe=l,o;je=1,Wa(n,fn(t,n.current)),pe=null;return}e.flags&32768?(Ce||i===1?n=!0:Eo||ve&536870912?n=!1:(Ei=n=!0,(i===2||i===9||i===3||i===6)&&(i=hn.current,i!==null&&i.tag===13&&(i.flags|=16384))),Tv(e,n)):Pr(e)}function Pr(n){var e=n;do{if(e.flags&32768){Tv(e,Ei);return}n=e.return;var t=WT(e.alternate,e,ni);if(t!==null){pe=t;return}if(e=e.sibling,e!==null){pe=e;return}pe=e=n}while(e!==null);je===0&&(je=5)}function Tv(n,e){do{var t=jT(n.alternate,n);if(t!==null){t.flags&=32767,pe=t;return}if(t=n.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!e&&(n=n.sibling,n!==null)){pe=n;return}pe=n=t}while(n!==null);je=6,pe=null}function Oh(n,e,t,i,l,o,s,u,c){n.cancelPendingCommit=null;do zr();while(vt!==0);if(we&6)throw Error(M(327));if(e!==null){if(e===n.current)throw Error(M(177));if(o=e.lanes|e.childLanes,o|=bf,Bx(n,t,o,s,u,c),n===Pe&&(pe=Pe=null,ve=0),co=e,Ri=n,Wl=t,bc=o,Mc=l,hv=i,e.subtreeFlags&10256||e.flags&10256?(n.callbackNode=null,n.callbackPriority=0,f1(Ba,function(){return Av(),null})):(n.callbackNode=null,n.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=W.T,W.T=null,l=_e.p,_e.p=2,s=we,we|=4;try{e1(n,e,t)}finally{we=s,_e.p=l,W.T=i}}vt=1,Sv(),Cv(),_v()}}function Sv(){if(vt===1){vt=0;var n=Ri,e=co,t=(e.flags&13878)!==0;if(e.subtreeFlags&13878||t){t=W.T,W.T=null;var i=_e.p;_e.p=2;var l=we;we|=4;try{sv(e,n);var o=Ic,s=Gg(n.containerInfo),u=o.focusedElem,c=o.selectionRange;if(s!==u&&u&&u.ownerDocument&&zg(u.ownerDocument.documentElement,u)){if(c!==null&&Af(u)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in u)u.selectionStart=f,u.selectionEnd=Math.min(d,u.value.length);else{var p=u.ownerDocument||document,h=p&&p.defaultView||window;if(h.getSelection){var m=h.getSelection(),x=u.textContent.length,S=Math.min(c.start,x),_=c.end===void 0?S:Math.min(c.end,x);!m.extend&&S>_&&(s=_,_=S,S=s);var y=ih(u,S),v=ih(u,_);if(y&&v&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==v.node||m.focusOffset!==v.offset)){var T=p.createRange();T.setStart(y.node,y.offset),m.removeAllRanges(),S>_?(m.addRange(T),m.extend(v.node,v.offset)):(T.setEnd(v.node,v.offset),m.addRange(T))}}}}for(p=[],m=u;m=m.parentNode;)m.nodeType===1&&p.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<p.length;u++){var C=p[u];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}cr=!!kc,Ic=kc=null}finally{we=l,_e.p=i,W.T=t}}n.current=e,vt=2}}function Cv(){if(vt===2){vt=0;var n=Ri,e=co,t=(e.flags&8772)!==0;if(e.subtreeFlags&8772||t){t=W.T,W.T=null;var i=_e.p;_e.p=2;var l=we;we|=4;try{nv(n,e.alternate,e)}finally{we=l,_e.p=i,W.T=t}}vt=3}}function _v(){if(vt===4||vt===3){vt=0,Rx();var n=Ri,e=co,t=Wl,i=hv;e.subtreeFlags&10256||e.flags&10256?vt=5:(vt=0,co=Ri=null,Ev(n,n.pendingLanes));var l=n.pendingLanes;if(l===0&&(wi=null),vf(t),e=e.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Is,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=W.T,l=_e.p,_e.p=2,W.T=null;try{for(var o=n.onRecoverableError,s=0;s<i.length;s++){var u=i[s];o(u.value,{componentStack:u.stack})}}finally{W.T=e,_e.p=l}}Wl&3&&zr(),On(n),l=n.pendingLanes,t&4194090&&l&42?n===Nc?us++:(us=0,Nc=n):us=0,Ys(0)}}function Ev(n,e){(n.pooledCacheLanes&=e)===0&&(e=n.pooledCache,e!=null&&(n.pooledCache=null,Ps(e)))}function zr(n){return Sv(),Cv(),_v(),Av()}function Av(){if(vt!==5)return!1;var n=Ri,e=bc;bc=0;var t=vf(Wl),i=W.T,l=_e.p;try{_e.p=32>t?32:t,W.T=null,t=Mc,Mc=null;var o=Ri,s=Wl;if(vt=0,co=Ri=null,Wl=0,we&6)throw Error(M(331));var u=we;if(we|=4,fv(o.current),rv(o,o.current,s,t),we=u,Ys(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Is,o)}catch{}return!0}finally{_e.p=l,W.T=i,Ev(n,e)}}function Vh(n,e,t){e=fn(t,e),e=Sc(n.stateNode,e,2),n=Ni(n,e,2),n!==null&&(Ls(n,2),On(n))}function Oe(n,e,t){if(n.tag===3)Vh(n,n,t);else for(;e!==null;){if(e.tag===3){Vh(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(wi===null||!wi.has(i))){n=fn(t,n),t=Gy(2),i=Ni(e,t,2),i!==null&&(qy(t,i,e,n),Ls(i,2),On(i));break}}e=e.return}}function Nu(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new i1;var l=new Set;i.set(e,l)}else l=i.get(e),l===void 0&&(l=new Set,i.set(e,l));l.has(t)||(Xf=!0,l.add(t),n=r1.bind(null,n,e,t),e.then(n,n))}function r1(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),n.pingedLanes|=n.suspendedLanes&t,n.warmLanes&=~t,Pe===n&&(ve&t)===t&&(je===4||je===3&&(ve&62914560)===ve&&300>Dn()-Wf?!(we&2)&&fo(n,0):Qf|=t,uo===ve&&(uo=0)),On(n)}function bv(n,e){e===0&&(e=Sg()),n=_o(n,e),n!==null&&(Ls(n,e),On(n))}function u1(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),bv(n,t)}function c1(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,l=n.memoizedState;l!==null&&(t=l.retryLane);break;case 19:i=n.stateNode;break;case 22:i=n.stateNode._retryCache;break;default:throw Error(M(314))}i!==null&&i.delete(e),bv(n,t)}function f1(n,e){return gf(n,e)}var ir=null,Nl=null,Rc=!1,lr=!1,wu=!1,ll=0;function On(n){n!==Nl&&n.next===null&&(Nl===null?ir=Nl=n:Nl=Nl.next=n),lr=!0,Rc||(Rc=!0,h1())}function Ys(n,e){if(!wu&&lr){wu=!0;do for(var t=!1,i=ir;i!==null;){if(n!==0){var l=i.pendingLanes;if(l===0)var o=0;else{var s=i.suspendedLanes,u=i.pingedLanes;o=(1<<31-jt(42|n)+1)-1,o&=l&~(s&~u),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(t=!0,$h(i,o))}else o=ve,o=wr(i,i===Pe?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(o&3)||Us(i,o)||(t=!0,$h(i,o));i=i.next}while(t);wu=!1}}function d1(){Mv()}function Mv(){lr=Rc=!1;var n=0;ll!==0&&(S1()&&(n=ll),ll=0);for(var e=Dn(),t=null,i=ir;i!==null;){var l=i.next,o=Nv(i,e);o===0?(i.next=null,t===null?ir=l:t.next=l,l===null&&(Nl=t)):(t=i,(n!==0||o&3)&&(lr=!0)),i=l}Ys(n)}function Nv(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,l=n.expirationTimes,o=n.pendingLanes&-62914561;0<o;){var s=31-jt(o),u=1<<s,c=l[s];c===-1?(!(u&t)||u&i)&&(l[s]=$x(u,e)):c<=e&&(n.expiredLanes|=u),o&=~u}if(e=Pe,t=ve,t=wr(n,n===e?t:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i=n.callbackNode,t===0||n===e&&(Ne===2||Ne===9)||n.cancelPendingCommit!==null)return i!==null&&i!==null&&tu(i),n.callbackNode=null,n.callbackPriority=0;if(!(t&3)||Us(n,t)){if(e=t&-t,e===n.callbackPriority)return e;switch(i!==null&&tu(i),vf(t)){case 2:case 8:t=vg;break;case 32:t=Ba;break;case 268435456:t=xg;break;default:t=Ba}return i=wv.bind(null,n),t=gf(t,i),n.callbackPriority=e,n.callbackNode=t,e}return i!==null&&i!==null&&tu(i),n.callbackPriority=2,n.callbackNode=null,2}function wv(n,e){if(vt!==0&&vt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var t=n.callbackNode;if(zr()&&n.callbackNode!==t)return null;var i=ve;return i=wr(n,n===Pe?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i===0?null:(mv(n,i,e),Nv(n,Dn()),n.callbackNode!=null&&n.callbackNode===t?wv.bind(null,n):null)}function $h(n,e){if(zr())return null;mv(n,e,!0)}function h1(){_1(function(){we&6?gf(yg,d1):Mv()})}function ed(){return ll===0&&(ll=Tg()),ll}function Bh(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Sa(""+n)}function Ph(n,e){var t=e.ownerDocument.createElement("input");return t.name=e.name,t.value=e.value,n.id&&t.setAttribute("form",n.id),e.parentNode.insertBefore(t,e),n=new FormData(n),t.parentNode.removeChild(t),n}function p1(n,e,t,i,l){if(e==="submit"&&t&&t.stateNode===l){var o=Bh((l[qt]||null).action),s=i.submitter;s&&(e=(e=s[qt]||null)?Bh(e.formAction):s.getAttribute("formAction"),e!==null&&(o=e,s=null));var u=new Rr("action","action",null,i,l);n.push({event:u,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ll!==0){var c=s?Ph(l,s):new FormData(l);xc(t,{pending:!0,data:c,method:l.method,action:o},null,c)}}else typeof o=="function"&&(u.preventDefault(),c=s?Ph(l,s):new FormData(l),xc(t,{pending:!0,data:c,method:l.method,action:o},o,c))},currentTarget:l}]})}}for(var Ru=0;Ru<ac.length;Ru++){var Du=ac[Ru],m1=Du.toLowerCase(),g1=Du[0].toUpperCase()+Du.slice(1);Tn(m1,"on"+g1)}Tn(Hg,"onAnimationEnd");Tn(Yg,"onAnimationIteration");Tn(Fg,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(IT,"onTransitionRun");Tn(UT,"onTransitionStart");Tn(LT,"onTransitionCancel");Tn(Zg,"onTransitionEnd");io("onMouseEnter",["mouseout","mouseover"]);io("onMouseLeave",["mouseout","mouseover"]);io("onPointerEnter",["pointerout","pointerover"]);io("onPointerLeave",["pointerout","pointerover"]);hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_s));function Rv(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],l=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var u=i[s],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){Qa(d)}l.currentTarget=null,o=c}else for(s=0;s<i.length;s++){if(u=i[s],c=u.instance,f=u.currentTarget,u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){Qa(d)}l.currentTarget=null,o=c}}}}function he(n,e){var t=e[ec];t===void 0&&(t=e[ec]=new Set);var i=n+"__bubble";t.has(i)||(Dv(e,n,2,!1),t.add(i))}function ku(n,e,t){var i=0;e&&(i|=4),Dv(t,n,i,e)}var fa="_reactListening"+Math.random().toString(36).slice(2);function td(n){if(!n[fa]){n[fa]=!0,Ag.forEach(function(t){t!=="selectionchange"&&(y1.has(t)||ku(t,!1,n),ku(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[fa]||(e[fa]=!0,ku("selectionchange",!1,e))}}function Dv(n,e,t,i){switch(qv(e)){case 2:var l=H1;break;case 8:l=Y1;break;default:l=od}t=l.bind(null,e,t,n),l=void 0,!lc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),i?l!==void 0?n.addEventListener(e,t,{capture:!0,passive:l}):n.addEventListener(e,t,!0):l!==void 0?n.addEventListener(e,t,{passive:l}):n.addEventListener(e,t,!1)}function Iu(n,e,t,i,l){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var u=i.stateNode.containerInfo;if(u===l)break;if(s===4)for(s=i.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===l)return;s=s.return}for(;u!==null;){if(s=kl(u),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){i=o=s;continue e}u=u.parentNode}}i=i.return}Ig(function(){var f=o,d=Sf(t),p=[];e:{var h=Kg.get(n);if(h!==void 0){var m=Rr,x=n;switch(n){case"keypress":if(_a(t)===0)break e;case"keydown":case"keyup":m=fT;break;case"focusin":x="focus",m=uu;break;case"focusout":x="blur",m=uu;break;case"beforeblur":case"afterblur":m=uu;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=jx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pT;break;case Hg:case Yg:case Fg:m=nT;break;case Zg:m=gT;break;case"scroll":case"scrollend":m=Qx;break;case"wheel":m=vT;break;case"copy":case"cut":case"paste":m=lT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Jd;break;case"toggle":case"beforetoggle":m=TT}var S=(e&4)!==0,_=!S&&(n==="scroll"||n==="scrollend"),y=S?h!==null?h+"Capture":null:h;S=[];for(var v=f,T;v!==null;){var C=v;if(T=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||T===null||y===null||(C=ys(v,y),C!=null&&S.push(Es(v,C,T))),_)break;v=v.return}0<S.length&&(h=new m(h,x,null,t,d),p.push({event:h,listeners:S}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",h&&t!==ic&&(x=t.relatedTarget||t.fromElement)&&(kl(x)||x[So]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=t.relatedTarget||t.toElement,m=f,x=x?kl(x):null,x!==null&&(_=ks(x),S=x.tag,x!==_||S!==5&&S!==27&&S!==6)&&(x=null)):(m=null,x=f),m!==x)){if(S=Zd,C="onMouseLeave",y="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(S=Jd,C="onPointerLeave",y="onPointerEnter",v="pointer"),_=m==null?h:Fo(m),T=x==null?h:Fo(x),h=new S(C,v+"leave",m,t,d),h.target=_,h.relatedTarget=T,C=null,kl(d)===f&&(S=new S(y,v+"enter",x,t,d),S.target=T,S.relatedTarget=_,C=S),_=C,m&&x)t:{for(S=m,y=x,v=0,T=S;T;T=Cl(T))v++;for(T=0,C=y;C;C=Cl(C))T++;for(;0<v-T;)S=Cl(S),v--;for(;0<T-v;)y=Cl(y),T--;for(;v--;){if(S===y||y!==null&&S===y.alternate)break t;S=Cl(S),y=Cl(y)}S=null}else S=null;m!==null&&zh(p,h,m,S,!1),x!==null&&_!==null&&zh(p,_,x,S,!0)}}e:{if(h=f?Fo(f):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var b=jd;else if(Wd(h))if(Bg)b=RT;else{b=NT;var w=MT}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?f&&Tf(f.elementType)&&(b=jd):b=wT;if(b&&(b=b(n,f))){$g(p,b,t,d);break e}w&&w(n,h,f),n==="focusout"&&f&&h.type==="number"&&f.memoizedProps.value!=null&&nc(h,"number",h.value)}switch(w=f?Fo(f):window,n){case"focusin":(Wd(w)||w.contentEditable==="true")&&(Ll=w,oc=f,jo=null);break;case"focusout":jo=oc=Ll=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,lh(p,t,d);break;case"selectionchange":if(kT)break;case"keydown":case"keyup":lh(p,t,d)}var N;if(Ef)e:{switch(n){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Ul?Og(n,t)&&(D="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(D="onCompositionStart");D&&(Lg&&t.locale!=="ko"&&(Ul||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ul&&(N=Ug()):(_i=d,Cf="value"in _i?_i.value:_i.textContent,Ul=!0)),w=or(f,D),0<w.length&&(D=new Kd(D,n,null,t,d),p.push({event:D,listeners:w}),N?D.data=N:(N=Vg(t),N!==null&&(D.data=N)))),(N=CT?_T(n,t):ET(n,t))&&(D=or(f,"onBeforeInput"),0<D.length&&(w=new Kd("onBeforeInput","beforeinput",null,t,d),p.push({event:w,listeners:D}),w.data=N)),p1(p,n,f,t,d)}Rv(p,e)})}function Es(n,e,t){return{instance:n,listener:e,currentTarget:t}}function or(n,e){for(var t=e+"Capture",i=[];n!==null;){var l=n,o=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||o===null||(l=ys(n,t),l!=null&&i.unshift(Es(n,l,o)),l=ys(n,e),l!=null&&i.push(Es(n,l,o))),n.tag===3)return i;n=n.return}return[]}function Cl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function zh(n,e,t,i,l){for(var o=e._reactName,s=[];t!==null&&t!==i;){var u=t,c=u.alternate,f=u.stateNode;if(u=u.tag,c!==null&&c===i)break;u!==5&&u!==26&&u!==27||f===null||(c=f,l?(f=ys(t,o),f!=null&&s.unshift(Es(t,f,c))):l||(f=ys(t,o),f!=null&&s.push(Es(t,f,c)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var v1=/\r\n?/g,x1=/\u0000|\uFFFD/g;function Gh(n){return(typeof n=="string"?n:""+n).replace(v1,`
`).replace(x1,"")}function kv(n,e){return e=Gh(e),Gh(n)===e}function Gr(){}function ke(n,e,t,i,l,o){switch(t){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||lo(n,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&lo(n,""+i);break;case"className":la(n,"class",i);break;case"tabIndex":la(n,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":la(n,t,i);break;case"style":kg(n,i,o);break;case"data":if(e!=="object"){la(n,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||t!=="href")){n.removeAttribute(t);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(t);break}i=Sa(""+i),n.setAttribute(t,i);break;case"action":case"formAction":if(typeof i=="function"){n.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(t==="formAction"?(e!=="input"&&ke(n,e,"name",l.name,l,null),ke(n,e,"formEncType",l.formEncType,l,null),ke(n,e,"formMethod",l.formMethod,l,null),ke(n,e,"formTarget",l.formTarget,l,null)):(ke(n,e,"encType",l.encType,l,null),ke(n,e,"method",l.method,l,null),ke(n,e,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(t);break}i=Sa(""+i),n.setAttribute(t,i);break;case"onClick":i!=null&&(n.onclick=Gr);break;case"onScroll":i!=null&&he("scroll",n);break;case"onScrollEnd":i!=null&&he("scrollend",n);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(M(61));if(t=i.__html,t!=null){if(l.children!=null)throw Error(M(60));n.innerHTML=t}}break;case"multiple":n.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":n.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){n.removeAttribute("xlink:href");break}t=Sa(""+i),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,""+i):n.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,""):n.removeAttribute(t);break;case"capture":case"download":i===!0?n.setAttribute(t,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,i):n.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?n.setAttribute(t,i):n.removeAttribute(t);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?n.removeAttribute(t):n.setAttribute(t,i);break;case"popover":he("beforetoggle",n),he("toggle",n),Ta(n,"popover",i);break;case"xlinkActuate":zn(n,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":zn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":zn(n,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":zn(n,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":zn(n,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":zn(n,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":zn(n,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":zn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":zn(n,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ta(n,"is",i);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=Jx.get(t)||t,Ta(n,t,i))}}function Dc(n,e,t,i,l,o){switch(t){case"style":kg(n,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(M(61));if(t=i.__html,t!=null){if(l.children!=null)throw Error(M(60));n.innerHTML=t}}break;case"children":typeof i=="string"?lo(n,i):(typeof i=="number"||typeof i=="bigint")&&lo(n,""+i);break;case"onScroll":i!=null&&he("scroll",n);break;case"onScrollEnd":i!=null&&he("scrollend",n);break;case"onClick":i!=null&&(n.onclick=Gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bg.hasOwnProperty(t))e:{if(t[0]==="o"&&t[1]==="n"&&(l=t.endsWith("Capture"),e=t.slice(2,l?t.length-7:void 0),o=n[qt]||null,o=o!=null?o[t]:null,typeof o=="function"&&n.removeEventListener(e,o,l),typeof i=="function")){typeof o!="function"&&o!==null&&(t in n?n[t]=null:n.hasAttribute(t)&&n.removeAttribute(t)),n.addEventListener(e,i,l);break e}t in n?n[t]=i:i===!0?n.setAttribute(t,""):Ta(n,t,i)}}}function xt(n,e,t){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",n),he("load",n);var i=!1,l=!1,o;for(o in t)if(t.hasOwnProperty(o)){var s=t[o];if(s!=null)switch(o){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(M(137,e));default:ke(n,e,o,s,t,null)}}l&&ke(n,e,"srcSet",t.srcSet,t,null),i&&ke(n,e,"src",t.src,t,null);return;case"input":he("invalid",n);var u=o=s=l=null,c=null,f=null;for(i in t)if(t.hasOwnProperty(i)){var d=t[i];if(d!=null)switch(i){case"name":l=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":o=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(M(137,e));break;default:ke(n,e,i,d,t,null)}}wg(n,o,u,c,f,s,l,!1),Pa(n);return;case"select":he("invalid",n),i=s=o=null;for(l in t)if(t.hasOwnProperty(l)&&(u=t[l],u!=null))switch(l){case"value":o=u;break;case"defaultValue":s=u;break;case"multiple":i=u;default:ke(n,e,l,u,t,null)}e=o,t=s,n.multiple=!!i,e!=null?Fl(n,!!i,e,!1):t!=null&&Fl(n,!!i,t,!0);return;case"textarea":he("invalid",n),o=l=i=null;for(s in t)if(t.hasOwnProperty(s)&&(u=t[s],u!=null))switch(s){case"value":i=u;break;case"defaultValue":l=u;break;case"children":o=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(M(91));break;default:ke(n,e,s,u,t,null)}Dg(n,i,l,o),Pa(n);return;case"option":for(c in t)if(t.hasOwnProperty(c)&&(i=t[c],i!=null))switch(c){case"selected":n.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ke(n,e,c,i,t,null)}return;case"dialog":he("beforetoggle",n),he("toggle",n),he("cancel",n),he("close",n);break;case"iframe":case"object":he("load",n);break;case"video":case"audio":for(i=0;i<_s.length;i++)he(_s[i],n);break;case"image":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"embed":case"source":case"link":he("error",n),he("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in t)if(t.hasOwnProperty(f)&&(i=t[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(M(137,e));default:ke(n,e,f,i,t,null)}return;default:if(Tf(e)){for(d in t)t.hasOwnProperty(d)&&(i=t[d],i!==void 0&&Dc(n,e,d,i,t,void 0));return}}for(u in t)t.hasOwnProperty(u)&&(i=t[u],i!=null&&ke(n,e,u,i,t,null))}function T1(n,e,t,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,o=null,s=null,u=null,c=null,f=null,d=null;for(m in t){var p=t[m];if(t.hasOwnProperty(m)&&p!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=p;default:i.hasOwnProperty(m)||ke(n,e,m,null,i,p)}}for(var h in i){var m=i[h];if(p=t[h],i.hasOwnProperty(h)&&(m!=null||p!=null))switch(h){case"type":o=m;break;case"name":l=m;break;case"checked":f=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":u=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(M(137,e));break;default:m!==p&&ke(n,e,h,m,i,p)}}tc(n,s,u,c,f,d,o,l);return;case"select":m=s=u=h=null;for(o in t)if(c=t[o],t.hasOwnProperty(o)&&c!=null)switch(o){case"value":break;case"multiple":m=c;default:i.hasOwnProperty(o)||ke(n,e,o,null,i,c)}for(l in i)if(o=i[l],c=t[l],i.hasOwnProperty(l)&&(o!=null||c!=null))switch(l){case"value":h=o;break;case"defaultValue":u=o;break;case"multiple":s=o;default:o!==c&&ke(n,e,l,o,i,c)}e=u,t=s,i=m,h!=null?Fl(n,!!t,h,!1):!!i!=!!t&&(e!=null?Fl(n,!!t,e,!0):Fl(n,!!t,t?[]:"",!1));return;case"textarea":m=h=null;for(u in t)if(l=t[u],t.hasOwnProperty(u)&&l!=null&&!i.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:ke(n,e,u,null,i,l)}for(s in i)if(l=i[s],o=t[s],i.hasOwnProperty(s)&&(l!=null||o!=null))switch(s){case"value":h=l;break;case"defaultValue":m=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(M(91));break;default:l!==o&&ke(n,e,s,l,i,o)}Rg(n,h,m);return;case"option":for(var x in t)if(h=t[x],t.hasOwnProperty(x)&&h!=null&&!i.hasOwnProperty(x))switch(x){case"selected":n.selected=!1;break;default:ke(n,e,x,null,i,h)}for(c in i)if(h=i[c],m=t[c],i.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ke(n,e,c,h,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in t)h=t[S],t.hasOwnProperty(S)&&h!=null&&!i.hasOwnProperty(S)&&ke(n,e,S,null,i,h);for(f in i)if(h=i[f],m=t[f],i.hasOwnProperty(f)&&h!==m&&(h!=null||m!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(M(137,e));break;default:ke(n,e,f,h,i,m)}return;default:if(Tf(e)){for(var _ in t)h=t[_],t.hasOwnProperty(_)&&h!==void 0&&!i.hasOwnProperty(_)&&Dc(n,e,_,void 0,i,h);for(d in i)h=i[d],m=t[d],!i.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||Dc(n,e,d,h,i,m);return}}for(var y in t)h=t[y],t.hasOwnProperty(y)&&h!=null&&!i.hasOwnProperty(y)&&ke(n,e,y,null,i,h);for(p in i)h=i[p],m=t[p],!i.hasOwnProperty(p)||h===m||h==null&&m==null||ke(n,e,p,h,i,m)}var kc=null,Ic=null;function sr(n){return n.nodeType===9?n:n.ownerDocument}function qh(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iv(n,e){if(n===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&e==="foreignObject"?0:n}function Uc(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uu=null;function S1(){var n=window.event;return n&&n.type==="popstate"?n===Uu?!1:(Uu=n,!0):(Uu=null,!1)}var Uv=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,Hh=typeof Promise=="function"?Promise:void 0,_1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hh<"u"?function(n){return Hh.resolve(null).then(n).catch(E1)}:Uv;function E1(n){setTimeout(function(){throw n})}function Pi(n){return n==="head"}function Yh(n,e){var t=e,i=0,l=0;do{var o=t.nextSibling;if(n.removeChild(t),o&&o.nodeType===8)if(t=o.data,t==="/$"){if(0<i&&8>i){t=i;var s=n.ownerDocument;if(t&1&&cs(s.documentElement),t&2&&cs(s.body),t&4)for(t=s.head,cs(t),s=t.firstChild;s;){var u=s.nextSibling,c=s.nodeName;s[Os]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||t.removeChild(s),s=u}}if(l===0){n.removeChild(o),ws(e);return}l--}else t==="$"||t==="$?"||t==="$!"?l++:i=t.charCodeAt(0)-48;else i=0;t=o}while(t);ws(e)}function Lc(n){var e=n.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var t=e;switch(e=e.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":Lc(t),xf(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}n.removeChild(t)}}function A1(n,e,t,i){for(;n.nodeType===1;){var l=t;if(n.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(i){if(!n[Os])switch(e){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(o=n.getAttribute("rel"),o==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(o!==l.rel||n.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||n.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||n.getAttribute("title")!==(l.title==null?null:l.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(o=n.getAttribute("src"),(o!==(l.src==null?null:l.src)||n.getAttribute("type")!==(l.type==null?null:l.type)||n.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&o&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(e==="input"&&n.type==="hidden"){var o=l.name==null?null:""+l.name;if(l.type==="hidden"&&n.getAttribute("name")===o)return n}else return n;if(n=vn(n.nextSibling),n===null)break}return null}function b1(n,e,t){if(e==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!t||(n=vn(n.nextSibling),n===null))return null;return n}function Oc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function M1(n,e){var t=n.ownerDocument;if(n.data!=="$?"||t.readyState==="complete")e();else{var i=function(){e(),t.removeEventListener("DOMContentLoaded",i)};t.addEventListener("DOMContentLoaded",i),n._reactRetry=i}}function vn(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return n}var Vc=null;function Fh(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}function Lv(n,e,t){switch(e=sr(t),n){case"html":if(n=e.documentElement,!n)throw Error(M(452));return n;case"head":if(n=e.head,!n)throw Error(M(453));return n;case"body":if(n=e.body,!n)throw Error(M(454));return n;default:throw Error(M(451))}}function cs(n){for(var e=n.attributes;e.length;)n.removeAttributeNode(e[0]);xf(n)}var pn=new Map,Zh=new Set;function ar(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var oi=_e.d;_e.d={f:N1,r:w1,D:R1,C:D1,L:k1,m:I1,X:L1,S:U1,M:O1};function N1(){var n=oi.f(),e=Br();return n||e}function w1(n){var e=Co(n);e!==null&&e.tag===5&&e.type==="form"?Ny(e):oi.r(n)}var Ao=typeof document>"u"?null:document;function Ov(n,e,t){var i=Ao;if(i&&typeof e=="string"&&e){var l=cn(e);l='link[rel="'+n+'"][href="'+l+'"]',typeof t=="string"&&(l+='[crossorigin="'+t+'"]'),Zh.has(l)||(Zh.add(l),n={rel:n,crossOrigin:t,href:e},i.querySelector(l)===null&&(e=i.createElement("link"),xt(e,"link",n),ht(e),i.head.appendChild(e)))}}function R1(n){oi.D(n),Ov("dns-prefetch",n,null)}function D1(n,e){oi.C(n,e),Ov("preconnect",n,e)}function k1(n,e,t){oi.L(n,e,t);var i=Ao;if(i&&n&&e){var l='link[rel="preload"][as="'+cn(e)+'"]';e==="image"&&t&&t.imageSrcSet?(l+='[imagesrcset="'+cn(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(l+='[imagesizes="'+cn(t.imageSizes)+'"]')):l+='[href="'+cn(n)+'"]';var o=l;switch(e){case"style":o=ho(n);break;case"script":o=bo(n)}pn.has(o)||(n=He({rel:"preload",href:e==="image"&&t&&t.imageSrcSet?void 0:n,as:e},t),pn.set(o,n),i.querySelector(l)!==null||e==="style"&&i.querySelector(Fs(o))||e==="script"&&i.querySelector(Zs(o))||(e=i.createElement("link"),xt(e,"link",n),ht(e),i.head.appendChild(e)))}}function I1(n,e){oi.m(n,e);var t=Ao;if(t&&n){var i=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+cn(i)+'"][href="'+cn(n)+'"]',o=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=bo(n)}if(!pn.has(o)&&(n=He({rel:"modulepreload",href:n},e),pn.set(o,n),t.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(Zs(o)))return}i=t.createElement("link"),xt(i,"link",n),ht(i),t.head.appendChild(i)}}}function U1(n,e,t){oi.S(n,e,t);var i=Ao;if(i&&n){var l=Yl(i).hoistableStyles,o=ho(n);e=e||"default";var s=l.get(o);if(!s){var u={loading:0,preload:null};if(s=i.querySelector(Fs(o)))u.loading=5;else{n=He({rel:"stylesheet",href:n,"data-precedence":e},t),(t=pn.get(o))&&nd(n,t);var c=s=i.createElement("link");ht(c),xt(c,"link",n),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){u.loading|=1}),c.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Ra(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:u},l.set(o,s)}}}function L1(n,e){oi.X(n,e);var t=Ao;if(t&&n){var i=Yl(t).hoistableScripts,l=bo(n),o=i.get(l);o||(o=t.querySelector(Zs(l)),o||(n=He({src:n,async:!0},e),(e=pn.get(l))&&id(n,e),o=t.createElement("script"),ht(o),xt(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function O1(n,e){oi.M(n,e);var t=Ao;if(t&&n){var i=Yl(t).hoistableScripts,l=bo(n),o=i.get(l);o||(o=t.querySelector(Zs(l)),o||(n=He({src:n,async:!0,type:"module"},e),(e=pn.get(l))&&id(n,e),o=t.createElement("script"),ht(o),xt(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function Kh(n,e,t,i){var l=(l=bi.current)?ar(l):null;if(!l)throw Error(M(446));switch(n){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(e=ho(t.href),t=Yl(l).hoistableStyles,i=t.get(e),i||(i={type:"style",instance:null,count:0,state:null},t.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){n=ho(t.href);var o=Yl(l).hoistableStyles,s=o.get(n);if(s||(l=l.ownerDocument||l,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(n,s),(o=l.querySelector(Fs(n)))&&!o._p&&(s.instance=o,s.state.loading=5),pn.has(n)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},pn.set(n,t),o||V1(l,n,t,s.state))),e&&i===null)throw Error(M(528,""));return s}if(e&&i!==null)throw Error(M(529,""));return null;case"script":return e=t.async,t=t.src,typeof t=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=bo(t),t=Yl(l).hoistableScripts,i=t.get(e),i||(i={type:"script",instance:null,count:0,state:null},t.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(M(444,n))}}function ho(n){return'href="'+cn(n)+'"'}function Fs(n){return'link[rel="stylesheet"]['+n+"]"}function Vv(n){return He({},n,{"data-precedence":n.precedence,precedence:null})}function V1(n,e,t,i){n.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=n.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),xt(e,"link",t),ht(e),n.head.appendChild(e))}function bo(n){return'[src="'+cn(n)+'"]'}function Zs(n){return"script[async]"+n}function Jh(n,e,t){if(e.count++,e.instance===null)switch(e.type){case"style":var i=n.querySelector('style[data-href~="'+cn(t.href)+'"]');if(i)return e.instance=i,ht(i),i;var l=He({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return i=(n.ownerDocument||n).createElement("style"),ht(i),xt(i,"style",l),Ra(i,t.precedence,n),e.instance=i;case"stylesheet":l=ho(t.href);var o=n.querySelector(Fs(l));if(o)return e.state.loading|=4,e.instance=o,ht(o),o;i=Vv(t),(l=pn.get(l))&&nd(i,l),o=(n.ownerDocument||n).createElement("link"),ht(o);var s=o;return s._p=new Promise(function(u,c){s.onload=u,s.onerror=c}),xt(o,"link",i),e.state.loading|=4,Ra(o,t.precedence,n),e.instance=o;case"script":return o=bo(t.src),(l=n.querySelector(Zs(o)))?(e.instance=l,ht(l),l):(i=t,(l=pn.get(o))&&(i=He({},t),id(i,l)),n=n.ownerDocument||n,l=n.createElement("script"),ht(l),xt(l,"link",i),n.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(M(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Ra(i,t.precedence,n));return e.instance}function Ra(n,e,t){for(var i=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,o=l,s=0;s<i.length;s++){var u=i[s];if(u.dataset.precedence===e)o=u;else if(o!==l)break}o?o.parentNode.insertBefore(n,o.nextSibling):(e=t.nodeType===9?t.head:t,e.insertBefore(n,e.firstChild))}function nd(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.title==null&&(n.title=e.title)}function id(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.integrity==null&&(n.integrity=e.integrity)}var Da=null;function Xh(n,e,t){if(Da===null){var i=new Map,l=Da=new Map;l.set(t,i)}else l=Da,i=l.get(t),i||(i=new Map,l.set(t,i));if(i.has(n))return i;for(i.set(n,null),t=t.getElementsByTagName(n),l=0;l<t.length;l++){var o=t[l];if(!(o[Os]||o[At]||n==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var s=o.getAttribute(e)||"";s=n+s;var u=i.get(s);u?u.push(o):i.set(s,[o])}}return i}function Qh(n,e,t){n=n.ownerDocument||n,n.head.insertBefore(t,e==="title"?n.querySelector("head > title"):null)}function $1(n,e,t){if(t===1||e.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return n=e.disabled,typeof e.precedence=="string"&&n==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function $v(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var As=null;function B1(){}function P1(n,e,t){if(As===null)throw Error(M(475));var i=As;if(e.type==="stylesheet"&&(typeof t.media!="string"||matchMedia(t.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var l=ho(t.href),o=n.querySelector(Fs(l));if(o){n=o._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(i.count++,i=rr.bind(i),n.then(i,i)),e.state.loading|=4,e.instance=o,ht(o);return}o=n.ownerDocument||n,t=Vv(t),(l=pn.get(l))&&nd(t,l),o=o.createElement("link"),ht(o);var s=o;s._p=new Promise(function(u,c){s.onload=u,s.onerror=c}),xt(o,"link",t),e.instance=o}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,n),(n=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=rr.bind(i),n.addEventListener("load",e),n.addEventListener("error",e))}}function z1(){if(As===null)throw Error(M(475));var n=As;return n.stylesheets&&n.count===0&&$c(n,n.stylesheets),0<n.count?function(e){var t=setTimeout(function(){if(n.stylesheets&&$c(n,n.stylesheets),n.unsuspend){var i=n.unsuspend;n.unsuspend=null,i()}},6e4);return n.unsuspend=e,function(){n.unsuspend=null,clearTimeout(t)}}:null}function rr(){if(this.count--,this.count===0){if(this.stylesheets)$c(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ur=null;function $c(n,e){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ur=new Map,e.forEach(G1,n),ur=null,rr.call(n))}function G1(n,e){if(!(e.state.loading&4)){var t=ur.get(n);if(t)var i=t.get(null);else{t=new Map,ur.set(n,t);for(var l=n.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<l.length;o++){var s=l[o];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(t.set(s.dataset.precedence,s),i=s)}i&&t.set(null,i)}l=e.instance,s=l.getAttribute("data-precedence"),o=t.get(s)||i,o===i&&t.set(null,l),t.set(s,l),this.count++,i=rr.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),o?o.parentNode.insertBefore(l,o.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(l,n.firstChild)),e.state.loading|=4}}var bs={$$typeof:Yn,Provider:null,Consumer:null,_currentValue:Wi,_currentValue2:Wi,_threadCount:0};function q1(n,e,t,i,l,o,s,u){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nu(0),this.hiddenUpdates=nu(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Bv(n,e,t,i,l,o,s,u,c,f,d,p){return n=new q1(n,e,t,s,u,c,f,p),e=1,o===!0&&(e|=24),o=Qt(3,null,null,e),n.current=o,o.stateNode=n,e=Df(),e.refCount++,n.pooledCache=e,e.refCount++,o.memoizedState={element:i,isDehydrated:t,cache:e},If(o),n}function Pv(n){return n?(n=$l,n):$l}function zv(n,e,t,i,l,o){l=Pv(l),i.context===null?i.context=l:i.pendingContext=l,i=Mi(e),i.payload={element:t},o=o===void 0?null:o,o!==null&&(i.callback=o),t=Ni(n,i,e),t!==null&&(tn(t,n,e),ns(t,n,e))}function Wh(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function ld(n,e){Wh(n,e),(n=n.alternate)&&Wh(n,e)}function Gv(n){if(n.tag===13){var e=_o(n,67108864);e!==null&&tn(e,n,67108864),ld(n,67108864)}}var cr=!0;function H1(n,e,t,i){var l=W.T;W.T=null;var o=_e.p;try{_e.p=2,od(n,e,t,i)}finally{_e.p=o,W.T=l}}function Y1(n,e,t,i){var l=W.T;W.T=null;var o=_e.p;try{_e.p=8,od(n,e,t,i)}finally{_e.p=o,W.T=l}}function od(n,e,t,i){if(cr){var l=Bc(i);if(l===null)Iu(n,e,i,fr,t),jh(n,i);else if(Z1(l,n,e,t,i))i.stopPropagation();else if(jh(n,i),e&4&&-1<F1.indexOf(n)){for(;l!==null;){var o=Co(l);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var s=Ji(o.pendingLanes);if(s!==0){var u=o;for(u.pendingLanes|=2,u.entangledLanes|=2;s;){var c=1<<31-jt(s);u.entanglements[1]|=c,s&=~c}On(o),!(we&6)&&(tr=Dn()+500,Ys(0))}}break;case 13:u=_o(o,2),u!==null&&tn(u,o,2),Br(),ld(o,2)}if(o=Bc(i),o===null&&Iu(n,e,i,fr,t),o===l)break;l=o}l!==null&&i.stopPropagation()}else Iu(n,e,i,null,t)}}function Bc(n){return n=Sf(n),sd(n)}var fr=null;function sd(n){if(fr=null,n=kl(n),n!==null){var e=ks(n);if(e===null)n=null;else{var t=e.tag;if(t===13){if(n=hg(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null)}}return fr=n,null}function qv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dx()){case yg:return 2;case vg:return 8;case Ba:case kx:return 32;case xg:return 268435456;default:return 32}default:return 32}}var Pc=!1,Di=null,ki=null,Ii=null,Ms=new Map,Ns=new Map,Si=[],F1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jh(n,e){switch(n){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":Ms.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(e.pointerId)}}function Po(n,e,t,i,l,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:o,targetContainers:[l]},e!==null&&(e=Co(e),e!==null&&Gv(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),n)}function Z1(n,e,t,i,l){switch(e){case"focusin":return Di=Po(Di,n,e,t,i,l),!0;case"dragenter":return ki=Po(ki,n,e,t,i,l),!0;case"mouseover":return Ii=Po(Ii,n,e,t,i,l),!0;case"pointerover":var o=l.pointerId;return Ms.set(o,Po(Ms.get(o)||null,n,e,t,i,l)),!0;case"gotpointercapture":return o=l.pointerId,Ns.set(o,Po(Ns.get(o)||null,n,e,t,i,l)),!0}return!1}function Hv(n){var e=kl(n.target);if(e!==null){var t=ks(e);if(t!==null){if(e=t.tag,e===13){if(e=hg(t),e!==null){n.blockedOn=e,Px(n.priority,function(){if(t.tag===13){var i=en();i=yf(i);var l=_o(t,i);l!==null&&tn(l,t,i),ld(t,i)}});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ka(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Bc(n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);ic=i,t.target.dispatchEvent(i),ic=null}else return e=Co(t),e!==null&&Gv(e),n.blockedOn=t,!1;e.shift()}return!0}function ep(n,e,t){ka(n)&&t.delete(e)}function K1(){Pc=!1,Di!==null&&ka(Di)&&(Di=null),ki!==null&&ka(ki)&&(ki=null),Ii!==null&&ka(Ii)&&(Ii=null),Ms.forEach(ep),Ns.forEach(ep)}function da(n,e){n.blockedOn===e&&(n.blockedOn=null,Pc||(Pc=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,K1)))}var ha=null;function tp(n){ha!==n&&(ha=n,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,function(){ha===n&&(ha=null);for(var e=0;e<n.length;e+=3){var t=n[e],i=n[e+1],l=n[e+2];if(typeof i!="function"){if(sd(i||t)===null)continue;break}var o=Co(t);o!==null&&(n.splice(e,3),e-=3,xc(o,{pending:!0,data:l,method:t.method,action:i},i,l))}}))}function ws(n){function e(c){return da(c,n)}Di!==null&&da(Di,n),ki!==null&&da(ki,n),Ii!==null&&da(Ii,n),Ms.forEach(e),Ns.forEach(e);for(var t=0;t<Si.length;t++){var i=Si[t];i.blockedOn===n&&(i.blockedOn=null)}for(;0<Si.length&&(t=Si[0],t.blockedOn===null);)Hv(t),t.blockedOn===null&&Si.shift();if(t=(n.ownerDocument||n).$$reactFormReplay,t!=null)for(i=0;i<t.length;i+=3){var l=t[i],o=t[i+1],s=l[qt]||null;if(typeof o=="function")s||tp(t);else if(s){var u=null;if(o&&o.hasAttribute("formAction")){if(l=o,s=o[qt]||null)u=s.formAction;else if(sd(l)!==null)continue}else u=s.action;typeof u=="function"?t[i+1]=u:(t.splice(i,3),i-=3),tp(t)}}}function ad(n){this._internalRoot=n}qr.prototype.render=ad.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(M(409));var t=e.current,i=en();zv(t,i,n,e,null,null)};qr.prototype.unmount=ad.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;zv(n.current,2,null,n,null,null),Br(),e[So]=null}};function qr(n){this._internalRoot=n}qr.prototype.unstable_scheduleHydration=function(n){if(n){var e=Eg();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Si.length&&e!==0&&e<Si[t].priority;t++);Si.splice(t,0,n),t===0&&Hv(n)}};var np=fg.version;if(np!=="19.1.0")throw Error(M(527,np,"19.1.0"));_e.findDOMNode=function(n){var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(M(188)):(n=Object.keys(n).join(","),Error(M(268,n)));return n=Ex(e),n=n!==null?pg(n):null,n=n===null?null:n.stateNode,n};var J1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pa.isDisabled&&pa.supportsFiber)try{Is=pa.inject(J1),Wt=pa}catch{}}Mr.createRoot=function(n,e){if(!dg(n))throw Error(M(299));var t=!1,i="",l=By,o=Py,s=zy,u=null;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(u=e.unstable_transitionCallbacks)),e=Bv(n,1,!1,null,null,t,i,l,o,s,u,null),n[So]=e.current,td(n),new ad(e)};Mr.hydrateRoot=function(n,e,t){if(!dg(n))throw Error(M(299));var i=!1,l="",o=By,s=Py,u=zy,c=null,f=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(c=t.unstable_transitionCallbacks),t.formState!==void 0&&(f=t.formState)),e=Bv(n,1,!0,e,t??null,i,l,o,s,u,c,f),e.context=Pv(null),t=e.current,i=en(),i=yf(i),l=Mi(i),l.callback=null,Ni(t,l,i),t=i,e.current.lanes=t,Ls(e,t),On(e),n[So]=e.current,td(n),new qr(e)};Mr.version="19.1.0";function Yv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yv)}catch(n){console.error(n)}}Yv(),og.exports=Mr;var X1=og.exports;const Q1=Jm(X1),Lu=["1","2","3","4","5","6","7","8","9","10","11","12"],Fv=["","","","","","",""],Et=["","","","","","","","","","","","",""],Xn="",Mo="smartcalendar:userEvents",Hr="smartcalendar:builtinEventOverrides",dr="smartcalendar:userEventsUpdated",zc="smartcalendar:builtinEventOverridesUpdated",ip=2029,Zv=A.createContext(void 0),lp="smartcalendar:theme",W1={mainBg:"bg-main",headerBg:"bg-secondary",componentBg:"bg-secondary",inputBg:"bg-tertiary",border:"border-border-primary",textPrimary:"text-text-primary",textSecondary:"text-text-secondary",accentColor:"text-accent-text",accentBg:"bg-accent-primary",activeTabBg:"bg-accent-primary",buttonBg:"bg-tertiary",buttonText:"text-white",hoverEffect:"hover:bg-tertiary/60",eventUserBg:"bg-accent-primary/20",eventBuiltinBg:"bg-tertiary/60",eventBuiltinBorder:"border-border-secondary",placeholderColor:"placeholder:text-text-tertiary",scrollbarThumb:""},j1=({children:n})=>{const[e,t]=A.useState(()=>{const l=(localStorage.getItem(lp)??"").trim();return l==="light"||l==="beige"||l==="dark"?l:"dark"});A.useEffect(()=>{localStorage.setItem(lp,e),document.documentElement.setAttribute("data-theme",e)},[e]),A.useEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[]);const i=A.useMemo(()=>({theme:e,setTheme:t,colors:W1}),[e]);return g.jsx(Zv.Provider,{value:i,children:n})},zi=()=>{const n=A.useContext(Zv);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},Ou=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},eS=({currentDate:n,events:e,onEventClick:t,onDateClick:i,onDragStart:l,onDragEnd:o,onDrop:s})=>{const{colors:u}=zi(),c=new Date(n),f=c.getDay();c.setDate(n.getDate()-f);const d=Array.from({length:7},(h,m)=>{const x=new Date(c);return x.setDate(c.getDate()+m),x}),p=Ou(new Date);return g.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[g.jsx("div",{className:`grid grid-cols-7 border-b ${u.border} ${u.componentBg}/80 flex-shrink-0`,children:d.map((h,m)=>{const x=Ou(h),S=x===p;return g.jsxs("div",{className:`p-3 text-center border-r ${u.border} last:border-r-0 ${S?`${u.accentBg}/20`:""}`,children:[g.jsx("div",{className:`text-xs ${u.textSecondary} font-medium mb-1`,children:Fv[m]}),g.jsx("div",{className:`text-lg font-bold ${S?u.accentColor:u.textPrimary}`,children:h.getDate()})]},x)})}),g.jsx("div",{className:"flex-grow grid grid-cols-7 min-h-0 overflow-hidden",children:d.map(h=>{const m=Ou(h),x=e.filter(_=>_.date===m),S=m===p;return g.jsx("div",{className:`border-r ${u.border} last:border-r-0 p-2 overflow-y-auto scrollbar-thin ${u.hoverEffect} transition-colors h-full ${S?`${u.accentBg}/10`:""}`,onClick:()=>i(m),onDragOver:_=>{_.preventDefault(),_.dataTransfer.dropEffect="move"},onDrop:_=>s&&s(_,m),children:g.jsx("div",{className:"space-y-2",children:x.map(_=>g.jsx("div",{"data-tour":"calendar-event",draggable:!!l,onDragStart:y=>l==null?void 0:l(y,_.id),onDragEnd:o,className:`px-2 py-1.5 rounded-md text-sm cursor-grab active:cursor-grabbing shadow-sm border transition-shadow truncate font-medium ${_.kind==="user"?"bg-accent-primary text-white border-transparent hover:opacity-90":"bg-tertiary text-text-primary border-transparent hover:opacity-90"}`,onClick:y=>{y.stopPropagation(),t(_)},title:_.title,children:g.jsx("div",{className:"font-medium truncate",children:_.title})},_.id))})},m)})})]})};var Se;(function(n){n.assertEqual=l=>{};function e(l){}n.assertIs=e;function t(l){throw new Error}n.assertNever=t,n.arrayToEnum=l=>{const o={};for(const s of l)o[s]=s;return o},n.getValidEnumValues=l=>{const o=n.objectKeys(l).filter(u=>typeof l[l[u]]!="number"),s={};for(const u of o)s[u]=l[u];return n.objectValues(s)},n.objectValues=l=>n.objectKeys(l).map(function(o){return l[o]}),n.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const o=[];for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&o.push(s);return o},n.find=(l,o)=>{for(const s of l)if(o(s))return s},n.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function i(l,o=" | "){return l.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}n.joinValues=i,n.jsonStringifyReplacer=(l,o)=>typeof o=="bigint"?o.toString():o})(Se||(Se={}));var op;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(op||(op={}));const G=Se.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),yi=n=>{switch(typeof n){case"undefined":return G.undefined;case"string":return G.string;case"number":return Number.isNaN(n)?G.nan:G.number;case"boolean":return G.boolean;case"function":return G.function;case"bigint":return G.bigint;case"symbol":return G.symbol;case"object":return Array.isArray(n)?G.array:n===null?G.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?G.promise:typeof Map<"u"&&n instanceof Map?G.map:typeof Set<"u"&&n instanceof Set?G.set:typeof Date<"u"&&n instanceof Date?G.date:G.object;default:return G.unknown}},R=Se.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ii extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},i={_errors:[]},l=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(l);else if(s.code==="invalid_return_type")l(s.returnTypeError);else if(s.code==="invalid_arguments")l(s.argumentsError);else if(s.path.length===0)i._errors.push(t(s));else{let u=i,c=0;for(;c<s.path.length;){const f=s.path[c];c===s.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(t(s))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return l(this),i}static assert(e){if(!(e instanceof ii))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Se.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const l of this.issues)l.path.length>0?(t[l.path[0]]=t[l.path[0]]||[],t[l.path[0]].push(e(l))):i.push(e(l));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}ii.create=n=>new ii(n);const Gc=(n,e)=>{let t;switch(n.code){case R.invalid_type:n.received===G.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case R.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Se.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:t=`Unrecognized key(s) in object: ${Se.joinValues(n.keys,", ")}`;break;case R.invalid_union:t="Invalid input";break;case R.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Se.joinValues(n.options)}`;break;case R.invalid_enum_value:t=`Invalid enum value. Expected ${Se.joinValues(n.options)}, received '${n.received}'`;break;case R.invalid_arguments:t="Invalid function arguments";break;case R.invalid_return_type:t="Invalid function return type";break;case R.invalid_date:t="Invalid date";break;case R.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Se.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case R.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case R.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case R.custom:t="Invalid input";break;case R.invalid_intersection_types:t="Intersection results could not be merged";break;case R.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case R.not_finite:t="Number must be finite";break;default:t=e.defaultError,Se.assertNever(n)}return{message:t}};let tS=Gc;function nS(){return tS}const iS=n=>{const{data:e,path:t,errorMaps:i,issueData:l}=n,o=[...t,...l.path||[]],s={...l,path:o};if(l.message!==void 0)return{...l,path:o,message:l.message};let u="";const c=i.filter(f=>!!f).slice().reverse();for(const f of c)u=f(s,{data:e,defaultError:u}).message;return{...l,path:o,message:u}};function $(n,e){const t=nS(),i=iS({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Gc?void 0:Gc].filter(l=>!!l)});n.common.issues.push(i)}class Ut{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const l of t){if(l.status==="aborted")return ee;l.status==="dirty"&&e.dirty(),i.push(l.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const l of t){const o=await l.key,s=await l.value;i.push({key:o,value:s})}return Ut.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const l of t){const{key:o,value:s}=l;if(o.status==="aborted"||s.status==="aborted")return ee;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||l.alwaysSet)&&(i[o.value]=s.value)}return{status:e.value,value:i}}}const ee=Object.freeze({status:"aborted"}),Ko=n=>({status:"dirty",value:n}),mn=n=>({status:"valid",value:n}),sp=n=>n.status==="aborted",ap=n=>n.status==="dirty",po=n=>n.status==="valid",hr=n=>typeof Promise<"u"&&n instanceof Promise;var H;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(H||(H={}));class Un{constructor(e,t,i,l){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const rp=(n,e)=>{if(po(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ii(n.common.issues);return this._error=t,this._error}}};function se(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:l}=n;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:(s,u)=>{const{message:c}=n;return s.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??i??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:c??t??u.defaultError}},description:l}}class ge{get description(){return this._def.description}_getType(e){return yi(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:yi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ut,ctx:{common:e.parent.common,data:e.data,parsedType:yi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(hr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yi(e)},l=this._parseSync({data:e,path:i.path,parent:i});return rp(i,l)}"~validate"(e){var i,l;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yi(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:t});return po(o)?{value:o.value}:{issues:t.common.issues}}catch(o){(l=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(o=>po(o)?{value:o.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yi(e)},l=this._parse({data:e,path:i.path,parent:i}),o=await(hr(l)?l:Promise.resolve(l));return rp(i,o)}refine(e,t){const i=l=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(l):t;return this._refinement((l,o)=>{const s=e(l),u=()=>o.addIssue({code:R.custom,...i(l)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(e,t){return this._refinement((i,l)=>e(i)?!0:(l.addIssue(typeof t=="function"?t(i,l):t),!1))}_refinement(e){return new yo({schema:this,typeName:j.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Ui.create(this,this._def)}nullable(){return vo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return In.create(this)}promise(){return vr.create(this,this._def)}or(e){return mr.create([this,e],this._def)}and(e){return gr.create(this,e,this._def)}transform(e){return new yo({...se(this._def),schema:this,typeName:j.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Fc({...se(this._def),innerType:this,defaultValue:t,typeName:j.ZodDefault})}brand(){return new bS({typeName:j.ZodBranded,type:this,...se(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Zc({...se(this._def),innerType:this,catchValue:t,typeName:j.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return rd.create(this,e)}readonly(){return Kc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const lS=/^c[^\s-]{8,}$/i,oS=/^[0-9a-z]+$/,sS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,aS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rS=/^[a-z0-9_-]{21}$/i,uS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vu;const hS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Kv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xS=new RegExp(`^${Kv}$`);function Jv(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function TS(n){return new RegExp(`^${Jv(n)}$`)}function SS(n){let e=`${Kv}T${Jv(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function CS(n,e){return!!((e==="v4"||!e)&&hS.test(n)||(e==="v6"||!e)&&mS.test(n))}function _S(n,e){if(!uS.test(n))return!1;try{const[t]=n.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),l=JSON.parse(atob(i));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||e&&l.alg!==e)}catch{return!1}}function ES(n,e){return!!((e==="v4"||!e)&&pS.test(n)||(e==="v6"||!e)&&gS.test(n))}class bn extends ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==G.string){const o=this._getOrReturnCtx(e);return $(o,{code:R.invalid_type,expected:G.string,received:o.parsedType}),ee}const i=new Ut;let l;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(l=this._getOrReturnCtx(e,l),$(l,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(l=this._getOrReturnCtx(e,l),$(l,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,u=e.data.length<o.value;(s||u)&&(l=this._getOrReturnCtx(e,l),s?$(l,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&$(l,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")fS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"email",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")Vu||(Vu=new RegExp(dS,"u")),Vu.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"emoji",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")aS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"uuid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")rS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"nanoid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")lS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"cuid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")oS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"cuid2",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")sS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"ulid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),$(l,{validation:"url",code:R.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"regex",code:R.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(l=this._getOrReturnCtx(e,l),$(l,{code:R.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(l=this._getOrReturnCtx(e,l),$(l,{code:R.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(l=this._getOrReturnCtx(e,l),$(l,{code:R.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?SS(o).test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{code:R.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?xS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{code:R.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?TS(o).test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{code:R.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?cS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"duration",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?CS(e.data,o.version)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"ip",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?_S(e.data,o.alg)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"jwt",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?ES(e.data,o.version)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"cidr",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?yS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"base64",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?vS.test(e.data)||(l=this._getOrReturnCtx(e,l),$(l,{validation:"base64url",code:R.invalid_string,message:o.message}),i.dirty()):Se.assertNever(o);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(l=>e.test(l),{validation:t,code:R.invalid_string,...H.errToObj(i)})}_addCheck(e){return new bn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...H.errToObj(e)})}url(e){return this._addCheck({kind:"url",...H.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...H.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...H.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...H.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...H.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...H.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...H.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...H.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...H.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...H.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...H.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...H.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...H.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...H.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...H.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...H.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...H.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...H.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...H.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...H.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...H.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...H.errToObj(t)})}nonempty(e){return this.min(1,H.errToObj(e))}trim(){return new bn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}bn.create=n=>new bn({checks:[],typeName:j.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...se(n)});function AS(n,e){const t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,l=t>i?t:i,o=Number.parseInt(n.toFixed(l).replace(".","")),s=Number.parseInt(e.toFixed(l).replace(".",""));return o%s/10**l}class ul extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==G.number){const o=this._getOrReturnCtx(e);return $(o,{code:R.invalid_type,expected:G.number,received:o.parsedType}),ee}let i;const l=new Ut;for(const o of this._def.checks)o.kind==="int"?Se.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{code:R.invalid_type,expected:"integer",received:"float",message:o.message}),l.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),$(i,{code:R.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),$(i,{code:R.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="multipleOf"?AS(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),$(i,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),$(i,{code:R.not_finite,message:o.message}),l.dirty()):Se.assertNever(o);return{status:l.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,H.toString(t))}gt(e,t){return this.setLimit("min",e,!1,H.toString(t))}lte(e,t){return this.setLimit("max",e,!0,H.toString(t))}lt(e,t){return this.setLimit("max",e,!1,H.toString(t))}setLimit(e,t,i,l){return new ul({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:H.toString(l)}]})}_addCheck(e){return new ul({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:H.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:H.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:H.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:H.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:H.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Se.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ul.create=n=>new ul({checks:[],typeName:j.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...se(n)});class cl extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==G.bigint)return this._getInvalidInput(e);let i;const l=new Ut;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),$(i,{code:R.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),$(i,{code:R.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),$(i,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):Se.assertNever(o);return{status:l.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return $(t,{code:R.invalid_type,expected:G.bigint,received:t.parsedType}),ee}gte(e,t){return this.setLimit("min",e,!0,H.toString(t))}gt(e,t){return this.setLimit("min",e,!1,H.toString(t))}lte(e,t){return this.setLimit("max",e,!0,H.toString(t))}lt(e,t){return this.setLimit("max",e,!1,H.toString(t))}setLimit(e,t,i,l){return new cl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:H.toString(l)}]})}_addCheck(e){return new cl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:H.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}cl.create=n=>new cl({checks:[],typeName:j.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...se(n)});class pr extends ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==G.boolean){const i=this._getOrReturnCtx(e);return $(i,{code:R.invalid_type,expected:G.boolean,received:i.parsedType}),ee}return mn(e.data)}}pr.create=n=>new pr({typeName:j.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...se(n)});class mo extends ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==G.date){const o=this._getOrReturnCtx(e);return $(o,{code:R.invalid_type,expected:G.date,received:o.parsedType}),ee}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return $(o,{code:R.invalid_date}),ee}const i=new Ut;let l;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(l=this._getOrReturnCtx(e,l),$(l,{code:R.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(l=this._getOrReturnCtx(e,l),$(l,{code:R.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):Se.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new mo({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:H.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:H.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}mo.create=n=>new mo({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:j.ZodDate,...se(n)});class up extends ge{_parse(e){if(this._getType(e)!==G.symbol){const i=this._getOrReturnCtx(e);return $(i,{code:R.invalid_type,expected:G.symbol,received:i.parsedType}),ee}return mn(e.data)}}up.create=n=>new up({typeName:j.ZodSymbol,...se(n)});class cp extends ge{_parse(e){if(this._getType(e)!==G.undefined){const i=this._getOrReturnCtx(e);return $(i,{code:R.invalid_type,expected:G.undefined,received:i.parsedType}),ee}return mn(e.data)}}cp.create=n=>new cp({typeName:j.ZodUndefined,...se(n)});class fp extends ge{_parse(e){if(this._getType(e)!==G.null){const i=this._getOrReturnCtx(e);return $(i,{code:R.invalid_type,expected:G.null,received:i.parsedType}),ee}return mn(e.data)}}fp.create=n=>new fp({typeName:j.ZodNull,...se(n)});class dp extends ge{constructor(){super(...arguments),this._any=!0}_parse(e){return mn(e.data)}}dp.create=n=>new dp({typeName:j.ZodAny,...se(n)});class qc extends ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return mn(e.data)}}qc.create=n=>new qc({typeName:j.ZodUnknown,...se(n)});class $i extends ge{_parse(e){const t=this._getOrReturnCtx(e);return $(t,{code:R.invalid_type,expected:G.never,received:t.parsedType}),ee}}$i.create=n=>new $i({typeName:j.ZodNever,...se(n)});class hp extends ge{_parse(e){if(this._getType(e)!==G.undefined){const i=this._getOrReturnCtx(e);return $(i,{code:R.invalid_type,expected:G.void,received:i.parsedType}),ee}return mn(e.data)}}hp.create=n=>new hp({typeName:j.ZodVoid,...se(n)});class In extends ge{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),l=this._def;if(t.parsedType!==G.array)return $(t,{code:R.invalid_type,expected:G.array,received:t.parsedType}),ee;if(l.exactLength!==null){const s=t.data.length>l.exactLength.value,u=t.data.length<l.exactLength.value;(s||u)&&($(t,{code:s?R.too_big:R.too_small,minimum:u?l.exactLength.value:void 0,maximum:s?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),i.dirty())}if(l.minLength!==null&&t.data.length<l.minLength.value&&($(t,{code:R.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),i.dirty()),l.maxLength!==null&&t.data.length>l.maxLength.value&&($(t,{code:R.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((s,u)=>l.type._parseAsync(new Un(t,s,t.path,u)))).then(s=>Ut.mergeArray(i,s));const o=[...t.data].map((s,u)=>l.type._parseSync(new Un(t,s,t.path,u)));return Ut.mergeArray(i,o)}get element(){return this._def.type}min(e,t){return new In({...this._def,minLength:{value:e,message:H.toString(t)}})}max(e,t){return new In({...this._def,maxLength:{value:e,message:H.toString(t)}})}length(e,t){return new In({...this._def,exactLength:{value:e,message:H.toString(t)}})}nonempty(e){return this.min(1,e)}}In.create=(n,e)=>new In({type:n,minLength:null,maxLength:null,exactLength:null,typeName:j.ZodArray,...se(e)});function wl(n){if(n instanceof lt){const e={};for(const t in n.shape){const i=n.shape[t];e[t]=Ui.create(wl(i))}return new lt({...n._def,shape:()=>e})}else return n instanceof In?new In({...n._def,type:wl(n.element)}):n instanceof Ui?Ui.create(wl(n.unwrap())):n instanceof vo?vo.create(wl(n.unwrap())):n instanceof fl?fl.create(n.items.map(e=>wl(e))):n}class lt extends ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Se.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==G.object){const f=this._getOrReturnCtx(e);return $(f,{code:R.invalid_type,expected:G.object,received:f.parsedType}),ee}const{status:i,ctx:l}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof $i&&this._def.unknownKeys==="strip"))for(const f in l.data)s.includes(f)||u.push(f);const c=[];for(const f of s){const d=o[f],p=l.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new Un(l,p,l.path,f)),alwaysSet:f in l.data})}if(this._def.catchall instanceof $i){const f=this._def.unknownKeys;if(f==="passthrough")for(const d of u)c.push({key:{status:"valid",value:d},value:{status:"valid",value:l.data[d]}});else if(f==="strict")u.length>0&&($(l,{code:R.unrecognized_keys,keys:u}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const d of u){const p=l.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new Un(l,p,l.path,d)),alwaysSet:d in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const f=[];for(const d of c){const p=await d.key,h=await d.value;f.push({key:p,value:h,alwaysSet:d.alwaysSet})}return f}).then(f=>Ut.mergeObjectSync(i,f)):Ut.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return H.errToObj,new lt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var o,s;const l=((s=(o=this._def).errorMap)==null?void 0:s.call(o,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:H.errToObj(e).message??l}:{message:l}}}:{}})}strip(){return new lt({...this._def,unknownKeys:"strip"})}passthrough(){return new lt({...this._def,unknownKeys:"passthrough"})}extend(e){return new lt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new lt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:j.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new lt({...this._def,catchall:e})}pick(e){const t={};for(const i of Se.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new lt({...this._def,shape:()=>t})}omit(e){const t={};for(const i of Se.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new lt({...this._def,shape:()=>t})}deepPartial(){return wl(this)}partial(e){const t={};for(const i of Se.objectKeys(this.shape)){const l=this.shape[i];e&&!e[i]?t[i]=l:t[i]=l.optional()}return new lt({...this._def,shape:()=>t})}required(e){const t={};for(const i of Se.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof Ui;)o=o._def.innerType;t[i]=o}return new lt({...this._def,shape:()=>t})}keyof(){return Xv(Se.objectKeys(this.shape))}}lt.create=(n,e)=>new lt({shape:()=>n,unknownKeys:"strip",catchall:$i.create(),typeName:j.ZodObject,...se(e)});lt.strictCreate=(n,e)=>new lt({shape:()=>n,unknownKeys:"strict",catchall:$i.create(),typeName:j.ZodObject,...se(e)});lt.lazycreate=(n,e)=>new lt({shape:n,unknownKeys:"strip",catchall:$i.create(),typeName:j.ZodObject,...se(e)});class mr extends ge{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function l(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const s=o.map(u=>new ii(u.ctx.common.issues));return $(t,{code:R.invalid_union,unionErrors:s}),ee}if(t.common.async)return Promise.all(i.map(async o=>{const s={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:s}),ctx:s}})).then(l);{let o;const s=[];for(const c of i){const f={...t,common:{...t.common,issues:[]},parent:null},d=c._parseSync({data:t.data,path:t.path,parent:f});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:f}),f.common.issues.length&&s.push(f.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const u=s.map(c=>new ii(c));return $(t,{code:R.invalid_union,unionErrors:u}),ee}}get options(){return this._def.options}}mr.create=(n,e)=>new mr({options:n,typeName:j.ZodUnion,...se(e)});function Hc(n,e){const t=yi(n),i=yi(e);if(n===e)return{valid:!0,data:n};if(t===G.object&&i===G.object){const l=Se.objectKeys(e),o=Se.objectKeys(n).filter(u=>l.indexOf(u)!==-1),s={...n,...e};for(const u of o){const c=Hc(n[u],e[u]);if(!c.valid)return{valid:!1};s[u]=c.data}return{valid:!0,data:s}}else if(t===G.array&&i===G.array){if(n.length!==e.length)return{valid:!1};const l=[];for(let o=0;o<n.length;o++){const s=n[o],u=e[o],c=Hc(s,u);if(!c.valid)return{valid:!1};l.push(c.data)}return{valid:!0,data:l}}else return t===G.date&&i===G.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class gr extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),l=(o,s)=>{if(sp(o)||sp(s))return ee;const u=Hc(o.value,s.value);return u.valid?((ap(o)||ap(s))&&t.dirty(),{status:t.value,value:u.data}):($(i,{code:R.invalid_intersection_types}),ee)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,s])=>l(o,s)):l(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}gr.create=(n,e,t)=>new gr({left:n,right:e,typeName:j.ZodIntersection,...se(t)});class fl extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.array)return $(i,{code:R.invalid_type,expected:G.array,received:i.parsedType}),ee;if(i.data.length<this._def.items.length)return $(i,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ee;!this._def.rest&&i.data.length>this._def.items.length&&($(i,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...i.data].map((s,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new Un(i,s,i.path,u)):null}).filter(s=>!!s);return i.common.async?Promise.all(o).then(s=>Ut.mergeArray(t,s)):Ut.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new fl({...this._def,rest:e})}}fl.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fl({items:n,typeName:j.ZodTuple,rest:null,...se(e)})};class yr extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.object)return $(i,{code:R.invalid_type,expected:G.object,received:i.parsedType}),ee;const l=[],o=this._def.keyType,s=this._def.valueType;for(const u in i.data)l.push({key:o._parse(new Un(i,u,i.path,u)),value:s._parse(new Un(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?Ut.mergeObjectAsync(t,l):Ut.mergeObjectSync(t,l)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof ge?new yr({keyType:e,valueType:t,typeName:j.ZodRecord,...se(i)}):new yr({keyType:bn.create(),valueType:e,typeName:j.ZodRecord,...se(t)})}}class pp extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.map)return $(i,{code:R.invalid_type,expected:G.map,received:i.parsedType}),ee;const l=this._def.keyType,o=this._def.valueType,s=[...i.data.entries()].map(([u,c],f)=>({key:l._parse(new Un(i,u,i.path,[f,"key"])),value:o._parse(new Un(i,c,i.path,[f,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of s){const f=await c.key,d=await c.value;if(f.status==="aborted"||d.status==="aborted")return ee;(f.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(f.value,d.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const c of s){const f=c.key,d=c.value;if(f.status==="aborted"||d.status==="aborted")return ee;(f.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(f.value,d.value)}return{status:t.value,value:u}}}}pp.create=(n,e,t)=>new pp({valueType:e,keyType:n,typeName:j.ZodMap,...se(t)});class Rs extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.set)return $(i,{code:R.invalid_type,expected:G.set,received:i.parsedType}),ee;const l=this._def;l.minSize!==null&&i.data.size<l.minSize.value&&($(i,{code:R.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),t.dirty()),l.maxSize!==null&&i.data.size>l.maxSize.value&&($(i,{code:R.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),t.dirty());const o=this._def.valueType;function s(c){const f=new Set;for(const d of c){if(d.status==="aborted")return ee;d.status==="dirty"&&t.dirty(),f.add(d.value)}return{status:t.value,value:f}}const u=[...i.data.values()].map((c,f)=>o._parse(new Un(i,c,i.path,f)));return i.common.async?Promise.all(u).then(c=>s(c)):s(u)}min(e,t){return new Rs({...this._def,minSize:{value:e,message:H.toString(t)}})}max(e,t){return new Rs({...this._def,maxSize:{value:e,message:H.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Rs.create=(n,e)=>new Rs({valueType:n,minSize:null,maxSize:null,typeName:j.ZodSet,...se(e)});class Yc extends ge{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Yc.create=(n,e)=>new Yc({getter:n,typeName:j.ZodLazy,...se(e)});class mp extends ge{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return $(t,{received:t.data,code:R.invalid_literal,expected:this._def.value}),ee}return{status:"valid",value:e.data}}get value(){return this._def.value}}mp.create=(n,e)=>new mp({value:n,typeName:j.ZodLiteral,...se(e)});function Xv(n,e){return new go({values:n,typeName:j.ZodEnum,...se(e)})}class go extends ge{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return $(t,{expected:Se.joinValues(i),received:t.parsedType,code:R.invalid_type}),ee}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return $(t,{received:t.data,code:R.invalid_enum_value,options:i}),ee}return mn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return go.create(e,{...this._def,...t})}exclude(e,t=this._def){return go.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}go.create=Xv;class gp extends ge{_parse(e){const t=Se.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==G.string&&i.parsedType!==G.number){const l=Se.objectValues(t);return $(i,{expected:Se.joinValues(l),received:i.parsedType,code:R.invalid_type}),ee}if(this._cache||(this._cache=new Set(Se.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const l=Se.objectValues(t);return $(i,{received:i.data,code:R.invalid_enum_value,options:l}),ee}return mn(e.data)}get enum(){return this._def.values}}gp.create=(n,e)=>new gp({values:n,typeName:j.ZodNativeEnum,...se(e)});class vr extends ge{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==G.promise&&t.common.async===!1)return $(t,{code:R.invalid_type,expected:G.promise,received:t.parsedType}),ee;const i=t.parsedType===G.promise?t.data:Promise.resolve(t.data);return mn(i.then(l=>this._def.type.parseAsync(l,{path:t.path,errorMap:t.common.contextualErrorMap})))}}vr.create=(n,e)=>new vr({type:n,typeName:j.ZodPromise,...se(e)});class yo extends ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===j.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),l=this._def.effect||null,o={addIssue:s=>{$(i,s),s.fatal?t.abort():t.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),l.type==="preprocess"){const s=l.transform(i.data,o);if(i.common.async)return Promise.resolve(s).then(async u=>{if(t.value==="aborted")return ee;const c=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return c.status==="aborted"?ee:c.status==="dirty"||t.value==="dirty"?Ko(c.value):c});{if(t.value==="aborted")return ee;const u=this._def.schema._parseSync({data:s,path:i.path,parent:i});return u.status==="aborted"?ee:u.status==="dirty"||t.value==="dirty"?Ko(u.value):u}}if(l.type==="refinement"){const s=u=>{const c=l.refinement(u,o);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?ee:(u.status==="dirty"&&t.dirty(),s(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?ee:(u.status==="dirty"&&t.dirty(),s(u.value).then(()=>({status:t.value,value:u.value}))))}if(l.type==="transform")if(i.common.async===!1){const s=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!po(s))return ee;const u=l.transform(s.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(s=>po(s)?Promise.resolve(l.transform(s.value,o)).then(u=>({status:t.value,value:u})):ee);Se.assertNever(l)}}yo.create=(n,e,t)=>new yo({schema:n,typeName:j.ZodEffects,effect:e,...se(t)});yo.createWithPreprocess=(n,e,t)=>new yo({schema:e,effect:{type:"preprocess",transform:n},typeName:j.ZodEffects,...se(t)});class Ui extends ge{_parse(e){return this._getType(e)===G.undefined?mn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ui.create=(n,e)=>new Ui({innerType:n,typeName:j.ZodOptional,...se(e)});class vo extends ge{_parse(e){return this._getType(e)===G.null?mn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vo.create=(n,e)=>new vo({innerType:n,typeName:j.ZodNullable,...se(e)});class Fc extends ge{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===G.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Fc.create=(n,e)=>new Fc({innerType:n,typeName:j.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...se(e)});class Zc extends ge{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},l=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return hr(l)?l.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ii(i.common.issues)},input:i.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new ii(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Zc.create=(n,e)=>new Zc({innerType:n,typeName:j.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...se(e)});class yp extends ge{_parse(e){if(this._getType(e)!==G.nan){const i=this._getOrReturnCtx(e);return $(i,{code:R.invalid_type,expected:G.nan,received:i.parsedType}),ee}return{status:"valid",value:e.data}}}yp.create=n=>new yp({typeName:j.ZodNaN,...se(n)});class bS extends ge{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class rd extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?ee:o.status==="dirty"?(t.dirty(),Ko(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const l=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?ee:l.status==="dirty"?(t.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:i.path,parent:i})}}static create(e,t){return new rd({in:e,out:t,typeName:j.ZodPipeline})}}class Kc extends ge{_parse(e){const t=this._def.innerType._parse(e),i=l=>(po(l)&&(l.value=Object.freeze(l.value)),l);return hr(t)?t.then(l=>i(l)):i(t)}unwrap(){return this._def.innerType}}Kc.create=(n,e)=>new Kc({innerType:n,typeName:j.ZodReadonly,...se(e)});var j;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(j||(j={}));const Zi=bn.create,vp=ul.create;cl.create;const MS=pr.create;mo.create;const xp=qc.create;$i.create;const Jo=In.create,NS=lt.create,wS=mr.create;gr.create;fl.create;const RS=yr.create,DS=Yc.create,kS=go.create;vr.create;Ui.create;vo.create;const _l={string:n=>bn.create({...n,coerce:!0}),number:n=>ul.create({...n,coerce:!0}),boolean:n=>pr.create({...n,coerce:!0}),bigint:n=>cl.create({...n,coerce:!0}),date:n=>mo.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let IS,US;function LS(){return{geminiUrl:IS,vertexUrl:US}}function OS(n,e,t){var i,l,o;if(!(!((i=n.httpOptions)===null||i===void 0)&&i.baseUrl)){const s=LS();return n.vertexai?(l=s.vertexUrl)!==null&&l!==void 0?l:e:(o=s.geminiUrl)!==null&&o!==void 0?o:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class No{}function Q(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const o=e[l];return o!=null?String(o):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function r(n,e,t){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(t))for(let f=0;f<c.length;f++){const d=c[f];r(d,e.slice(o+1),t[f])}else for(const f of c)r(f,e.slice(o+1),t)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];r(c[0],e.slice(o+1),t);return}(!n[s]||typeof n[s]!="object")&&(n[s]={}),n=n[s]}const i=e[e.length-1],l=n[i];if(l!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===l)return;if(typeof l=="object"&&typeof t=="object"&&l!==null&&t!==null)Object.assign(l,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else n[i]=t}function a(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const i=e[t];if(i.endsWith("[]")){const l=i.slice(0,-2);if(l in n){const o=n[l];return Array.isArray(o)?o.map(s=>a(s,e.slice(t+1))):void 0}else return}else n=n[i]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tp;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Tp||(Tp={}));var Sp;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Sp||(Sp={}));var Mn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Mn||(Mn={}));var Cp;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Cp||(Cp={}));var _p;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(_p||(_p={}));var Ep;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Ep||(Ep={}));var Ap;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Ap||(Ap={}));var bp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(bp||(bp={}));var Mp;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Mp||(Mp={}));var Np;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Np||(Np={}));var wp;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wp||(wp={}));var Rp;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Rp||(Rp={}));var Dp;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Dp||(Dp={}));var xr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(xr||(xr={}));var kp;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(kp||(kp={}));var Jc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Jc||(Jc={}));var Ip;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ip||(Ip={}));var Up;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Up||(Up={}));var Lp;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Lp||(Lp={}));var Op;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Op||(Op={}));var Vp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Vp||(Vp={}));var $p;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})($p||($p={}));var Bp;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Bp||(Bp={}));var Pp;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Pp||(Pp={}));var zp;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(zp||(zp={}));var Gp;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Gp||(Gp={}));var qp;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(qp||(qp={}));var Hp;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Hp||(Hp={}));var Yp;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Yp||(Yp={}));var Fp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Fp||(Fp={}));var Zp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Zp||(Zp={}));var Kp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Kp||(Kp={}));var Jp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Jp||(Jp={}));var Xp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Xp||(Xp={}));var Qp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Qp||(Qp={}));var Wp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Wp||(Wp={}));var jp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(jp||(jp={}));var em;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(em||(em={}));var Gl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Gl||(Gl={}));class zo{get text(){var e,t,i,l,o,s,u,c;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const p=[];for(const h of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[m,x]of Object.entries(h))m!=="text"&&m!=="thought"&&(x!==null||x!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,f+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,t,i,l,o,s,u,c;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const p of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,t,i,l,o,s,u,c;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,i,l,o,s,u,c,f;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,i,l,o,s,u,c,f;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class tm{}class nm{}class VS{}class $S{}class im{}class lm{}class om{}class BS{}class sm{}class am{}class rm{}class PS{}class Xc{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class zS{}class GS{}class qS{get text(){var e,t,i;let l="",o=!1;const s=[];for(const u of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,l+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?l:void 0}get data(){var e,t,i;let l="";const o=[];for(const s of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(l+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class HS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ze(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Qv(n,e){const t=ze(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function Wv(n,e){return Array.isArray(e)?e.map(t=>Tr(n,t)):[Tr(n,e)]}function Tr(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function YS(n,e){const t=Tr(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function FS(n,e){const t=Tr(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function um(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function jv(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>um(n,t)):[um(n,e)]}function Qc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function cm(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function fm(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function It(n,e){if(e==null)throw new Error("ContentUnion is required");return Qc(e)?e:{role:"user",parts:jv(n,e)}}function e0(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=It(n,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=It(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>It(n,t)):[It(n,e)]}function xn(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(cm(e)||fm(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[It(n,e)]}const t=[],i=[],l=Qc(e[0]);for(const o of e){const s=Qc(o);if(s!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(o);else{if(cm(o)||fm(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return l||t.push({role:"user",parts:jv(n,i)}),t}const ZS=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),dm=kS(["string","number","integer","object","array","boolean","null"]),KS=wS([dm,Jo(dm)]);function JS(n=!0){const e=DS(()=>{const t=NS({type:KS.optional(),format:Zi().optional(),title:Zi().optional(),description:Zi().optional(),default:xp().optional(),items:e.optional(),minItems:_l.string().optional(),maxItems:_l.string().optional(),enum:Jo(xp()).optional(),properties:RS(Zi(),e).optional(),required:Jo(Zi()).optional(),minProperties:_l.string().optional(),maxProperties:_l.string().optional(),propertyOrdering:Jo(Zi()).optional(),minimum:vp().optional(),maximum:vp().optional(),minLength:_l.string().optional(),maxLength:_l.string().optional(),pattern:Zi().optional(),anyOf:Jo(e).optional(),additionalProperties:MS().optional()});return n?t.strict():t});return e}function XS(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Mn).includes(t[0].toUpperCase())?t[0].toUpperCase():Mn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(Mn).includes(i.toUpperCase())?i.toUpperCase():Mn.TYPE_UNSPECIFIED})}}function jl(n){const e={},t=["items"],i=["anyOf"],l=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=n.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,n=o[1]):o[1].type==="null"&&(e.nullable=!0,n=o[0])),n.type instanceof Array&&XS(n.type,e);for(const[s,u]of Object.entries(n))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Mn).includes(u.toUpperCase())?u.toUpperCase():Mn.TYPE_UNSPECIFIED}else if(t.includes(s))e[s]=jl(u);else if(i.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(jl(f))}e[s]=c}else if(l.includes(s)){const c={};for(const[f,d]of Object.entries(u))c[f]=jl(d);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function Sr(n,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=JS().parse(e);return jl(t)}else return jl(e)}function t0(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function ud(n,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Ks(n,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=Sr(n,t.parameters)),t.response&&(t.response=Sr(n,t.response));return e}function Js(n,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function QS(n,e,t,i=1){const l=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:l?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:l?`${t}/${e}`:e}function Gi(n,e){if(typeof e!="string")throw new Error("name must be a string");return QS(n,e,"cachedContents")}function n0(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function si(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function WS(n){return n!=null&&typeof n=="object"&&"name"in n}function jS(n){return n!=null&&typeof n=="object"&&"video"in n}function eC(n){return n!=null&&typeof n=="object"&&"uri"in n}function i0(n,e){var t;let i;if(WS(e)&&(i=e.name),!(eC(e)&&(i=e.uri,i===void 0))&&!(jS(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const o=i.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${i}`);i=o[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function l0(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function o0(n,e){for(const t of["models","tunedModels","publisherModels"])if(tC(e,t))return e[t];return[]}function tC(n,e){return n!==null&&typeof n=="object"&&e in n}function nC(n,e={}){const t=n,i={name:t.name,description:t.description,parameters:jl(Yr(t.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function iC(n,e={}){const t=[],i=new Set;for(const l of n){const o=l.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const s=nC(l,e);s.functionDeclarations&&t.push(...s.functionDeclarations)}return{functionDeclarations:t}}function lC(n){const e=[];for(const t of n)e.push(Yr(t));return e}function oC(n){const e={};for(const[t,i]of Object.entries(n)){const l=i;e[t]=Yr(l)}return e}function Yr(n){const e=new Set(["items"]),t=new Set(["anyOf"]),i=new Set(["properties"]),l={};for(const[o,s]of Object.entries(n))if(e.has(o))l[o]=Yr(s);else if(t.has(o))l[o]=lC(s);else if(i.has(o))l[o]=oC(s);else if(o==="type"){const u=s.toUpperCase();l[o]=Object.values(Mn).includes(u)?u:Mn.TYPE_UNSPECIFIED}else ZS.has(o)&&(l[o]=s);return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sC(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function aC(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function rC(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function uC(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],sC(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],aC(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],rC(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function hm(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>uC(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function cC(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function fC(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function dC(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],fC(n,i)),t}function hC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function pC(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],hC(n,i)),t}function mC(){return{}}function gC(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>cC(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],dC(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],pC(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],mC());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function yC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function vC(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function xC(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],vC(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function TC(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],yC(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],xC(n,l)),t}function SC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);t!==void 0&&o!=null&&r(t,["expireTime"],o);const s=a(e,["displayName"]);t!==void 0&&s!=null&&r(t,["displayName"],s);const u=a(e,["contents"]);if(t!==void 0&&u!=null){let p=xn(n,u);Array.isArray(p)&&(p=p.map(h=>hm(n,h))),r(t,["contents"],p)}const c=a(e,["systemInstruction"]);t!==void 0&&c!=null&&r(t,["systemInstruction"],hm(n,It(n,c)));const f=a(e,["tools"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>gC(n,h))),r(t,["tools"],p)}const d=a(e,["toolConfig"]);if(t!==void 0&&d!=null&&r(t,["toolConfig"],TC(n,d)),a(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function CC(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["model"],Qv(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],SC(n,l,t)),t}function _C(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],Gi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function EC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],Gi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function AC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);return t!==void 0&&o!=null&&r(t,["expireTime"],o),i}function bC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],Gi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],AC(n,l,t)),t}function MC(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),i}function NC(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],MC(n,i,t)),t}function wC(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function RC(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function DC(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function kC(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],wC(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],RC(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],DC(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function pm(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>kC(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function IC(n,e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(e,["description"]);i!=null&&r(t,["description"],i);const l=a(e,["name"]);l!=null&&r(t,["name"],l);const o=a(e,["parameters"]);o!=null&&r(t,["parameters"],o);const s=a(e,["response"]);return s!=null&&r(t,["response"],s),t}function UC(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function LC(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],UC(n,i)),t}function OC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function VC(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],OC(n,i)),t}function $C(){return{}}function BC(n,e){const t={},i=a(e,["apiKeyString"]);return i!=null&&r(t,["apiKeyString"],i),t}function PC(n,e){const t={},i=a(e,["apiKeyConfig"]);i!=null&&r(t,["apiKeyConfig"],BC(n,i));const l=a(e,["authType"]);l!=null&&r(t,["authType"],l);const o=a(e,["googleServiceAccountConfig"]);o!=null&&r(t,["googleServiceAccountConfig"],o);const s=a(e,["httpBasicAuthConfig"]);s!=null&&r(t,["httpBasicAuthConfig"],s);const u=a(e,["oauthConfig"]);u!=null&&r(t,["oauthConfig"],u);const c=a(e,["oidcConfig"]);return c!=null&&r(t,["oidcConfig"],c),t}function zC(n,e){const t={},i=a(e,["authConfig"]);return i!=null&&r(t,["authConfig"],PC(n,i)),t}function GC(){return{}}function qC(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>IC(n,h))),r(t,["functionDeclarations"],p)}const l=a(e,["retrieval"]);l!=null&&r(t,["retrieval"],l);const o=a(e,["googleSearch"]);o!=null&&r(t,["googleSearch"],LC(n,o));const s=a(e,["googleSearchRetrieval"]);s!=null&&r(t,["googleSearchRetrieval"],VC(n,s)),a(e,["enterpriseWebSearch"])!=null&&r(t,["enterpriseWebSearch"],$C());const c=a(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],zC(n,c)),a(e,["urlContext"])!=null&&r(t,["urlContext"],GC());const d=a(e,["codeExecution"]);return d!=null&&r(t,["codeExecution"],d),t}function HC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function YC(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function FC(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],YC(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function ZC(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],HC(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],FC(n,l)),t}function KC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);t!==void 0&&o!=null&&r(t,["expireTime"],o);const s=a(e,["displayName"]);t!==void 0&&s!=null&&r(t,["displayName"],s);const u=a(e,["contents"]);if(t!==void 0&&u!=null){let h=xn(n,u);Array.isArray(h)&&(h=h.map(m=>pm(n,m))),r(t,["contents"],h)}const c=a(e,["systemInstruction"]);t!==void 0&&c!=null&&r(t,["systemInstruction"],pm(n,It(n,c)));const f=a(e,["tools"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>qC(n,m))),r(t,["tools"],h)}const d=a(e,["toolConfig"]);t!==void 0&&d!=null&&r(t,["toolConfig"],ZC(n,d));const p=a(e,["kmsKeyName"]);return t!==void 0&&p!=null&&r(t,["encryption_spec","kmsKeyName"],p),i}function JC(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["model"],Qv(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],KC(n,l,t)),t}function XC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],Gi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function QC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],Gi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function WC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);return t!==void 0&&o!=null&&r(t,["expireTime"],o),i}function jC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],Gi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],WC(n,l,t)),t}function e_(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),i}function t_(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],e_(n,i,t)),t}function Ia(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["model"]);o!=null&&r(t,["model"],o);const s=a(e,["createTime"]);s!=null&&r(t,["createTime"],s);const u=a(e,["updateTime"]);u!=null&&r(t,["updateTime"],u);const c=a(e,["expireTime"]);c!=null&&r(t,["expireTime"],c);const f=a(e,["usageMetadata"]);return f!=null&&r(t,["usageMetadata"],f),t}function n_(){return{}}function i_(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Ia(n,s))),r(t,["cachedContents"],o)}return t}function Ua(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["model"]);o!=null&&r(t,["model"],o);const s=a(e,["createTime"]);s!=null&&r(t,["createTime"],s);const u=a(e,["updateTime"]);u!=null&&r(t,["updateTime"],u);const c=a(e,["expireTime"]);c!=null&&r(t,["expireTime"],c);const f=a(e,["usageMetadata"]);return f!=null&&r(t,["usageMetadata"],f),t}function l_(){return{}}function o_(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Ua(n,s))),r(t,["cachedContents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xo;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(xo||(xo={}));class Fr{constructor(e,t,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,l)}init(e,t,i){var l,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};i?typeof i=="object"?s=Object.assign({},i):s=i:s={config:{}},s.config&&(s.config.pageToken=t.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(l=s.config)===null||l===void 0?void 0:l.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s_ extends No{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Fr(xo.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=JC(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Ua(this.apiClient,d))}else{const f=CC(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Ia(this.apiClient,d))}}async get(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=XC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Ua(this.apiClient,d))}else{const f=_C(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Ia(this.apiClient,d))}}async delete(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=QC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(()=>{const d=l_(),p=new am;return Object.assign(p,d),p})}else{const f=EC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(()=>{const d=n_(),p=new am;return Object.assign(p,d),p})}}async update(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=jC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Ua(this.apiClient,d))}else{const f=bC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Ia(this.apiClient,d))}}async listInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=t_(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=o_(this.apiClient,d),h=new rm;return Object.assign(h,p),h})}else{const f=NC(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=i_(this.apiClient,d),h=new rm;return Object.assign(h,p),h})}}}function mm(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(n){return this instanceof qe?(this.v=n,this):new qe(n)}function eo(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),l[Symbol.asyncIterator]=function(){return this},l;function s(m){return function(x){return Promise.resolve(x).then(m,p)}}function u(m,x){i[m]&&(l[m]=function(S){return new Promise(function(_,y){o.push([m,S,_,y])>1||c(m,S)})},x&&(l[m]=x(l[m])))}function c(m,x){try{f(i[m](x))}catch(S){h(o[0][3],S)}}function f(m){m.value instanceof qe?Promise.resolve(m.value.v).then(d,p):h(o[0][2],m)}function d(m){c("next",m)}function p(m){c("throw",m)}function h(m,x){m(x),o.shift(),o.length&&c(o[0][0],o[0][1])}}function fs(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof mm=="function"?mm(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(u,c){s=n[o](s),l(u,c,s.done,s.value)})}}function l(o,s,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a_(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:s0(t)}function s0(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function r_(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function gm(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const l=[];let o=!0;for(;i<t&&n[i].role==="model";)l.push(n[i]),o&&!s0(n[i])&&(o=!1),i++;o?e.push(...l):e.pop()}return e}class u_{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new c_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class c_{constructor(e,t,i,l={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=l,this.history=o,this.sendPromise=Promise.resolve(),r_(o)}async sendMessage(e){var t;await this.sendPromise;const i=It(this.apiClient,e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,s,u;const c=await l,f=(s=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,d=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];d!=null&&(h=(u=d.slice(p))!==null&&u!==void 0?u:[]);const m=f?[f]:[];this.recordHistory(i,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var t;await this.sendPromise;const i=It(this.apiClient,e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const o=await l;return this.processStreamResponse(o,i)}getHistory(e=!1){const t=e?gm(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,l;return eo(this,arguments,function*(){var s,u,c,f;const d=[];try{for(var p=!0,h=fs(e),m;m=yield qe(h.next()),s=m.done,!s;p=!0){f=m.value,p=!1;const x=f;if(a_(x)){const S=(l=(i=x.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content;S!==void 0&&d.push(S)}yield yield qe(x)}}catch(x){u={error:x}}finally{try{!p&&!s&&(c=h.return)&&(yield qe(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(t,d)})}recordHistory(e,t,i){let l=[];t.length>0&&t.every(o=>o.role!==void 0)?l=t:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...gm(i)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f_(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),i}function d_(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],f_(n,i,t)),t}function h_(n,e){const t={},i=a(e,["details"]);i!=null&&r(t,["details"],i);const l=a(e,["message"]);l!=null&&r(t,["message"],l);const o=a(e,["code"]);return o!=null&&r(t,["code"],o),t}function p_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["mimeType"]);o!=null&&r(t,["mimeType"],o);const s=a(e,["sizeBytes"]);s!=null&&r(t,["sizeBytes"],s);const u=a(e,["createTime"]);u!=null&&r(t,["createTime"],u);const c=a(e,["expirationTime"]);c!=null&&r(t,["expirationTime"],c);const f=a(e,["updateTime"]);f!=null&&r(t,["updateTime"],f);const d=a(e,["sha256Hash"]);d!=null&&r(t,["sha256Hash"],d);const p=a(e,["uri"]);p!=null&&r(t,["uri"],p);const h=a(e,["downloadUri"]);h!=null&&r(t,["downloadUri"],h);const m=a(e,["state"]);m!=null&&r(t,["state"],m);const x=a(e,["source"]);x!=null&&r(t,["source"],x);const S=a(e,["videoMetadata"]);S!=null&&r(t,["videoMetadata"],S);const _=a(e,["error"]);return _!=null&&r(t,["error"],h_(n,_)),t}function m_(n,e){const t={},i=a(e,["file"]);i!=null&&r(t,["file"],p_(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function g_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","file"],i0(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function y_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","file"],i0(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function v_(n,e){const t={},i=a(e,["details"]);i!=null&&r(t,["details"],i);const l=a(e,["message"]);l!=null&&r(t,["message"],l);const o=a(e,["code"]);return o!=null&&r(t,["code"],o),t}function Wc(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["mimeType"]);o!=null&&r(t,["mimeType"],o);const s=a(e,["sizeBytes"]);s!=null&&r(t,["sizeBytes"],s);const u=a(e,["createTime"]);u!=null&&r(t,["createTime"],u);const c=a(e,["expirationTime"]);c!=null&&r(t,["expirationTime"],c);const f=a(e,["updateTime"]);f!=null&&r(t,["updateTime"],f);const d=a(e,["sha256Hash"]);d!=null&&r(t,["sha256Hash"],d);const p=a(e,["uri"]);p!=null&&r(t,["uri"],p);const h=a(e,["downloadUri"]);h!=null&&r(t,["downloadUri"],h);const m=a(e,["state"]);m!=null&&r(t,["state"],m);const x=a(e,["source"]);x!=null&&r(t,["source"],x);const S=a(e,["videoMetadata"]);S!=null&&r(t,["videoMetadata"],S);const _=a(e,["error"]);return _!=null&&r(t,["error"],v_(n,_)),t}function x_(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["files"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Wc(n,s))),r(t,["files"],o)}return t}function T_(){return{}}function S_(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C_ extends No{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Fr(xo.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Wc(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=d_(this.apiClient,e);return o=Q("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=x_(this.apiClient,c),d=new PS;return Object.assign(d,f),d})}}async createInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=m_(this.apiClient,e);return o=Q("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=T_(),f=new zS;return Object.assign(f,c),f})}}async get(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=g_(this.apiClient,e);return o=Q("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>Wc(this.apiClient,c))}}async delete(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=y_(this.apiClient,e);return o=Q("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=S_(),f=new GS;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function __(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function E_(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function a0(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],__(n,i)),t}function A_(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],E_(n,i)),t}function b_(n,e){const t={},i=a(e,["speaker"]);i!=null&&r(t,["speaker"],i);const l=a(e,["voiceConfig"]);return l!=null&&r(t,["voiceConfig"],a0(n,l)),t}function M_(n,e){const t={},i=a(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>b_(n,o))),r(t,["speakerVoiceConfigs"],l)}return t}function N_(n,e){const t={},i=a(e,["voiceConfig"]);i!=null&&r(t,["voiceConfig"],a0(n,i));const l=a(e,["multiSpeakerVoiceConfig"]);l!=null&&r(t,["multiSpeakerVoiceConfig"],M_(n,l));const o=a(e,["languageCode"]);return o!=null&&r(t,["languageCode"],o),t}function w_(n,e){const t={},i=a(e,["voiceConfig"]);if(i!=null&&r(t,["voiceConfig"],A_(n,i)),a(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function R_(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function D_(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function k_(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function I_(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function U_(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function L_(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function O_(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],R_(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],k_(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],U_(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function V_(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],D_(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],I_(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],L_(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function $_(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>O_(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function B_(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>V_(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function P_(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function z_(n,e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(e,["description"]);i!=null&&r(t,["description"],i);const l=a(e,["name"]);l!=null&&r(t,["name"],l);const o=a(e,["parameters"]);o!=null&&r(t,["parameters"],o);const s=a(e,["response"]);return s!=null&&r(t,["response"],s),t}function G_(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function q_(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function H_(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],G_(n,i)),t}function Y_(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],q_(n,i)),t}function F_(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function Z_(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function K_(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],F_(n,i)),t}function J_(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],Z_(n,i)),t}function X_(){return{}}function Q_(n,e){const t={},i=a(e,["apiKeyString"]);return i!=null&&r(t,["apiKeyString"],i),t}function W_(n,e){const t={},i=a(e,["apiKeyConfig"]);i!=null&&r(t,["apiKeyConfig"],Q_(n,i));const l=a(e,["authType"]);l!=null&&r(t,["authType"],l);const o=a(e,["googleServiceAccountConfig"]);o!=null&&r(t,["googleServiceAccountConfig"],o);const s=a(e,["httpBasicAuthConfig"]);s!=null&&r(t,["httpBasicAuthConfig"],s);const u=a(e,["oauthConfig"]);u!=null&&r(t,["oauthConfig"],u);const c=a(e,["oidcConfig"]);return c!=null&&r(t,["oidcConfig"],c),t}function j_(n,e){const t={},i=a(e,["authConfig"]);return i!=null&&r(t,["authConfig"],W_(n,i)),t}function eE(){return{}}function tE(){return{}}function nE(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>P_(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],H_(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],K_(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],eE());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function iE(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>z_(n,h))),r(t,["functionDeclarations"],p)}const l=a(e,["retrieval"]);l!=null&&r(t,["retrieval"],l);const o=a(e,["googleSearch"]);o!=null&&r(t,["googleSearch"],Y_(n,o));const s=a(e,["googleSearchRetrieval"]);s!=null&&r(t,["googleSearchRetrieval"],J_(n,s)),a(e,["enterpriseWebSearch"])!=null&&r(t,["enterpriseWebSearch"],X_());const c=a(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],j_(n,c)),a(e,["urlContext"])!=null&&r(t,["urlContext"],tE());const d=a(e,["codeExecution"]);return d!=null&&r(t,["codeExecution"],d),t}function lE(n,e){const t={},i=a(e,["handle"]);if(i!=null&&r(t,["handle"],i),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function oE(n,e){const t={},i=a(e,["handle"]);i!=null&&r(t,["handle"],i);const l=a(e,["transparent"]);return l!=null&&r(t,["transparent"],l),t}function ym(){return{}}function vm(){return{}}function sE(n,e){const t={},i=a(e,["disabled"]);i!=null&&r(t,["disabled"],i);const l=a(e,["startOfSpeechSensitivity"]);l!=null&&r(t,["startOfSpeechSensitivity"],l);const o=a(e,["endOfSpeechSensitivity"]);o!=null&&r(t,["endOfSpeechSensitivity"],o);const s=a(e,["prefixPaddingMs"]);s!=null&&r(t,["prefixPaddingMs"],s);const u=a(e,["silenceDurationMs"]);return u!=null&&r(t,["silenceDurationMs"],u),t}function aE(n,e){const t={},i=a(e,["disabled"]);i!=null&&r(t,["disabled"],i);const l=a(e,["startOfSpeechSensitivity"]);l!=null&&r(t,["startOfSpeechSensitivity"],l);const o=a(e,["endOfSpeechSensitivity"]);o!=null&&r(t,["endOfSpeechSensitivity"],o);const s=a(e,["prefixPaddingMs"]);s!=null&&r(t,["prefixPaddingMs"],s);const u=a(e,["silenceDurationMs"]);return u!=null&&r(t,["silenceDurationMs"],u),t}function rE(n,e){const t={},i=a(e,["automaticActivityDetection"]);i!=null&&r(t,["automaticActivityDetection"],sE(n,i));const l=a(e,["activityHandling"]);l!=null&&r(t,["activityHandling"],l);const o=a(e,["turnCoverage"]);return o!=null&&r(t,["turnCoverage"],o),t}function uE(n,e){const t={},i=a(e,["automaticActivityDetection"]);i!=null&&r(t,["automaticActivityDetection"],aE(n,i));const l=a(e,["activityHandling"]);l!=null&&r(t,["activityHandling"],l);const o=a(e,["turnCoverage"]);return o!=null&&r(t,["turnCoverage"],o),t}function cE(n,e){const t={},i=a(e,["targetTokens"]);return i!=null&&r(t,["targetTokens"],i),t}function fE(n,e){const t={},i=a(e,["targetTokens"]);return i!=null&&r(t,["targetTokens"],i),t}function dE(n,e){const t={},i=a(e,["triggerTokens"]);i!=null&&r(t,["triggerTokens"],i);const l=a(e,["slidingWindow"]);return l!=null&&r(t,["slidingWindow"],cE(n,l)),t}function hE(n,e){const t={},i=a(e,["triggerTokens"]);i!=null&&r(t,["triggerTokens"],i);const l=a(e,["slidingWindow"]);return l!=null&&r(t,["slidingWindow"],fE(n,l)),t}function pE(n,e){const t={},i=a(e,["proactiveAudio"]);return i!=null&&r(t,["proactiveAudio"],i),t}function mE(n,e){const t={},i=a(e,["proactiveAudio"]);return i!=null&&r(t,["proactiveAudio"],i),t}function gE(n,e,t){const i={},l=a(e,["generationConfig"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig"],l);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const s=a(e,["temperature"]);t!==void 0&&s!=null&&r(t,["setup","generationConfig","temperature"],s);const u=a(e,["topP"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topP"],u);const c=a(e,["topK"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","maxOutputTokens"],f);const d=a(e,["mediaResolution"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","mediaResolution"],d);const p=a(e,["seed"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","seed"],p);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","speechConfig"],N_(n,ud(n,h)));const m=a(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],m);const x=a(e,["systemInstruction"]);t!==void 0&&x!=null&&r(t,["setup","systemInstruction"],$_(n,It(n,x)));const S=a(e,["tools"]);if(t!==void 0&&S!=null){let w=Js(n,S);Array.isArray(w)&&(w=w.map(N=>nE(n,Ks(n,N)))),r(t,["setup","tools"],w)}const _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],lE(n,_));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],ym());const v=a(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&r(t,["setup","outputAudioTranscription"],ym());const T=a(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&r(t,["setup","realtimeInputConfig"],rE(n,T));const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&r(t,["setup","contextWindowCompression"],dE(n,C));const b=a(e,["proactivity"]);return t!==void 0&&b!=null&&r(t,["setup","proactivity"],pE(n,b)),i}function yE(n,e,t){const i={},l=a(e,["generationConfig"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig"],l);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const s=a(e,["temperature"]);t!==void 0&&s!=null&&r(t,["setup","generationConfig","temperature"],s);const u=a(e,["topP"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topP"],u);const c=a(e,["topK"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","maxOutputTokens"],f);const d=a(e,["mediaResolution"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","mediaResolution"],d);const p=a(e,["seed"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","seed"],p);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","speechConfig"],w_(n,ud(n,h)));const m=a(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],m);const x=a(e,["systemInstruction"]);t!==void 0&&x!=null&&r(t,["setup","systemInstruction"],B_(n,It(n,x)));const S=a(e,["tools"]);if(t!==void 0&&S!=null){let w=Js(n,S);Array.isArray(w)&&(w=w.map(N=>iE(n,Ks(n,N)))),r(t,["setup","tools"],w)}const _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],oE(n,_));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],vm());const v=a(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&r(t,["setup","outputAudioTranscription"],vm());const T=a(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&r(t,["setup","realtimeInputConfig"],uE(n,T));const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&r(t,["setup","contextWindowCompression"],hE(n,C));const b=a(e,["proactivity"]);return t!==void 0&&b!=null&&r(t,["setup","proactivity"],mE(n,b)),i}function vE(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["setup","model"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],gE(n,l,t)),t}function xE(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["setup","model"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],yE(n,l,t)),t}function TE(){return{}}function SE(){return{}}function CE(){return{}}function _E(){return{}}function EE(n,e){const t={},i=a(e,["media"]);i!=null&&r(t,["mediaChunks"],Wv(n,i));const l=a(e,["audio"]);l!=null&&r(t,["audio"],FS(n,l));const o=a(e,["audioStreamEnd"]);o!=null&&r(t,["audioStreamEnd"],o);const s=a(e,["video"]);s!=null&&r(t,["video"],YS(n,s));const u=a(e,["text"]);return u!=null&&r(t,["text"],u),a(e,["activityStart"])!=null&&r(t,["activityStart"],TE()),a(e,["activityEnd"])!=null&&r(t,["activityEnd"],CE()),t}function AE(n,e){const t={},i=a(e,["media"]);if(i!=null&&r(t,["mediaChunks"],Wv(n,i)),a(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=a(e,["audioStreamEnd"]);if(l!=null&&r(t,["audioStreamEnd"],l),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(a(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return a(e,["activityStart"])!=null&&r(t,["activityStart"],SE()),a(e,["activityEnd"])!=null&&r(t,["activityEnd"],_E()),t}function r0(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["weight"]);return l!=null&&r(t,["weight"],l),t}function bE(n,e){const t={},i=a(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>r0(n,o))),r(t,["weightedPrompts"],l)}return t}function u0(n,e){const t={},i=a(e,["temperature"]);i!=null&&r(t,["temperature"],i);const l=a(e,["topK"]);l!=null&&r(t,["topK"],l);const o=a(e,["seed"]);o!=null&&r(t,["seed"],o);const s=a(e,["guidance"]);s!=null&&r(t,["guidance"],s);const u=a(e,["bpm"]);u!=null&&r(t,["bpm"],u);const c=a(e,["density"]);c!=null&&r(t,["density"],c);const f=a(e,["brightness"]);f!=null&&r(t,["brightness"],f);const d=a(e,["scale"]);d!=null&&r(t,["scale"],d);const p=a(e,["muteBass"]);p!=null&&r(t,["muteBass"],p);const h=a(e,["muteDrums"]);h!=null&&r(t,["muteDrums"],h);const m=a(e,["onlyBassAndDrums"]);return m!=null&&r(t,["onlyBassAndDrums"],m),t}function ME(n,e){const t={},i=a(e,["musicGenerationConfig"]);return i!=null&&r(t,["musicGenerationConfig"],u0(n,i)),t}function c0(n,e){const t={},i=a(e,["model"]);return i!=null&&r(t,["model"],i),t}function f0(n,e){const t={},i=a(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>r0(n,o))),r(t,["weightedPrompts"],l)}return t}function jc(n,e){const t={},i=a(e,["setup"]);i!=null&&r(t,["setup"],c0(n,i));const l=a(e,["clientContent"]);l!=null&&r(t,["clientContent"],f0(n,l));const o=a(e,["musicGenerationConfig"]);o!=null&&r(t,["musicGenerationConfig"],u0(n,o));const s=a(e,["playbackControl"]);return s!=null&&r(t,["playbackControl"],s),t}function NE(){return{}}function wE(){return{}}function RE(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function DE(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function kE(n,e){const t={},i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function IE(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function UE(n,e){const t={},i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function LE(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function OE(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],RE(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],kE(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],UE(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function VE(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],DE(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],IE(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],LE(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function $E(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>OE(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function BE(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>VE(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function xm(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["finished"]);return l!=null&&r(t,["finished"],l),t}function Tm(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["finished"]);return l!=null&&r(t,["finished"],l),t}function PE(n,e){const t={},i=a(e,["retrievedUrl"]);i!=null&&r(t,["retrievedUrl"],i);const l=a(e,["urlRetrievalStatus"]);return l!=null&&r(t,["urlRetrievalStatus"],l),t}function zE(n,e){const t={},i=a(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>PE(n,o))),r(t,["urlMetadata"],l)}return t}function GE(n,e){const t={},i=a(e,["modelTurn"]);i!=null&&r(t,["modelTurn"],$E(n,i));const l=a(e,["turnComplete"]);l!=null&&r(t,["turnComplete"],l);const o=a(e,["interrupted"]);o!=null&&r(t,["interrupted"],o);const s=a(e,["groundingMetadata"]);s!=null&&r(t,["groundingMetadata"],s);const u=a(e,["generationComplete"]);u!=null&&r(t,["generationComplete"],u);const c=a(e,["inputTranscription"]);c!=null&&r(t,["inputTranscription"],xm(n,c));const f=a(e,["outputTranscription"]);f!=null&&r(t,["outputTranscription"],xm(n,f));const d=a(e,["urlContextMetadata"]);return d!=null&&r(t,["urlContextMetadata"],zE(n,d)),t}function qE(n,e){const t={},i=a(e,["modelTurn"]);i!=null&&r(t,["modelTurn"],BE(n,i));const l=a(e,["turnComplete"]);l!=null&&r(t,["turnComplete"],l);const o=a(e,["interrupted"]);o!=null&&r(t,["interrupted"],o);const s=a(e,["groundingMetadata"]);s!=null&&r(t,["groundingMetadata"],s);const u=a(e,["generationComplete"]);u!=null&&r(t,["generationComplete"],u);const c=a(e,["inputTranscription"]);c!=null&&r(t,["inputTranscription"],Tm(n,c));const f=a(e,["outputTranscription"]);return f!=null&&r(t,["outputTranscription"],Tm(n,f)),t}function HE(n,e){const t={},i=a(e,["id"]);i!=null&&r(t,["id"],i);const l=a(e,["args"]);l!=null&&r(t,["args"],l);const o=a(e,["name"]);return o!=null&&r(t,["name"],o),t}function YE(n,e){const t={},i=a(e,["args"]);i!=null&&r(t,["args"],i);const l=a(e,["name"]);return l!=null&&r(t,["name"],l),t}function FE(n,e){const t={},i=a(e,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>HE(n,o))),r(t,["functionCalls"],l)}return t}function ZE(n,e){const t={},i=a(e,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>YE(n,o))),r(t,["functionCalls"],l)}return t}function KE(n,e){const t={},i=a(e,["ids"]);return i!=null&&r(t,["ids"],i),t}function JE(n,e){const t={},i=a(e,["ids"]);return i!=null&&r(t,["ids"],i),t}function ma(n,e){const t={},i=a(e,["modality"]);i!=null&&r(t,["modality"],i);const l=a(e,["tokenCount"]);return l!=null&&r(t,["tokenCount"],l),t}function ga(n,e){const t={},i=a(e,["modality"]);i!=null&&r(t,["modality"],i);const l=a(e,["tokenCount"]);return l!=null&&r(t,["tokenCount"],l),t}function XE(n,e){const t={},i=a(e,["promptTokenCount"]);i!=null&&r(t,["promptTokenCount"],i);const l=a(e,["cachedContentTokenCount"]);l!=null&&r(t,["cachedContentTokenCount"],l);const o=a(e,["responseTokenCount"]);o!=null&&r(t,["responseTokenCount"],o);const s=a(e,["toolUsePromptTokenCount"]);s!=null&&r(t,["toolUsePromptTokenCount"],s);const u=a(e,["thoughtsTokenCount"]);u!=null&&r(t,["thoughtsTokenCount"],u);const c=a(e,["totalTokenCount"]);c!=null&&r(t,["totalTokenCount"],c);const f=a(e,["promptTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(x=>ma(n,x))),r(t,["promptTokensDetails"],m)}const d=a(e,["cacheTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(x=>ma(n,x))),r(t,["cacheTokensDetails"],m)}const p=a(e,["responseTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(x=>ma(n,x))),r(t,["responseTokensDetails"],m)}const h=a(e,["toolUsePromptTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(x=>ma(n,x))),r(t,["toolUsePromptTokensDetails"],m)}return t}function QE(n,e){const t={},i=a(e,["promptTokenCount"]);i!=null&&r(t,["promptTokenCount"],i);const l=a(e,["cachedContentTokenCount"]);l!=null&&r(t,["cachedContentTokenCount"],l);const o=a(e,["candidatesTokenCount"]);o!=null&&r(t,["responseTokenCount"],o);const s=a(e,["toolUsePromptTokenCount"]);s!=null&&r(t,["toolUsePromptTokenCount"],s);const u=a(e,["thoughtsTokenCount"]);u!=null&&r(t,["thoughtsTokenCount"],u);const c=a(e,["totalTokenCount"]);c!=null&&r(t,["totalTokenCount"],c);const f=a(e,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(S=>ga(n,S))),r(t,["promptTokensDetails"],x)}const d=a(e,["cacheTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(S=>ga(n,S))),r(t,["cacheTokensDetails"],x)}const p=a(e,["candidatesTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>ga(n,S))),r(t,["responseTokensDetails"],x)}const h=a(e,["toolUsePromptTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(S=>ga(n,S))),r(t,["toolUsePromptTokensDetails"],x)}const m=a(e,["trafficType"]);return m!=null&&r(t,["trafficType"],m),t}function WE(n,e){const t={},i=a(e,["timeLeft"]);return i!=null&&r(t,["timeLeft"],i),t}function jE(n,e){const t={},i=a(e,["timeLeft"]);return i!=null&&r(t,["timeLeft"],i),t}function eA(n,e){const t={},i=a(e,["newHandle"]);i!=null&&r(t,["newHandle"],i);const l=a(e,["resumable"]);l!=null&&r(t,["resumable"],l);const o=a(e,["lastConsumedClientMessageIndex"]);return o!=null&&r(t,["lastConsumedClientMessageIndex"],o),t}function tA(n,e){const t={},i=a(e,["newHandle"]);i!=null&&r(t,["newHandle"],i);const l=a(e,["resumable"]);l!=null&&r(t,["resumable"],l);const o=a(e,["lastConsumedClientMessageIndex"]);return o!=null&&r(t,["lastConsumedClientMessageIndex"],o),t}function nA(n,e){const t={};a(e,["setupComplete"])!=null&&r(t,["setupComplete"],NE());const l=a(e,["serverContent"]);l!=null&&r(t,["serverContent"],GE(n,l));const o=a(e,["toolCall"]);o!=null&&r(t,["toolCall"],FE(n,o));const s=a(e,["toolCallCancellation"]);s!=null&&r(t,["toolCallCancellation"],KE(n,s));const u=a(e,["usageMetadata"]);u!=null&&r(t,["usageMetadata"],XE(n,u));const c=a(e,["goAway"]);c!=null&&r(t,["goAway"],WE(n,c));const f=a(e,["sessionResumptionUpdate"]);return f!=null&&r(t,["sessionResumptionUpdate"],eA(n,f)),t}function iA(n,e){const t={};a(e,["setupComplete"])!=null&&r(t,["setupComplete"],wE());const l=a(e,["serverContent"]);l!=null&&r(t,["serverContent"],qE(n,l));const o=a(e,["toolCall"]);o!=null&&r(t,["toolCall"],ZE(n,o));const s=a(e,["toolCallCancellation"]);s!=null&&r(t,["toolCallCancellation"],JE(n,s));const u=a(e,["usageMetadata"]);u!=null&&r(t,["usageMetadata"],QE(n,u));const c=a(e,["goAway"]);c!=null&&r(t,["goAway"],jE(n,c));const f=a(e,["sessionResumptionUpdate"]);return f!=null&&r(t,["sessionResumptionUpdate"],tA(n,f)),t}function lA(){return{}}function oA(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["weight"]);return l!=null&&r(t,["weight"],l),t}function sA(n,e){const t={},i=a(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>oA(n,o))),r(t,["weightedPrompts"],l)}return t}function aA(n,e){const t={},i=a(e,["temperature"]);i!=null&&r(t,["temperature"],i);const l=a(e,["topK"]);l!=null&&r(t,["topK"],l);const o=a(e,["seed"]);o!=null&&r(t,["seed"],o);const s=a(e,["guidance"]);s!=null&&r(t,["guidance"],s);const u=a(e,["bpm"]);u!=null&&r(t,["bpm"],u);const c=a(e,["density"]);c!=null&&r(t,["density"],c);const f=a(e,["brightness"]);f!=null&&r(t,["brightness"],f);const d=a(e,["scale"]);d!=null&&r(t,["scale"],d);const p=a(e,["muteBass"]);p!=null&&r(t,["muteBass"],p);const h=a(e,["muteDrums"]);h!=null&&r(t,["muteDrums"],h);const m=a(e,["onlyBassAndDrums"]);return m!=null&&r(t,["onlyBassAndDrums"],m),t}function rA(n,e){const t={},i=a(e,["clientContent"]);i!=null&&r(t,["clientContent"],sA(n,i));const l=a(e,["musicGenerationConfig"]);return l!=null&&r(t,["musicGenerationConfig"],aA(n,l)),t}function uA(n,e){const t={},i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);l!=null&&r(t,["mimeType"],l);const o=a(e,["sourceMetadata"]);return o!=null&&r(t,["sourceMetadata"],rA(n,o)),t}function cA(n,e){const t={},i=a(e,["audioChunks"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>uA(n,o))),r(t,["audioChunks"],l)}return t}function fA(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["filteredReason"]);return l!=null&&r(t,["filteredReason"],l),t}function dA(n,e){const t={};a(e,["setupComplete"])!=null&&r(t,["setupComplete"],lA());const l=a(e,["serverContent"]);l!=null&&r(t,["serverContent"],cA(n,l));const o=a(e,["filteredPrompt"]);return o!=null&&r(t,["filteredPrompt"],fA(n,o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hA(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function pA(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function mA(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function gA(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],hA(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],pA(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],mA(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function Zr(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>gA(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function yA(n,e){const t={},i=a(e,["anyOf"]);i!=null&&r(t,["anyOf"],i);const l=a(e,["default"]);l!=null&&r(t,["default"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["enum"]);s!=null&&r(t,["enum"],s);const u=a(e,["example"]);u!=null&&r(t,["example"],u);const c=a(e,["format"]);c!=null&&r(t,["format"],c);const f=a(e,["items"]);f!=null&&r(t,["items"],f);const d=a(e,["maxItems"]);d!=null&&r(t,["maxItems"],d);const p=a(e,["maxLength"]);p!=null&&r(t,["maxLength"],p);const h=a(e,["maxProperties"]);h!=null&&r(t,["maxProperties"],h);const m=a(e,["maximum"]);m!=null&&r(t,["maximum"],m);const x=a(e,["minItems"]);x!=null&&r(t,["minItems"],x);const S=a(e,["minLength"]);S!=null&&r(t,["minLength"],S);const _=a(e,["minProperties"]);_!=null&&r(t,["minProperties"],_);const y=a(e,["minimum"]);y!=null&&r(t,["minimum"],y);const v=a(e,["nullable"]);v!=null&&r(t,["nullable"],v);const T=a(e,["pattern"]);T!=null&&r(t,["pattern"],T);const C=a(e,["properties"]);C!=null&&r(t,["properties"],C);const b=a(e,["propertyOrdering"]);b!=null&&r(t,["propertyOrdering"],b);const w=a(e,["required"]);w!=null&&r(t,["required"],w);const N=a(e,["title"]);N!=null&&r(t,["title"],N);const D=a(e,["type"]);return D!=null&&r(t,["type"],D),t}function vA(n,e){const t={};if(a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(e,["category"]);i!=null&&r(t,["category"],i);const l=a(e,["threshold"]);return l!=null&&r(t,["threshold"],l),t}function xA(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function TA(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function SA(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],TA(n,i)),t}function CA(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function _A(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],CA(n,i)),t}function EA(){return{}}function AA(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>xA(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],SA(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],_A(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],EA());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function bA(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function MA(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function NA(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],MA(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function wA(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],bA(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],NA(n,l)),t}function RA(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function d0(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],RA(n,i)),t}function DA(n,e){const t={},i=a(e,["speaker"]);i!=null&&r(t,["speaker"],i);const l=a(e,["voiceConfig"]);return l!=null&&r(t,["voiceConfig"],d0(n,l)),t}function kA(n,e){const t={},i=a(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>DA(n,o))),r(t,["speakerVoiceConfigs"],l)}return t}function IA(n,e){const t={},i=a(e,["voiceConfig"]);i!=null&&r(t,["voiceConfig"],d0(n,i));const l=a(e,["multiSpeakerVoiceConfig"]);l!=null&&r(t,["multiSpeakerVoiceConfig"],kA(n,l));const o=a(e,["languageCode"]);return o!=null&&r(t,["languageCode"],o),t}function UA(n,e){const t={},i=a(e,["includeThoughts"]);i!=null&&r(t,["includeThoughts"],i);const l=a(e,["thinkingBudget"]);return l!=null&&r(t,["thinkingBudget"],l),t}function LA(n,e,t){const i={},l=a(e,["systemInstruction"]);t!==void 0&&l!=null&&r(t,["systemInstruction"],Zr(n,It(n,l)));const o=a(e,["temperature"]);o!=null&&r(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&r(i,["topP"],s);const u=a(e,["topK"]);u!=null&&r(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&r(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&r(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const p=a(e,["responseLogprobs"]);p!=null&&r(i,["responseLogprobs"],p);const h=a(e,["logprobs"]);h!=null&&r(i,["logprobs"],h);const m=a(e,["presencePenalty"]);m!=null&&r(i,["presencePenalty"],m);const x=a(e,["frequencyPenalty"]);x!=null&&r(i,["frequencyPenalty"],x);const S=a(e,["seed"]);S!=null&&r(i,["seed"],S);const _=a(e,["responseMimeType"]);_!=null&&r(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);if(y!=null&&r(i,["responseSchema"],yA(n,Sr(n,y))),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(e,["safetySettings"]);if(t!==void 0&&v!=null){let O=v;Array.isArray(O)&&(O=O.map(fe=>vA(n,fe))),r(t,["safetySettings"],O)}const T=a(e,["tools"]);if(t!==void 0&&T!=null){let O=Js(n,T);Array.isArray(O)&&(O=O.map(fe=>AA(n,Ks(n,fe)))),r(t,["tools"],O)}const C=a(e,["toolConfig"]);if(t!==void 0&&C!=null&&r(t,["toolConfig"],wA(n,C)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=a(e,["cachedContent"]);t!==void 0&&b!=null&&r(t,["cachedContent"],Gi(n,b));const w=a(e,["responseModalities"]);w!=null&&r(i,["responseModalities"],w);const N=a(e,["mediaResolution"]);N!=null&&r(i,["mediaResolution"],N);const D=a(e,["speechConfig"]);if(D!=null&&r(i,["speechConfig"],IA(n,t0(n,D))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=a(e,["thinkingConfig"]);return P!=null&&r(i,["thinkingConfig"],UA(n,P)),i}function Sm(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Zr(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["generationConfig"],LA(n,o,t)),t}function OA(n,e,t){const i={},l=a(e,["taskType"]);t!==void 0&&l!=null&&r(t,["requests[]","taskType"],l);const o=a(e,["title"]);t!==void 0&&o!=null&&r(t,["requests[]","title"],o);const s=a(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&r(t,["requests[]","outputDimensionality"],s),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function VA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["contents"]);l!=null&&r(t,["requests[]","content"],e0(n,l));const o=a(e,["config"]);o!=null&&r(t,["config"],OA(n,o,t));const s=a(e,["model"]);return s!==void 0&&r(t,["requests[]","model"],ze(n,s)),t}function $A(n,e,t){const i={};if(a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=a(e,["numberOfImages"]);t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l);const o=a(e,["aspectRatio"]);t!==void 0&&o!=null&&r(t,["parameters","aspectRatio"],o);const s=a(e,["guidanceScale"]);if(t!==void 0&&s!=null&&r(t,["parameters","guidanceScale"],s),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=a(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&r(t,["parameters","safetySetting"],u);const c=a(e,["personGeneration"]);t!==void 0&&c!=null&&r(t,["parameters","personGeneration"],c);const f=a(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&r(t,["parameters","includeSafetyAttributes"],f);const d=a(e,["includeRaiReason"]);t!==void 0&&d!=null&&r(t,["parameters","includeRaiReason"],d);const p=a(e,["language"]);t!==void 0&&p!=null&&r(t,["parameters","language"],p);const h=a(e,["outputMimeType"]);t!==void 0&&h!=null&&r(t,["parameters","outputOptions","mimeType"],h);const m=a(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&r(t,["parameters","outputOptions","compressionQuality"],m),a(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function BA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&r(t,["config"],$A(n,o,t)),t}function PA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function zA(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);t!==void 0&&s!=null&&r(t,["_query","filter"],s);const u=a(e,["queryBase"]);return t!==void 0&&u!=null&&r(t,["_url","models_url"],l0(n,u)),i}function GA(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],zA(n,i,t)),t}function qA(n,e,t){const i={},l=a(e,["displayName"]);t!==void 0&&l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);t!==void 0&&o!=null&&r(t,["description"],o);const s=a(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&r(t,["defaultCheckpointId"],s),i}function HA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],qA(n,l,t)),t}function YA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function FA(n,e){const t={};if(a(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function ZA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Zr(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["config"],FA(n,o)),t}function KA(n,e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=a(e,["imageBytes"]);i!=null&&r(t,["bytesBase64Encoded"],si(n,i));const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function JA(n,e,t){const i={},l=a(e,["numberOfVideos"]);if(t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l),a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=a(e,["durationSeconds"]);if(t!==void 0&&o!=null&&r(t,["parameters","durationSeconds"],o),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=a(e,["aspectRatio"]);if(t!==void 0&&s!=null&&r(t,["parameters","aspectRatio"],s),a(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=a(e,["personGeneration"]);if(t!==void 0&&u!=null&&r(t,["parameters","personGeneration"],u),a(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=a(e,["negativePrompt"]);t!==void 0&&c!=null&&r(t,["parameters","negativePrompt"],c);const f=a(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&r(t,["parameters","enhancePrompt"],f),a(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return i}function XA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["image"]);if(o!=null&&r(t,["instances[0]","image"],KA(n,o)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=a(e,["config"]);return s!=null&&r(t,["config"],JA(n,s,t)),t}function QA(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function WA(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function jA(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function eb(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],QA(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],WA(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],jA(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function wo(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>eb(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function tb(n,e){const t={},i=a(e,["anyOf"]);i!=null&&r(t,["anyOf"],i);const l=a(e,["default"]);l!=null&&r(t,["default"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["enum"]);s!=null&&r(t,["enum"],s);const u=a(e,["example"]);u!=null&&r(t,["example"],u);const c=a(e,["format"]);c!=null&&r(t,["format"],c);const f=a(e,["items"]);f!=null&&r(t,["items"],f);const d=a(e,["maxItems"]);d!=null&&r(t,["maxItems"],d);const p=a(e,["maxLength"]);p!=null&&r(t,["maxLength"],p);const h=a(e,["maxProperties"]);h!=null&&r(t,["maxProperties"],h);const m=a(e,["maximum"]);m!=null&&r(t,["maximum"],m);const x=a(e,["minItems"]);x!=null&&r(t,["minItems"],x);const S=a(e,["minLength"]);S!=null&&r(t,["minLength"],S);const _=a(e,["minProperties"]);_!=null&&r(t,["minProperties"],_);const y=a(e,["minimum"]);y!=null&&r(t,["minimum"],y);const v=a(e,["nullable"]);v!=null&&r(t,["nullable"],v);const T=a(e,["pattern"]);T!=null&&r(t,["pattern"],T);const C=a(e,["properties"]);C!=null&&r(t,["properties"],C);const b=a(e,["propertyOrdering"]);b!=null&&r(t,["propertyOrdering"],b);const w=a(e,["required"]);w!=null&&r(t,["required"],w);const N=a(e,["title"]);N!=null&&r(t,["title"],N);const D=a(e,["type"]);return D!=null&&r(t,["type"],D),t}function nb(n,e){const t={},i=a(e,["featureSelectionPreference"]);return i!=null&&r(t,["featureSelectionPreference"],i),t}function ib(n,e){const t={},i=a(e,["method"]);i!=null&&r(t,["method"],i);const l=a(e,["category"]);l!=null&&r(t,["category"],l);const o=a(e,["threshold"]);return o!=null&&r(t,["threshold"],o),t}function lb(n,e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(e,["description"]);i!=null&&r(t,["description"],i);const l=a(e,["name"]);l!=null&&r(t,["name"],l);const o=a(e,["parameters"]);o!=null&&r(t,["parameters"],o);const s=a(e,["response"]);return s!=null&&r(t,["response"],s),t}function ob(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function sb(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],ob(n,i)),t}function ab(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function rb(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],ab(n,i)),t}function ub(){return{}}function cb(n,e){const t={},i=a(e,["apiKeyString"]);return i!=null&&r(t,["apiKeyString"],i),t}function fb(n,e){const t={},i=a(e,["apiKeyConfig"]);i!=null&&r(t,["apiKeyConfig"],cb(n,i));const l=a(e,["authType"]);l!=null&&r(t,["authType"],l);const o=a(e,["googleServiceAccountConfig"]);o!=null&&r(t,["googleServiceAccountConfig"],o);const s=a(e,["httpBasicAuthConfig"]);s!=null&&r(t,["httpBasicAuthConfig"],s);const u=a(e,["oauthConfig"]);u!=null&&r(t,["oauthConfig"],u);const c=a(e,["oidcConfig"]);return c!=null&&r(t,["oidcConfig"],c),t}function db(n,e){const t={},i=a(e,["authConfig"]);return i!=null&&r(t,["authConfig"],fb(n,i)),t}function hb(){return{}}function h0(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>lb(n,h))),r(t,["functionDeclarations"],p)}const l=a(e,["retrieval"]);l!=null&&r(t,["retrieval"],l);const o=a(e,["googleSearch"]);o!=null&&r(t,["googleSearch"],sb(n,o));const s=a(e,["googleSearchRetrieval"]);s!=null&&r(t,["googleSearchRetrieval"],rb(n,s)),a(e,["enterpriseWebSearch"])!=null&&r(t,["enterpriseWebSearch"],ub());const c=a(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],db(n,c)),a(e,["urlContext"])!=null&&r(t,["urlContext"],hb());const d=a(e,["codeExecution"]);return d!=null&&r(t,["codeExecution"],d),t}function pb(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function mb(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function gb(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],mb(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function yb(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],pb(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],gb(n,l)),t}function vb(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function xb(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],vb(n,i)),t}function Tb(n,e){const t={},i=a(e,["voiceConfig"]);if(i!=null&&r(t,["voiceConfig"],xb(n,i)),a(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function Sb(n,e){const t={},i=a(e,["includeThoughts"]);i!=null&&r(t,["includeThoughts"],i);const l=a(e,["thinkingBudget"]);return l!=null&&r(t,["thinkingBudget"],l),t}function Cb(n,e,t){const i={},l=a(e,["systemInstruction"]);t!==void 0&&l!=null&&r(t,["systemInstruction"],wo(n,It(n,l)));const o=a(e,["temperature"]);o!=null&&r(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&r(i,["topP"],s);const u=a(e,["topK"]);u!=null&&r(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&r(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&r(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const p=a(e,["responseLogprobs"]);p!=null&&r(i,["responseLogprobs"],p);const h=a(e,["logprobs"]);h!=null&&r(i,["logprobs"],h);const m=a(e,["presencePenalty"]);m!=null&&r(i,["presencePenalty"],m);const x=a(e,["frequencyPenalty"]);x!=null&&r(i,["frequencyPenalty"],x);const S=a(e,["seed"]);S!=null&&r(i,["seed"],S);const _=a(e,["responseMimeType"]);_!=null&&r(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);y!=null&&r(i,["responseSchema"],tb(n,Sr(n,y)));const v=a(e,["routingConfig"]);v!=null&&r(i,["routingConfig"],v);const T=a(e,["modelSelectionConfig"]);T!=null&&r(i,["modelConfig"],nb(n,T));const C=a(e,["safetySettings"]);if(t!==void 0&&C!=null){let nt=C;Array.isArray(nt)&&(nt=nt.map(Mt=>ib(n,Mt))),r(t,["safetySettings"],nt)}const b=a(e,["tools"]);if(t!==void 0&&b!=null){let nt=Js(n,b);Array.isArray(nt)&&(nt=nt.map(Mt=>h0(n,Ks(n,Mt)))),r(t,["tools"],nt)}const w=a(e,["toolConfig"]);t!==void 0&&w!=null&&r(t,["toolConfig"],yb(n,w));const N=a(e,["labels"]);t!==void 0&&N!=null&&r(t,["labels"],N);const D=a(e,["cachedContent"]);t!==void 0&&D!=null&&r(t,["cachedContent"],Gi(n,D));const P=a(e,["responseModalities"]);P!=null&&r(i,["responseModalities"],P);const O=a(e,["mediaResolution"]);O!=null&&r(i,["mediaResolution"],O);const fe=a(e,["speechConfig"]);fe!=null&&r(i,["speechConfig"],Tb(n,t0(n,fe)));const xe=a(e,["audioTimestamp"]);xe!=null&&r(i,["audioTimestamp"],xe);const Ot=a(e,["thinkingConfig"]);return Ot!=null&&r(i,["thinkingConfig"],Sb(n,Ot)),i}function Cm(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>wo(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["generationConfig"],Cb(n,o,t)),t}function _b(n,e,t){const i={},l=a(e,["taskType"]);t!==void 0&&l!=null&&r(t,["instances[]","task_type"],l);const o=a(e,["title"]);t!==void 0&&o!=null&&r(t,["instances[]","title"],o);const s=a(e,["outputDimensionality"]);t!==void 0&&s!=null&&r(t,["parameters","outputDimensionality"],s);const u=a(e,["mimeType"]);t!==void 0&&u!=null&&r(t,["instances[]","mimeType"],u);const c=a(e,["autoTruncate"]);return t!==void 0&&c!=null&&r(t,["parameters","autoTruncate"],c),i}function Eb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["contents"]);l!=null&&r(t,["instances[]","content"],e0(n,l));const o=a(e,["config"]);return o!=null&&r(t,["config"],_b(n,o,t)),t}function Ab(n,e,t){const i={},l=a(e,["outputGcsUri"]);t!==void 0&&l!=null&&r(t,["parameters","storageUri"],l);const o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&r(t,["parameters","negativePrompt"],o);const s=a(e,["numberOfImages"]);t!==void 0&&s!=null&&r(t,["parameters","sampleCount"],s);const u=a(e,["aspectRatio"]);t!==void 0&&u!=null&&r(t,["parameters","aspectRatio"],u);const c=a(e,["guidanceScale"]);t!==void 0&&c!=null&&r(t,["parameters","guidanceScale"],c);const f=a(e,["seed"]);t!==void 0&&f!=null&&r(t,["parameters","seed"],f);const d=a(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&r(t,["parameters","safetySetting"],d);const p=a(e,["personGeneration"]);t!==void 0&&p!=null&&r(t,["parameters","personGeneration"],p);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&r(t,["parameters","includeSafetyAttributes"],h);const m=a(e,["includeRaiReason"]);t!==void 0&&m!=null&&r(t,["parameters","includeRaiReason"],m);const x=a(e,["language"]);t!==void 0&&x!=null&&r(t,["parameters","language"],x);const S=a(e,["outputMimeType"]);t!==void 0&&S!=null&&r(t,["parameters","outputOptions","mimeType"],S);const _=a(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&r(t,["parameters","outputOptions","compressionQuality"],_);const y=a(e,["addWatermark"]);t!==void 0&&y!=null&&r(t,["parameters","addWatermark"],y);const v=a(e,["enhancePrompt"]);return t!==void 0&&v!=null&&r(t,["parameters","enhancePrompt"],v),i}function bb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&r(t,["config"],Ab(n,o,t)),t}function Kr(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["gcsUri"],i);const l=a(e,["imageBytes"]);l!=null&&r(t,["bytesBase64Encoded"],si(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function Mb(n,e){const t={},i=a(e,["maskMode"]);i!=null&&r(t,["maskMode"],i);const l=a(e,["segmentationClasses"]);l!=null&&r(t,["maskClasses"],l);const o=a(e,["maskDilation"]);return o!=null&&r(t,["dilation"],o),t}function Nb(n,e){const t={},i=a(e,["controlType"]);i!=null&&r(t,["controlType"],i);const l=a(e,["enableControlImageComputation"]);return l!=null&&r(t,["computeControl"],l),t}function wb(n,e){const t={},i=a(e,["styleDescription"]);return i!=null&&r(t,["styleDescription"],i),t}function Rb(n,e){const t={},i=a(e,["subjectType"]);i!=null&&r(t,["subjectType"],i);const l=a(e,["subjectDescription"]);return l!=null&&r(t,["subjectDescription"],l),t}function Db(n,e){const t={},i=a(e,["referenceImage"]);i!=null&&r(t,["referenceImage"],Kr(n,i));const l=a(e,["referenceId"]);l!=null&&r(t,["referenceId"],l);const o=a(e,["referenceType"]);o!=null&&r(t,["referenceType"],o);const s=a(e,["maskImageConfig"]);s!=null&&r(t,["maskImageConfig"],Mb(n,s));const u=a(e,["controlImageConfig"]);u!=null&&r(t,["controlImageConfig"],Nb(n,u));const c=a(e,["styleImageConfig"]);c!=null&&r(t,["styleImageConfig"],wb(n,c));const f=a(e,["subjectImageConfig"]);return f!=null&&r(t,["subjectImageConfig"],Rb(n,f)),t}function kb(n,e,t){const i={},l=a(e,["outputGcsUri"]);t!==void 0&&l!=null&&r(t,["parameters","storageUri"],l);const o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&r(t,["parameters","negativePrompt"],o);const s=a(e,["numberOfImages"]);t!==void 0&&s!=null&&r(t,["parameters","sampleCount"],s);const u=a(e,["aspectRatio"]);t!==void 0&&u!=null&&r(t,["parameters","aspectRatio"],u);const c=a(e,["guidanceScale"]);t!==void 0&&c!=null&&r(t,["parameters","guidanceScale"],c);const f=a(e,["seed"]);t!==void 0&&f!=null&&r(t,["parameters","seed"],f);const d=a(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&r(t,["parameters","safetySetting"],d);const p=a(e,["personGeneration"]);t!==void 0&&p!=null&&r(t,["parameters","personGeneration"],p);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&r(t,["parameters","includeSafetyAttributes"],h);const m=a(e,["includeRaiReason"]);t!==void 0&&m!=null&&r(t,["parameters","includeRaiReason"],m);const x=a(e,["language"]);t!==void 0&&x!=null&&r(t,["parameters","language"],x);const S=a(e,["outputMimeType"]);t!==void 0&&S!=null&&r(t,["parameters","outputOptions","mimeType"],S);const _=a(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&r(t,["parameters","outputOptions","compressionQuality"],_);const y=a(e,["editMode"]);t!==void 0&&y!=null&&r(t,["parameters","editMode"],y);const v=a(e,["baseSteps"]);return t!==void 0&&v!=null&&r(t,["parameters","editConfig","baseSteps"],v),i}function Ib(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Db(n,c))),r(t,["instances[0]","referenceImages"],u)}const s=a(e,["config"]);return s!=null&&r(t,["config"],kb(n,s,t)),t}function Ub(n,e,t){const i={},l=a(e,["includeRaiReason"]);t!==void 0&&l!=null&&r(t,["parameters","includeRaiReason"],l);const o=a(e,["outputMimeType"]);t!==void 0&&o!=null&&r(t,["parameters","outputOptions","mimeType"],o);const s=a(e,["outputCompressionQuality"]);t!==void 0&&s!=null&&r(t,["parameters","outputOptions","compressionQuality"],s);const u=a(e,["numberOfImages"]);t!==void 0&&u!=null&&r(t,["parameters","sampleCount"],u);const c=a(e,["mode"]);return t!==void 0&&c!=null&&r(t,["parameters","mode"],c),i}function Lb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["image"]);l!=null&&r(t,["instances[0]","image"],Kr(n,l));const o=a(e,["upscaleFactor"]);o!=null&&r(t,["parameters","upscaleConfig","upscaleFactor"],o);const s=a(e,["config"]);return s!=null&&r(t,["config"],Ub(n,s,t)),t}function Ob(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function Vb(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);t!==void 0&&s!=null&&r(t,["_query","filter"],s);const u=a(e,["queryBase"]);return t!==void 0&&u!=null&&r(t,["_url","models_url"],l0(n,u)),i}function $b(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],Vb(n,i,t)),t}function Bb(n,e,t){const i={},l=a(e,["displayName"]);t!==void 0&&l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);t!==void 0&&o!=null&&r(t,["description"],o);const s=a(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&r(t,["defaultCheckpointId"],s),i}function Pb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],Bb(n,l,t)),t}function zb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function Gb(n,e,t){const i={},l=a(e,["systemInstruction"]);t!==void 0&&l!=null&&r(t,["systemInstruction"],wo(n,It(n,l)));const o=a(e,["tools"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>h0(n,c))),r(t,["tools"],u)}const s=a(e,["generationConfig"]);return t!==void 0&&s!=null&&r(t,["generationConfig"],s),i}function qb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>wo(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["config"],Gb(n,o,t)),t}function Hb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>wo(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["config"],o),t}function Yb(n,e){const t={},i=a(e,["uri"]);i!=null&&r(t,["gcsUri"],i);const l=a(e,["videoBytes"]);l!=null&&r(t,["bytesBase64Encoded"],si(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function Fb(n,e,t){const i={},l=a(e,["numberOfVideos"]);t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l);const o=a(e,["outputGcsUri"]);t!==void 0&&o!=null&&r(t,["parameters","storageUri"],o);const s=a(e,["fps"]);t!==void 0&&s!=null&&r(t,["parameters","fps"],s);const u=a(e,["durationSeconds"]);t!==void 0&&u!=null&&r(t,["parameters","durationSeconds"],u);const c=a(e,["seed"]);t!==void 0&&c!=null&&r(t,["parameters","seed"],c);const f=a(e,["aspectRatio"]);t!==void 0&&f!=null&&r(t,["parameters","aspectRatio"],f);const d=a(e,["resolution"]);t!==void 0&&d!=null&&r(t,["parameters","resolution"],d);const p=a(e,["personGeneration"]);t!==void 0&&p!=null&&r(t,["parameters","personGeneration"],p);const h=a(e,["pubsubTopic"]);t!==void 0&&h!=null&&r(t,["parameters","pubsubTopic"],h);const m=a(e,["negativePrompt"]);t!==void 0&&m!=null&&r(t,["parameters","negativePrompt"],m);const x=a(e,["enhancePrompt"]);t!==void 0&&x!=null&&r(t,["parameters","enhancePrompt"],x);const S=a(e,["generateAudio"]);t!==void 0&&S!=null&&r(t,["parameters","generateAudio"],S);const _=a(e,["lastFrame"]);return t!==void 0&&_!=null&&r(t,["instances[0]","lastFrame"],Kr(n,_)),i}function Zb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["image"]);o!=null&&r(t,["instances[0]","image"],Kr(n,o));const s=a(e,["video"]);s!=null&&r(t,["instances[0]","video"],Yb(n,s));const u=a(e,["config"]);return u!=null&&r(t,["config"],Fb(n,u,t)),t}function Kb(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function Jb(n,e){const t={},i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function Xb(n,e){const t={},i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function Qb(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],Kb(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],Jb(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],Xb(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function Wb(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Qb(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function jb(n,e){const t={},i=a(e,["citationSources"]);return i!=null&&r(t,["citations"],i),t}function e2(n,e){const t={},i=a(e,["retrievedUrl"]);i!=null&&r(t,["retrievedUrl"],i);const l=a(e,["urlRetrievalStatus"]);return l!=null&&r(t,["urlRetrievalStatus"],l),t}function t2(n,e){const t={},i=a(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>e2(n,o))),r(t,["urlMetadata"],l)}return t}function n2(n,e){const t={},i=a(e,["content"]);i!=null&&r(t,["content"],Wb(n,i));const l=a(e,["citationMetadata"]);l!=null&&r(t,["citationMetadata"],jb(n,l));const o=a(e,["tokenCount"]);o!=null&&r(t,["tokenCount"],o);const s=a(e,["finishReason"]);s!=null&&r(t,["finishReason"],s);const u=a(e,["urlContextMetadata"]);u!=null&&r(t,["urlContextMetadata"],t2(n,u));const c=a(e,["avgLogprobs"]);c!=null&&r(t,["avgLogprobs"],c);const f=a(e,["groundingMetadata"]);f!=null&&r(t,["groundingMetadata"],f);const d=a(e,["index"]);d!=null&&r(t,["index"],d);const p=a(e,["logprobsResult"]);p!=null&&r(t,["logprobsResult"],p);const h=a(e,["safetyRatings"]);return h!=null&&r(t,["safetyRatings"],h),t}function _m(n,e){const t={},i=a(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>n2(n,c))),r(t,["candidates"],u)}const l=a(e,["modelVersion"]);l!=null&&r(t,["modelVersion"],l);const o=a(e,["promptFeedback"]);o!=null&&r(t,["promptFeedback"],o);const s=a(e,["usageMetadata"]);return s!=null&&r(t,["usageMetadata"],s),t}function i2(n,e){const t={},i=a(e,["values"]);return i!=null&&r(t,["values"],i),t}function l2(){return{}}function o2(n,e){const t={},i=a(e,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>i2(n,s))),r(t,["embeddings"],o)}return a(e,["metadata"])!=null&&r(t,["metadata"],l2()),t}function s2(n,e){const t={},i=a(e,["bytesBase64Encoded"]);i!=null&&r(t,["imageBytes"],si(n,i));const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function p0(n,e){const t={},i=a(e,["safetyAttributes","categories"]);i!=null&&r(t,["categories"],i);const l=a(e,["safetyAttributes","scores"]);l!=null&&r(t,["scores"],l);const o=a(e,["contentType"]);return o!=null&&r(t,["contentType"],o),t}function a2(n,e){const t={},i=a(e,["_self"]);i!=null&&r(t,["image"],s2(n,i));const l=a(e,["raiFilteredReason"]);l!=null&&r(t,["raiFilteredReason"],l);const o=a(e,["_self"]);return o!=null&&r(t,["safetyAttributes"],p0(n,o)),t}function r2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>a2(n,s))),r(t,["generatedImages"],o)}const l=a(e,["positivePromptSafetyAttributes"]);return l!=null&&r(t,["positivePromptSafetyAttributes"],p0(n,l)),t}function u2(n,e){const t={},i=a(e,["baseModel"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["createTime"]);l!=null&&r(t,["createTime"],l);const o=a(e,["updateTime"]);return o!=null&&r(t,["updateTime"],o),t}function ef(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["version"]);s!=null&&r(t,["version"],s);const u=a(e,["_self"]);u!=null&&r(t,["tunedModelInfo"],u2(n,u));const c=a(e,["inputTokenLimit"]);c!=null&&r(t,["inputTokenLimit"],c);const f=a(e,["outputTokenLimit"]);f!=null&&r(t,["outputTokenLimit"],f);const d=a(e,["supportedGenerationMethods"]);return d!=null&&r(t,["supportedActions"],d),t}function c2(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=o0(n,l);Array.isArray(o)&&(o=o.map(s=>ef(n,s))),r(t,["models"],o)}return t}function f2(){return{}}function d2(n,e){const t={},i=a(e,["totalTokens"]);i!=null&&r(t,["totalTokens"],i);const l=a(e,["cachedContentTokenCount"]);return l!=null&&r(t,["cachedContentTokenCount"],l),t}function h2(n,e){const t={},i=a(e,["video","uri"]);i!=null&&r(t,["uri"],i);const l=a(e,["video","encodedVideo"]);l!=null&&r(t,["videoBytes"],si(n,l));const o=a(e,["encoding"]);return o!=null&&r(t,["mimeType"],o),t}function p2(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],h2(n,i)),t}function m2(n,e){const t={},i=a(e,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>p2(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function g2(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response","generateVideoResponse"]);return u!=null&&r(t,["response"],m2(n,u)),t}function y2(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function v2(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function x2(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function T2(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],y2(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],v2(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],x2(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function S2(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>T2(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function C2(n,e){const t={},i=a(e,["citations"]);return i!=null&&r(t,["citations"],i),t}function _2(n,e){const t={},i=a(e,["retrievedUrl"]);i!=null&&r(t,["retrievedUrl"],i);const l=a(e,["urlRetrievalStatus"]);return l!=null&&r(t,["urlRetrievalStatus"],l),t}function E2(n,e){const t={},i=a(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>_2(n,o))),r(t,["urlMetadata"],l)}return t}function A2(n,e){const t={},i=a(e,["content"]);i!=null&&r(t,["content"],S2(n,i));const l=a(e,["citationMetadata"]);l!=null&&r(t,["citationMetadata"],C2(n,l));const o=a(e,["finishMessage"]);o!=null&&r(t,["finishMessage"],o);const s=a(e,["finishReason"]);s!=null&&r(t,["finishReason"],s);const u=a(e,["urlContextMetadata"]);u!=null&&r(t,["urlContextMetadata"],E2(n,u));const c=a(e,["avgLogprobs"]);c!=null&&r(t,["avgLogprobs"],c);const f=a(e,["groundingMetadata"]);f!=null&&r(t,["groundingMetadata"],f);const d=a(e,["index"]);d!=null&&r(t,["index"],d);const p=a(e,["logprobsResult"]);p!=null&&r(t,["logprobsResult"],p);const h=a(e,["safetyRatings"]);return h!=null&&r(t,["safetyRatings"],h),t}function Em(n,e){const t={},i=a(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>A2(n,d))),r(t,["candidates"],f)}const l=a(e,["createTime"]);l!=null&&r(t,["createTime"],l);const o=a(e,["responseId"]);o!=null&&r(t,["responseId"],o);const s=a(e,["modelVersion"]);s!=null&&r(t,["modelVersion"],s);const u=a(e,["promptFeedback"]);u!=null&&r(t,["promptFeedback"],u);const c=a(e,["usageMetadata"]);return c!=null&&r(t,["usageMetadata"],c),t}function b2(n,e){const t={},i=a(e,["truncated"]);i!=null&&r(t,["truncated"],i);const l=a(e,["token_count"]);return l!=null&&r(t,["tokenCount"],l),t}function M2(n,e){const t={},i=a(e,["values"]);i!=null&&r(t,["values"],i);const l=a(e,["statistics"]);return l!=null&&r(t,["statistics"],b2(n,l)),t}function N2(n,e){const t={},i=a(e,["billableCharacterCount"]);return i!=null&&r(t,["billableCharacterCount"],i),t}function w2(n,e){const t={},i=a(e,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>M2(n,s))),r(t,["embeddings"],o)}const l=a(e,["metadata"]);return l!=null&&r(t,["metadata"],N2(n,l)),t}function R2(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["gcsUri"],i);const l=a(e,["bytesBase64Encoded"]);l!=null&&r(t,["imageBytes"],si(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function m0(n,e){const t={},i=a(e,["safetyAttributes","categories"]);i!=null&&r(t,["categories"],i);const l=a(e,["safetyAttributes","scores"]);l!=null&&r(t,["scores"],l);const o=a(e,["contentType"]);return o!=null&&r(t,["contentType"],o),t}function cd(n,e){const t={},i=a(e,["_self"]);i!=null&&r(t,["image"],R2(n,i));const l=a(e,["raiFilteredReason"]);l!=null&&r(t,["raiFilteredReason"],l);const o=a(e,["_self"]);o!=null&&r(t,["safetyAttributes"],m0(n,o));const s=a(e,["prompt"]);return s!=null&&r(t,["enhancedPrompt"],s),t}function D2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>cd(n,s))),r(t,["generatedImages"],o)}const l=a(e,["positivePromptSafetyAttributes"]);return l!=null&&r(t,["positivePromptSafetyAttributes"],m0(n,l)),t}function k2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>cd(n,o))),r(t,["generatedImages"],l)}return t}function I2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>cd(n,o))),r(t,["generatedImages"],l)}return t}function U2(n,e){const t={},i=a(e,["endpoint"]);i!=null&&r(t,["name"],i);const l=a(e,["deployedModelId"]);return l!=null&&r(t,["deployedModelId"],l),t}function L2(n,e){const t={},i=a(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["createTime"]);l!=null&&r(t,["createTime"],l);const o=a(e,["updateTime"]);return o!=null&&r(t,["updateTime"],o),t}function O2(n,e){const t={},i=a(e,["checkpointId"]);i!=null&&r(t,["checkpointId"],i);const l=a(e,["epoch"]);l!=null&&r(t,["epoch"],l);const o=a(e,["step"]);return o!=null&&r(t,["step"],o),t}function tf(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["versionId"]);s!=null&&r(t,["version"],s);const u=a(e,["deployedModels"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(m=>U2(n,m))),r(t,["endpoints"],h)}const c=a(e,["labels"]);c!=null&&r(t,["labels"],c);const f=a(e,["_self"]);f!=null&&r(t,["tunedModelInfo"],L2(n,f));const d=a(e,["defaultCheckpointId"]);d!=null&&r(t,["defaultCheckpointId"],d);const p=a(e,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>O2(n,m))),r(t,["checkpoints"],h)}return t}function V2(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=o0(n,l);Array.isArray(o)&&(o=o.map(s=>tf(n,s))),r(t,["models"],o)}return t}function $2(){return{}}function B2(n,e){const t={},i=a(e,["totalTokens"]);return i!=null&&r(t,["totalTokens"],i),t}function P2(n,e){const t={},i=a(e,["tokensInfo"]);return i!=null&&r(t,["tokensInfo"],i),t}function z2(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["uri"],i);const l=a(e,["bytesBase64Encoded"]);l!=null&&r(t,["videoBytes"],si(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function G2(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],z2(n,i)),t}function q2(n,e){const t={},i=a(e,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>G2(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function H2(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],q2(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y2="Content-Type",F2="X-Server-Timeout",Z2="User-Agent",nf="x-goog-api-client",K2="1.5.1",J2=`google-genai-sdk/${K2}`,X2="v1beta1",Q2="v1beta",Am=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class g0 extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class lf extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class W2{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:X2,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Q2,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const l=[this.getRequestUrlInternal(t)];return i&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))l.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(l,o,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[l,o]of Object.entries(t))typeof o=="object"?i[l]=Object.assign(Object.assign({},i[l]),o):o!==void 0&&(i[l]=o);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(l,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const l=new AbortController,o=l.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>l.abort(),t.timeout),i&&i.addEventListener("abort",()=>{l.abort()}),e.signal=o}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async l=>(await bm(l),new Xc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async l=>(await bm(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var t;return eo(this,arguments,function*(){const l=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield qe(l.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c);try{const p=JSON.parse(f);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),m=h.status,x=h.code,S=`got status: ${m}. ${JSON.stringify(p)}`;if(x>=400&&x<500)throw new g0(S);if(x>=500&&x<600)throw new lf(S)}}catch(p){const h=p;if(h.name==="ClientError"||h.name==="ServerError")throw p}s+=f;let d=s.match(Am);for(;d;){const p=d[1];try{const h=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qe(new Xc(h)),s=s.slice(d[0].length),d=s.match(Am)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{l.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=J2+" "+this.clientOptions.userAgentExtra;return e[Z2]=t,e[nf]=t,e[Y2]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,l]of Object.entries(e.headers))t.append(i,l);e.timeout&&e.timeout>0&&t.append(F2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const l={};t!=null&&(l.mimeType=t.mimeType,l.name=t.name,l.displayName=t.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);l.sizeBytes=String(s.size);const u=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=u;const c=await this.fetchUploadUrl(l,t);return o.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let l={};t!=null&&t.httpOptions?l=t.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:Q("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=s==null?void 0:s.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function bm(n){var e;if(n===void 0)throw new lf("response is undefined");if(!n.ok){const t=n.status,i=n.statusText;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const o=`got status: ${t} ${i}. ${JSON.stringify(l)}`;throw t>=400&&t<500?new g0(o):t>=500&&t<600?new lf(o):new Error(o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j2="mcp_used/unknown";function y0(n){for(const e of n)if(fd(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function v0(n){var e;const t=(e=n[nf])!==null&&e!==void 0?e:"";n[nf]=(t+` ${j2}`).trimStart()}function eM(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>fd(l)))!==null&&i!==void 0?i:!1}function tM(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>!fd(l)))!==null&&i!==void 0?i:!1}function fd(n){return n!==null&&typeof n=="object"&&n instanceof dd}function nM(n,e=100){return eo(this,arguments,function*(){let i,l=0;for(;l<e;){const o=yield qe(n.listTools({cursor:i}));for(const s of o.tools)yield yield qe(s),l++;if(!o.nextCursor)break;i=o.nextCursor}})}class dd{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new dd(e,t)}async initialize(){var e,t,i,l;if(this.mcpTools.length>0)return;const o={},s=[];for(const d of this.mcpClients)try{for(var u=!0,c=(t=void 0,fs(nM(d))),f;f=await c.next(),e=f.done,!e;u=!0){l=f.value,u=!1;const p=l;s.push(p);const h=p.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(p){t={error:p}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(t)throw t.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),iC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await l.callTool({name:i.name,arguments:i.args},void 0,o);t.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function iM(n,e,t){const i=new HS;let l;t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data);const o=dA(n,l);Object.assign(i,o),e(i)}class lM{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=aM(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const d=new Promise(T=>{f=T}),p=e.callbacks,h=function(){f({})},m=this.apiClient,x={onopen:h,onmessage:T=>{iM(m,p.onmessage,T)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(T){},onclose:(i=p==null?void 0:p.onclose)!==null&&i!==void 0?i:function(T){}},S=this.webSocketFactory.create(c,sM(s),x);S.connect(),await d;const _=ze(this.apiClient,e.model),y=c0(this.apiClient,{model:_}),v=jc(this.apiClient,{setup:y});return S.send(JSON.stringify(v)),new oM(S,this.apiClient)}}class oM{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=bE(this.apiClient,e),i=f0(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=ME(this.apiClient,e),i=jc(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=jc(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Gl.PLAY)}pause(){this.sendPlaybackControl(Gl.PAUSE)}stop(){this.sendPlaybackControl(Gl.STOP)}resetContext(){this.sendPlaybackControl(Gl.RESET_CONTEXT)}close(){this.conn.close()}}function sM(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function aM(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function uM(n,e,t){const i=new qS;let l;if(t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data),n.isVertexAI()){const o=iA(n,l);Object.assign(i,o)}else{const o=nA(n,l);Object.assign(i,o)}e(i)}class cM{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new lM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,l,o,s,u;const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const p=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&y0(e.config.tools)&&v0(p);const h=pM(p);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const P=this.apiClient.getApiKey();let O="BidiGenerateContent",fe="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),O="BidiGenerateContentConstrained",fe="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${O}?${fe}=${P}`}let m=()=>{};const x=new Promise(P=>{m=P}),S=e.callbacks,_=function(){var P;(P=S==null?void 0:S.onopen)===null||P===void 0||P.call(S),m({})},y=this.apiClient,v={onopen:_,onmessage:P=>{uM(y,S.onmessage,P)},onerror:(t=S==null?void 0:S.onerror)!==null&&t!==void 0?t:function(P){},onclose:(i=S==null?void 0:S.onclose)!==null&&i!==void 0?i:function(P){}},T=this.webSocketFactory.create(d,hM(h),v);T.connect(),await x;let C=ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const P=this.apiClient.getProject(),O=this.apiClient.getLocation();C=`projects/${P}/locations/${O}/`+C}let b={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xr.AUDIO]}:e.config.responseModalities=[xr.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],N=[];for(const P of w)if(this.isCallableTool(P)){const O=P;N.push(await O.tool())}else N.push(P);N.length>0&&(e.config.tools=N);const D={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?b=xE(this.apiClient,D):b=vE(this.apiClient,D),delete b.config,T.send(JSON.stringify(b)),new dM(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const fM={turnComplete:!0};class dM{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=xn(e,t.turns),e.isVertexAI()?i=i.map(l=>wo(e,l)):i=i.map(l=>Zr(e,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(rM)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},fM),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:AE(this.apiClient,e)}:t={realtimeInput:EE(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function hM(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function pM(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mm=10;function Nm(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const s of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(La(s)){l=!0;break}if(!l)return!0;const o=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function La(n){return"callTool"in n&&typeof n.callTool=="function"}function wm(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mM extends No{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,l,o,s,u;const c=await this.processParamsForMcpUsage(t);if(!eM(t)||Nm(t.config))return await this.generateContentInternal(c);if(tM(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,d;const p=xn(this.apiClient,c.contents),h=(o=(l=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:Mm;let m=0;for(;m<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const x=f.candidates[0].content,S=[];for(const _ of(u=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(La(_)){const v=await _.callTool(f.functionCalls);S.push(...v)}m++,d={role:"user",parts:S},c.contents=xn(this.apiClient,c.contents),c.contents.push(x),c.contents.push(d),wm(c.config)&&(p.push(x),p.push(d))}return wm(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async t=>{if(Nm(t.config)){const i=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var l;let o;const s=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((l=c==null?void 0:c.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:s.push(c);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o}:u={generatedImages:s},u}),this.list=async t=>{var i;const s={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Fr(xo.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const l={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(l)}}async processParamsForMcpUsage(e){var t,i,l;const o=(t=e.config)===null||t===void 0?void 0:t.tools;if(!o)return e;const s=await Promise.all(o.map(async c=>La(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&y0(e.config.tools)){const c=(l=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),v0(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var t,i,l;const o=new Map;for(const s of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(La(s)){const u=s,c=await u.tool();for(const f of(l=c.functionDeclarations)!==null&&l!==void 0?l:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var t,i,l;const o=(l=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:Mm;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,d,p){var h,m;return eo(this,arguments,function*(){for(var x,S,_,y;u<o;){s&&(u++,s=!1);const b=yield qe(f.processParamsForMcpUsage(p)),w=yield qe(f.generateContentStreamInternal(b)),N=[],D=[];try{for(var v=!0,T=(S=void 0,fs(w)),C;C=yield qe(T.next()),x=C.done,!x;v=!0){y=C.value,v=!1;const P=y;if(yield yield qe(P),P.candidates&&(!((h=P.candidates[0])===null||h===void 0)&&h.content)){D.push(P.candidates[0].content);for(const O of(m=P.candidates[0].content.parts)!==null&&m!==void 0?m:[])if(u<o&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(O.functionCall.name)){const fe=yield qe(d.get(O.functionCall.name).callTool([O.functionCall]));N.push(...fe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(P){S={error:P}}finally{try{!v&&!x&&(_=T.return)&&(yield qe(_.call(T)))}finally{if(S)throw S.error}}if(N.length>0){s=!0;const P=new zo;P.candidates=[{content:{role:"user",parts:N}}],yield yield qe(P);const O=[];O.push(...D),O.push({role:"user",parts:N});const fe=xn(f.apiClient,p.contents).concat(O);p.contents=fe}else break}})}(this,c,e)}async generateContentInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Cm(this.apiClient,e);return u=Q("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=Em(this.apiClient,d),h=new zo;return Object.assign(h,p),h})}else{const f=Sm(this.apiClient,e);return u=Q("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=_m(this.apiClient,d),h=new zo;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Cm(this.apiClient,e);u=Q("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const d=this.apiClient;return s=d.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return eo(this,arguments,function*(){var h,m,x,S;try{for(var _=!0,y=fs(p),v;v=yield qe(y.next()),h=v.done,!h;_=!0){S=v.value,_=!1;const C=Em(d,yield qe(S.json())),b=new zo;Object.assign(b,C),yield yield qe(b)}}catch(T){m={error:T}}finally{try{!_&&!h&&(x=y.return)&&(yield qe(x.call(y)))}finally{if(m)throw m.error}}})})}else{const f=Sm(this.apiClient,e);u=Q("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const d=this.apiClient;return s=d.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return eo(this,arguments,function*(){var h,m,x,S;try{for(var _=!0,y=fs(p),v;v=yield qe(y.next()),h=v.done,!h;_=!0){S=v.value,_=!1;const C=_m(d,yield qe(S.json())),b=new zo;Object.assign(b,C),yield yield qe(b)}}catch(T){m={error:T}}finally{try{!_&&!h&&(x=y.return)&&(yield qe(x.call(y)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Eb(this.apiClient,e);return u=Q("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=w2(this.apiClient,d),h=new tm;return Object.assign(h,p),h})}else{const f=VA(this.apiClient,e);return u=Q("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=o2(this.apiClient,d),h=new tm;return Object.assign(h,p),h})}}async generateImagesInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=bb(this.apiClient,e);return u=Q("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=D2(this.apiClient,d),h=new nm;return Object.assign(h,p),h})}else{const f=BA(this.apiClient,e);return u=Q("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=r2(this.apiClient,d),h=new nm;return Object.assign(h,p),h})}}async editImageInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Ib(this.apiClient,e);return o=Q("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=k2(this.apiClient,c),d=new VS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Lb(this.apiClient,e);return o=Q("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=I2(this.apiClient,c),d=new $S;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ob(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>tf(this.apiClient,d))}else{const f=PA(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>ef(this.apiClient,d))}}async listInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=$b(this.apiClient,e);return u=Q("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=V2(this.apiClient,d),h=new im;return Object.assign(h,p),h})}else{const f=GA(this.apiClient,e);return u=Q("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=c2(this.apiClient,d),h=new im;return Object.assign(h,p),h})}}async update(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Pb(this.apiClient,e);return u=Q("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>tf(this.apiClient,d))}else{const f=HA(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>ef(this.apiClient,d))}}async delete(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=zb(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(()=>{const d=$2(),p=new lm;return Object.assign(p,d),p})}else{const f=YA(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(()=>{const d=f2(),p=new lm;return Object.assign(p,d),p})}}async countTokens(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=qb(this.apiClient,e);return u=Q("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=B2(this.apiClient,d),h=new om;return Object.assign(h,p),h})}else{const f=ZA(this.apiClient,e);return u=Q("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=d2(this.apiClient,d),h=new om;return Object.assign(h,p),h})}}async computeTokens(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Hb(this.apiClient,e);return o=Q("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=P2(this.apiClient,c),d=new BS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Zb(this.apiClient,e);return u=Q("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>H2(this.apiClient,d))}else{const f=XA(this.apiClient,e);return u=Q("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>g2(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gM(n,e){const t={},i=a(e,["operationName"]);i!=null&&r(t,["_url","operationName"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function yM(n,e){const t={},i=a(e,["operationName"]);i!=null&&r(t,["_url","operationName"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function vM(n,e){const t={},i=a(e,["operationName"]);i!=null&&r(t,["operationName"],i);const l=a(e,["resourceName"]);l!=null&&r(t,["_url","resourceName"],l);const o=a(e,["config"]);return o!=null&&r(t,["config"],o),t}function xM(n,e){const t={},i=a(e,["video","uri"]);i!=null&&r(t,["uri"],i);const l=a(e,["video","encodedVideo"]);l!=null&&r(t,["videoBytes"],si(n,l));const o=a(e,["encoding"]);return o!=null&&r(t,["mimeType"],o),t}function TM(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],xM(n,i)),t}function SM(n,e){const t={},i=a(e,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>TM(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function CM(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response","generateVideoResponse"]);return u!=null&&r(t,["response"],SM(n,u)),t}function _M(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["uri"],i);const l=a(e,["bytesBase64Encoded"]);l!=null&&r(t,["videoBytes"],si(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function EM(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],_M(n,i)),t}function AM(n,e){const t={},i=a(e,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>EM(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function Rm(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],AM(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bM extends No{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=t.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:l,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})}async getVideosOperationInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=yM(this.apiClient,e);return u=Q("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Rm(this.apiClient,d))}else{const f=gM(this.apiClient,e);return u=Q("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>CM(this.apiClient,d))}}async fetchPredictVideosOperationInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=vM(this.apiClient,e);return o=Q("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>Rm(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MM(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function x0(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],MM(n,i)),t}function NM(n,e){const t={},i=a(e,["speaker"]);i!=null&&r(t,["speaker"],i);const l=a(e,["voiceConfig"]);return l!=null&&r(t,["voiceConfig"],x0(n,l)),t}function wM(n,e){const t={},i=a(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>NM(n,o))),r(t,["speakerVoiceConfigs"],l)}return t}function RM(n,e){const t={},i=a(e,["voiceConfig"]);i!=null&&r(t,["voiceConfig"],x0(n,i));const l=a(e,["multiSpeakerVoiceConfig"]);l!=null&&r(t,["multiSpeakerVoiceConfig"],wM(n,l));const o=a(e,["languageCode"]);return o!=null&&r(t,["languageCode"],o),t}function DM(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function kM(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function IM(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function UM(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],DM(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],kM(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],IM(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function LM(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>UM(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function OM(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function VM(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function $M(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],VM(n,i)),t}function BM(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function PM(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],BM(n,i)),t}function zM(){return{}}function GM(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>OM(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],$M(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],PM(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],zM());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function qM(n,e){const t={},i=a(e,["handle"]);if(i!=null&&r(t,["handle"],i),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Dm(){return{}}function HM(n,e){const t={},i=a(e,["disabled"]);i!=null&&r(t,["disabled"],i);const l=a(e,["startOfSpeechSensitivity"]);l!=null&&r(t,["startOfSpeechSensitivity"],l);const o=a(e,["endOfSpeechSensitivity"]);o!=null&&r(t,["endOfSpeechSensitivity"],o);const s=a(e,["prefixPaddingMs"]);s!=null&&r(t,["prefixPaddingMs"],s);const u=a(e,["silenceDurationMs"]);return u!=null&&r(t,["silenceDurationMs"],u),t}function YM(n,e){const t={},i=a(e,["automaticActivityDetection"]);i!=null&&r(t,["automaticActivityDetection"],HM(n,i));const l=a(e,["activityHandling"]);l!=null&&r(t,["activityHandling"],l);const o=a(e,["turnCoverage"]);return o!=null&&r(t,["turnCoverage"],o),t}function FM(n,e){const t={},i=a(e,["targetTokens"]);return i!=null&&r(t,["targetTokens"],i),t}function ZM(n,e){const t={},i=a(e,["triggerTokens"]);i!=null&&r(t,["triggerTokens"],i);const l=a(e,["slidingWindow"]);return l!=null&&r(t,["slidingWindow"],FM(n,l)),t}function KM(n,e){const t={},i=a(e,["proactiveAudio"]);return i!=null&&r(t,["proactiveAudio"],i),t}function JM(n,e,t){const i={},l=a(e,["generationConfig"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig"],l);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const s=a(e,["temperature"]);t!==void 0&&s!=null&&r(t,["setup","generationConfig","temperature"],s);const u=a(e,["topP"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topP"],u);const c=a(e,["topK"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","maxOutputTokens"],f);const d=a(e,["mediaResolution"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","mediaResolution"],d);const p=a(e,["seed"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","seed"],p);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","speechConfig"],RM(n,ud(n,h)));const m=a(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],m);const x=a(e,["systemInstruction"]);t!==void 0&&x!=null&&r(t,["setup","systemInstruction"],LM(n,It(n,x)));const S=a(e,["tools"]);if(t!==void 0&&S!=null){let w=Js(n,S);Array.isArray(w)&&(w=w.map(N=>GM(n,Ks(n,N)))),r(t,["setup","tools"],w)}const _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],qM(n,_));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],Dm());const v=a(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&r(t,["setup","outputAudioTranscription"],Dm());const T=a(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&r(t,["setup","realtimeInputConfig"],YM(n,T));const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&r(t,["setup","contextWindowCompression"],ZM(n,C));const b=a(e,["proactivity"]);return t!==void 0&&b!=null&&r(t,["setup","proactivity"],KM(n,b)),i}function XM(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["setup","model"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],JM(n,l,t)),t}function QM(n,e,t){const i={},l=a(e,["expireTime"]);t!==void 0&&l!=null&&r(t,["expireTime"],l);const o=a(e,["newSessionExpireTime"]);t!==void 0&&o!=null&&r(t,["newSessionExpireTime"],o);const s=a(e,["uses"]);t!==void 0&&s!=null&&r(t,["uses"],s);const u=a(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&r(t,["bidiGenerateContentSetup"],XM(n,u));const c=a(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&r(t,["fieldMask"],c),i}function WM(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],QM(n,i,t)),t}function jM(n,e){const t={},i=a(e,["name"]);return i!=null&&r(t,["name"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eN(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(o=>`${t}.${o}`);e.push(...l)}else e.push(t)}return e.join(",")}function tN(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(n.bidiGenerateContentSetup=o,t=o):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const l=n.fieldMask;if(t){const o=eN(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?n.fieldMask=o:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];l.length>0&&(u=l.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?n.fieldMask=l.join(","):delete n.fieldMask;return n}class nN extends No{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=WM(this.apiClient,e);o=Q("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=tN(u,e.config);return l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>jM(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iN(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function lN(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);return t!==void 0&&s!=null&&r(t,["_query","filter"],s),i}function oN(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],lN(n,i,t)),t}function sN(n,e){const t={},i=a(e,["textInput"]);i!=null&&r(t,["textInput"],i);const l=a(e,["output"]);return l!=null&&r(t,["output"],l),t}function aN(n,e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=a(e,["examples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>sN(n,o))),r(t,["examples","examples"],l)}return t}function rN(n,e,t){const i={};if(a(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=a(e,["tunedModelDisplayName"]);if(t!==void 0&&l!=null&&r(t,["displayName"],l),a(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=a(e,["epochCount"]);t!==void 0&&o!=null&&r(t,["tuningTask","hyperparameters","epochCount"],o);const s=a(e,["learningRateMultiplier"]);if(s!=null&&r(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=a(e,["batchSize"]);t!==void 0&&u!=null&&r(t,["tuningTask","hyperparameters","batchSize"],u);const c=a(e,["learningRate"]);return t!==void 0&&c!=null&&r(t,["tuningTask","hyperparameters","learningRate"],c),i}function uN(n,e){const t={},i=a(e,["baseModel"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["trainingDataset"]);l!=null&&r(t,["tuningTask","trainingData"],aN(n,l));const o=a(e,["config"]);return o!=null&&r(t,["config"],rN(n,o,t)),t}function cN(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function fN(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);return t!==void 0&&s!=null&&r(t,["_query","filter"],s),i}function dN(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],fN(n,i,t)),t}function hN(n,e,t){const i={},l=a(e,["gcsUri"]);if(t!==void 0&&l!=null&&r(t,["supervisedTuningSpec","trainingDatasetUri"],l),a(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function pN(n,e){const t={},i=a(e,["gcsUri"]);return i!=null&&r(t,["validationDatasetUri"],i),t}function mN(n,e,t){const i={},l=a(e,["validationDataset"]);t!==void 0&&l!=null&&r(t,["supervisedTuningSpec"],pN(n,l));const o=a(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&r(t,["tunedModelDisplayName"],o);const s=a(e,["description"]);t!==void 0&&s!=null&&r(t,["description"],s);const u=a(e,["epochCount"]);t!==void 0&&u!=null&&r(t,["supervisedTuningSpec","hyperParameters","epochCount"],u);const c=a(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&r(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const f=a(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&r(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const d=a(e,["adapterSize"]);if(t!==void 0&&d!=null&&r(t,["supervisedTuningSpec","hyperParameters","adapterSize"],d),a(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function gN(n,e){const t={},i=a(e,["baseModel"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["trainingDataset"]);l!=null&&r(t,["supervisedTuningSpec","trainingDatasetUri"],hN(n,l,t));const o=a(e,["config"]);return o!=null&&r(t,["config"],mN(n,o,t)),t}function yN(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["model"],i);const l=a(e,["name"]);return l!=null&&r(t,["endpoint"],l),t}function T0(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["state"]);l!=null&&r(t,["state"],n0(n,l));const o=a(e,["createTime"]);o!=null&&r(t,["createTime"],o);const s=a(e,["tuningTask","startTime"]);s!=null&&r(t,["startTime"],s);const u=a(e,["tuningTask","completeTime"]);u!=null&&r(t,["endTime"],u);const c=a(e,["updateTime"]);c!=null&&r(t,["updateTime"],c);const f=a(e,["description"]);f!=null&&r(t,["description"],f);const d=a(e,["baseModel"]);d!=null&&r(t,["baseModel"],d);const p=a(e,["_self"]);p!=null&&r(t,["tunedModel"],yN(n,p));const h=a(e,["distillationSpec"]);h!=null&&r(t,["distillationSpec"],h);const m=a(e,["experiment"]);m!=null&&r(t,["experiment"],m);const x=a(e,["labels"]);x!=null&&r(t,["labels"],x);const S=a(e,["pipelineJob"]);S!=null&&r(t,["pipelineJob"],S);const _=a(e,["serviceAccount"]);_!=null&&r(t,["serviceAccount"],_);const y=a(e,["tunedModelDisplayName"]);return y!=null&&r(t,["tunedModelDisplayName"],y),t}function vN(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["tunedModels"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>T0(n,s))),r(t,["tuningJobs"],o)}return t}function xN(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);return s!=null&&r(t,["error"],s),t}function TN(n,e){const t={},i=a(e,["checkpointId"]);i!=null&&r(t,["checkpointId"],i);const l=a(e,["epoch"]);l!=null&&r(t,["epoch"],l);const o=a(e,["step"]);o!=null&&r(t,["step"],o);const s=a(e,["endpoint"]);return s!=null&&r(t,["endpoint"],s),t}function SN(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["model"],i);const l=a(e,["endpoint"]);l!=null&&r(t,["endpoint"],l);const o=a(e,["checkpoints"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>TN(n,u))),r(t,["checkpoints"],s)}return t}function of(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["state"]);l!=null&&r(t,["state"],n0(n,l));const o=a(e,["createTime"]);o!=null&&r(t,["createTime"],o);const s=a(e,["startTime"]);s!=null&&r(t,["startTime"],s);const u=a(e,["endTime"]);u!=null&&r(t,["endTime"],u);const c=a(e,["updateTime"]);c!=null&&r(t,["updateTime"],c);const f=a(e,["error"]);f!=null&&r(t,["error"],f);const d=a(e,["description"]);d!=null&&r(t,["description"],d);const p=a(e,["baseModel"]);p!=null&&r(t,["baseModel"],p);const h=a(e,["tunedModel"]);h!=null&&r(t,["tunedModel"],SN(n,h));const m=a(e,["supervisedTuningSpec"]);m!=null&&r(t,["supervisedTuningSpec"],m);const x=a(e,["tuningDataStats"]);x!=null&&r(t,["tuningDataStats"],x);const S=a(e,["encryptionSpec"]);S!=null&&r(t,["encryptionSpec"],S);const _=a(e,["partnerModelTuningSpec"]);_!=null&&r(t,["partnerModelTuningSpec"],_);const y=a(e,["distillationSpec"]);y!=null&&r(t,["distillationSpec"],y);const v=a(e,["experiment"]);v!=null&&r(t,["experiment"],v);const T=a(e,["labels"]);T!=null&&r(t,["labels"],T);const C=a(e,["pipelineJob"]);C!=null&&r(t,["pipelineJob"],C);const b=a(e,["serviceAccount"]);b!=null&&r(t,["serviceAccount"],b);const w=a(e,["tunedModelDisplayName"]);return w!=null&&r(t,["tunedModelDisplayName"],w),t}function CN(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["tuningJobs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>of(n,s))),r(t,["tuningJobs"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _N extends No{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Fr(xo.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const i=await this.tuneMldevInternal(t);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Jc.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=cN(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>of(this.apiClient,d))}else{const f=iN(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>T0(this.apiClient,d))}}async listInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=dN(this.apiClient,e);return u=Q("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=CN(this.apiClient,d),h=new sm;return Object.assign(h,p),h})}else{const f=oN(this.apiClient,e);return u=Q("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=vN(this.apiClient,d),h=new sm;return Object.assign(h,p),h})}}async tuneInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=gN(this.apiClient,e);return o=Q("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>of(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=uN(this.apiClient,e);return o=Q("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>xN(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EN{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const AN=1024*1024*8,bN=3,MN=1e3,NN=2,$u="x-goog-upload-status";async function wN(n,e,t){var i,l,o;let s=0,u=0,c=new Xc(new Response),f="upload";for(s=n.size;u<s;){const p=Math.min(AN,s-u),h=n.slice(u,u+p);u+p>=s&&(f+=", finalize");let m=0,x=MN;for(;m<bN&&(c=await t.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[$u]));)m++,await DN(x),x=x*NN;if(u+=p,((l=c==null?void 0:c.headers)===null||l===void 0?void 0:l[$u])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[$u])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function RN(n){return{size:n.size,type:n.type}}function DN(n){return new Promise(e=>setTimeout(e,n))}class kN{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wN(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await RN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IN{create(e,t,i){return new UN(e,t,i)}}class UN{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const km="x-goog-api-key";class LN{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(km)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(km,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ON="gl-node/";class S0{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=OS(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const l=new LN(this.apiKey);this.apiClient=new W2({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:ON+"web",uploader:new kN,downloader:new EN}),this.models=new mM(this.apiClient),this.live=new cM(this.apiClient,l,new IN),this.chats=new u_(this.models,this.apiClient),this.caches=new s_(this.apiClient),this.files=new C_(this.apiClient),this.operations=new bM(this.apiClient),this.authTokens=new nN(this.apiClient),this.tunings=new _N(this.apiClient)}}function hd(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let yl=hd();function C0(n){yl=n}const _0=/[&<>"']/,VN=new RegExp(_0.source,"g"),E0=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,$N=new RegExp(E0.source,"g"),BN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Im=n=>BN[n];function Xt(n,e){if(e){if(_0.test(n))return n.replace(VN,Im)}else if(E0.test(n))return n.replace($N,Im);return n}const PN=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function zN(n){return n.replace(PN,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const GN=/(^|[^\[])\^/g;function Ue(n,e){let t=typeof n=="string"?n:n.source;e=e||"";const i={replace:(l,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(GN,"$1"),t=t.replace(l,s),i},getRegex:()=>new RegExp(t,e)};return i}function Um(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const ds={exec:()=>null};function Lm(n,e){const t=n.replace(/\|/g,(o,s,u)=>{let c=!1,f=s;for(;--f>=0&&u[f]==="\\";)c=!c;return c?"|":" |"}),i=t.split(/ \|/);let l=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;l<i.length;l++)i[l]=i[l].trim().replace(/\\\|/g,"|");return i}function Go(n,e,t){const i=n.length;if(i===0)return"";let l=0;for(;l<i&&n.charAt(i-l-1)===e;)l++;return n.slice(0,i-l)}function qN(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let i=0;i<n.length;i++)if(n[i]==="\\")i++;else if(n[i]===e[0])t++;else if(n[i]===e[1]&&(t--,t<0))return i;return-1}function Om(n,e,t,i){const l=e.href,o=e.title?Xt(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const u={type:"link",raw:t,href:l,title:o,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,u}return{type:"image",raw:t,href:l,title:o,text:Xt(s)}}function HN(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(l=>{const o=l.match(/^\s+/);if(o===null)return l;const[s]=o;return s.length>=i.length?l.slice(i.length):l}).join(`
`)}class Cr{constructor(e){Be(this,"options");Be(this,"rules");Be(this,"lexer");this.options=e||yl}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Go(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],l=HN(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:l}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const l=Go(i,"#");(this.options.pedantic||!l||/ $/.test(l))&&(i=l.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Go(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let i=Go(t[0],`
`).split(`
`),l="",o="";const s=[];for(;i.length>0;){let u=!1;const c=[];let f;for(f=0;f<i.length;f++)if(/^ {0,3}>/.test(i[f]))c.push(i[f]),u=!0;else if(!u)c.push(i[f]);else break;i=i.slice(f);const d=c.join(`
`),p=d.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");l=l?`${l}
${d}`:d,o=o?`${o}
${p}`:p;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,s,!0),this.lexer.state.top=h,i.length===0)break;const m=s[s.length-1];if((m==null?void 0:m.type)==="code")break;if((m==null?void 0:m.type)==="blockquote"){const x=m,S=x.raw+`
`+i.join(`
`),_=this.blockquote(S);s[s.length-1]=_,l=l.substring(0,l.length-x.raw.length)+_.raw,o=o.substring(0,o.length-x.text.length)+_.text;break}else if((m==null?void 0:m.type)==="list"){const x=m,S=x.raw+`
`+i.join(`
`),_=this.list(S);s[s.length-1]=_,l=l.substring(0,l.length-m.raw.length)+_.raw,o=o.substring(0,o.length-x.raw.length)+_.raw,i=S.substring(s[s.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:s,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const l=i.length>1,o={type:"list",raw:"",ordered:l,start:l?+i.slice(0,-1):"",loose:!1,items:[]};i=l?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=l?i:"[*+-]");const s=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`);let u=!1;for(;e;){let c=!1,f="",d="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;f=t[0],e=e.substring(f.length);let p=t[2].split(`
`,1)[0].replace(/^\t+/,y=>" ".repeat(3*y.length)),h=e.split(`
`,1)[0],m=!p.trim(),x=0;if(this.options.pedantic?(x=2,d=p.trimStart()):m?x=t[1].length+1:(x=t[2].search(/[^ ]/),x=x>4?1:x,d=p.slice(x),x+=t[1].length),m&&/^ *$/.test(h)&&(f+=h+`
`,e=e.substring(h.length+1),c=!0),!c){const y=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),v=new RegExp(`^ {0,${Math.min(3,x-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),T=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:\`\`\`|~~~)`),C=new RegExp(`^ {0,${Math.min(3,x-1)}}#`);for(;e;){const b=e.split(`
`,1)[0];if(h=b,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),T.test(h)||C.test(h)||y.test(h)||v.test(e))break;if(h.search(/[^ ]/)>=x||!h.trim())d+=`
`+h.slice(x);else{if(m||p.search(/[^ ]/)>=4||T.test(p)||C.test(p)||v.test(p))break;d+=`
`+h}!m&&!h.trim()&&(m=!0),f+=b+`
`,e=e.substring(b.length+1),p=h.slice(x)}}o.loose||(u?o.loose=!0:/\n *\n *$/.test(f)&&(u=!0));let S=null,_;this.options.gfm&&(S=/^\[[ xX]\] /.exec(d),S&&(_=S[0]!=="[ ] ",d=d.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:f,task:!!S,checked:_,loose:!1,text:d,tokens:[]}),o.raw+=f}o.items[o.items.length-1].raw=o.items[o.items.length-1].raw.trimEnd(),o.items[o.items.length-1].text=o.items[o.items.length-1].text.trimEnd(),o.raw=o.raw.trimEnd();for(let c=0;c<o.items.length;c++)if(this.lexer.state.top=!1,o.items[c].tokens=this.lexer.blockTokens(o.items[c].text,[]),!o.loose){const f=o.items[c].tokens.filter(p=>p.type==="space"),d=f.length>0&&f.some(p=>/\n.*\n/.test(p.raw));o.loose=d}if(o.loose)for(let c=0;c<o.items.length;c++)o.items[c].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),l=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:l,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const i=Lm(t[1]),l=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===l.length){for(const u of l)/^ *-+: *$/.test(u)?s.align.push("right"):/^ *:-+: *$/.test(u)?s.align.push("center"):/^ *:-+ *$/.test(u)?s.align.push("left"):s.align.push(null);for(let u=0;u<i.length;u++)s.header.push({text:i[u],tokens:this.lexer.inline(i[u]),header:!0,align:s.align[u]});for(const u of o)s.rows.push(Lm(u,s.header.length).map((c,f)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:s.align[f]})));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Xt(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const s=Go(i.slice(0,-1),"\\");if((i.length-s.length)%2===0)return}else{const s=qN(t[2],"()");if(s>-1){const c=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let l=t[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);s&&(l=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(i)?l=l.slice(1):l=l.slice(1,-1)),Om(t,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const l=(i[2]||i[1]).replace(/\s+/g," "),o=t[l.toLowerCase()];if(!o){const s=i[0].charAt(0);return{type:"text",raw:s,text:s}}return Om(i,o,i[0],this.lexer)}}emStrong(e,t,i=""){let l=this.rules.inline.emStrongLDelim.exec(e);if(!l||l[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(l[1]||l[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const s=[...l[0]].length-1;let u,c,f=s,d=0;const p=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,t=t.slice(-1*e.length+s);(l=p.exec(t))!=null;){if(u=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!u)continue;if(c=[...u].length,l[3]||l[4]){f+=c;continue}else if((l[5]||l[6])&&s%3&&!((s+c)%3)){d+=c;continue}if(f-=c,f>0)continue;c=Math.min(c,c+f+d);const h=[...l[0]][0].length,m=e.slice(0,s+l.index+h+c);if(Math.min(s,c)%2){const S=m.slice(1,-1);return{type:"em",raw:m,text:S,tokens:this.lexer.inlineTokens(S)}}const x=m.slice(2,-2);return{type:"strong",raw:m,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const l=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return l&&o&&(i=i.substring(1,i.length-1)),i=Xt(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let i,l;return t[2]==="@"?(i=Xt(t[1]),l="mailto:"+i):(i=Xt(t[1]),l=i),{type:"link",raw:t[0],text:i,href:l,tokens:[{type:"text",raw:i,text:i}]}}}url(e){var i;let t;if(t=this.rules.inline.url.exec(e)){let l,o;if(t[2]==="@")l=Xt(t[0]),o="mailto:"+l;else{let s;do s=t[0],t[0]=((i=this.rules.inline._backpedal.exec(t[0]))==null?void 0:i[0])??"";while(s!==t[0]);l=Xt(t[0]),t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:l,href:o,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let i;return this.lexer.state.inRawBlock?i=t[0]:i=Xt(t[0]),{type:"text",raw:t[0],text:i}}}}const YN=/^(?: *(?:\n|$))+/,FN=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,ZN=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Xs=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,KN=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,A0=/(?:[*+-]|\d{1,9}[.)])/,b0=Ue(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,A0).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),pd=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,JN=/^[^\n]+/,md=/(?!\s*\])(?:\\.|[^\[\]\\])+/,XN=Ue(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",md).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),QN=Ue(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,A0).getRegex(),Jr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",gd=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,WN=Ue("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",gd).replace("tag",Jr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),M0=Ue(pd).replace("hr",Xs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jr).getRegex(),jN=Ue(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",M0).getRegex(),yd={blockquote:jN,code:FN,def:XN,fences:ZN,heading:KN,hr:Xs,html:WN,lheading:b0,list:QN,newline:YN,paragraph:M0,table:ds,text:JN},Vm=Ue("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Xs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jr).getRegex(),ew={...yd,table:Vm,paragraph:Ue(pd).replace("hr",Xs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Vm).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jr).getRegex()},tw={...yd,html:Ue(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",gd).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ds,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ue(pd).replace("hr",Xs).replace("heading",` *#{1,6} *[^
]`).replace("lheading",b0).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},N0=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,nw=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,w0=/^( {2,}|\\)\n(?!\s*$)/,iw=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Qs="\\p{P}\\p{S}",lw=Ue(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Qs).getRegex(),ow=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,sw=Ue(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Qs).getRegex(),aw=Ue("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Qs).getRegex(),rw=Ue("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Qs).getRegex(),uw=Ue(/\\([punct])/,"gu").replace(/punct/g,Qs).getRegex(),cw=Ue(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),fw=Ue(gd).replace("(?:-->|$)","-->").getRegex(),dw=Ue("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",fw).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_r=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,hw=Ue(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",_r).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),R0=Ue(/^!?\[(label)\]\[(ref)\]/).replace("label",_r).replace("ref",md).getRegex(),D0=Ue(/^!?\[(ref)\](?:\[\])?/).replace("ref",md).getRegex(),pw=Ue("reflink|nolink(?!\\()","g").replace("reflink",R0).replace("nolink",D0).getRegex(),vd={_backpedal:ds,anyPunctuation:uw,autolink:cw,blockSkip:ow,br:w0,code:nw,del:ds,emStrongLDelim:sw,emStrongRDelimAst:aw,emStrongRDelimUnd:rw,escape:N0,link:hw,nolink:D0,punctuation:lw,reflink:R0,reflinkSearch:pw,tag:dw,text:iw,url:ds},mw={...vd,link:Ue(/^!?\[(label)\]\((.*?)\)/).replace("label",_r).getRegex(),reflink:Ue(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_r).getRegex()},sf={...vd,escape:Ue(N0).replace("])","~|])").getRegex(),url:Ue(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},gw={...sf,br:Ue(w0).replace("{2,}","*").getRegex(),text:Ue(sf.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ya={normal:yd,gfm:ew,pedantic:tw},qo={normal:vd,gfm:sf,breaks:gw,pedantic:mw};class Nn{constructor(e){Be(this,"tokens");Be(this,"options");Be(this,"state");Be(this,"tokenizer");Be(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||yl,this.options.tokenizer=this.options.tokenizer||new Cr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:ya.normal,inline:qo.normal};this.options.pedantic?(t.block=ya.pedantic,t.inline=qo.pedantic):this.options.gfm&&(t.block=ya.gfm,this.options.breaks?t.inline=qo.breaks:t.inline=qo.gfm),this.tokenizer.rules=t}static get rules(){return{block:ya,inline:qo}}static lex(e,t){return new Nn(t).lex(e)}static lexInline(e,t){return new Nn(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],i=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(u,c,f)=>c+"    ".repeat(f.length));let l,o,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(l=u.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))){if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length),l.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+l.raw,o.text+=`
`+l.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+l.raw,o.text+=`
`+l.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let u=1/0;const c=e.slice(1);let f;this.options.extensions.startBlock.forEach(d=>{f=d.call({lexer:this},c),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(this.state.top&&(l=this.tokenizer.paragraph(s))){o=t[t.length-1],i&&(o==null?void 0:o.type)==="paragraph"?(o.raw+=`
`+l.raw,o.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(l),i=s.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length),o=t[t.length-1],o&&o.type==="text"?(o.raw+=`
`+l.raw,o.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(l);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,l,o,s=e,u,c,f;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)d.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,u.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(i=d.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),l=t[t.length-1],l&&i.type==="text"&&l.type==="text"?(l.raw+=i.raw,l.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),l=t[t.length-1],l&&i.type==="text"&&l.type==="text"?(l.raw+=i.raw,l.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,s,f)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const p=e.slice(1);let h;this.options.extensions.startInline.forEach(m=>{h=m.call({lexer:this},p),typeof h=="number"&&h>=0&&(d=Math.min(d,h))}),d<1/0&&d>=0&&(o=e.substring(0,d+1))}if(i=this.tokenizer.inlineText(o)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(f=i.raw.slice(-1)),c=!0,l=t[t.length-1],l&&l.type==="text"?(l.raw+=i.raw,l.text+=i.text):t.push(i);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}}class Er{constructor(e){Be(this,"options");Be(this,"parser");this.options=e||yl}space(e){return""}code({text:e,lang:t,escaped:i}){var s;const l=(s=(t||"").match(/^\S*/))==null?void 0:s[0],o=e.replace(/\n$/,"")+`
`;return l?'<pre><code class="language-'+Xt(l)+'">'+(i?o:Xt(o,!0))+`</code></pre>
`:"<pre><code>"+(i?o:Xt(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,i=e.start;let l="";for(let u=0;u<e.items.length;u++){const c=e.items[u];l+=this.listitem(c)}const o=t?"ol":"ul",s=t&&i!==1?' start="'+i+'"':"";return"<"+o+s+`>
`+l+"</"+o+`>
`}listitem(e){let t="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" "}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",i="";for(let o=0;o<e.header.length;o++)i+=this.tablecell(e.header[o]);t+=this.tablerow({text:i});let l="";for(let o=0;o<e.rows.length;o++){const s=e.rows[o];i="";for(let u=0;u<s.length;u++)i+=this.tablecell(s[u]);l+=this.tablerow({text:i})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+l+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+t+`</${i}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:i}){const l=this.parser.parseInline(i),o=Um(e);if(o===null)return l;e=o;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+l+"</a>",s}image({href:e,title:t,text:i}){const l=Um(e);if(l===null)return i;e=l;let o=`<img src="${e}" alt="${i}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class xd{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class wn{constructor(e){Be(this,"options");Be(this,"renderer");Be(this,"textRenderer");this.options=e||yl,this.options.renderer=this.options.renderer||new Er,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new xd}static parse(e,t){return new wn(t).parse(e)}static parseInline(e,t){return new wn(t).parseInline(e)}parse(e,t=!0){let i="";for(let l=0;l<e.length;l++){const o=e[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const u=o,c=this.options.extensions.renderers[u.type].call({parser:this},u);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){i+=c||"";continue}}const s=o;switch(s.type){case"space":{i+=this.renderer.space(s);continue}case"hr":{i+=this.renderer.hr(s);continue}case"heading":{i+=this.renderer.heading(s);continue}case"code":{i+=this.renderer.code(s);continue}case"table":{i+=this.renderer.table(s);continue}case"blockquote":{i+=this.renderer.blockquote(s);continue}case"list":{i+=this.renderer.list(s);continue}case"html":{i+=this.renderer.html(s);continue}case"paragraph":{i+=this.renderer.paragraph(s);continue}case"text":{let u=s,c=this.renderer.text(u);for(;l+1<e.length&&e[l+1].type==="text";)u=e[++l],c+=`
`+this.renderer.text(u);t?i+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c}]}):i+=c;continue}default:{const u='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let l=0;l<e.length;l++){const o=e[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=u||"";continue}}const s=o;switch(s.type){case"escape":{i+=t.text(s);break}case"html":{i+=t.html(s);break}case"link":{i+=t.link(s);break}case"image":{i+=t.image(s);break}case"strong":{i+=t.strong(s);break}case"em":{i+=t.em(s);break}case"codespan":{i+=t.codespan(s);break}case"br":{i+=t.br(s);break}case"del":{i+=t.del(s);break}case"text":{i+=t.text(s);break}default:{const u='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}}class hs{constructor(e){Be(this,"options");this.options=e||yl}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}Be(hs,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var li,k0,af,I0;class yw{constructor(...e){Dd(this,li);Be(this,"defaults",hd());Be(this,"options",this.setOptions);Be(this,"parse",ko(this,li,af).call(this,Nn.lex,wn.parse));Be(this,"parseInline",ko(this,li,af).call(this,Nn.lexInline,wn.parseInline));Be(this,"Parser",wn);Be(this,"Renderer",Er);Be(this,"TextRenderer",xd);Be(this,"Lexer",Nn);Be(this,"Tokenizer",Cr);Be(this,"Hooks",hs);this.use(...e)}walkTokens(e,t){var l,o;let i=[];for(const s of e)switch(i=i.concat(t.call(this,s)),s.type){case"table":{const u=s;for(const c of u.header)i=i.concat(this.walkTokens(c.tokens,t));for(const c of u.rows)for(const f of c)i=i.concat(this.walkTokens(f.tokens,t));break}case"list":{const u=s;i=i.concat(this.walkTokens(u.items,t));break}default:{const u=s;(o=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&o[u.type]?this.defaults.extensions.childTokens[u.type].forEach(c=>{const f=u[c].flat(1/0);i=i.concat(this.walkTokens(f,t))}):u.tokens&&(i=i.concat(this.walkTokens(u.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const l={...i};if(l.async=this.defaults.async||l.async||!1,i.extensions&&(i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const s=t.renderers[o.name];s?t.renderers[o.name]=function(...u){let c=o.renderer.apply(this,u);return c===!1&&(c=s.apply(this,u)),c}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=t[o.level];s?s.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),l.extensions=t),i.renderer){const o=this.defaults.renderer||new Er(this.defaults);for(const s in i.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const u=s;let c=i.renderer[u];i.useNewRenderer||(c=ko(this,li,k0).call(this,c,u,o));const f=o[u];o[u]=(...d)=>{let p=c.apply(o,d);return p===!1&&(p=f.apply(o,d)),p||""}}l.renderer=o}if(i.tokenizer){const o=this.defaults.tokenizer||new Cr(this.defaults);for(const s in i.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const u=s,c=i.tokenizer[u],f=o[u];o[u]=(...d)=>{let p=c.apply(o,d);return p===!1&&(p=f.apply(o,d)),p}}l.tokenizer=o}if(i.hooks){const o=this.defaults.hooks||new hs;for(const s in i.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;const u=s,c=i.hooks[u],f=o[u];hs.passThroughHooks.has(s)?o[u]=d=>{if(this.defaults.async)return Promise.resolve(c.call(o,d)).then(h=>f.call(o,h));const p=c.call(o,d);return f.call(o,p)}:o[u]=(...d)=>{let p=c.apply(o,d);return p===!1&&(p=f.apply(o,d)),p}}l.hooks=o}if(i.walkTokens){const o=this.defaults.walkTokens,s=i.walkTokens;l.walkTokens=function(u){let c=[];return c.push(s.call(this,u)),o&&(c=c.concat(o.call(this,u))),c}}this.defaults={...this.defaults,...l}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Nn.lex(e,t??this.defaults)}parser(e,t){return wn.parse(e,t??this.defaults)}}li=new WeakSet,k0=function(e,t,i){switch(t){case"heading":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,i.parser.parseInline(l.tokens),l.depth,zN(i.parser.parseInline(l.tokens,i.parser.textRenderer)))};case"code":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text,l.lang,!!l.escaped)};case"table":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);let o="",s="";for(let c=0;c<l.header.length;c++)s+=this.tablecell({text:l.header[c].text,tokens:l.header[c].tokens,header:!0,align:l.align[c]});o+=this.tablerow({text:s});let u="";for(let c=0;c<l.rows.length;c++){const f=l.rows[c];s="";for(let d=0;d<f.length;d++)s+=this.tablecell({text:f[d].text,tokens:f[d].tokens,header:!1,align:l.align[d]});u+=this.tablerow({text:s})}return e.call(this,o,u)};case"blockquote":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);const o=this.parser.parse(l.tokens);return e.call(this,o)};case"list":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);const o=l.ordered,s=l.start,u=l.loose;let c="";for(let f=0;f<l.items.length;f++){const d=l.items[f],p=d.checked,h=d.task;let m="";if(d.task){const x=this.checkbox({checked:!!p});u?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=x+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=x+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:x+" "}):m+=x+" "}m+=this.parser.parse(d.tokens,u),c+=this.listitem({type:"list_item",raw:m,text:m,task:h,checked:!!p,loose:u,tokens:d.tokens})}return e.call(this,c,o,s)};case"html":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text,l.block)};case"paragraph":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"escape":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)};case"link":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.href,l.title,this.parser.parseInline(l.tokens))};case"image":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.href,l.title,l.text)};case"strong":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"em":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"codespan":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)};case"del":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"text":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)}}return e},af=function(e,t){return(i,l)=>{const o={...l},s={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const u=ko(this,li,I0).call(this,!!s.silent,!!s.async);if(typeof i>"u"||i===null)return u(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return u(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(i):i).then(c=>e(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>t(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(u);try{s.hooks&&(i=s.hooks.preprocess(i));let c=e(i,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let f=t(c,s);return s.hooks&&(f=s.hooks.postprocess(f)),f}catch(c){return u(c)}}},I0=function(e,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const l="<p>An error occurred:</p><pre>"+Xt(i.message+"",!0)+"</pre>";return t?Promise.resolve(l):l}if(t)return Promise.reject(i);throw i}};const dl=new yw;function be(n,e){return dl.parse(n,e)}be.options=be.setOptions=function(n){return dl.setOptions(n),be.defaults=dl.defaults,C0(be.defaults),be};be.getDefaults=hd;be.defaults=yl;be.use=function(...n){return dl.use(...n),be.defaults=dl.defaults,C0(be.defaults),be};be.walkTokens=function(n,e){return dl.walkTokens(n,e)};be.parseInline=dl.parseInline;be.Parser=wn;be.parser=wn.parse;be.Renderer=Er;be.TextRenderer=xd;be.Lexer=Nn;be.lexer=Nn.lex;be.Tokenizer=Cr;be.Hooks=hs;be.parse=be;be.options;be.setOptions;be.use;be.walkTokens;be.parseInline;wn.parse;Nn.lex;const Bu="smartcalendar:geminiApiKey",Pu="smartcalendar:openRouterApiKey",$m="smartcalendar:aiProviderPreference",zu="smartcalendar:openRouterModel",U0=A.createContext(void 0);function vw({children:n}){const[e,t]=A.useState(()=>(localStorage.getItem(Bu)??"").trim()),[i,l]=A.useState(()=>(localStorage.getItem(Pu)??"").trim()),[o,s]=A.useState(()=>{const _=(localStorage.getItem($m)??"").trim();return _==="auto"||_==="gemini"||_==="openrouter"?_:"auto"}),[u,c]=A.useState(()=>(localStorage.getItem(zu)??"").trim()),f=A.useCallback(_=>{const y=_.trim();t(y),y?localStorage.setItem(Bu,y):localStorage.removeItem(Bu)},[]),d=A.useCallback(_=>{const y=_.trim();l(y),y?localStorage.setItem(Pu,y):localStorage.removeItem(Pu)},[]),p=A.useCallback(_=>{s(_),localStorage.setItem($m,_)},[]),h=A.useCallback(_=>{const y=_.trim();c(y),y?localStorage.setItem(zu,y):localStorage.removeItem(zu)},[]),m=A.useCallback(()=>{f("")},[f]),x=A.useCallback(()=>{d("")},[d]),S=A.useMemo(()=>({apiKey:e,openRouterApiKey:i,aiProviderPreference:o,openRouterModel:u,setApiKey:f,setOpenRouterApiKey:d,setAiProviderPreference:p,setOpenRouterModel:h,clearApiKey:m,clearOpenRouterApiKey:x}),[e,i,o,u,f,d,p,h,m,x]);return g.jsx(U0.Provider,{value:S,children:n})}function Td(){const n=A.useContext(U0);if(!n)throw new Error("useApiKey must be used within an ApiKeyProvider");return n}const xw="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let L0=(n=21)=>{let e="",t=crypto.getRandomValues(new Uint8Array(n|=0));for(;n--;)e+=xw[t[n]&63];return e};const Tw="https://openrouter.ai/api/v1/chat/completions",Bm=["mistralai/mistral-7b-instruct:free","meta-llama/llama-3.2-3b-instruct:free","google/gemma-3-4b-it:free","openai/gpt-oss-20b:free"];async function rf({apiKey:n,messages:e,model:t,temperature:i=.2}){var s,u,c,f;const l=t?[t,...Bm]:[...Bm];let o=null;for(const d of l)try{const p=await fetch(Tw,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"SmartCalendar"},body:JSON.stringify({model:d,messages:e,temperature:i})}),h=await p.text();if(!p.ok)try{const S=JSON.parse(h),_=(s=S==null?void 0:S.error)==null?void 0:s.message;throw new Error(_||`OpenRouter   (${p.status}) - model=${d}`)}catch{throw new Error(`OpenRouter   (${p.status}) - model=${d}`)}const m=JSON.parse(h),x=(f=(c=(u=m==null?void 0:m.choices)==null?void 0:u[0])==null?void 0:c.message)==null?void 0:f.content;if(!x||typeof x!="string")throw new Error("OpenRouter   .");return x}catch(p){o=p}throw o instanceof Error?o:new Error("OpenRouter  ")}const Sw=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-slate-400 group-hover:text-cyan-400 transition-colors",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),Cw=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-slate-400 group-hover:text-cyan-400 transition-colors",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})}),Pm=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),_w=({className:n=""})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-5 h-5 ${n}`,children:g.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})}),zm=({className:n=""})=>g.jsx("div",{className:`animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-cyan-500 ${n}`}),Ew=({className:n=""})=>g.jsx("div",{className:`h-4 w-4 rounded-full border-2 border-slate-500 ${n}`}),Aw=({className:n=""})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-4 h-4 ${n}`,children:g.jsx("path",{d:"M10 4.5a.75.75 0 01.75.75v4h4a.75.75 0 010 1.5h-4v4a.75.75 0 01-1.5 0v-4h-4a.75.75 0 010-1.5h4v-4A.75.75 0 0110 4.5z"})}),Gu=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},Gm=n=>{const[e,t,i]=n.split("-").map(Number);return{year:e,month:t,day:i}},bw=(n,e,t)=>{const i=String(n).padStart(4,"0"),l=String(e).padStart(2,"0"),o=String(t).padStart(2,"0");return`${i}-${l}-${o}`},Sd=n=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n),to=n=>typeof n=="string"&&Et.includes(n),O0=n=>n==="manual"||n==="ai",Mw=()=>{try{const n=localStorage.getItem(Mo);if(!n)return[];const e=JSON.parse(n);return Array.isArray(e)?e.map(i=>{if(!i||typeof i!="object")return null;const l=i,o=l.id,s=l.date,u=l.title,c=l.category,f=l.source;if(typeof o!="string"||!Sd(s)||typeof u!="string")return null;const d=to(c)?c:Xn,p=O0(f)?f:"manual";return{id:o,date:s,title:u,category:d,kind:"user",source:p}}).filter(i=>!!i):[]}catch{return[]}},Nw=n=>{try{const e=n.map(({id:t,date:i,title:l,category:o,source:s})=>({id:t,date:i,title:l,category:o,source:s}));localStorage.setItem(Mo,JSON.stringify(e))}catch{}},V0="smartcalendar:eventFilters",yn=["manual","ai"],ww=()=>{try{const n=localStorage.getItem(V0);if(!n)return{categories:[...Et],sources:[...yn]};const e=JSON.parse(n);if(!e||typeof e!="object"||Array.isArray(e))return{categories:[...Et],sources:[...yn]};const t=e,i=t.categories,l=t.sources,o=new Set;if(Array.isArray(i))for(const f of i)to(f)&&o.add(f);const s=new Set;if(Array.isArray(l))for(const f of l)O0(f)&&s.add(f);let u=[...Et];Array.isArray(i)&&(u=Et.filter(f=>o.has(f)),u.length===0&&i.length>0&&(u=[...Et]));let c=[...yn];return Array.isArray(l)&&(c=yn.filter(f=>s.has(f)),c.length===0&&l.length>0&&(c=[...yn])),{categories:u,sources:c}}catch{return{categories:[...Et],sources:[...yn]}}},Rw=n=>{try{localStorage.setItem(V0,JSON.stringify({categories:n.categories,sources:n.sources}))}catch{}},Dw=()=>{try{const n=localStorage.getItem(Hr);if(!n)return{};const e=JSON.parse(n);if(!e||typeof e!="object"||Array.isArray(e))return{};const t={};for(const[i,l]of Object.entries(e)){if(!l||typeof l!="object"||Array.isArray(l))continue;const o=l,s={};Sd(o.date)&&(s.date=o.date),typeof o.title=="string"&&o.title.trim()&&(s.title=o.title.trim()),to(o.category)&&(s.category=o.category),(s.date||s.title||s.category)&&(t[i]=s)}return t}catch{return{}}},kw=n=>{try{localStorage.setItem(Hr,JSON.stringify(n))}catch{}},va=["  ...","    (Google Search)...","   K-   ...","   ...","   ...","     ..."],Iw=({scheduleText:n,manualContextText:e})=>{const{apiKey:t,openRouterApiKey:i,aiProviderPreference:l,openRouterModel:o}=Td(),{colors:s}=zi(),[u,c]=A.useState(new Date),[f,d]=A.useState("month"),[p,h]=A.useState([]),[m,x]=A.useState({}),S=A.useMemo(()=>p.map(E=>{const I=m[E.id];return I?{...E,date:I.date??E.date,title:I.title??E.title,category:I.category??E.category}:E}),[p,m]),[_,y]=A.useState([]),v=A.useMemo(()=>[...S,..._],[S,_]),[{categories:T,sources:C}]=A.useState(()=>ww()),[b,w]=A.useState(T),[N,D]=A.useState(C),[P,O]=A.useState(!1),fe=A.useRef(null);A.useEffect(()=>{Rw({categories:b,sources:N})},[b,N]),A.useEffect(()=>{if(!P)return;const E=I=>{const B=fe.current;B&&(I.target instanceof Node&&B.contains(I.target)||O(!1))};return window.addEventListener("mousedown",E),()=>window.removeEventListener("mousedown",E)},[P]);const xe=A.useMemo(()=>new Set(b),[b]),Ot=A.useMemo(()=>new Set(N),[N]),nt=A.useMemo(()=>v.filter(E=>xe.has(E.category)&&Ot.has(E.source)),[v,xe,Ot]),Mt=b.length===Et.length&&N.length===yn.length,V=()=>{if(Mt){w([]),D([]);return}w([...Et]),D([...yn])},le=E=>{w(I=>{const B=new Set(I);return B.has(E)?B.delete(E):B.add(E),Et.filter(L=>B.has(L))})},te=E=>{D(I=>{const B=new Set(I);return B.has(E)?B.delete(E):B.add(E),yn.filter(L=>B.has(L))})},Re=()=>{w([...Et]),D([...yn])},[ce,Nt]=A.useState(null),[Yt,k]=A.useState({}),[Z,q]=A.useState({}),[U,z]=A.useState(!1),[Ee,Ve]=A.useState(null),[F,J]=A.useState(null),[ne,K]=A.useState(0),ye=A.useRef(0),De=A.useRef(0),[Tt,Ke]=A.useState(!0),[Me,Ge]=A.useState(null),[wt,Sn]=A.useState(new Set),[Qe,Vt]=A.useState(null),[Ro,ai]=A.useState(null),Cn=A.useRef(!1),vl=new Date,[it,$t]=A.useState(!1),[me,$e]=A.useState("create"),[Le,ln]=A.useState(null),[ft,Ft]=A.useState("user"),[Vn,qi]=A.useState(""),[Y,Ae]=A.useState(Xn),[gt,$n]=A.useState(vl.getFullYear()),[ri,Xr]=A.useState(vl.getMonth()+1),[Do,Ws]=A.useState(vl.getDate()),[Cd,ui]=A.useState(null),Qr=A.useMemo(()=>{if(!t)return null;try{return new S0({apiKey:t})}catch(E){return console.error("Failed to initialize Gemini AI:",E),null}},[t]),ci=A.useMemo(()=>{const E=!!t,I=!!i;return l==="gemini"?E?"gemini":I?"openrouter":null:l==="openrouter"?I?"openrouter":E?"gemini":null:E?"gemini":I?"openrouter":null},[l,t,i]);A.useEffect(()=>{const E=()=>y(Mw());return E(),window.addEventListener(dr,E),()=>window.removeEventListener(dr,E)},[]),A.useEffect(()=>{Nw(_)},[_]),A.useEffect(()=>{const E=()=>x(Dw());return E(),window.addEventListener(zc,E),()=>window.removeEventListener(zc,E)},[]),A.useEffect(()=>{kw(m)},[m]),A.useEffect(()=>{(I=>{Ke(!0),Ge(null);const B=new Date().getFullYear(),L=ip,X=[];let Te=1;if(!I||I.trim()===""){Ge("   ."),h([]),Ke(!1);return}const ie=I.split(`
`).filter(re=>re.trim()!=="");if(ie.length===0){Ge("    ."),h([]),Ke(!1);return}ie.forEach((re,St)=>{const Ct=re.split(";").map(Rt=>Rt.trim());if(Ct.length===3){const Rt=Ct[0],oe=Ct[1],de=Ct[2],Je=Rt.match(/(\d+)/),_t=oe.match(/(\d+)/);if(Je&&_t&&de){const at=parseInt(Je[1],10)-1,Bt=parseInt(_t[1],10);if(at>=0&&at<12&&Bt>0&&Bt<=31){const Tl=de.split(",").map(on=>on.trim()).filter(on=>on);for(let on=B;on<=L;on++)Tl.forEach(Bn=>{const Pn=new Date(on,at,Bt);Pn.getFullYear()===on&&Pn.getMonth()===at&&Pn.getDate()===Bt&&X.push({id:`event-${on}-${at+1}-${Bt}-${Bn.substring(0,10).replace(/[^a-zA-Z0-9----]/g,"")}-${Te++}`,date:Gu(Pn),title:Bn,kind:"builtin",category:Xn,source:"manual"})})}else console.warn(`Invalid date components (month or day out of range) in schedule data on line ${St+1}: ${re}`)}else console.warn(`Invalid format (month/day regex mismatch) in schedule data on line ${St+1}: ${re}`)}else re.trim()&&console.warn(`Skipping malformed line (expected 3 parts separated by ';') in schedule data on line ${St+1}: ${re}`)}),h(X),ie.length>0&&X.length===0&&Ge("      .  (: 1 ; 1 ; ) ."),Ke(!1)})(n)},[n]),A.useEffect(()=>{let E;if(U&&ne<va.length){const I=1300+Math.random()*1500;E=window.setTimeout(()=>{K(B=>B+1)},I)}return()=>clearTimeout(E)},[U,ne]);const _d=E=>{c(I=>{const B=new Date(I);return B.setDate(1),B.setMonth(B.getMonth()+E),B}),Sn(new Set)},Ed=E=>{c(I=>{const B=new Date(I);return B.setDate(B.getDate()+E*7),B})},Hi=u.getFullYear(),xl=u.getMonth(),z0=new Date(Hi,xl+1,0).getDate(),G0=new Date(Hi,xl,1).getDay(),Wr=new Date,Ad=A.useCallback(async E=>{var B,L,X;if(Yt[E.id])return;const I=ye.current+1;if(ye.current=I,De.current=I,Ve(E.id),z(!0),K(0),J(null),!ci){De.current===I&&(J("AI    . API   ."),z(!1));return}if(ci==="gemini"&&!Qr){De.current===I&&(J("AI    . Gemini  ."),z(!1));return}try{const Te=`    : '${E.title}'${E.category?` ( : ${E.category})`:""}.
 : ${E.date}

        (       ):
1. **/ **:        . (3-4 )
2. ****:          . **          ** .
    (: "1. [] ", "2.  ", "3.   ")
      :
        1.  / ,  YouTube
        2.    
        3.    
    K-/NEIS       .
3. ** **: (    )`;let ie=Te;e&&(ie+=`

---    ---
${e}
---    ---`),ie+=`

 Google      ,     . Markdown       .`;const re=[];re.push("      ."),re.push("  ,      ."),re.push(" ,       ."),e&&(re.push("     //  ."),re.push("---    ---"),re.push(e),re.push("---    ---"));const St=Te+`

   .`;let Ct,Rt;if(ci==="gemini"){const oe=await Qr.models.generateContent({model:"gemini-2.5-flash",contents:ie,config:{thinkingConfig:{thinkingBudget:3e3},tools:[{googleSearch:{}}]}});Ct=oe.text,Rt=(X=(L=(B=oe.candidates)==null?void 0:B[0])==null?void 0:L.groundingMetadata)==null?void 0:X.groundingChunks}else Ct=await rf({apiKey:i,model:o.trim()||void 0,messages:[{role:"system",content:re.join(`
`)},{role:"user",content:St}],temperature:.2}),Rt=void 0;De.current===I&&(Ct?k(oe=>({...oe,[E.id]:Ct})):J("AI    ."),Rt&&Rt.length>0?q(oe=>({...oe,[E.id]:Rt})):ci==="openrouter"&&q(oe=>{if(!oe[E.id])return oe;const de={...oe};return delete de[E.id],de}))}catch(Te){console.error("Error generating event description:",Te);let ie="    .    .";Te instanceof Error&&(Te.message.includes("quota")?ie="API   .":Te.message.includes("network")&&(ie="  .")),De.current===I&&J(ie)}finally{De.current===I&&(z(!1),K(va.length))}},[ci,Qr,i,o,Yt,e]),bd=E=>{Nt(E),J(null),Ad(E)},Yi=A.useCallback(E=>{k(I=>{if(!I[E])return I;const B={...I};return delete B[E],B}),q(I=>{if(!I[E])return I;const B={...I};return delete B[E],B})},[]),Md=A.useCallback((E,I)=>{if(!E||!Sd(I))return;const B=_.find(X=>X.id===E);if(B){if(B.date===I)return;y(X=>X.map(Te=>Te.id===E?{...Te,date:I}:Te)),Yi(E),Nt(X=>X&&X.id===E?{...X,date:I}:X);return}const L=p.find(X=>X.id===E);L&&(L.date===I?x(X=>{const Te=X[E];if(!Te)return X;const ie={...Te};delete ie.date;const re={...X};return!ie.date&&!ie.title&&!ie.category?delete re[E]:re[E]=ie,re}):x(X=>{const ie={...X[E]??{}};ie.date=I;const re={...X};return re[E]=ie,re}),Yi(E),Nt(X=>X&&X.id===E?{...X,date:I}:X))},[_,p,Yi]),jr=E=>{const{year:I,month:B,day:L}=Gm(E);!Number.isFinite(I)||!Number.isFinite(B)||!Number.isFinite(L)||($e("create"),ln(null),Ft("user"),qi(""),Ae(Xn),$n(I),Xr(B),Ws(L),ui(null),$t(!0))},q0=E=>{const{year:I,month:B,day:L}=Gm(E.date);!Number.isFinite(I)||!Number.isFinite(B)||!Number.isFinite(L)||($e("edit"),ln(E.id),Ft(E.kind),qi(E.title),Ae(E.category??Xn),$n(I),Xr(B),Ws(L),ui(null),$t(!0))},fi=()=>{$t(!1),ui(null)},js=A.useMemo(()=>new Date(gt,ri,0).getDate(),[gt,ri]);A.useEffect(()=>{Do>js&&Ws(js)},[Do,js]);const H0=A.useMemo(()=>{const E=new Date().getFullYear(),I=Math.min(E,gt),B=Math.max(ip,E+2,gt);return Array.from({length:B-I+1},(L,X)=>I+X)},[gt]),Y0=()=>{const E=Vn.trim();if(!E){ui("  .");return}const I=bw(gt,ri,Do),B=new Date(gt,ri-1,Do);if(Number.isNaN(B.getTime())||Gu(B)!==I){ui("  .");return}if(me==="create"){const L=to(Y)?Y:null;if(!L){ui(" .");return}const X={id:`user-${L0(10)}`,date:I,title:E,category:L,kind:"user",source:"manual"};y(Te=>[X,...Te]),fi();return}if(!Le){ui("   .");return}if(ft==="user"){const L=to(Y)?Y:null;if(!L){ui(" .");return}y(X=>X.map(Te=>Te.id===Le?{...Te,date:I,title:E,category:L}:Te)),Yi(Le),fi();return}x(L=>{const X=p.find(St=>St.id===Le);if(!X)return L;const ie={...L[Le]??{}};I===X.date?delete ie.date:ie.date=I,E===X.title?delete ie.title:ie.title=E,to(Y)?ie.category=Y:delete ie.category;const re={...L};return!ie.date&&!ie.title&&!ie.category?delete re[Le]:re[Le]=ie,re}),Yi(Le),fi()},Nd=()=>{if(Le){if(ft==="builtin"){x(E=>{if(!E[Le])return E;const B={...E};return delete B[Le],B}),Yi(Le),fi();return}y(E=>E.filter(I=>I.id!==Le)),Yi(Le),fi()}},wd=E=>{Sn(I=>{const B=new Set(I);return B.has(E)?B.delete(E):B.add(E),B})},F0=()=>g.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center mb-4 sm:mb-6 px-1 sm:px-2",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("h2",{className:`text-xl sm:text-2xl font-bold ${s.textPrimary} tracking-wide`,children:f==="month"?`${Hi} ${Lu[xl]}`:`${Hi} ${Lu[u.getMonth()]} ${Math.ceil(u.getDate()/7)} ()`}),g.jsxs("div",{className:`flex ${s.inputBg} rounded-lg p-1 border ${s.border}`,children:[g.jsx("button",{onClick:()=>d("month"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${f==="month"?`${s.activeTabBg} ${s.buttonText} shadow-sm`:`${s.textSecondary} hover:${s.textPrimary}`}`,children:""}),g.jsx("button",{onClick:()=>d("week"),"data-tour":"view-week",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${f==="week"?`${s.activeTabBg} ${s.buttonText} shadow-sm`:`${s.textSecondary} hover:${s.textPrimary}`}`,children:""})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"relative",ref:fe,children:[g.jsxs("button",{type:"button",onClick:()=>O(E=>!E),"data-tour":"filter-button",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors border ${s.border} ${s.inputBg} ${s.textPrimary} hover:opacity-90`,"aria-label":"",children:["",Mt?"":" "]}),P&&g.jsxs("div",{className:`absolute right-0 mt-2 w-72 ${s.componentBg} border ${s.border} rounded-xl shadow-xl p-3 z-[110]`,onClick:E=>E.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[g.jsx("span",{className:`text-sm font-semibold ${s.textPrimary}`,children:""}),g.jsx("button",{type:"button",onClick:Re,className:`text-xs ${s.textSecondary} hover:${s.textPrimary} underline`,children:""})]}),g.jsxs("label",{className:`flex items-center gap-2 text-sm ${s.textPrimary}`,children:[g.jsx("input",{type:"checkbox",className:`mt-0.5 h-4 w-4 rounded border ${s.border} ${s.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:Mt,onChange:V})," "]}),g.jsxs("div",{className:`mt-3 pt-2 border-t ${s.border}`,children:[g.jsx("div",{className:`text-xs font-semibold ${s.textSecondary} mb-1`,children:""}),g.jsx("div",{className:"max-h-40 overflow-y-auto scrollbar-thin pr-1 space-y-1",children:Et.map(E=>g.jsxs("label",{className:`flex items-center gap-2 text-sm ${s.textPrimary}`,children:[g.jsx("input",{type:"checkbox",className:`mt-0.5 h-4 w-4 rounded border ${s.border} ${s.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:xe.has(E),onChange:()=>le(E)}),g.jsx("span",{className:"truncate",children:E})]},E))})]}),g.jsxs("div",{className:`mt-3 pt-2 border-t ${s.border}`,children:[g.jsx("div",{className:`text-xs font-semibold ${s.textSecondary} mb-1`,children:" "}),g.jsx("div",{className:"space-y-1",children:yn.map(E=>g.jsxs("label",{className:`flex items-center gap-2 text-sm ${s.textPrimary}`,children:[g.jsx("input",{type:"checkbox",className:`mt-0.5 h-4 w-4 rounded border ${s.border} ${s.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:Ot.has(E),onChange:()=>te(E)}),E==="manual"?" ":"AI "]},E))})]})]})]}),g.jsx("button",{onClick:()=>f==="month"?_d(-1):Ed(-1),className:`p-2 rounded-full ${s.hoverEffect} focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 transition-colors group`,"aria-label":"Previous",children:g.jsx(Sw,{})}),g.jsx("button",{onClick:()=>f==="month"?_d(1):Ed(1),className:`p-2 rounded-full ${s.hoverEffect} focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 transition-colors group`,"aria-label":"Next",children:g.jsx(Cw,{})})]})]}),Z0=()=>g.jsx("div",{className:"flex-shrink-0 grid grid-cols-7 gap-1 sm:gap-2 mb-2 px-1",children:Fv.map(E=>g.jsx("div",{className:"text-center font-medium text-xs sm:text-sm text-text-tertiary uppercase",children:E},E))}),K0=()=>{const E=[];for(let L=0;L<G0;L++)E.push(g.jsx("div",{className:"border border-transparent rounded-lg"},`blank-${L}`));const I=[],B=2;for(let L=1;L<=z0;L++){const X=L===Wr.getDate()&&xl===Wr.getMonth()&&Hi===Wr.getFullYear(),Te=new Date(Hi,xl,L),ie=Gu(Te),re=nt.filter(oe=>oe.date===ie),St=wt.has(ie),Ct=!St&&re.length>B,Rt=St?re:re.slice(0,B);I.push(g.jsx("div",{className:"relative min-h-[100px] h-full",children:g.jsxs("div",{"aria-label":`${Lu[xl]} ${L}, ${Hi}. ${re.length} .   .`,onClick:()=>{Qe||Cn.current||jr(ie)},onDragOver:oe=>{Qe&&(oe.preventDefault(),oe.dataTransfer.dropEffect="move",ai(ie))},onDragLeave:()=>{ai(oe=>oe===ie?null:oe)},onDrop:oe=>{oe.preventDefault(),oe.stopPropagation();const de=oe.dataTransfer.getData("text/plain");de&&Md(de,ie),Cn.current=!0,window.setTimeout(()=>{Cn.current=!1},0),Vt(null),ai(null)},className:`
                p-1 sm:p-2 border border-border-secondary/30 rounded-lg
                flex flex-col items-start justify-start 
                text-left 
                transition-all duration-200 ease-in-out
                w-full
                hover:brightness-125 hover:shadow-xl hover:border-accent-primary/70 z-0 hover:z-10
                ${St?`absolute top-0 left-0 z-[60] h-auto min-h-full shadow-2xl ring-1 ring-border-primary ${s.componentBg}`:`relative h-full ${s.componentBg}`}
                ${X?"bg-accent-primary/10 border-accent-secondary/50":""}
                ${Ro===ie?"ring-2 ring-accent-primary":""}
            `,children:[g.jsxs("div",{className:"flex justify-between items-center w-full mb-0.5 flex-shrink-0",children:[g.jsx("span",{className:`
                text-xs font-semibold ml-1
                ${X?"bg-accent-primary text-white w-5 h-5 flex items-center justify-center rounded-full -ml-1 text-[10px]":"text-text-secondary"}
              `,children:L}),g.jsx("button",{type:"button",onClick:oe=>{oe.stopPropagation(),jr(ie)},className:`
                  p-0.5 rounded-full 
                  text-text-tertiary hover:text-accent-primary hover:bg-main
                  opacity-0 group-hover:opacity-100 transition-opacity
                  ${St?"opacity-100":""}
                `,"aria-label":" ",children:g.jsx(Aw,{className:"w-3 h-3"})})]}),g.jsxs("div",{className:`w-full space-y-0.5 flex flex-col ${St?"":"overflow-hidden"}`,children:[Rt.map(oe=>{const de=oe.kind==="user";return g.jsx("button",{type:"button",onClick:Je=>{Je.stopPropagation(),!Cn.current&&bd(oe)},draggable:!0,onDragStart:Je=>{Je.dataTransfer.setData("text/plain",oe.id),Je.dataTransfer.effectAllowed="move",Vt(oe.id)},onDragEnd:()=>{Vt(null),ai(null)},className:`
                      text-left w-full text-[10px] sm:text-[11px] px-1.5 rounded transition-all shadow-sm
                      truncate leading-tight font-bold
                      border flex-shrink-0 h-5 flex items-center
                      ${de?"bg-accent-primary text-white border-transparent hover:opacity-90":"bg-tertiary text-text-primary border-transparent hover:opacity-90"} 
                      cursor-grab active:cursor-grabbing
                    `,title:oe.title,children:oe.title},oe.id)}),Ct&&g.jsxs("button",{type:"button",onClick:oe=>{oe.stopPropagation(),wd(ie)},className:"text-[10px] font-bold text-text-tertiary hover:text-text-primary hover:bg-tertiary/50 mt-0.5 h-4 flex items-center justify-center w-full text-center rounded transition-colors flex-shrink-0",children:["+",re.length-B," "]}),St&&re.length>B&&g.jsx("button",{type:"button",onClick:oe=>{oe.stopPropagation(),wd(ie)},className:"text-[10px] sm:text-xs text-text-tertiary hover:text-text-primary mt-1 py-1 w-full text-center hover:bg-tertiary/50 rounded transition-colors flex-shrink-0",children:""})]})]})},L))}return g.jsx(g.Fragment,{children:[...E,...I]})},J0=()=>{if(!ce)return null;const E=Yt[ce.id],I=Z[ce.id],B=U&&Ee===ce.id,L=Ee===ce.id?F:null;let X="/ ",Te="",ie="",re="",St=" ",Ct="",Rt="";if(E){const de=E,Je=de.match(/1\.\s*(?:\*\*)?\/ (?:\*\*)?:?/i),_t=de.match(/2\.\s*(?:\*\*)?(?:\*\*)?:?/i),at=de.match(/3\.\s*(?:\*\*)? (?:\*\*)?:?/i);let Bt=Je?(Je.index||0)+Je[0].length:-1,Tl=_t?(_t.index||0)+_t[0].length:-1,on=at?(at.index||0)+at[0].length:-1,Bn=de.length;_t&&(_t.index||0)>Bt&&Bt!==-1&&(Bn=Math.min(Bn,_t.index||0)),at&&(at.index||0)>Bt&&Bt!==-1&&(Bn=Math.min(Bn,at.index||0));let Pn=de.length;at&&(at.index||0)>Tl&&Tl!==-1&&(Pn=Math.min(Pn,at.index||0)),Bt!==-1&&(Te=de.substring(Bt,Bn).trim()),Tl!==-1&&(!Je||((_t==null?void 0:_t.index)||0)>=Bn)&&(re=de.substring(Tl,Pn).trim()),on!==-1&&(!_t||((at==null?void 0:at.index)||0)>=Pn)&&(Ct=de.substring(on).trim()),!Je&&!_t&&!at&&de?Rt=de.trim():Je&&!Te&&!re&&!Ct&&Bt!==-1&&(Te=de.substring(Bt).trim())}const oe=de=>{if(!de)return null;const _t=be.parse(de,{breaks:!0,gfm:!0}).replace(/<ul>/g,'<ul class="list-disc list-outside ml-5 space-y-1">').replace(/<ol>/g,'<ol class="list-decimal list-outside ml-5 space-y-1">').replace(/<li>/g,`<li class="text-sm ${s.textSecondary} leading-relaxed">`).replace(/<p>/g,`<p class="text-sm ${s.textSecondary} leading-relaxed mb-2">`).replace(/<strong>/g,`<strong class="font-semibold ${s.textPrimary}">`).replace(/<h3>/g,`<h3 class="text-base font-semibold ${s.accentColor} mt-2 mb-1">`).replace(/<h4>/g,`<h4 class="text-sm font-semibold ${s.accentColor} mt-1 mb-1">`);return g.jsx("div",{dangerouslySetInnerHTML:{__html:_t}})};return g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",onClick:()=>Nt(null),role:"dialog","aria-modal":"true","aria-labelledby":"event-modal-title",children:g.jsxs("div",{className:`${s.componentBg} p-5 sm:p-6 rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col ${s.textPrimary} border ${s.border}`,onClick:de=>de.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-start mb-4 flex-shrink-0 gap-3",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("h3",{id:"event-modal-title",className:`text-lg font-semibold ${s.accentColor} truncate`,children:ce.title}),g.jsxs("p",{className:`text-xs ${s.textSecondary} mt-0.5`,children:["AI   ",ci==="gemini"?"Gemini":ci==="openrouter"?"OpenRouter":"",ce.category?`  ${ce.category}`:""]})]}),g.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g.jsx("button",{type:"button",onClick:()=>{Nt(null),q0(ce)},className:`${s.buttonBg} ${s.hoverEffect} ${s.buttonText} font-semibold py-1.5 px-3 rounded-lg transition-colors text-sm`,children:""}),g.jsx("button",{onClick:()=>Nt(null),className:`p-1 ${s.textSecondary} hover:${s.textPrimary} transition-colors rounded-full ${s.hoverEffect}`,"aria-label":" ",type:"button",children:g.jsx(Pm,{})})]})]}),g.jsxs("div",{className:"overflow-y-auto flex-grow pr-1 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-blue-700 hover:scrollbar-thumb-blue-600 active:scrollbar-thumb-blue-500 scrollbar-thumb-rounded-md",children:[B&&!E&&!L&&g.jsxs("div",{className:"text-sm text-slate-300 py-4",children:[g.jsx("ul",{className:"space-y-2.5",children:va.map((de,Je)=>g.jsxs("li",{className:"flex items-center space-x-2.5",children:[Je<ne?g.jsx(_w,{className:"text-green-500 flex-shrink-0"}):Je===ne&&U?g.jsx(zm,{className:"flex-shrink-0"}):g.jsx(Ew,{className:"text-slate-500 flex-shrink-0"}),g.jsx("span",{className:`${Je<ne?"text-slate-500 line-through":Je===ne&&U?"text-cyan-400 font-medium":"text-slate-400"}`,children:de})]},Je))}),ne>=va.length&&B&&g.jsxs("div",{className:"flex items-center space-x-2.5 mt-3",children:[g.jsx(zm,{className:"flex-shrink-0"}),g.jsx("span",{className:"text-cyan-400 font-medium",children:" ..."})]})]}),L&&g.jsxs("div",{className:"text-sm text-red-400 bg-red-900/20 border border-red-700 p-3 rounded-md",children:[g.jsx("p",{className:"font-semibold mb-1",children:""}),L]}),!E&&!B&&!L&&g.jsxs("div",{className:`text-sm ${s.textSecondary} py-4`,children:[g.jsx("p",{className:`font-semibold ${s.textPrimary} mb-1`,children:"AI    ."}),g.jsxs("p",{children:[" ",g.jsx("span",{className:`${s.textPrimary} font-medium`,children:"API Key "})," Gemini  OpenRouter     ."]}),g.jsx("button",{type:"button",onClick:()=>Ad(ce),className:`${s.accentBg} hover:opacity-90 ${s.buttonText} font-semibold py-2 px-3 rounded-lg transition-colors text-xs mt-3`,children:"AI  "})]}),E&&!L&&g.jsxs(g.Fragment,{children:[Rt&&g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:oe(Rt)}),Te&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-md font-semibold text-cyan-400 mb-1.5",children:X}),g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:oe(Te)})]}),re&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-md font-semibold text-cyan-400 mb-1.5",children:ie}),g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:oe(re)})]}),Ct&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-md font-semibold text-cyan-400 mb-1.5",children:St}),g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:oe(Ct)})]}),I&&I.length>0&&g.jsxs("div",{className:"mt-5 pt-4 border-t border-slate-700",children:[g.jsx("h4",{className:"text-xs font-semibold text-slate-400 mb-2",children:"  (Google ):"}),g.jsx("ul",{className:"space-y-1.5",children:I.map((de,Je)=>de.web&&de.web.uri?g.jsx("li",{className:"text-xs",children:g.jsx("a",{href:de.web.uri,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 hover:text-cyan-400 hover:underline",title:de.web.title||de.web.uri,children:de.web.title||de.web.uri})},Je):null).filter(Boolean)})]})]}),!ci&&(!(ce!=null&&ce.id)||!Yt[ce.id]&&!U&&!F)&&g.jsx("div",{className:"text-sm text-yellow-400 bg-yellow-900/20 border border-yellow-700 p-3 rounded-md mt-3",children:"AI   API  .    ."})]})]})})},X0=()=>{if(!it)return null;const E=me==="create"?" ":ft==="builtin"?"  ":" ",I=Array.from({length:12},(L,X)=>X+1),B=Array.from({length:js},(L,X)=>X+1);return g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",onClick:fi,role:"dialog","aria-modal":"true","aria-labelledby":"event-editor-title",children:g.jsxs("div",{className:`${s.componentBg} p-5 sm:p-6 rounded-lg shadow-2xl w-full max-w-lg flex flex-col ${s.textPrimary} border ${s.border}`,onClick:L=>L.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-start gap-3",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("h3",{id:"event-editor-title",className:`text-lg font-semibold ${s.accentColor}`,children:E}),g.jsx("p",{className:`text-xs ${s.textSecondary} mt-0.5`,children:"    . (&   )"}),ft==="builtin"&&g.jsx("p",{className:"text-[11px] text-slate-500 mt-1",children:"     ."})]}),g.jsx("button",{type:"button",onClick:fi,className:`p-1 ${s.textSecondary} hover:${s.textPrimary} transition-colors rounded-full ${s.hoverEffect}`,"aria-label":" ",children:g.jsx(Pm,{})})]}),g.jsxs("div",{className:"mt-4 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:`text-sm ${s.textPrimary} block mb-1`,children:""}),g.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[g.jsx("select",{value:gt,onChange:L=>$n(Number(L.target.value)),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,"aria-label":" ",children:H0.map(L=>g.jsxs("option",{value:L,children:[L,""]},L))}),g.jsx("select",{value:ri,onChange:L=>Xr(Number(L.target.value)),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,"aria-label":" ",children:I.map(L=>g.jsxs("option",{value:L,children:[L,""]},L))}),g.jsx("select",{value:Do,onChange:L=>Ws(Number(L.target.value)),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,"aria-label":" ",children:B.map(L=>g.jsxs("option",{value:L,children:[L,""]},L))})]}),g.jsx("p",{className:"text-[11px] text-slate-500 mt-1",children:"       ."})]}),g.jsxs("div",{children:[g.jsx("label",{className:`text-sm ${s.textPrimary} block mb-1`,htmlFor:"event-category",children:""}),g.jsxs("select",{id:"event-category",value:Y,onChange:L=>Ae(L.target.value),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,children:[g.jsx("option",{value:"",children:" ()"}),Et.map(L=>g.jsx("option",{value:L,children:L},L))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:`text-sm ${s.textPrimary} block mb-1`,htmlFor:"event-title",children:" "}),g.jsx("input",{id:"event-title",value:Vn,onChange:L=>qi(L.target.value),placeholder:":   ",className:`w-full p-2.5 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none placeholder-slate-600`,autoFocus:!0}),Cd&&g.jsx("div",{className:"mt-2 text-xs text-red-300 bg-red-900/20 border border-red-700 p-2 rounded-md",children:Cd})]})]}),g.jsxs("div",{className:"mt-5 flex items-center justify-between gap-3",children:[me==="edit"?ft==="user"?g.jsx("button",{type:"button",onClick:Nd,className:"bg-red-600 hover:bg-red-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:""}):g.jsx("button",{type:"button",onClick:Nd,className:`${s.buttonBg} ${s.hoverEffect} ${s.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:" "}):g.jsx("div",{}),g.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[g.jsx("button",{type:"button",onClick:fi,className:`${s.buttonBg} ${s.hoverEffect} ${s.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:""}),g.jsx("button",{type:"button",onClick:Y0,className:`${s.accentBg} hover:opacity-90 ${s.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:""})]})]})]})})};return g.jsxs("div",{className:`${s.componentBg} px-4 sm:px-6 py-3 sm:py-5 rounded-xl shadow-2xl flex flex-col w-full h-full border ${s.border}`,children:[F0(),Tt&&g.jsx("div",{className:"text-center p-2 text-sm text-cyan-400 my-1",children:"   ..."}),Me&&!Tt&&g.jsxs("div",{className:"text-center p-2 text-sm text-red-400 bg-red-900/30 rounded-md my-1",children:[g.jsx("p",{className:"font-semibold",children:"  :"}),g.jsx("p",{children:Me}),g.jsx("p",{className:"text-xs mt-1",children:"      ."})]}),!Tt&&!Me&&v.length===0&&g.jsx("div",{className:"text-center p-2 text-sm text-slate-400 my-1",children:"  .     ."}),!Tt&&!Me&&v.length>0&&nt.length===0&&g.jsxs("div",{className:"text-center p-2 text-sm text-slate-300 bg-slate-900/30 rounded-md my-1",children:[g.jsx("p",{children:"    ."}),g.jsx("button",{type:"button",onClick:Re,className:`${s.accentBg} hover:opacity-90 ${s.buttonText} font-semibold py-1.5 px-3 rounded-lg transition-colors text-xs mt-2`,children:" "})]}),f==="month"?g.jsxs("div",{className:"flex-grow flex flex-col min-h-0",children:[Z0(),g.jsx("div",{className:`flex-grow grid grid-cols-7 grid-rows-6 sm:gap-1 min-h-0 ${s.mainBg} rounded-xl sm:border ${s.border}/50 sm:p-2`,children:K0()})]}):g.jsx("div",{className:"flex-grow flex flex-col min-h-0",children:g.jsx(eS,{currentDate:u,events:nt,onEventClick:bd,onDateClick:E=>{Qe||Cn.current||jr(E)},onDragStart:(E,I)=>{Vt(I),E.dataTransfer.setData("text/plain",I),E.dataTransfer.effectAllowed="move"},onDragEnd:()=>{Vt(null),ai(null)},onDrop:(E,I)=>{E.preventDefault();const B=E.dataTransfer.getData("text/plain");B&&(Md(B,I),Cn.current=!0,setTimeout(()=>{Cn.current=!1},100)),Vt(null),ai(null)}})}),J0(),X0()]})},ql=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},Uw=n=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n),ps=n=>{if(!Uw(n))return!1;const[e,t,i]=n.split("-").map(Number),l=new Date(e,t-1,i);return l.getFullYear()===e&&l.getMonth()===t-1&&l.getDate()===i},$0=n=>typeof n!="string"?null:Et.includes(n)?n:null,Lw=n=>n==="manual"||n==="ai"?n:null,ms=(n,e)=>n.localeCompare(e),qu=(n,e)=>{if(!ps(n))return n;const[t,i,l]=n.split("-").map(Number),o=new Date(t,i-1,l);return o.setDate(o.getDate()+e),ql(o)},Ki=(n,e)=>ms(n,e)<0?e:n,Ow=(n,e)=>ms(n,e)>0?e:n,Vw=(n,e=new Date)=>{const t=[/(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C?\s*[~-]\s*(\d{1,2})\s*\uC77C?/,/(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C?\s*[~-]\s*(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C?/,/(\d{1,2})\s*[\/\.]\s*(\d{1,2})\s*[~-]\s*(\d{1,2})\s*[\/\.]\s*(\d{1,2})/,/(\d{1,2})\s*\s*(\d{1,2})\s*?\s*[~\\-]\s*(\d{1,2})\s*?/,/(\d{1,2})\s*\s*(\d{1,2})\s*?\s*[~\\-]\s*(\d{1,2})\s*\s*(\d{1,2})\s*?/,/(\d{1,2})\s*[\\/\\.]\\s*(\d{1,2})\s*[~\\-]\s*(\d{1,2})\s*[\\/\\.]\\s*(\d{1,2})/];let i=null,l=null,o=null,s=null;for(const x of t){const S=n.match(x);if(S){if(x===t[0]){i=Number(S[1]),l=Number(S[2]),o=i,s=Number(S[3]);break}if(x===t[1]){i=Number(S[1]),l=Number(S[2]),o=Number(S[3]),s=Number(S[4]);break}if(x===t[2]){i=Number(S[1]),l=Number(S[2]),o=Number(S[3]),s=Number(S[4]);break}}}if(!i||!l||!o||!s||!Number.isFinite(i)||!Number.isFinite(l)||!Number.isFinite(o)||!Number.isFinite(s)||i<1||i>12||o<1||o>12||l<1||l>31||s<1||s>31)return null;const u=new Date(e.getFullYear(),e.getMonth(),e.getDate());let c=e.getFullYear();new Date(c,i-1,l)<u&&(c+=1);const p=o<i||o===i&&s<l?c+1:c,h=new Date(c,i-1,l),m=new Date(p,o-1,s);return Number.isNaN(h.getTime())||Number.isNaN(m.getTime())||ql(h)!==`${String(c).padStart(4,"0")}-${String(i).padStart(2,"0")}-${String(l).padStart(2,"0")}`||ql(m)!==`${String(p).padStart(4,"0")}-${String(o).padStart(2,"0")}-${String(s).padStart(2,"0")}`?null:{start:ql(h),end:ql(m)}},qm=n=>["","","","","","","","","",""].some(t=>n.includes(t)),Hm=n=>["","","","","","","",""].some(t=>n.includes(t)),$w=()=>{try{const n=localStorage.getItem(Mo);if(!n)return[];const e=JSON.parse(n);return Array.isArray(e)?e.map(t=>{if(!t||typeof t!="object")return null;const i=t,l=i.id,o=i.date,s=i.title,u=i.category,c=i.source;if(typeof l!="string"||typeof s!="string"||!s.trim()||typeof o!="string"||!ps(o))return null;const f=$0(u)??Xn,d=Lw(c)??"manual";return{id:l,date:o,title:s.trim(),category:f,source:d}}).filter(t=>!!t):[]}catch{return[]}},Bw=n=>{try{const e=n.map(({id:t,date:i,title:l,category:o,source:s})=>({id:t,date:i,title:l,category:o,source:s}));localStorage.setItem(Mo,JSON.stringify(e))}catch{}},Pw=n=>{const e=n.indexOf("{");if(e<0)return null;const t=n.lastIndexOf("}");return t<=e?null:n.slice(e,t+1)},zw=({className:n="w-5 h-5"})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.8,stroke:"currentColor",className:n,children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 2v2m8-2v2M4 7h16"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5h14a2 2 0 012 2v13a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11v6m-3-3h6"})]}),Gw=({className:n="w-5 h-5"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.8,stroke:"currentColor",className:n,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),qw=({className:n="w-6 h-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:g.jsx("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 00-3 3v10.5a3 3 0 003 3h15a3 3 0 003-3V6.75a3 3 0 00-3-3h-15zm4.125 3a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0zM15.375 3a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0zM19.5 6.75a1.125 1.125 0 11-2.25 0 1.125 1.125 0 012.25 0zM10.875 12a3.375 3.375 0 00-3.375 3.375h6.75A3.375 3.375 0 0010.875 12zM4.125 13.875a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z",clipRule:"evenodd"})}),Hw=({className:n="w-6 h-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:g.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z",clipRule:"evenodd"})}),Yw=()=>g.jsxs("div",{className:"flex items-center gap-1.5 px-1 py-1",children:[g.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300/80",style:{animation:"typingDot 1.2s infinite ease-in-out",animationDelay:"0ms"}}),g.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300/80",style:{animation:"typingDot 1.2s infinite ease-in-out",animationDelay:"150ms"}}),g.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300/80",style:{animation:"typingDot 1.2s infinite ease-in-out",animationDelay:"300ms"}})]}),Fw=({manualContextText:n})=>{const{apiKey:e,openRouterApiKey:t,aiProviderPreference:i,openRouterModel:l}=Td(),{colors:o}=zi(),[s,u]=A.useState(null),[c,f]=A.useState(null),[d,p]=A.useState([]),[h,m]=A.useState(""),[x,S]=A.useState(!1),[_,y]=A.useState(null),[v,T]=A.useState(!1),[C,b]=A.useState(!1),[w,N]=A.useState(null),[D,P]=A.useState(null),O=A.useRef(null),fe=A.useRef(null),xe=A.useRef(!1),Ot=A.useRef({});A.useEffect(()=>{if(e)try{const k=new S0({apiKey:e});u(k),y(null),T(!0)}catch(k){console.error("Failed to initialize GoogleGenAI:",k),y("AI   . API   ."),T(!1)}else t?(u(null),f(null),y(null),T(!0),p([{id:"initial-ai-message",text:"!      .",isUser:!1}])):(console.warn("API_KEY for chatbot is not set. Chatbot AI features will be disabled."),u(null),f(null),p([{id:"initial-no-key",text:"API      .  **API Key **  .",isUser:!1}]),y("AI    API  ."),T(!1))},[e,t]),A.useEffect(()=>{var k;if(s&&v){let Z="You are a helpful assistant for Korean school administration tasks. Provide concise and accurate information based on your knowledge and Google Search results. Cite your sources when available using the grounding information. Respond in Korean. Format your responses using markdown where appropriate (e.g., lists, bolding).!      ";n&&(Z+=`

Additionally, you have access to the following table of contents from a school administration manual. When a user's query relates to topics covered in this manual, please reference the relevant sections or page numbers in your response if applicable. If you use information from this manual, please try to cite it (e.g., " 10, 168p ").

--- SCHOOL ADMINISTRATION MANUAL (TABLE OF CONTENTS) START ---
${n}
--- SCHOOL ADMINISTRATION MANUAL (TABLE OF CONTENTS) END ---`);try{const q=s.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:Z,tools:[{googleSearch:{}}]}});f(q),p([{id:"initial-ai-message",text:"!      .",isUser:!1}]),(k=fe.current)==null||k.focus()}catch(q){console.error("Failed to create chat session:",q),y("   .    API  .")}}},[s,v,n]);const nt=A.useCallback(k=>{if(!k)return;const Z=Ot.current[k.id];Z&&Z.scrollIntoView({behavior:"smooth",block:k.align??"start"})},[]);A.useEffect(()=>{if(xe.current){xe.current=!1;return}D&&(nt(D),P(null))},[d,D,nt]);const Mt=A.useCallback((k,Z)=>{xe.current=!0,p(q=>q.map(U=>{if(U.id!==k||!U.scheduleProposal||U.scheduleProposal.applied||Z<0||Z>=U.scheduleProposal.selected.length)return U;const z=U.scheduleProposal.selected.slice();return z[Z]=!z[Z],{...U,scheduleProposal:{...U.scheduleProposal,selected:z}}}))},[]),V=A.useCallback(k=>{xe.current=!0,p(Z=>Z.map(q=>{if(q.id!==k||!q.scheduleProposal||q.scheduleProposal.applied)return q;const U=q.scheduleProposal.selected.every(Boolean),z=q.scheduleProposal.selected.map(()=>!U);return{...q,scheduleProposal:{...q.scheduleProposal,selected:z}}}))},[]),le=A.useCallback((k,Z)=>{xe.current=!0,N(q=>q&&q.messageId===k&&q.index===Z?null:{messageId:k,index:Z})},[]),te=A.useCallback((k,Z,q)=>{ps(q)&&(xe.current=!0,p(U=>U.map(z=>{if(z.id!==k||!z.scheduleProposal||z.scheduleProposal.applied||Z<0||Z>=z.scheduleProposal.items.length)return z;const Ee=z.scheduleProposal.items.slice();return Ee[Z]={...Ee[Z],date:q},{...z,scheduleProposal:{...z.scheduleProposal,items:Ee}}})),N(null))},[]),Re=A.useCallback(k=>{xe.current=!0,p(Z=>{const q=Z.find(K=>K.id===k);if(!(q!=null&&q.scheduleProposal)||q.scheduleProposal.applied)return Z;const U=q.scheduleProposal,z=U.items.filter((K,ye)=>U.selected[ye]);if(z.length===0)return Z;const Ee=$w(),Ve=new Set(Ee.map(K=>`${K.date}::${K.title}`)),F=[];for(const K of z){const ye=`${K.date}::${K.title}`;Ve.has(ye)||(Ve.add(ye),F.push({id:`user-${L0(10)}`,date:K.date,title:K.title,category:K.category,source:"ai"}))}const J=[...F,...Ee];Bw(J),window.dispatchEvent(new CustomEvent(dr));const ne=[];return ne.push(` : **${F.length}**   .`),U.project&&ne.push(`- : **${U.project}**`),U.deadline&&ne.push(`- : **${U.deadline}**`),F.length>0?(ne.push(""),ne.push(...F.map(K=>`- ${K.date} ${K.title}`))):(ne.push(""),ne.push("        .")),Z.map(K=>K.id!==k?K:{...K,text:`${K.text}

${ne.join(`
`)}`.trim(),scheduleProposal:{...U,applied:!0,appliedCount:F.length,skippedCount:Math.max(0,z.length-F.length)}})})},[]),ce=A.useCallback(async()=>{var U,z,Ee,Ve;if(!h.trim()||x||!v)return;const k=h.trim(),Z={id:`user-${Date.now()}`,text:k,isUser:!0};p(F=>[...F,Z]),m(""),S(!0),y(null);const q=`ai-${Date.now()}`;p(F=>[...F,{id:q,text:"",isUser:!1,sources:[]}]),P({id:q,align:"start"});try{const F=(()=>{const J=!!e,ne=!!t;return i==="gemini"?J?"gemini":ne?"openrouter":null:i==="openrouter"?ne?"openrouter":J?"gemini":null:J?"gemini":ne?"openrouter":null})();if(!F)throw new Error("API_KEY_MISSING");if(C){const J=new Date,ne=ql(J),K=Vw(k,J),ye=(K==null?void 0:K.start)??null,De=(K==null?void 0:K.end)??null,Ke=`    'K-( //)  ' ' ( )'  .
-      (/////// ) //   K-  , "  (/)    ()"    .
  : "12 24  " ' (/)' , " ", "/", " ", "  "  3~4  .
-  (//  )     events  ([]) .
${F==="gemini"?"-   Google Search()  K-   /     .":"-   ,  K-       . (  )"}
-  JSON(/ ).     .

( /  ):
{
  "project": string,
  "deadline": "YYYY-MM-DD" | null,
  "events": [
    { "date": "YYYY-MM-DD", "task": string, "title": string, "category": string | null }
  ]
}

:
- title  "\${project}: \${task}" .
- date  ISO(YYYY-MM-DD).
-     (${ne}, KST)    ''  .
- events **  3~4**. ( 3,    4)  task .
- events date  .
- (deadline)  events   (       ).
- category    ( null):
  ${Et.join(", ")}

   (: "12 20~24 "):
- executionStart: ${ye??"null"}
- executionEnd: ${De??"null"}
- **//////    executionStart   **.
- **//    executionStart~executionEnd  ** .
- **///    executionEnd   ** .
-    , " ()  / "   .

 : """${k}"""`;let Me="",Ge=[],wt=!1;if(F==="gemini"){if(!s)throw new Error("AI_NOT_READY");const me=async ft=>{var Y,Ae,gt;const Ft=await s.models.generateContent({model:"gemini-2.5-flash",contents:ft,config:{thinkingConfig:{thinkingBudget:3e3},tools:[{googleSearch:{}}]}}),Vn=((gt=(Ae=(Y=Ft.candidates)==null?void 0:Y[0])==null?void 0:Ae.groundingMetadata)==null?void 0:gt.groundingChunks)??[],qi=Vn.filter($n=>{var ri;return(ri=$n.web)==null?void 0:ri.uri});return{response:Ft,groundingChunks:Vn,webChunks:qi}};let{response:$e,groundingChunks:Le,webChunks:ln}=await me(Ke);if(wt=ln.length>0,!wt){const ft=`${Ke}

:  googleSearch    1 web.uri  .   events  ([]) .`;({response:$e,groundingChunks:Le,webChunks:ln}=await me(ft)),wt=ln.length>0}Me=$e.text??"",Ge=Le}else Me=await rf({apiKey:t,model:l.trim()||void 0,messages:[{role:"system",content:"  (K-)  .  JSON ,      ."},{role:"user",content:Ke}],temperature:.2}),Ge=[],wt=!1;const Sn=Pw(Me)??Me;let Qe;try{Qe=JSON.parse(Sn)}catch{throw new Error("MODEL_RETURNED_INVALID_JSON")}const Vt=typeof(Qe==null?void 0:Qe.project)=="string"&&Qe.project.trim()?Qe.project.trim():k.slice(0,30).trim(),Ro=typeof(Qe==null?void 0:Qe.deadline)=="string"&&ps(Qe.deadline)?Qe.deadline:null,ai=Array.isArray(Qe==null?void 0:Qe.events)?Qe.events.map(me=>{const $e=me==null?void 0:me.date,Le=typeof(me==null?void 0:me.task)=="string"?me.task.trim():typeof(me==null?void 0:me.title)=="string"?me.title.trim():"";if(!Le)return null;const ln=`${Vt}:`,ft=Le.startsWith(ln)?Le.slice(ln.length).trim():Le,Ft=Vt?`${Vt}: ${ft}`:ft,Vn=$0(me==null?void 0:me.category)??Xn;return!ps($e)||!Ft?null:{date:$e,title:Ft,category:Vn}}).filter(Boolean):[],Cn=[],vl=new Set;for(const me of ai){const $e=`${me.date}::${me.title}`;vl.has($e)||(vl.add($e),Cn.push(me))}let it=Cn.slice(0,4).map(({date:me,title:$e,category:Le})=>({date:Ki(me,ne),title:$e,category:Le}));if(ye&&De){const me=Ki(qu(ye,-1),ne),$e=Ki(De,ne);it=it.map(Y=>{let Ae=Y.date;const gt=qm(Y.title),$n=Hm(Y.title);return gt?Ae=Ow(Ae,me):$n?Ae=Ki(Ae,$e):(ms(Ae,ye)<0&&(Ae=ye),ms(Ae,De)>0&&(Ae=De)),Ae=Ki(Ae,ne),{...Y,date:Ae}});const Le=Y=>Y.includes("")||Y.includes("")||Y.includes("")?0:Y.includes("")||Y.includes("")||Y.includes("")||Y.includes("")?1:Y.includes("")||Y.includes("")||Y.includes("")?2:3,ln=Y=>Y.includes("")||Y.includes("")?0:Y.includes("")||Y.includes("")?1:Y.includes("")||Y.includes("")?2:3,ft=it.map((Y,Ae)=>({idx:Ae,title:Y.title})).filter(({title:Y})=>qm(Y)).map(({idx:Y})=>Y).sort((Y,Ae)=>Le(it[Y].title)-Le(it[Ae].title)),Ft=it.map((Y,Ae)=>({idx:Ae,title:Y.title})).filter(({title:Y})=>Hm(Y)).map(({idx:Y})=>Y).sort((Y,Ae)=>ln(it[Y].title)-ln(it[Ae].title)),Vn=new Set(ft.map(Y=>it[Y].date));ft.length>1&&Vn.size<ft.length&&ft.forEach((Y,Ae)=>{const gt=ft.length-1-Ae,$n=Ki(qu(me,-gt),ne);it[Y]={...it[Y],date:$n}});const qi=new Set(Ft.map(Y=>it[Y].date));Ft.length>1&&qi.size<Ft.length&&Ft.forEach((Y,Ae)=>{const gt=Ki(qu($e,Ae),ne);it[Y]={...it[Y],date:gt}})}it.sort((me,$e)=>ms(me.date,$e.date));const $t=[];Vt&&$t.push(`- : **${Vt}**`),Ro&&$t.push(`- : **${Ro}**`),ye&&De&&$t.push(`- : **${ye} ~ ${De}**`),F==="gemini"&&!wt&&$t.push("- :        ."),F==="openrouter"&&$t.push("- : OpenRouter  Google       ."),it.length>0?($t.unshift("     ****   ."),p(me=>me.map($e=>$e.id===q?{...$e,text:$t.join(`
`),sources:Ge,scheduleProposal:{project:Vt,deadline:Ro,items:it,selected:it.map(()=>!0),applied:!1}}:$e))):($t.unshift("  ."),$t.push('K-      . ) "12 24  (),    "'),p(me=>me.map($e=>$e.id===q?{...$e,text:$t.join(`
`),sources:Ge,scheduleProposal:void 0}:$e)))}else if(F==="gemini"){if(!c)throw new Error("CHAT_NOT_READY");const J=await c.sendMessageStream({message:k});let ne="",K=[];for await(const ye of J){const De=ye.text;De&&(ne+=De);const Tt=(Ee=(z=(U=ye.candidates)==null?void 0:U[0])==null?void 0:z.groundingMetadata)==null?void 0:Ee.groundingChunks;if(Tt){const Ke=Tt.filter(Me=>Me.web&&Me.web.uri&&!K.some(Ge=>{var wt,Sn;return((wt=Ge.web)==null?void 0:wt.uri)===((Sn=Me.web)==null?void 0:Sn.uri)}));K=[...K,...Ke]}p(Ke=>Ke.map(Me=>Me.id===q?{...Me,text:ne,sources:K}:Me))}}else{const J=[];J.push("   ( K-/NEIS) ."),J.push("  /     ."),J.push(" ,       ."),n&&(J.push("     //  ."),J.push("---    ---"),J.push(n),J.push("---    ---"));const ne=d.filter(ye=>ye.text&&ye.text.trim().length>0).slice(-12).map(ye=>({role:ye.isUser?"user":"assistant",content:ye.text})),K=await rf({apiKey:t,model:l.trim()||void 0,messages:[{role:"system",content:J.join(`
`)},...ne,{role:"user",content:k}],temperature:.2});p(ye=>ye.map(De=>De.id===q?{...De,text:K,sources:[]}:De))}}catch(F){console.error("Error sending message to AI API:",F);let J="    .    .";F instanceof Error&&F.message==="MODEL_RETURNED_INVALID_JSON"?J="AI  JSON   .       . (: '11 13 ,     ')":F instanceof Error&&F.message==="CHAT_NOT_READY"?J="    .     .":F instanceof Error&&F.message==="AI_NOT_READY"?J="AI   .     .":F instanceof Error&&F.message==="API_KEY_MISSING"&&(J="AI   API  .  **API Key **  ."),F instanceof Error&&(F.message.includes("API key not valid")?J="API   .  .":F.message.includes("OpenRouter")&&(F.message.includes("401")||F.message.toLowerCase().includes("unauthorized"))?J="OpenRouter API   .":F.message.includes("quota")?J="API   .":(F.message.toLowerCase().includes("network error")||F.message.toLowerCase().includes("failed to fetch"))&&(J="  .   .")),y(J),p(ne=>ne.map(K=>K.id===q?{...K,text:`: ${J}`,sources:[]}:K))}finally{S(!1),(Ve=fe.current)==null||Ve.focus()}},[h,c,s,x,v,C,e,t,i,l,n,d]),Nt=k=>{k.key==="Enter"&&!x&&ce()},Yt=k=>{const q=be.parse(k,{breaks:!0,gfm:!0}).replace(/<ul>/g,'<ul class="list-disc ml-5 mb-2">').replace(/<ol>/g,'<ol class="list-decimal ml-5 mb-2">').replace(/<p>/g,'<p class="mb-2">');return g.jsx("div",{dangerouslySetInnerHTML:{__html:q}})};return g.jsxs("div",{className:`${o.componentBg} p-3 sm:p-4 rounded-xl shadow-xl flex flex-col h-full border ${o.border} ${o.textPrimary}`,children:[g.jsx("h2",{className:`text-lg font-semibold ${o.accentColor} mb-3 text-center border-b ${o.border} pb-2 flex-shrink-0`,children:"AI  "}),!v&&_&&g.jsx("div",{className:"p-3 my-2 text-sm text-yellow-300 bg-yellow-700/30 border border-yellow-600 rounded-md text-center flex-shrink-0",children:_}),v&&_&&!d.find(k=>k.text.includes(_||""))&&g.jsx("div",{className:"p-3 my-2 text-sm text-red-400 bg-red-800/30 border border-red-700 rounded-md text-center flex-shrink-0",children:_}),g.jsxs("div",{className:`flex-grow overflow-y-auto min-h-0 space-y-4 pr-1 mb-3 scrollbar-thin scrollbar-track-transparent ${o.scrollbarThumb} scrollbar-thumb-rounded-md`,children:[d.map(k=>g.jsxs("div",{ref:Z=>{Ot.current[k.id]=Z},className:`flex flex-col ${k.isUser?"items-end":"items-start"}`,children:[g.jsxs("div",{className:`flex items-start max-w-[85%] ${k.isUser?"flex-row-reverse":"flex-row"}`,children:[!k.isUser&&g.jsx(qw,{className:`w-5 h-5 ${o.accentColor} mr-2 mt-1 flex-shrink-0`}),k.isUser&&g.jsx(Hw,{className:`w-5 h-5 ${o.accentColor} ml-2 mt-1 flex-shrink-0`}),g.jsxs("div",{className:`px-3 py-2 rounded-lg ${k.isUser?`${o.accentBg} ${o.buttonText} rounded-br-none`:`${o.inputBg} ${o.textPrimary} border ${o.border} rounded-bl-none`}`,children:[g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",style:{color:"inherit"},children:!k.isUser&&x&&k.text.trim()===""?g.jsx(Yw,{}):Yt(k.text)}),!k.isUser&&k.scheduleProposal&&g.jsxs("div",{className:`mt-3 pt-2 border-t ${o.border}`,children:[g.jsx("div",{className:"space-y-2",children:k.scheduleProposal.items.map((Z,q)=>{var F,J,ne;const U=!!((J=(F=k.scheduleProposal)==null?void 0:F.selected)!=null&&J[q]),z=!!((ne=k.scheduleProposal)!=null&&ne.applied),Ee=`${k.id}-proposal-check-${q}`,Ve=(w==null?void 0:w.messageId)===k.id&&(w==null?void 0:w.index)===q;return g.jsxs("div",{className:`flex items-start gap-2 text-sm leading-snug ${z?"opacity-60":""}`,children:[g.jsx("input",{type:"checkbox",id:Ee,className:`mt-0.5 h-4 w-4 rounded ${o.border} ${o.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:U,disabled:z,onChange:()=>Mt(k.id,q)}),g.jsxs("div",{className:"flex flex-col min-w-0",children:[g.jsxs("div",{className:"flex items-start gap-2 min-w-0",children:[g.jsxs("div",{className:"relative flex-shrink-0",children:[g.jsx("button",{type:"button",className:`font-mono text-xs ${o.textSecondary} hover:opacity-80 underline underline-offset-2 disabled:no-underline disabled:cursor-default`,disabled:z,onClick:()=>le(k.id,q),children:Z.date}),Ve&&!z&&g.jsxs("div",{className:`absolute z-50 top-full left-0 mt-1 w-44 rounded-lg border ${o.border} ${o.componentBg} p-2 shadow-xl`,children:[g.jsx("div",{className:`text-[11px] ${o.textSecondary} mb-1`,children:" "}),g.jsx("input",{type:"date",className:`w-full rounded-md ${o.inputBg} border ${o.border} px-2 py-1 text-xs ${o.textPrimary} focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,value:Z.date,onChange:K=>te(k.id,q,K.target.value)}),g.jsx("div",{className:"mt-2 flex justify-end",children:g.jsx("button",{type:"button",className:`px-2 py-1 rounded-md ${o.inputBg} hover:opacity-80 ${o.textPrimary} text-[11px] border ${o.border}`,onClick:()=>N(null),children:""})})]})]}),g.jsx("label",{htmlFor:Ee,className:`${o.textPrimary} cursor-pointer break-words min-w-0`,children:Z.title})]}),g.jsxs("div",{className:`text-xs ${o.textSecondary}`,children:[": ",Z.category]})]})]},`${k.id}-proposal-${q}`)})}),g.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[g.jsx("button",{type:"button",className:`px-2.5 py-1.5 rounded-md ${o.inputBg} hover:opacity-80 ${o.textPrimary} text-xs border ${o.border} disabled:opacity-50 disabled:cursor-not-allowed`,onClick:()=>V(k.id),disabled:!!k.scheduleProposal.applied,children:k.scheduleProposal.selected.every(Boolean)?"":""}),g.jsx("button",{type:"button",className:`px-2.5 py-1.5 rounded-md ${o.accentBg} hover:opacity-90 ${o.buttonText} text-xs border border-cyan-500/40 disabled:opacity-50 disabled:cursor-not-allowed`,onClick:()=>Re(k.id),disabled:!!k.scheduleProposal.applied||k.scheduleProposal.selected.filter(Boolean).length===0,children:""}),k.scheduleProposal.applied&&g.jsxs("span",{className:`text-xs ${o.textSecondary}`,children:[" (",k.scheduleProposal.appliedCount??0," )"]})]})]})]})]}),k.sources&&k.sources.length>0&&!k.isUser&&g.jsxs("div",{className:`mt-1.5 ml-7 text-xs ${o.textSecondary} max-w-[85%]`,children:[g.jsx("p",{className:"font-semibold mb-0.5",children:" :"}),g.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:k.sources.map((Z,q)=>Z.web&&Z.web.uri&&g.jsx("li",{children:g.jsx("a",{href:Z.web.uri,target:"_blank",rel:"noopener noreferrer",className:`hover:${o.accentColor} underline`,title:Z.web.title||Z.web.uri,children:Z.web.title||Z.web.uri})},`${k.id}-src-${q}`))})]})]},k.id)),g.jsx("div",{ref:O})]}),g.jsx("div",{className:`flex-shrink-0 mt-auto pt-3 border-t ${o.border}`,children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{type:"button",onClick:()=>b(k=>!k),"data-tour":"ai-schedule-toggle",className:`p-2.5 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-400 border ${C?`${o.accentBg} text-white border-transparent`:`${o.inputBg} ${o.textPrimary} ${o.border} hover:opacity-80`}`,"aria-label":"  ",title:C?" : ON":" : OFF",disabled:x,children:g.jsx(zw,{className:"w-5 h-5"})}),g.jsx("input",{ref:fe,"data-tour":"chat-input",type:"text",value:h,onChange:k=>m(k.target.value),onKeyPress:Nt,placeholder:v?C?": ) 1113  ":" ...":"API   ",className:`flex-grow p-2.5 ${o.inputBg} border ${o.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm ${o.textPrimary} ${o.placeholderColor} disabled:opacity-50`,disabled:!v||x,"aria-label":"  "}),g.jsx("button",{onClick:ce,disabled:!v||x||!h.trim(),className:`p-2.5 ${o.accentBg} hover:opacity-90 ${o.buttonText} rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-400`,"aria-label":" ",children:x?g.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):g.jsx(Gw,{})})]})})]})},Zw=`
1	;	1	;	 (  ) ,  ( 6) ,   () 
1	;	2	;	  ,      ,   ,    ,     (     ) ,    
1	;	3	;	    , (   5) ,      
1	;	4	;	     ,     (4) ,    (1) 
1	;	5	;	   ,     (1   ) 
1	;	6	;	  ,  ,   
1	;	7	;	 (, 1) 
1	;	8	;	   (4 12) ,    
1	;	9	;	   () , 2   ,    
1	;	10	;	    , 4     ,        
1	;	11	;	2024      2025   (k) , 2024    2025   
1	;	12	;	, , ,   () 
1	;	13	;	 
1	;	15	;	() ,     , 4   ,  [( )] 
1	;	16	;	  ,     
1	;	17	;	  ()  ,     
1	;	18	;	       ,     
1	;	19	;	  
1	;	20	;	  , (4) 4   , 4   
1	;	21	;	  
1	;	22	;	  
1	;	23	;	   (NEIS ) ,  1      
1	;	24	;	(   ) ,    (7-12) 
1	;	25	;	      ,    () ,     
1	;	26	;	   
1	;	27	;	  ,   () ,     (7~12) ,      
1	;	30	;	(  ) ,   ,  () () ,     ,  (7~12)() ,     
1	;	31	;	         , (NEP)     (  ) 
2	;	1	;	  (   ) ,   
2	;	2	;	    , ,,  () 
2	;	3	;	  ,      , ,,  (  ) 
2	;	4	;	  ,  ,   
2	;	5	;	   () ,     
2	;	6	;	   ,   () 
2	;	7	;	  (  ) ,    
2	;	8	;	2024  ()   2025   ,     
2	;	9	;	(2.23) (, , , ) ,    
2	;	10	;	    , 4     
2	;	11	;	  ,  
2	;	12	;	     ,     
2	;	13	;	4   , (,  ) 
2	;	14	;	   ,    (,,) 
2	;	16	;	  ( 10) ,  (  1 ) 
2	;	17	;	  ,     
2	;	18	;	   
2	;	19	;	() ,    () 
2	;	20	;	  , (4) 4   , 4   
2	;	21	;	 ,  (2 ) , 3.1.  4   
2	;	22	;	   ,  6    () 
2	;	23	;	 ()
2	;	24	;	  
2	;	25	;	(4) , (,,,) 
2	;	26	;	,    ,   
2	;	27	;	 ()
2	;	28	;	(  ), /  , ,   ,   ,   (   3.10/  2 ) 
3	;	1	;	    ,      
3	;	3	;	  ,  ,   ,      ,   
3	;	4	;	  ,   ,        ,     
3	;	6	;	  (~3.13) ,     
3	;	7	;	   ,    ,    
3	;	8	;	     ,     
3	;	9	;	   
3	;	10	;	    , 4     ,    
3	;	12	;	 
3	;	13	;	   () ,  
3	;	14	;	 () , 4   ,  
3	;	15	;	     ,  6    () 
3	;	17	;	  ,     ,   
3	;	19	;	()
3	;	20	;	(4) 4   , 4   ,   ,      ,    ,  (~3.21) 
3	;	21	;	      ,   (~3.30) 
3	;	22	;	      
3	;	23	;	()
3	;	24	;	 (2)
3	;	25	;	(   ) 
3	;	26	;	  
3	;	27	;	 
3	;	28	;	      (4) ,     (4) ,  () () 
3	;	29	;	   ,       
3	;	31	;	  () , (  ),   ,  () () ,     
4	;	1	;	  ,      , /  ,   
4	;	2	;	   (1 3)
4	;	3	;	  ,  ,   ,     
4	;	4	;	      ,   (1) ,     
4	;	5	;	  (4.1.)
4	;	8	;	  (/  .   ) 
4	;	9	;	    , 4     ,    
4	;	10	;	   () ,    
4	;	11	;	    ,     ,      
4	;	12	;	       
4	;	13	;	 
4	;	14	;	  ,  
4	;	15	;	    , 4   ,   ( ) 
4	;	16	;	()
4	;	17	;	  ,     
4	;	18	;	  , (4) 4   , 4   
4	;	19	;	     , 1/4       ,          
4	;	23	;	 ()
4	;	25	;	(   ) 
4	;	26	;	       () ,       
4	;	27	;	   () ,      
4	;	28	;	  ,    
4	;	30	;	(  ),   ,  ( ()) ,     
5	;	1	;	  ,      ,  () 
5	;	2	;	 ,   ,     
5	;	3	;	    
5	;	6	;	 
5	;	8	;	   ,   (  ) 
5	;	9	;	    (/) ,  ()    
5	;	11	;	  ,     , 4     
5	;	12	;	
5	;	14	;	    , 4   , (,  ) 
5	;	15	;	  ,     
5	;	16	;	    
5	;	18	;	()
5	;	19	;	  , (4) 4   , 4   
5	;	20	;	()
5	;	21	;	(1)
5	;	22	;	(   ) 
5	;	23	;	 ( )
5	;	26	;	 
5	;	27	;	  
5	;	28	;	    
5	;	29	;	(  ),   ,  ( ()) ,     
6	;	2	;	  ,      ,  () 
6	;	3	;	  ,  ,   
6	;	4	;	   ,     
6	;	6	;	     ,     
6	;	8	;	  (   ) 
6	;	9	;	  
6	;	10	;	    , 4     
6	;	12	;	  ,  
6	;	13	;	4   , (,  ) 
6	;	14	;	     () ,      ,      
6	;	15	;	    ,   
6	;	16	;	   
6	;	17	;	  ,     
6	;	18	;	() ,  (3) 
6	;	19	;	  , (4) 4   , 4   
6	;	20	;	    ,      ,      
6	;	24	;	(   ) 
6	;	25	;	  
6	;	26	;	 
6	;	27	;	      (1) ,     (1) 
6	;	28	;	    ,       
6	;	29	;	   
6	;	30	;	(  ),   ,  () () ,     
7	;	1	;	  ,      ,       
7	;	2	;	     ,  
7	;	3	;	  ,  ,   ,     
7	;	4	;	2/4       ,   (2) ,  (2) 
7	;	5	;	    
7	;	7	;	   (  )
7	;	8	;	   (2 6) ,    
7	;	9	;	    , 4     
7	;	10	;	
7	;	11	;	    ,    ,        
7	;	13	;	     ,    
7	;	14	;	 
7	;	15	;	    ,     , 4   ,  
7	;	16	;	()
7	;	17	;	  ,     
7	;	18	;	  , (4) 4   , 4   
7	;	19	;	   
7	;	24	;	(   ) ,     (1-6) 
7	;	25	;	      ,         
7	;	28	;	 
7	;	29	;	  
7	;	30	;	    (1-6)
7	;	31	;	(  ),   ,  ( ()) ,     ,  (1~6)  
8	;	1	;	  ,      
8	;	2	;	  (7 ) 
8	;	4	;	  ,  ,   
8	;	5	;	   
8	;	7	;	   ,    
8	;	8	;	   
8	;	10	;	  
8	;	11	;	    , 4     
8	;	12	;	  ,  
8	;	14	;	  ,     , 4   ,  
8	;	15	;	     
8	;	17	;	  ,  () 
8	;	18	;	   
8	;	19	;	() ,   , (4) 4   , 4   
8	;	21	;	(2)
8	;	22	;	    ,  ()  
8	;	25	;	(   ) 
8	;	26	;	 
8	;	27	;	  
8	;	28	;	(  ),   ,  ( ()) ,     
9	;	1	;	   ,      ,  (, )    
9	;	3	;	  ,  ,   
9	;	4	;	   
9	;	5	;	  
9	;	7	;	()
9	;	8	;	  
9	;	9	;	  
9	;	10	;	    , 4     
9	;	11	;	 (4)
9	;	12	;	  ,  
9	;	13	;	    
9	;	15	;	    , 4   ,  
9	;	17	;	()
9	;	18	;	  ,     
9	;	19	;	  , (4) 4   , 4   
9	;	20	;	  
9	;	23	;	(   ) 
9	;	25	;	  
9	;	26	;	       
9	;	28	;	   
9	;	29	;	  ,       (2) ,     (2) 
9	;	30	;	(  ),   ,  ( ()) ,     
10	;	1	;	  ,      
10	;	2	;	 ,   ,     ,    ,    
10	;	3	;	  (10.1.) , 3/4       ,     (3) 
10	;	9	;	    , 4     
10	;	10	;	  ,       ,     
10	;	13	;	  ,  ,    (3-9) 
10	;	14	;	() ,     , 4   ,  
10	;	16	;	  ,     
10	;	17	;	         
10	;	19	;	   () ,    
10	;	20	;	  , (4) 4   , 4   
10	;	22	;	 ()
10	;	24	;	(   ) 
10	;	25	;	     
10	;	26	;	   (16 3)
10	;	27	;	 
10	;	28	;	  
10	;	30	;	(  ),   ,  ( ()) ,     
11	;	1	;	    
11	;	2	;	 (   )
11	;	3	;	  ,      
11	;	4	;	  ,  ,   
11	;	5	;	   
11	;	6	;	   ,    
11	;	7	;	  
11	;	9	;	    , 4     
11	;	10	;	
11	;	12	;	 
11	;	13	;	4   ,  
11	;	14	;	   
11	;	16	;	  ,     ,     
11	;	18	;	()
11	;	19	;	  , (4) 4   , 4   
11	;	20	;	(3)
11	;	21	;	    
11	;	23	;	 (2)   
11	;	24	;	(   ) 
11	;	25	;	  
11	;	26	;	 
11	;	27	;	(  ),   ,  ( ()) ,     
11	;	28	;	     ()
12	;	1	;	  ,      
12	;	3	;	  ,  ,   
12	;	4	;	   
12	;	5	;	  (3)   ,        , 4/4       
12	;	7	;	    ( )
12	;	8	;	  (  11.12  )
12	;	9	;	  
12	;	10	;	    , 4     
12	;	11	;	     ,  ()   
12	;	12	;	 
12	;	13	;	   (NEIS) ,       
12	;	14	;	     ,   
12	;	15	;	    , 4   ,  
12	;	16	;	  ( ) ,     
12	;	17	;	() ,   ,     
12	;	18	;	 () 1 
12	;	19	;	  , (4) 4   , 4   
12	;	20	;	   ,   ,     ,       
12	;	21	;	    
12	;	23	;	(   ) 
12	;	25	;	  
12	;	26	;	    ,      ,     
12	;	28	;	   
12	;	29	;	 
12	;	30	;	      (3) ,     (3) 
12	;	31	;	(  ),   ,  ( ()) ,    
`,Ym=`
  "2025   "     .

### **1 **
*   **1.    3**
    *   **1.  :**  2(), 4(   ) 7( ),   3(   )
    *   **2.  :**  8( ),   5(  )
    *   **3.  :**  9( ),   6( )
    *   **4.  :**  18(   ) 19( ),  22(  ),   14(  ) 17(  ),   24(    ), 25(  ),   29(  ),  31( )
    *   **5. ():**  18(),   18(),   8(   ),   9(    ),  23( ),  1() 3( )
*   **2.    6**
    *   **1. ON-LINE  :**       ,    4( )
    *   **2. OFF-LINE  :** (      )
    *   **3. NEIS   :** (   )
    *   **4. NEIS  :** (   )
    *   **5. FAX :**    3( ), 5( ),    6(   )
*   **3.   10**
    *   **1.    :**  10( ),   6(  )
    *   **2. ():**  9(  ), 11(  ), 16(    ),   7(  ), 8(3 )
    *   **3.  :**  12(), 122( ),      7( ), 9( )
    *   **4.     :**  13(   ) 17( ),   12(   ) 17( ),   7( )
*   **4.    15**
    *   **1.    :**  36(    ) 43( ),   43(    ),    21(    ), 24( )

### **2 **
*   **1.   17**
    *   **1.  :**      2(  ),      4(  ) 6(),       33(   ) 40(),  4(  ),    3()
    *   **2. :**      7(  ), 8(  ),       36() 40(),  7( ), 8( )
    *   **3.  :**      2(  ) 14( ),        11(  )
*   **2.    20**
    *   **1.  :**       3() 8( ),        2(  ) 6(  )
    *   **2. :**       9(   ) 10( ),        7( ),      4()
*   **3. K-()  22**
    *   **1. :**       18( ),        15( ) 17( )
*   **4.   27**
    *   **1.  :**     19(  ),      19( ) 25( ),      4( ) 6( )
    *   **2.  :**      23(  ),      7(   ) 13(  )
    *   **3.   :**      24( ) 33(  ),      14( )
    *   **4.  :**      26() 32( ),      19(  )
    *   **5.  :**      43(       ),      35( )
*   **5.    31**
    *   **1.  :**       61( ),        45( )
    *   **2.  :**       61( ),        45( ),      10(),       10( )
*   **6.   33**
    *   **1.  :**  20( ),  1() 8(),    4( )
    *   **2.   :**  4(  ) 8(),    39( )

### **3 **
*   **1.   35**
    *   **1.  ( ):**     3( )
    *   **2. ():**     5(   ),     8(5    )
*   **2.    37**
    *   **1. :**   3(    ),    3(  ),    7(    )
*   **3.   40**
    *   **1.  :** ,   ,       ,        
    *   **2.    :**    8(),  5( ),       11()
*   **4.   42**
    *   **1.   :**  63(), 64(),  31()
*   **5.      45**
    *   **1.  :**   8( )
    *   **2.  :**   9( )
*   **6.      48**
    *   **1.  :**  8( )
    *   **2.  :**  9( )

### **4   **
*   **1.    51**
    *   **1.    :**  17( ),        17( ),    ,      4(  ),       2(),  56(   ),   25(  ),  293(  ),   265(   ),     10(),   ,   
*   **2.    65**
    *   **1.   :** ,    44() 72()
*   **3.    75**
    *   **1. :** ,  ,    73( ) 83(),    53(  ) 56()
*   **4.   84**
    *   **1. :** ,  ,  ,   

### **5 **
*   **1.      88**
    *   **1.    :**    4(   )
    *   **2.   :**    73(   )
*   **2. ()    91**
    *   **1. ()  :**   16(  ),   31( ),    28(),    44()
*   **3.     93**
    *   **1.    :**  28(    ),   49(    ),    56(  )
*   **4.      94**
    *   **1.   () :**  33(),  312(),  (, 2019. 10.),     56(   ),  293(  ),      8(    )
*   **5.   95**
    *   **1.  :**  34(),    59( )
    *   **2. :**   54( ),    60( ),    61( )

### **6 **
*   **1.   97**
    *   **1.   :**       
    *   **2.  :**      8(  ),       
*   **2.   98**
    *   **1.   :**   78(    ),    
    *   **2. :**   7(   ), 72(  ),      20(  ),    
*   **3.     105**
    *   **1. :**   10( ), 11( ),    19(   ),        10(   )
*   **4.   108**
    *   **1. :**   6(),    16( ), 18(     ),     6(),     ()

### **7 **
*   **1.     110**
    *   **1.   :**  31( ),   58(  ),  193(  )
    *   **2.    ,   :**   58(  ),     22( ),  193(  ),   ()
*   **2.    115**
    *   **1.  :**  32(),   572(  ),     9( )
    *   **2.  :**     12( )  152( )
*   **3.   119**
    *   **1.  :**   602(),     16(),   ()
*   **4.   120**
    *   **1.  :**   602(),     16(),   ()

### **8 **
*   **1. (NEIS)  122**
    *   **1. NEIS :** 2025   ,   
*   **2.     124**
    *   **1. :** ,  ,    ,     ,  ,       ,         ,       
*   **3.   139**
    *   **1.    :**  137( ), 140(   ), 143(   ), 164( )
*   **4.   141**
    *   **1.    :**  276( ), 229( )
    *   **3.   :**  195(  ), 227( ), 246(),   3( )
*   **5.   144**
    *   **1. :**  66( ) 68( ),   65(    )
    *   **3. :**  75( ), 77( ),   72()
*   **6.   147**
    *   **1. , :**  8(   ) 10(   ),   4(   )
*   **7.   149**
    *   **1. ,  :**  72(),  
*   **8.   151**
    *   **1.    :**    ,      5(  )

### **9 **
*   **1.    155**
    *   **1.  :**        2(),  25( )
    *   **3.  :**    46( ), 47( )
    *   **5.     :**   30(    ),    58( )

### **10  **
*   **1.     162**
    *   **1.   :**    11( ), 14(  )
*   **2.    167**
    *   **1.  :**    11( )
*   **3.   171**
    *   **1.   :**    14(  )
*   **4.   173**
    *   **1.   :**    14(  )
*   **5.   175**
    *   **1.   :**    14(  )
*   **6.  ,     176**
    *   **1.    :**    16(     )  17( )
*   **7.    178**
    *   **1.   :**    15(   ),  302( )
*   **8.    179**
    *   **1.  :**    18(), 19( )
*   **9.    181**
    *   **1.   :**    4(), 20( ), 23( )

### **11  **
*   **1.    183**
    *   **1. :**    25( )
    *   **2. :**     9( ),    42(   )
    *   **3. :**    26(  ) 28( ),        3(),     22( ),       

### **12  **
*   **1.    189**
    *   **1.  ():**  20 2( ),  19( ),    4( ),    30(  ),      ,  5(   ) 8()
    *   **2.   ():**    155() 157( ),  4( ), 6(    )
    *   **3.    :**  30( ),  7(    ),   3(    ),    4(), 19( ), 34( )
*   **2.    194**
    *   **1.   :**    33(   ) 36()
    *   **2. :**    33(   )
*   **3.    206**
*   **4.    218**
*   **5.   223**

### **13 **
*   **1.    228**
    *   **1.  :**  4(  ), 6( )
    *   **2.   :**    ,    ,   7( ),  664( ),  2(),     2()
*   **2.    236**
    *   **1. :** (   )
    *   **2. :** (   )
    *   **3.  :**   2() 10( ),     2( )
*   **3.     244**
    *   **1.     :**  4( ), 7( ),   22( ), 23(   ),           (),         (),   48(   )
    *   **2. :**   7( ) 10( ), 15( ), 16(     ), 20(   ), 322( ) 36( ), 124( ),     ,        ,    ,    
    *   **3. 2 ,   :**   18(2 ), 19(   )
    *   **4.   :**   43(  ), 44(  ),    
    *   **5.    :**   442(   )
*   **4.    264**
    *   **1.  :**   47( ) 48(   ),    
    *   **2.    :**   50(   ),   33(     ), 48(  ),   33(   )
*   **5.    267**
    *   **1.    :** (   )
    *   **2. , ,    :**      5(, ,        ),       4(    ),  2(), 61(   ) 66(   )
    *   **3.  :**   302( ), 35(  ),     ,      ,   ,    98( ),      154(),     2(), 17(  ),     9 5( )
*   **6.     290**
    *   **1.  :**   262(     ), 344(  ), 643(    ), 83( ),    53(    ),      8(  ),       10(),     1 9(   ), 9 9( )  12()
*   **7.    298**
    *   **1. :** (   )
    *   **2.       :** (   )
    *   **3.      :** (   )

### **14 **
*   **1.   300**
    *   **1.  :**    91( )
    *   **2.  :**    91( )
    *   **3.  :**    40( ),     3( )  [1]
    *   **4.  :**    40( ),    90(  ) 99(), 127(   ),  34( ),   40(      )

### **15 **
*   **1.      304**
    *   **1.   :**   64(),   46(  )
*   **2.      307**
    *   **1.  :**   64(),   47( )
    *   **2.  :**   64(),   47(  ),   11(  )
*   **3.      310**
    *   **1.  :**   64(),   50()
*   **4.       311**
    *   **1.  :**   45(  )
    *   **2.    :**   52(    )

### **16 **
*   **1.      312**
    *   **1.  :**    58( ),     58( ),    5( ) [1]
*   **2.    314**
    *   **1.  :**    68(),    5( ), 10( ), [1]   ,     9()
*   **3.   319**
    *   **2. :**  14(  ),    16(  ),     17( ),     14( )
*   **4.   321**
    *   **1.  :**    16(  ),     62(  )
*   **5.    323**
    *   **1.  :**    76( ), 77(  ), 78( ),     78(   ), 79( ),    17( ), 18( )
*   **6.   326**
    *   **1. :**    60( ),     59(),     24()
*   **7.     328**
    *   **1.   :**       5( ) 13( )
*   **8. (RFID)    331**
    *   **1. (RFID)  :**    66( ),    35(  )

### **17 **
*   **1.    334**
    *   **1.  :**     5(  ),      3( )
    *   **2.    :** (   )
*   **2.    335**
    *   **1.    :**   52( ),    2( )
    *   **2.      :**  38(),    18()
*   **3.    338**
    *   **1.     :**      12( )
    *   **2.    :**     95(   ),      92(   ),     5()
*   **4.      340**
    *   **1.   :**     20(), 21(),      13( )
    *   **2.  :**      31(  ),     29( ), 31( ),    8(  )[3]
*   **5.     345**
    *   **1. ():**     20( ), 21(),            4(     )
*   **6.   348**
    *   **1.    :**      33()
    *   **2.   :**     51( ), 52(   )
*   **7.   350**
    *   **1.  :**         34(   ),       5(  ),      4(  )

### **18 **
*   **1.    354**
    *   **1.  :**         13(  ),       11( ),        5()
*   **2.    359**
    *   **1.  :**  ( )
    *   **2.  :**  6(  ), 10(  ) 19(),   5(  ), 12(  ) 20(),    ,     ,    ,        4
    *   **3.  :**     4( ) 8( ), 14( ),  24( ), 34(   ), 36(   ), 39( ),   11(    ), 14(  ),  16(    ),  16(,    ), 22( ), 23(    ),   6(), 19(  ),   20(     ), 23(   ),      7(  ),  16()
    *   **4.  :**  17(  ), 29(), 30(),   153 1(    ),   202(), 25(), 50(), 64(  ),  34(), 37(  ), 41(), 57(),   15(  ), 30(  ),   52(), 66(), 70(  ), 75( )
    *   **5.  :**  15(), 18(  ), 28(),   13( ), 16(  ),   53(  ), 64( ) 68( ),   
    *   **6.  :**  27( ) 29( ), 31( ), 32( , , ), 48(    ), 50( ),   37(    ),   46( ), 50(     ), 52(  ), 54(  ),      
*   **3.    363**
    *   **1. 23  :**  6(    ), 8(3  ), 9(   ), 11( ), 12( ), 22(  ), 23(), 28(  ),   4( ), 5(3  ), 8(  ),        5()
*   **4.    381**
    *   **1. :** (   )
*   **5.    385**
    *   **1.    ( ):**    () 254(   )

### **19     **
*   **1.        387**
    *   **1.    :**       2 4( ), ,     
    *   **2. () :**  8(),  111(),   154()
*   **2.    392**
    *   **1.    :**  38( ),    69( ), 156(), 157(),    41( )
*   **3.     394**
    *   **1.  :** (   )
*   **4.     396**
    *   **1.      :** ,  , ,  ,  ,  8,   19,   3, 6,  6, 7,   9,   3,  15,   7, ,  ,  ,       ,  7, 72,  52
*   **5.    399**
    *   **1.   :**   ,    
*   **6.     403**
    *   **1. ()   () :**  6(),   7(  ),   3( )
*   **7.  (BTL)   405**
    *   **1.   :**    4 2( )
    *   **2.    :** (   )
`,Kw="https://aistudio.google.com/app/apikey",Jw="https://openrouter.ai/keys",Hu=1,Ds=n=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n),Ar=n=>typeof n=="string"&&Et.includes(n),B0=n=>n==="manual"||n==="ai",El=n=>{if(!Ds(n))return null;const e=Number(n.slice(0,4));return Number.isFinite(e)?e:null},Yu=n=>{const e=/^event-(\d{4})-/.exec(n);if(!e)return null;const t=Number(e[1]);return Number.isFinite(t)?t:null},Fm=()=>{try{const n=localStorage.getItem(Mo);if(!n)return[];const e=JSON.parse(n);if(!Array.isArray(e))return[];const t=[];for(const i of e){if(!i||typeof i!="object")continue;const l=i,o=l.id,s=l.date,u=l.title,c=l.category,f=l.source;typeof o!="string"||!o||Ds(s)&&(typeof u!="string"||!u.trim()||t.push({id:o,date:s,title:u.trim(),category:Ar(c)?c:Xn,source:B0(f)?f:"manual"}))}return t}catch{return[]}},Xw=n=>{localStorage.setItem(Mo,JSON.stringify(n)),window.dispatchEvent(new CustomEvent(dr))},Zm=()=>{try{const n=localStorage.getItem(Hr);if(!n)return{};const e=JSON.parse(n);if(!e||typeof e!="object"||Array.isArray(e))return{};const t={};for(const[i,l]of Object.entries(e)){if(!l||typeof l!="object"||Array.isArray(l))continue;const o=l,s={};Ds(o.date)&&(s.date=o.date),typeof o.title=="string"&&o.title.trim()&&(s.title=o.title.trim()),Ar(o.category)&&(s.category=o.category),(s.date||s.title||s.category)&&(t[i]=s)}return t}catch{return{}}},Qw=n=>{localStorage.setItem(Hr,JSON.stringify(n)),window.dispatchEvent(new CustomEvent(zc))},Ww=({isOpen:n,onClose:e,geminiApiKey:t,openRouterApiKey:i,aiProviderPreference:l,openRouterModel:o,onSaveGemini:s,onSaveOpenRouter:u,onSaveAiProviderPreference:c,onSaveOpenRouterModel:f,onClearGemini:d,onClearOpenRouter:p})=>{const{colors:h}=zi(),[m,x]=A.useState(t),[S,_]=A.useState(i),[y,v]=A.useState(l),[T,C]=A.useState(o),[b,w]=A.useState(!1),[N,D]=A.useState(!1),[P,O]=A.useState(()=>new Date().getFullYear()),[fe,xe]=A.useState(null);A.useEffect(()=>{n&&(x(t),_(i),v(l),C(o),w(!1),D(!1),O(new Date().getFullYear()),xe(null))},[n,t,i,l,o]);const Ot=A.useMemo(()=>t?t.length<=8?"*".repeat(t.length):`${t.slice(0,4)}${"*".repeat(t.length-8)}${t.slice(-4)}`:"",[t]),nt=A.useMemo(()=>i?i.length<=10?"*".repeat(i.length):`${i.slice(0,6)}${"*".repeat(i.length-10)}${i.slice(-4)}`:"",[i]),Mt=A.useMemo(()=>{const U=!!m.trim(),z=!!S.trim();return y==="gemini"?U?"gemini":z?"openrouter":null:y==="openrouter"?z?"openrouter":U?"gemini":null:U?"gemini":z?"openrouter":null},[y,m,S]),V=y==="auto"||y==="gemini",le=y==="auto"||y==="openrouter";if(!n)return null;const te=()=>{s(m),u(S),c(y),f(T),e()},Re=()=>{d(),p(),x(""),_(""),e()},ce=U=>{const z=Fm().filter(F=>El(F.date)===U),Ee=Zm(),Ve={};for(const[F,J]of Object.entries(Ee))((J.date&&El(J.date))??Yu(F))===U&&(Ve[F]=J);return{version:Hu,createdAt:new Date().toISOString(),year:U,userEvents:z,builtinEventOverrides:Ve}},Nt=(U,z)=>{const Ee=new Blob([z],{type:"application/json"}),Ve=URL.createObjectURL(Ee),F=document.createElement("a");F.href=Ve,F.download=U,document.body.appendChild(F),F.click(),F.remove(),URL.revokeObjectURL(Ve)},Yt=()=>{xe(null);const U=Math.trunc(P);if(!Number.isFinite(U)||U<1900||U>9999){xe({type:"error",message:"  ."});return}try{const z=ce(U),Ee=JSON.stringify(z,null,2);Nt(`smart-calendar-backup-${U}.json`,Ee),xe({type:"success",message:`${U}   .`})}catch(z){xe({type:"error",message:z instanceof Error?z.message:"    ."})}},k=U=>{if(!U||typeof U!="object"||Array.isArray(U))throw new Error("    .");const z=U,Ee=z.version,Ve=typeof Ee=="number"?Ee:Ee===void 0?0:NaN;if(Ve!==0&&Ve!==Hu)throw new Error("    .");const F=z.year;if(typeof F!="number"||!Number.isFinite(F))throw new Error("    . (year)");const J=Math.trunc(F),ne=z.userEvents??z.events;if(!Array.isArray(ne))throw new Error("    . (userEvents)");const K=z.builtinEventOverrides??z.builtinOverrides??z.overrides;if(K!==void 0&&(typeof K!="object"||K===null||Array.isArray(K)))throw new Error("    . (builtinEventOverrides)");const ye=[];for(const Tt of ne){if(!Tt||typeof Tt!="object")continue;const Ke=Tt,Me=Ke.id,Ge=Ke.date,wt=Ke.title,Sn=Ke.category,Qe=Ke.source;typeof Me!="string"||!Me||!Ds(Ge)||typeof wt!="string"||!wt.trim()||El(Ge)!==J||ye.push({id:Me,date:Ge,title:wt.trim(),category:Ar(Sn)?Sn:Xn,source:B0(Qe)?Qe:"manual"})}const De={};if(K&&typeof K=="object"&&!Array.isArray(K))for(const[Tt,Ke]of Object.entries(K)){if(!Ke||typeof Ke!="object"||Array.isArray(Ke))continue;const Me=Ke,Ge={};Ds(Me.date)&&(Ge.date=Me.date),typeof Me.title=="string"&&Me.title.trim()&&(Ge.title=Me.title.trim()),Ar(Me.category)&&(Ge.category=Me.category),((Ge.date&&El(Ge.date))??Yu(Tt))===J&&(Ge.date||Ge.title||Ge.category)&&(De[Tt]=Ge)}return{version:Hu,createdAt:typeof z.createdAt=="string"?z.createdAt:new Date().toISOString(),year:J,userEvents:ye,builtinEventOverrides:De}},Z=async U=>{xe(null);try{const z=await U.text(),Ee=JSON.parse(z),Ve=k(Ee),J=Fm().filter(ye=>El(ye.date)!==Ve.year);Xw([...Ve.userEvents,...J]);const ne=Zm(),K={};for(const[ye,De]of Object.entries(ne))((De.date&&El(De.date))??Yu(ye))!==Ve.year&&(K[ye]=De);Qw({...K,...Ve.builtinEventOverrides}),xe({type:"success",message:`${Ve.year}  . ( ${Ve.userEvents.length} /   ${Object.keys(Ve.builtinEventOverrides).length})`})}catch(z){xe({type:"error",message:z instanceof Error?z.message:"    ."})}},q=async U=>{var Ee;const z=(Ee=U.target.files)==null?void 0:Ee[0];z&&(await Z(z),U.target.value="")};return g.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:`w-full max-w-lg max-h-[90vh] overflow-y-auto scrollbar-thin ${h.componentBg} border ${h.border} rounded-xl shadow-xl p-5`,children:[g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:`text-lg font-semibold ${h.accentColor}`,children:"API Key "}),g.jsx("p",{className:`text-xs ${h.textSecondary} mt-1`,children:"   (localStorage) . (  PC  )"})]}),g.jsx("button",{onClick:e,className:`${h.textSecondary} hover:${h.textPrimary} px-2 py-1 rounded-md ${h.hoverEffect}`,"aria-label":"",children:""})]}),g.jsxs("div",{className:"mt-4 space-y-5",children:[V&&g.jsxs("section",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("label",{className:`text-sm ${h.textPrimary} block`,htmlFor:"ai-provider-select",children:"AI Provider"}),g.jsxs("span",{className:`text-xs ${h.textSecondary}`,children:[" : ",Mt??""]})]}),g.jsxs("select",{id:"ai-provider-select",value:y,onChange:U=>v(U.target.value),className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm`,children:[g.jsx("option",{value:"auto",children:"()"}),g.jsx("option",{value:"gemini",children:"Google AI Studio (Gemini)"}),g.jsx("option",{value:"openrouter",children:"OpenRouter"})]}),g.jsx("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:" Provider  ,   Provider  ."}),g.jsxs("ol",{className:`text-[11px] ${h.textSecondary} leading-relaxed list-decimal list-inside mt-2 space-y-0.5`,children:[g.jsx("li",{children:"Google AI Studio API Key ."}),g.jsx("li",{children:"    ."})]})]}),le&&g.jsxs("section",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("label",{className:`text-sm ${h.textPrimary} block`,htmlFor:"gemini-api-key-input",children:"Gemini API Key"}),g.jsx("a",{href:Kw,target:"_blank",rel:"noopener noreferrer",className:`text-xs ${h.textSecondary} hover:${h.textPrimary} underline`,children:" "})]}),g.jsx("input",{id:"gemini-api-key-input",type:b?"text":"password",value:m,onChange:U=>x(U.target.value),placeholder:"AIza...   ",className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm placeholder-slate-500`}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("button",{onClick:()=>w(U=>!U),className:`text-xs ${h.textSecondary} hover:${h.textPrimary}`,type:"button",children:b?"":""}),t&&g.jsxs("div",{className:`text-xs ${h.textSecondary}`,children:[": ",Ot]})]}),g.jsxs("div",{className:"mt-2 space-y-1",children:[g.jsx("label",{className:`text-xs ${h.textSecondary} block`,htmlFor:"openrouter-model-input",children:"OpenRouter  ()"}),g.jsx("input",{id:"openrouter-model-input",type:"text",value:T,onChange:U=>C(U.target.value),placeholder:"(     )",className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm placeholder-slate-500`}),g.jsxs("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:[": ",g.jsx("span",{className:"font-mono",children:"mistralai/mistral-7b-instruct:free"}),"  ",g.jsx("span",{className:"font-mono",children:"google/gemma-3-4b-it:free"})]})]}),g.jsxs("ol",{className:`text-[11px] ${h.textSecondary} leading-relaxed list-decimal list-inside mt-2 space-y-0.5`,children:[g.jsx("li",{children:"OpenRouter   Keys  API Key ."}),g.jsx("li",{children:"    ."})]})]}),g.jsxs("section",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("label",{className:`text-sm ${h.textPrimary} block`,htmlFor:"openrouter-api-key-input",children:"OpenRouter API Key"}),g.jsx("a",{href:Jw,target:"_blank",rel:"noopener noreferrer",className:`text-xs ${h.textSecondary} hover:${h.textPrimary} underline`,children:" /"})]}),g.jsx("input",{id:"openrouter-api-key-input",type:N?"text":"password",value:S,onChange:U=>_(U.target.value),placeholder:"sk-or-v1-...   ",className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm placeholder-slate-500`}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("button",{onClick:()=>D(U=>!U),className:`text-xs ${h.textSecondary} hover:${h.textPrimary}`,type:"button",children:N?"":""}),i&&g.jsxs("div",{className:`text-xs ${h.textSecondary}`,children:[": ",nt]})]})]}),g.jsx("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:"()  Gemini    Gemini ,  OpenRouter ."}),g.jsxs("section",{className:`space-y-2 pt-4 border-t ${h.border}`,children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("h3",{className:`text-sm font-semibold ${h.textPrimary}`,children:" / "}),g.jsx("span",{className:`text-[11px] ${h.textSecondary}`,children:" JSON "})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 items-end",children:[g.jsxs("div",{children:[g.jsx("label",{className:`text-xs ${h.textSecondary} block mb-1`,htmlFor:"backup-year-input",children:""}),g.jsx("input",{id:"backup-year-input",type:"number",value:P,onChange:U=>O(Number(U.target.value)),className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm`,min:1900,max:9999})]}),g.jsx("button",{type:"button",onClick:Yt,className:`${h.buttonBg} ${h.hoverEffect} ${h.buttonText} font-semibold py-2.5 px-4 rounded-lg transition-colors text-sm w-full`,children:" "}),g.jsxs("label",{className:`${h.accentBg} hover:opacity-90 ${h.buttonText} font-semibold py-2.5 px-4 rounded-lg transition-colors text-sm w-full text-center cursor-pointer`,children:[g.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:q})," "]})]}),fe&&g.jsx("div",{className:`text-xs p-2 rounded-md border ${fe.type==="success"?"text-green-200 bg-green-900/20 border-green-700":"text-red-200 bg-red-900/20 border-red-700"}`,children:fe.message}),g.jsx("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:"    /   . (API Key  )"})]})]}),g.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[g.jsx("button",{onClick:Re,className:`${h.eventBuiltinBg} hover:opacity-90 ${h.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,type:"button",children:" "}),g.jsx("button",{onClick:te,className:`${h.accentBg} hover:opacity-90 ${h.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,type:"button",children:""})]})]})})},xa=8,Hl=(n,e,t)=>Math.min(t,Math.max(e,n)),jw=n=>{const e=n.getBoundingClientRect(),t=Hl(e.top-xa,0,window.innerHeight),i=Hl(e.left-xa,0,window.innerWidth),l=Hl(e.right+xa,0,window.innerWidth),o=Hl(e.bottom+xa,0,window.innerHeight);return{top:t,left:i,width:Math.max(0,l-i),height:Math.max(0,o-t),right:l,bottom:o}},eR=n=>n?document.querySelector(`[data-tour="${CSS.escape(n)}"]`):null,tR=({isOpen:n,steps:e,onClose:t})=>{var v,T;const{colors:i}=zi(),[l,o]=A.useState(0),[s,u]=A.useState(!1),[c,f]=A.useState(null),d=A.useRef(null),[p,h]=A.useState(null),m=e[l];A.useEffect(()=>{n&&(o(0),u(!1),f(null))},[n]),A.useLayoutEffect(()=>{if(!n||!m)return;const C=()=>{const b=eR(m.target);if(!b){f(null);return}f(jw(b))};return C(),window.addEventListener("resize",C),window.addEventListener("scroll",C,!0),()=>{window.removeEventListener("resize",C),window.removeEventListener("scroll",C,!0)}},[n,m==null?void 0:m.target]),A.useLayoutEffect(()=>{n&&d.current&&h(d.current.getBoundingClientRect())},[n,l]);const x=A.useMemo(()=>{var N,D;const C=c?{x:c.left+c.width/2,y:c.top+c.height/2}:{x:window.innerWidth/2,y:window.innerHeight/2},b=((N=m==null?void 0:m.arrowOffset)==null?void 0:N.x)??0,w=((D=m==null?void 0:m.arrowOffset)==null?void 0:D.y)??0;return{x:Hl(C.x+b,0,window.innerWidth),y:Hl(C.y+w,0,window.innerHeight)}},[c,(v=m==null?void 0:m.arrowOffset)==null?void 0:v.x,(T=m==null?void 0:m.arrowOffset)==null?void 0:T.y]),S=A.useMemo(()=>p?{x:p.left+p.width/2,y:p.top}:{x:32,y:window.innerHeight-32},[p]),_=()=>{if(l>=e.length-1){t({dismissed:s});return}o(C=>C+1)},y=()=>t({dismissed:s});return!n||!m?null:g.jsxs("div",{className:"fixed inset-0 z-[200]",role:"dialog","aria-modal":"true","aria-label":" ",onClick:_,children:[c?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed bg-black/60",style:{top:0,left:0,width:"100%",height:`${c.top}px`}}),g.jsx("div",{className:"fixed bg-black/60",style:{top:`${c.bottom}px`,left:0,width:"100%",height:`${window.innerHeight-c.bottom}px`}}),g.jsx("div",{className:"fixed bg-black/60",style:{top:`${c.top}px`,left:0,width:`${c.left}px`,height:`${c.height}px`}}),g.jsx("div",{className:"fixed bg-black/60",style:{top:`${c.top}px`,left:`${c.right}px`,width:`${window.innerWidth-c.right}px`,height:`${c.height}px`}}),g.jsx("div",{className:"fixed pointer-events-none border-2 border-cyan-400 rounded-xl shadow-[0_0_0_2px_rgba(34,211,238,0.2)]",style:{top:`${c.top}px`,left:`${c.left}px`,width:`${c.width}px`,height:`${c.height}px`}})]}):g.jsx("div",{className:"fixed inset-0 bg-black/60"}),c&&g.jsxs("svg",{className:"fixed inset-0 pointer-events-none",width:"100%",height:"100%","aria-hidden":"true",children:[g.jsx("defs",{children:g.jsx("marker",{id:"tour-arrowhead",markerWidth:"10",markerHeight:"8",refX:"8",refY:"4",orient:"auto",children:g.jsx("path",{d:"M0,0 L10,4 L0,8 Z",fill:"rgba(34,211,238,0.95)"})})}),g.jsx("line",{x1:S.x,y1:S.y,x2:x.x,y2:x.y,stroke:"rgba(34,211,238,0.9)",strokeWidth:"2",markerEnd:"url(#tour-arrowhead)"})]}),g.jsxs("div",{ref:d,className:`fixed left-4 bottom-4 w-[min(380px,calc(100vw-32px))] ${i.componentBg} border ${i.border} rounded-xl shadow-2xl p-4`,onClick:C=>C.stopPropagation(),children:[g.jsxs("div",{className:"flex items-start justify-between gap-3",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsxs("div",{className:`text-[11px] ${i.textSecondary}`,children:[l+1," / ",e.length]}),g.jsx("div",{className:`text-base font-semibold ${i.accentColor} mt-0.5`,children:m.title})]}),g.jsx("button",{type:"button",onClick:y,className:`text-xs ${i.textSecondary} hover:${i.textPrimary} underline`,children:""})]}),g.jsx("p",{className:`mt-2 text-sm ${i.textPrimary} leading-relaxed`,children:m.description}),g.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[g.jsxs("label",{className:`flex items-center gap-2 text-xs ${i.textSecondary}`,children:[g.jsx("input",{type:"checkbox",checked:s,onChange:C=>u(C.target.checked),className:`mt-0.5 h-4 w-4 rounded border ${i.border} ${i.inputBg} text-cyan-500 focus:ring-cyan-400`}),"  "]}),g.jsx("div",{className:`text-xs ${i.textSecondary}`,children:"   "})]})]})]})},nR=({isOpen:n,onClose:e})=>{const{colors:t}=zi();return n?g.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:g.jsxs("div",{className:`${t.componentBg} p-6 rounded-xl shadow-2xl border ${t.border} w-full max-w-2xl max-h-[80vh] flex flex-col relative`,onClick:i=>i.stopPropagation(),children:[g.jsx("button",{onClick:e,className:`absolute top-4 right-4 ${t.textSecondary} hover:${t.textPrimary} transition-colors`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),g.jsx("h2",{className:`text-xl sm:text-2xl font-bold ${t.accentColor} mb-4 pr-8`,children:" "}),g.jsx("div",{className:"flex-grow overflow-y-auto min-h-0 scrollbar-thin pr-2",children:g.jsxs("ul",{className:`space-y-4 ${t.textSecondary}`,children:[g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" :"})," /   ,   ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" :"})," /  AI ( )   ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:"AI :"})," Gemini  OpenRouter API Key   / . (Gemini  Gemini  )"]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:"API  :"}),"  ",g.jsx("strong",{children:"API Key "}),"  ",g.jsx("strong",{children:" "}),"   Google      ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" :"}),"       ",g.jsx("strong",{children:""}),"  . /   ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" / :"}),"  /   (:  ) ,       .   &     . (:    AI   ",g.jsx("strong",{children:""}),")"]})]})]})}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{onClick:e,className:`${t.accentBg} hover:opacity-90 ${t.buttonText} px-6 py-2 rounded-lg font-semibold transition-colors`,children:""})})]})}):null},Km="smartcalendar:tourSeen",iR=[{target:"chat-input",title:" ",description:" AI ,     ."},{target:"ai-schedule-toggle",title:"AI  ",description:"        ."},{target:"calendar-event",title:" ",description:"    AI  ."},{target:"view-week",title:" ",description:"        ."},{target:"calendar-more",title:"",description:"    +N      .",arrowOffset:{y:-16}},{target:"calendar-event",title:" ()",description:" &     ."},{target:"filter-button",title:"",description:"/ (/AI)    ."},{target:"api-settings-button",title:"",description:"Provider , API Key , /    ."}],lR=({onOpenUsage:n})=>{const{apiKey:e,openRouterApiKey:t,aiProviderPreference:i,openRouterModel:l,setApiKey:o,setOpenRouterApiKey:s,setAiProviderPreference:u,setOpenRouterModel:c,clearApiKey:f,clearOpenRouterApiKey:d}=Td(),{theme:p,setTheme:h,colors:m}=zi(),[x,S]=A.useState(!1);return g.jsxs("header",{className:`flex justify-between items-center p-4 ${m.headerBg} border-b ${m.border}`,children:[g.jsx("h1",{className:`text-xl font-bold ${m.accentColor}`,children:"ON  "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`flex rounded-lg p-1 border ${m.border} mr-2`,children:["dark","light","beige"].map(_=>g.jsx("button",{onClick:()=>h(_),className:`w-6 h-6 rounded-md flex items-center justify-center transition-colors mx-0.5
                 ${p===_?"ring-2 ring-offset-1 ring-cyan-500":"hover:opacity-80"}
                 ${_==="dark"?"bg-slate-800":_==="light"?"bg-white border border-gray-300":"bg-[#e4dcc0]"}
               `,title:`${_} theme`},_))}),g.jsx("button",{onClick:n,className:`${m.accentBg} hover:opacity-90 ${m.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors mr-2`,children:""}),g.jsxs("div",{className:`hidden sm:block text-xs ${m.textSecondary}`,children:["Provider: ",i==="auto"?"":i==="gemini"?"Gemini":"OpenRouter","  Key: ",e||t?"":""]}),g.jsxs("div",{className:`hidden lg:block text-xs ${m.textSecondary}`,children:["Gemini: ",e?"":"","  OpenRouter: ",t?"":""]}),g.jsx("button",{onClick:()=>S(!0),"data-tour":"api-settings-button",className:`bg-slate-700 hover:bg-slate-600 ${m.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:"API Key "})]}),g.jsx(Ww,{isOpen:x,onClose:()=>S(!1),geminiApiKey:e,openRouterApiKey:t,aiProviderPreference:i,openRouterModel:l,onSaveGemini:o,onSaveOpenRouter:s,onSaveAiProviderPreference:u,onSaveOpenRouterModel:c,onClearGemini:f,onClearOpenRouter:d})]})},oR=()=>{const[n,e]=A.useState(!1),[t,i]=A.useState(!1),{colors:l}=zi();return A.useEffect(()=>{localStorage.getItem(Km)==="1"||i(!0)},[]),g.jsxs("div",{className:`h-screen flex flex-col ${l.mainBg} antialiased overflow-hidden`,children:[g.jsx(lR,{onOpenUsage:()=>e(!0)}),g.jsx(nR,{isOpen:n,onClose:()=>e(!1)}),g.jsx(tR,{isOpen:t,steps:iR,onClose:({dismissed:o})=>{i(!1),localStorage.setItem(Km,"1")}}),!t&&g.jsx("button",{type:"button",onClick:()=>i(!0),className:`fixed left-4 bottom-4 z-[150] w-11 h-11 rounded-full ${l.accentBg} hover:opacity-90 ${l.buttonText} font-bold shadow-xl`,"aria-label":"  ",children:"?"}),g.jsx("main",{className:"flex-grow p-4 sm:p-6 md:p-8 flex flex-col min-h-0",children:g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 sm:gap-6 w-full max-w-screen-2xl mx-auto flex-grow min-h-0",children:[g.jsx("div",{className:"md:w-[75%] w-full order-1 md:order-1 flex flex-col min-h-0",children:g.jsx("div",{className:"w-full flex-grow min-h-0 flex flex-col",children:g.jsx(Iw,{scheduleText:Zw,manualContextText:Ym})})}),g.jsx("div",{className:"md:w-[25%] w-full order-2 md:order-2 flex flex-col min-h-0",children:g.jsx(Fw,{manualContextText:Ym})})]})})]})},sR=()=>g.jsx(j1,{children:g.jsx(oR,{})}),P0=document.getElementById("root");if(!P0)throw new Error("Could not find root element to mount to");const aR=Q1.createRoot(P0);aR.render(g.jsx(yx.StrictMode,{children:g.jsx(vw,{children:g.jsx(sR,{})})}));
