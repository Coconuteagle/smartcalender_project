var ix=Object.defineProperty;var Id=n=>{throw TypeError(n)};var lx=(n,e,t)=>e in n?ix(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ve=(n,e,t)=>lx(n,typeof e!="symbol"?e+"":e,t),ox=(n,e,t)=>e.has(n)||Id("Cannot "+t);var Ud=(n,e,t)=>e.has(n)?Id("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t);var Io=(n,e,t)=>(ox(n,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=t(l);fetch(l.href,o)}})();function Wp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jp={exports:{}},wr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx=Symbol.for("react.transitional.element"),ax=Symbol.for("react.fragment");function eg(n,e,t){var i=null;if(t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),"key"in e){t={};for(var l in e)l!=="key"&&(t[l]=e[l])}else t=e;return e=t.ref,{$$typeof:sx,type:n,key:i,ref:e!==void 0?e:null,props:t}}wr.Fragment=ax;wr.jsx=eg;wr.jsxs=eg;jp.exports=wr;var g=jp.exports,tg={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=Symbol.for("react.transitional.element"),rx=Symbol.for("react.portal"),ux=Symbol.for("react.fragment"),cx=Symbol.for("react.strict_mode"),fx=Symbol.for("react.profiler"),dx=Symbol.for("react.consumer"),hx=Symbol.for("react.context"),mx=Symbol.for("react.forward_ref"),px=Symbol.for("react.suspense"),gx=Symbol.for("react.memo"),ng=Symbol.for("react.lazy"),Ld=Symbol.iterator;function yx(n){return n===null||typeof n!="object"?null:(n=Ld&&n[Ld]||n["@@iterator"],typeof n=="function"?n:null)}var ig={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lg=Object.assign,og={};function So(n,e,t){this.props=n,this.context=e,this.refs=og,this.updater=t||ig}So.prototype.isReactComponent={};So.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};So.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function sg(){}sg.prototype=So.prototype;function hf(n,e,t){this.props=n,this.context=e,this.refs=og,this.updater=t||ig}var mf=hf.prototype=new sg;mf.constructor=hf;lg(mf,So.prototype);mf.isPureReactComponent=!0;var Od=Array.isArray,Ze={H:null,A:null,T:null,S:null,V:null},ag=Object.prototype.hasOwnProperty;function pf(n,e,t,i,l,o){return t=o.ref,{$$typeof:df,type:n,key:e,ref:t!==void 0?t:null,props:o}}function vx(n,e){return pf(n.type,e,void 0,void 0,void 0,n.props)}function gf(n){return typeof n=="object"&&n!==null&&n.$$typeof===df}function xx(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Vd=/\/+/g;function iu(n,e){return typeof n=="object"&&n!==null&&n.key!=null?xx(""+n.key):e.toString(36)}function $d(){}function Tx(n){switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:switch(typeof n.status=="string"?n.then($d,$d):(n.status="pending",n.then(function(e){n.status==="pending"&&(n.status="fulfilled",n.value=e)},function(e){n.status==="pending"&&(n.status="rejected",n.reason=e)})),n.status){case"fulfilled":return n.value;case"rejected":throw n.reason}}throw n}function Ml(n,e,t,i,l){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"bigint":case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case df:case rx:s=!0;break;case ng:return s=n._init,Ml(s(n._payload),e,t,i,l)}}if(s)return l=l(n),s=i===""?"."+iu(n,0):i,Od(l)?(t="",s!=null&&(t=s.replace(Vd,"$&/")+"/"),Ml(l,e,t,"",function(f){return f})):l!=null&&(gf(l)&&(l=vx(l,t+(l.key==null||n&&n.key===l.key?"":(""+l.key).replace(Vd,"$&/")+"/")+s)),e.push(l)),1;s=0;var u=i===""?".":i+":";if(Od(n))for(var c=0;c<n.length;c++)i=n[c],o=u+iu(i,c),s+=Ml(i,e,t,o,l);else if(c=yx(n),typeof c=="function")for(n=c.call(n),c=0;!(i=n.next()).done;)i=i.value,o=u+iu(i,c++),s+=Ml(i,e,t,o,l);else if(o==="object"){if(typeof n.then=="function")return Ml(Tx(n),e,t,i,l);throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function na(n,e,t){if(n==null)return n;var i=[],l=0;return Ml(n,i,"","",function(o){return e.call(t,o,l++)}),i}function Sx(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Bd=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Cx(){}re.Children={map:na,forEach:function(n,e,t){na(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return na(n,function(){e++}),e},toArray:function(n){return na(n,function(e){return e})||[]},only:function(n){if(!gf(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};re.Component=So;re.Fragment=ux;re.Profiler=fx;re.PureComponent=hf;re.StrictMode=cx;re.Suspense=px;re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ze;re.__COMPILER_RUNTIME={__proto__:null,c:function(n){return Ze.H.useMemoCache(n)}};re.cache=function(n){return function(){return n.apply(null,arguments)}};re.cloneElement=function(n,e,t){if(n==null)throw Error("The argument must be a React element, but you passed "+n+".");var i=lg({},n.props),l=n.key,o=void 0;if(e!=null)for(s in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(l=""+e.key),e)!ag.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=t;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}return pf(n.type,l,void 0,void 0,o,i)};re.createContext=function(n){return n={$$typeof:hx,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider=n,n.Consumer={$$typeof:dx,_context:n},n};re.createElement=function(n,e,t){var i,l={},o=null;if(e!=null)for(i in e.key!==void 0&&(o=""+e.key),e)ag.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=e[i]);var s=arguments.length-2;if(s===1)l.children=t;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];l.children=u}if(n&&n.defaultProps)for(i in s=n.defaultProps,s)l[i]===void 0&&(l[i]=s[i]);return pf(n,o,void 0,void 0,null,l)};re.createRef=function(){return{current:null}};re.forwardRef=function(n){return{$$typeof:mx,render:n}};re.isValidElement=gf;re.lazy=function(n){return{$$typeof:ng,_payload:{_status:-1,_result:n},_init:Sx}};re.memo=function(n,e){return{$$typeof:gx,type:n,compare:e===void 0?null:e}};re.startTransition=function(n){var e=Ze.T,t={};Ze.T=t;try{var i=n(),l=Ze.S;l!==null&&l(t,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Cx,Bd)}catch(o){Bd(o)}finally{Ze.T=e}};re.unstable_useCacheRefresh=function(){return Ze.H.useCacheRefresh()};re.use=function(n){return Ze.H.use(n)};re.useActionState=function(n,e,t){return Ze.H.useActionState(n,e,t)};re.useCallback=function(n,e){return Ze.H.useCallback(n,e)};re.useContext=function(n){return Ze.H.useContext(n)};re.useDebugValue=function(){};re.useDeferredValue=function(n,e){return Ze.H.useDeferredValue(n,e)};re.useEffect=function(n,e,t){var i=Ze.H;if(typeof t=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(n,e)};re.useId=function(){return Ze.H.useId()};re.useImperativeHandle=function(n,e,t){return Ze.H.useImperativeHandle(n,e,t)};re.useInsertionEffect=function(n,e){return Ze.H.useInsertionEffect(n,e)};re.useLayoutEffect=function(n,e){return Ze.H.useLayoutEffect(n,e)};re.useMemo=function(n,e){return Ze.H.useMemo(n,e)};re.useOptimistic=function(n,e){return Ze.H.useOptimistic(n,e)};re.useReducer=function(n,e,t){return Ze.H.useReducer(n,e,t)};re.useRef=function(n){return Ze.H.useRef(n)};re.useState=function(n){return Ze.H.useState(n)};re.useSyncExternalStore=function(n,e,t){return Ze.H.useSyncExternalStore(n,e,t)};re.useTransition=function(){return Ze.H.useTransition()};re.version="19.1.0";tg.exports=re;var A=tg.exports;const _x=Wp(A);var rg={exports:{}},Nr={},ug={exports:{}},cg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(V,oe){var le=V.length;V.push(oe);e:for(;0<le;){var Ie=le-1>>>1,Pe=V[Ie];if(0<l(Pe,oe))V[Ie]=oe,V[le]=Pe,le=Ie;else break e}}function t(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var oe=V[0],le=V.pop();if(le!==oe){V[0]=le;e:for(var Ie=0,Pe=V.length,He=Pe>>>1;Ie<He;){var Dt=2*(Ie+1)-1,ln=V[Dt],U=Dt+1,F=V[U];if(0>l(ln,le))U<Pe&&0>l(F,ln)?(V[Ie]=F,V[U]=le,Ie=U):(V[Ie]=ln,V[Dt]=le,Ie=Dt);else if(U<Pe&&0>l(F,le))V[Ie]=F,V[U]=le,Ie=U;else break e}}return oe}function l(V,oe){var le=V.sortIndex-oe.sortIndex;return le!==0?le:V.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();n.unstable_now=function(){return s.now()-u}}var c=[],f=[],d=1,m=null,h=3,p=!1,x=!1,S=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(V){for(var oe=t(f);oe!==null;){if(oe.callback===null)i(f);else if(oe.startTime<=V)i(f),oe.sortIndex=oe.expirationTime,e(c,oe);else break;oe=t(f)}}function b(V){if(S=!1,C(V),!x)if(t(c)!==null)x=!0,N||(N=!0,ke());else{var oe=t(f);oe!==null&&At(b,oe.startTime-V)}}var N=!1,M=-1,D=5,B=-1;function L(){return _?!0:!(n.unstable_now()-B<D)}function me(){if(_=!1,N){var V=n.unstable_now();B=V;var oe=!0;try{e:{x=!1,S&&(S=!1,v(M),M=-1),p=!0;var le=h;try{t:{for(C(V),m=t(c);m!==null&&!(m.expirationTime>V&&L());){var Ie=m.callback;if(typeof Ie=="function"){m.callback=null,h=m.priorityLevel;var Pe=Ie(m.expirationTime<=V);if(V=n.unstable_now(),typeof Pe=="function"){m.callback=Pe,C(V),oe=!0;break t}m===t(c)&&i(c),C(V)}else i(c);m=t(c)}if(m!==null)oe=!0;else{var He=t(f);He!==null&&At(b,He.startTime-V),oe=!1}}break e}finally{m=null,h=le,p=!1}oe=void 0}}finally{oe?ke():N=!1}}}var ke;if(typeof T=="function")ke=function(){T(me)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,dt=vt.port2;vt.port1.onmessage=me,ke=function(){dt.postMessage(null)}}else ke=function(){y(me,0)};function At(V,oe){M=y(function(){V(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_next=function(V){switch(h){case 1:case 2:case 3:var oe=3;break;default:oe=h}var le=h;h=oe;try{return V()}finally{h=le}},n.unstable_requestPaint=function(){_=!0},n.unstable_runWithPriority=function(V,oe){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var le=h;h=V;try{return oe()}finally{h=le}},n.unstable_scheduleCallback=function(V,oe,le){var Ie=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ie+le:Ie):le=Ie,V){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=le+Pe,V={id:d++,callback:oe,priorityLevel:V,startTime:le,expirationTime:Pe,sortIndex:-1},le>Ie?(V.sortIndex=le,e(f,V),t(c)===null&&V===t(f)&&(S?(v(M),M=-1):S=!0,At(b,le-Ie))):(V.sortIndex=Pe,e(c,V),x||p||(x=!0,N||(N=!0,ke()))),V},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(V){var oe=h;return function(){var le=h;h=oe;try{return V.apply(this,arguments)}finally{h=le}}}})(cg);ug.exports=cg;var Ex=ug.exports,fg={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax=A;function dg(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function mi(){}var It={d:{f:mi,r:function(){throw Error(dg(522))},D:mi,C:mi,L:mi,m:mi,X:mi,S:mi,M:mi},p:0,findDOMNode:null},bx=Symbol.for("react.portal");function Mx(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bx,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}var Qo=Ax.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Rr(n,e){if(n==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=It;Ot.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(dg(299));return Mx(n,e,null,t)};Ot.flushSync=function(n){var e=Qo.T,t=It.p;try{if(Qo.T=null,It.p=2,n)return n()}finally{Qo.T=e,It.p=t,It.d.f()}};Ot.preconnect=function(n,e){typeof n=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,It.d.C(n,e))};Ot.prefetchDNS=function(n){typeof n=="string"&&It.d.D(n)};Ot.preinit=function(n,e){if(typeof n=="string"&&e&&typeof e.as=="string"){var t=e.as,i=Rr(t,e.crossOrigin),l=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;t==="style"?It.d.S(n,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:o}):t==="script"&&It.d.X(n,{crossOrigin:i,integrity:l,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ot.preinitModule=function(n,e){if(typeof n=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var t=Rr(e.as,e.crossOrigin);It.d.M(n,{crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&It.d.M(n)};Ot.preload=function(n,e){if(typeof n=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var t=e.as,i=Rr(t,e.crossOrigin);It.d.L(n,t,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ot.preloadModule=function(n,e){if(typeof n=="string")if(e){var t=Rr(e.as,e.crossOrigin);It.d.m(n,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else It.d.m(n)};Ot.requestFormReset=function(n){It.d.r(n)};Ot.unstable_batchedUpdates=function(n,e){return n(e)};Ot.useFormState=function(n,e,t){return Qo.H.useFormState(n,e,t)};Ot.useFormStatus=function(){return Qo.H.useHostTransitionStatus()};Ot.version="19.1.0";function hg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hg)}catch(n){console.error(n)}}hg(),fg.exports=Ot;var wx=fg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ft=Ex,mg=A,Nx=wx;function w(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Is(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function gg(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Pd(n){if(Is(n)!==n)throw Error(w(188))}function Rx(n){var e=n.alternate;if(!e){if(e=Is(n),e===null)throw Error(w(188));return e!==n?null:n}for(var t=n,i=e;;){var l=t.return;if(l===null)break;var o=l.alternate;if(o===null){if(i=l.return,i!==null){t=i;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===t)return Pd(l),n;if(o===i)return Pd(l),e;o=o.sibling}throw Error(w(188))}if(t.return!==i.return)t=l,i=o;else{for(var s=!1,u=l.child;u;){if(u===t){s=!0,t=l,i=o;break}if(u===i){s=!0,i=l,t=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===t){s=!0,t=o,i=l;break}if(u===i){s=!0,i=o,t=l;break}u=u.sibling}if(!s)throw Error(w(189))}}if(t.alternate!==i)throw Error(w(190))}if(t.tag!==3)throw Error(w(188));return t.stateNode.current===t?n:e}function yg(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n;for(n=n.child;n!==null;){if(e=yg(n),e!==null)return e;n=n.sibling}return null}var qe=Object.assign,Dx=Symbol.for("react.element"),ia=Symbol.for("react.transitional.element"),Fo=Symbol.for("react.portal"),kl=Symbol.for("react.fragment"),vg=Symbol.for("react.strict_mode"),Ju=Symbol.for("react.profiler"),kx=Symbol.for("react.provider"),xg=Symbol.for("react.consumer"),Fn=Symbol.for("react.context"),yf=Symbol.for("react.forward_ref"),Xu=Symbol.for("react.suspense"),Qu=Symbol.for("react.suspense_list"),vf=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),Wu=Symbol.for("react.activity"),Ix=Symbol.for("react.memo_cache_sentinel"),zd=Symbol.iterator;function Uo(n){return n===null||typeof n!="object"?null:(n=zd&&n[zd]||n["@@iterator"],typeof n=="function"?n:null)}var Ux=Symbol.for("react.client.reference");function ju(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Ux?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case kl:return"Fragment";case Ju:return"Profiler";case vg:return"StrictMode";case Xu:return"Suspense";case Qu:return"SuspenseList";case Wu:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case Fo:return"Portal";case Fn:return(n.displayName||"Context")+".Provider";case xg:return(n._context.displayName||"Context")+".Consumer";case yf:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case vf:return e=n.displayName||null,e!==null?e:ju(n.type)||"Memo";case yi:e=n._payload,n=n._init;try{return ju(n(e))}catch{}}return null}var Yo=Array.isArray,W=mg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e=Nx.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tl={pending:!1,data:null,method:null,action:null},ec=[],Il=-1;function Vn(n){return{current:n}}function yt(n){0>Il||(n.current=ec[Il],ec[Il]=null,Il--)}function Ke(n,e){Il++,ec[Il]=n.current,n.current=e}var kn=Vn(null),ys=Vn(null),wi=Vn(null),$a=Vn(null);function Ba(n,e){switch(Ke(wi,e),Ke(ys,n),Ke(kn,null),e.nodeType){case 9:case 11:n=(n=e.documentElement)&&(n=n.namespaceURI)?Yh(n):0;break;default:if(n=e.tagName,e=e.namespaceURI)e=Yh(e),n=Ov(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}yt(kn),Ke(kn,n)}function io(){yt(kn),yt(ys),yt(wi)}function tc(n){n.memoizedState!==null&&Ke($a,n);var e=kn.current,t=Ov(e,n.type);e!==t&&(Ke(ys,n),Ke(kn,t))}function Pa(n){ys.current===n&&(yt(kn),yt(ys)),$a.current===n&&(yt($a),Ms._currentValue=tl)}var nc=Object.prototype.hasOwnProperty,xf=ft.unstable_scheduleCallback,lu=ft.unstable_cancelCallback,Lx=ft.unstable_shouldYield,Ox=ft.unstable_requestPaint,In=ft.unstable_now,Vx=ft.unstable_getCurrentPriorityLevel,Tg=ft.unstable_ImmediatePriority,Sg=ft.unstable_UserBlockingPriority,za=ft.unstable_NormalPriority,$x=ft.unstable_LowPriority,Cg=ft.unstable_IdlePriority,Bx=ft.log,Px=ft.unstable_setDisableYieldValue,Us=null,Wt=null;function Ei(n){if(typeof Bx=="function"&&Px(n),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Us,n)}catch{}}var jt=Math.clz32?Math.clz32:qx,zx=Math.log,Gx=Math.LN2;function qx(n){return n>>>=0,n===0?32:31-(zx(n)/Gx|0)|0}var la=256,oa=4194304;function Qi(n){var e=n&42;if(e!==0)return e;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Dr(n,e,t){var i=n.pendingLanes;if(i===0)return 0;var l=0,o=n.suspendedLanes,s=n.pingedLanes;n=n.warmLanes;var u=i&134217727;return u!==0?(i=u&~o,i!==0?l=Qi(i):(s&=u,s!==0?l=Qi(s):t||(t=u&~n,t!==0&&(l=Qi(t))))):(u=i&~o,u!==0?l=Qi(u):s!==0?l=Qi(s):t||(t=i&~n,t!==0&&(l=Qi(t)))),l===0?0:e!==0&&e!==l&&!(e&o)&&(o=l&-l,t=e&-e,o>=t||o===32&&(t&4194048)!==0)?e:l}function Ls(n,e){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&e)===0}function Hx(n,e){switch(n){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _g(){var n=la;return la<<=1,!(la&4194048)&&(la=256),n}function Eg(){var n=oa;return oa<<=1,!(oa&62914560)&&(oa=4194304),n}function ou(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Os(n,e){n.pendingLanes|=e,e!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Fx(n,e,t,i,l,o){var s=n.pendingLanes;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=t,n.entangledLanes&=t,n.errorRecoveryDisabledLanes&=t,n.shellSuspendCounter=0;var u=n.entanglements,c=n.expirationTimes,f=n.hiddenUpdates;for(t=s&~t;0<t;){var d=31-jt(t),m=1<<d;u[d]=0,c[d]=-1;var h=f[d];if(h!==null)for(f[d]=null,d=0;d<h.length;d++){var p=h[d];p!==null&&(p.lane&=-536870913)}t&=~m}i!==0&&Ag(n,i,0),o!==0&&l===0&&n.tag!==0&&(n.suspendedLanes|=o&~(s&~e))}function Ag(n,e,t){n.pendingLanes|=e,n.suspendedLanes&=~e;var i=31-jt(e);n.entangledLanes|=e,n.entanglements[i]=n.entanglements[i]|1073741824|t&4194090}function bg(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-jt(t),l=1<<i;l&e|n[i]&e&&(n[i]|=e),t&=~l}}function Tf(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Sf(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function Mg(){var n=_e.p;return n!==0?n:(n=window.event,n===void 0?32:Yv(n.type))}function Yx(n,e){var t=_e.p;try{return _e.p=n,e()}finally{_e.p=t}}var zi=Math.random().toString(36).slice(2),Nt="__reactFiber$"+zi,Gt="__reactProps$"+zi,Co="__reactContainer$"+zi,ic="__reactEvents$"+zi,Zx="__reactListeners$"+zi,Kx="__reactHandles$"+zi,Gd="__reactResources$"+zi,Vs="__reactMarker$"+zi;function Cf(n){delete n[Nt],delete n[Gt],delete n[ic],delete n[Zx],delete n[Kx]}function Ul(n){var e=n[Nt];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Co]||t[Nt]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Jh(n);n!==null;){if(t=n[Nt])return t;n=Jh(n)}return e}n=t,t=n.parentNode}return null}function _o(n){if(n=n[Nt]||n[Co]){var e=n.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return n}return null}function Zo(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n.stateNode;throw Error(w(33))}function Zl(n){var e=n[Gd];return e||(e=n[Gd]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function pt(n){n[Vs]=!0}var wg=new Set,Ng={};function gl(n,e){lo(n,e),lo(n+"Capture",e)}function lo(n,e){for(Ng[n]=e,n=0;n<e.length;n++)wg.add(e[n])}var Jx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qd={},Hd={};function Xx(n){return nc.call(Hd,n)?!0:nc.call(qd,n)?!1:Jx.test(n)?Hd[n]=!0:(qd[n]=!0,!1)}function Ca(n,e,t){if(Xx(e))if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":n.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){n.removeAttribute(e);return}}n.setAttribute(e,""+t)}}function sa(n,e,t){if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(e);return}n.setAttribute(e,""+t)}}function zn(n,e,t,i){if(i===null)n.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(t);return}n.setAttributeNS(e,t,""+i)}}var su,Fd;function wl(n){if(su===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);su=e&&e[1]||"",Fd=-1<t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+su+n+Fd}var au=!1;function ru(n,e){if(!n||au)return"";au=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(p){var h=p}Reflect.construct(n,[],m)}else{try{m.call()}catch(p){h=p}n.call(m.prototype)}}else{try{throw Error()}catch(p){h=p}(m=n())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),s=o[0],u=o[1];if(s&&u){var c=s.split(`
`),f=u.split(`
`);for(l=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;l<f.length&&!f[l].includes("DetermineComponentFrameRoot");)l++;if(i===c.length||l===f.length)for(i=c.length-1,l=f.length-1;1<=i&&0<=l&&c[i]!==f[l];)l--;for(;1<=i&&0<=l;i--,l--)if(c[i]!==f[l]){if(i!==1||l!==1)do if(i--,l--,0>l||c[i]!==f[l]){var d=`
`+c[i].replace(" at new "," at ");return n.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",n.displayName)),d}while(1<=i&&0<=l);break}}}finally{au=!1,Error.prepareStackTrace=t}return(t=n?n.displayName||n.name:"")?wl(t):""}function Qx(n){switch(n.tag){case 26:case 27:case 5:return wl(n.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 15:return ru(n.type,!1);case 11:return ru(n.type.render,!1);case 1:return ru(n.type,!0);case 31:return wl("Activity");default:return""}}function Yd(n){try{var e="";do e+=Qx(n),n=n.return;while(n);return e}catch(t){return`
Error generating stack: `+t.message+`
`+t.stack}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Rg(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wx(n){var e=Rg(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var l=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return l.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ga(n){n._valueTracker||(n._valueTracker=Wx(n))}function Dg(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=Rg(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function qa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var jx=/[\n"\\]/g;function fn(n){return n.replace(jx,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function lc(n,e,t,i,l,o,s,u){n.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?n.type=s:n.removeAttribute("type"),e!=null?s==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+an(e)):n.value!==""+an(e)&&(n.value=""+an(e)):s!=="submit"&&s!=="reset"||n.removeAttribute("value"),e!=null?oc(n,s,an(e)):t!=null?oc(n,s,an(t)):i!=null&&n.removeAttribute("value"),l==null&&o!=null&&(n.defaultChecked=!!o),l!=null&&(n.checked=l&&typeof l!="function"&&typeof l!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?n.name=""+an(u):n.removeAttribute("name")}function kg(n,e,t,i,l,o,s,u){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(n.type=o),e!=null||t!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;t=t!=null?""+an(t):"",e=e!=null?""+an(e):t,u||e===n.value||(n.value=e),n.defaultValue=e}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,n.checked=u?n.checked:!!i,n.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(n.name=s)}function oc(n,e,t){e==="number"&&qa(n.ownerDocument)===n||n.defaultValue===""+t||(n.defaultValue=""+t)}function Kl(n,e,t,i){if(n=n.options,e){e={};for(var l=0;l<t.length;l++)e["$"+t[l]]=!0;for(t=0;t<n.length;t++)l=e.hasOwnProperty("$"+n[t].value),n[t].selected!==l&&(n[t].selected=l),l&&i&&(n[t].defaultSelected=!0)}else{for(t=""+an(t),e=null,l=0;l<n.length;l++){if(n[l].value===t){n[l].selected=!0,i&&(n[l].defaultSelected=!0);return}e!==null||n[l].disabled||(e=n[l])}e!==null&&(e.selected=!0)}}function Ig(n,e,t){if(e!=null&&(e=""+an(e),e!==n.value&&(n.value=e),t==null)){n.defaultValue!==e&&(n.defaultValue=e);return}n.defaultValue=t!=null?""+an(t):""}function Ug(n,e,t,i){if(e==null){if(i!=null){if(t!=null)throw Error(w(92));if(Yo(i)){if(1<i.length)throw Error(w(93));i=i[0]}t=i}t==null&&(t=""),e=t}t=an(e),n.defaultValue=t,i=n.textContent,i===t&&i!==""&&i!==null&&(n.value=i)}function oo(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var eT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zd(n,e,t){var i=e.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?i?n.setProperty(e,""):e==="float"?n.cssFloat="":n[e]="":i?n.setProperty(e,t):typeof t!="number"||t===0||eT.has(e)?e==="float"?n.cssFloat=t:n[e]=(""+t).trim():n[e]=t+"px"}function Lg(n,e,t){if(e!=null&&typeof e!="object")throw Error(w(62));if(n=n.style,t!=null){for(var i in t)!t.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="");for(var l in e)i=e[l],e.hasOwnProperty(l)&&t[l]!==i&&Zd(n,l,i)}else for(var o in e)e.hasOwnProperty(o)&&Zd(n,o,e[o])}function _f(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(n){return nT.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var sc=null;function Ef(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ll=null,Jl=null;function Kd(n){var e=_o(n);if(e&&(n=e.stateNode)){var t=n[Gt]||null;e:switch(n=e.stateNode,e.type){case"input":if(lc(n,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+fn(""+e)+'"][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var l=i[Gt]||null;if(!l)throw Error(w(90));lc(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<t.length;e++)i=t[e],i.form===n.form&&Dg(i)}break e;case"textarea":Ig(n,t.value,t.defaultValue);break e;case"select":e=t.value,e!=null&&Kl(n,!!t.multiple,e,!1)}}}var uu=!1;function Og(n,e,t){if(uu)return n(e,t);uu=!0;try{var i=n(e);return i}finally{if(uu=!1,(Ll!==null||Jl!==null)&&(zr(),Ll&&(e=Ll,n=Jl,Jl=Ll=null,Kd(e),n)))for(e=0;e<n.length;e++)Kd(n[e])}}function vs(n,e){var t=n.stateNode;if(t===null)return null;var i=t[Gt]||null;if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(w(231,e,typeof t));return t}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ac=!1;if(jn)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){ac=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{ac=!1}var Ai=null,Af=null,Ea=null;function Vg(){if(Ea)return Ea;var n,e=Af,t=e.length,i,l="value"in Ai?Ai.value:Ai.textContent,o=l.length;for(n=0;n<t&&e[n]===l[n];n++);var s=t-n;for(i=1;i<=s&&e[t-i]===l[o-i];i++);return Ea=l.slice(n,1<i?1-i:void 0)}function Aa(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function aa(){return!0}function Jd(){return!1}function qt(n){function e(t,i,l,o,s){this._reactName=t,this._targetInst=l,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?aa:Jd,this.isPropagationStopped=Jd,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),e}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kr=qt(yl),$s=qe({},yl,{view:0,detail:0}),iT=qt($s),cu,fu,Oo,Ir=qe({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Oo&&(Oo&&n.type==="mousemove"?(cu=n.screenX-Oo.screenX,fu=n.screenY-Oo.screenY):fu=cu=0,Oo=n),cu)},movementY:function(n){return"movementY"in n?n.movementY:fu}}),Xd=qt(Ir),lT=qe({},Ir,{dataTransfer:0}),oT=qt(lT),sT=qe({},$s,{relatedTarget:0}),du=qt(sT),aT=qe({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),rT=qt(aT),uT=qe({},yl,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),cT=qt(uT),fT=qe({},yl,{data:0}),Qd=qt(fT),dT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pT(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=mT[n])?!!e[n]:!1}function bf(){return pT}var gT=qe({},$s,{key:function(n){if(n.key){var e=dT[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Aa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?hT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bf,charCode:function(n){return n.type==="keypress"?Aa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Aa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),yT=qt(gT),vT=qe({},Ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wd=qt(vT),xT=qe({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bf}),TT=qt(xT),ST=qe({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),CT=qt(ST),_T=qe({},Ir,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ET=qt(_T),AT=qe({},yl,{newState:0,oldState:0}),bT=qt(AT),MT=[9,13,27,32],Mf=jn&&"CompositionEvent"in window,Wo=null;jn&&"documentMode"in document&&(Wo=document.documentMode);var wT=jn&&"TextEvent"in window&&!Wo,$g=jn&&(!Mf||Wo&&8<Wo&&11>=Wo),jd=" ",eh=!1;function Bg(n,e){switch(n){case"keyup":return MT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ol=!1;function NT(n,e){switch(n){case"compositionend":return Pg(e);case"keypress":return e.which!==32?null:(eh=!0,jd);case"textInput":return n=e.data,n===jd&&eh?null:n;default:return null}}function RT(n,e){if(Ol)return n==="compositionend"||!Mf&&Bg(n,e)?(n=Vg(),Ea=Af=Ai=null,Ol=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $g&&e.locale!=="ko"?null:e.data;default:return null}}var DT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function th(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!DT[n.type]:e==="textarea"}function zg(n,e,t,i){Ll?Jl?Jl.push(i):Jl=[i]:Ll=i,e=ar(e,"onChange"),0<e.length&&(t=new kr("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var jo=null,xs=null;function kT(n){Iv(n,0)}function Ur(n){var e=Zo(n);if(Dg(e))return n}function nh(n,e){if(n==="change")return e}var Gg=!1;if(jn){var hu;if(jn){var mu="oninput"in document;if(!mu){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),mu=typeof ih.oninput=="function"}hu=mu}else hu=!1;Gg=hu&&(!document.documentMode||9<document.documentMode)}function lh(){jo&&(jo.detachEvent("onpropertychange",qg),xs=jo=null)}function qg(n){if(n.propertyName==="value"&&Ur(xs)){var e=[];zg(e,xs,n,Ef(n)),Og(kT,e)}}function IT(n,e,t){n==="focusin"?(lh(),jo=e,xs=t,jo.attachEvent("onpropertychange",qg)):n==="focusout"&&lh()}function UT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ur(xs)}function LT(n,e){if(n==="click")return Ur(e)}function OT(n,e){if(n==="input"||n==="change")return Ur(e)}function VT(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var nn=typeof Object.is=="function"?Object.is:VT;function Ts(n,e){if(nn(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var l=t[i];if(!nc.call(e,l)||!nn(n[l],e[l]))return!1}return!0}function oh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function sh(n,e){var t=oh(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=oh(t)}}function Hg(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Hg(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Fg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var e=qa(n.document);e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=qa(n.document)}return e}function wf(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var $T=jn&&"documentMode"in document&&11>=document.documentMode,Vl=null,rc=null,es=null,uc=!1;function ah(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;uc||Vl==null||Vl!==qa(i)||(i=Vl,"selectionStart"in i&&wf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),es&&Ts(es,i)||(es=i,i=ar(rc,"onSelect"),0<i.length&&(e=new kr("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Vl)))}function Ki(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var $l={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},pu={},Yg={};jn&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete $l.animationend.animation,delete $l.animationiteration.animation,delete $l.animationstart.animation),"TransitionEvent"in window||delete $l.transitionend.transition);function vl(n){if(pu[n])return pu[n];if(!$l[n])return n;var e=$l[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Yg)return pu[n]=e[t];return n}var Zg=vl("animationend"),Kg=vl("animationiteration"),Jg=vl("animationstart"),BT=vl("transitionrun"),PT=vl("transitionstart"),zT=vl("transitioncancel"),Xg=vl("transitionend"),Qg=new Map,cc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cc.push("scrollEnd");function Tn(n,e){Qg.set(n,e),gl(e,[n])}var rh=new WeakMap;function dn(n,e){if(typeof n=="object"&&n!==null){var t=rh.get(n);return t!==void 0?t:(e={value:n,source:e,stack:Yd(e)},rh.set(n,e),e)}return{value:n,source:e,stack:Yd(e)}}var sn=[],Bl=0,Nf=0;function Lr(){for(var n=Bl,e=Nf=Bl=0;e<n;){var t=sn[e];sn[e++]=null;var i=sn[e];sn[e++]=null;var l=sn[e];sn[e++]=null;var o=sn[e];if(sn[e++]=null,i!==null&&l!==null){var s=i.pending;s===null?l.next=l:(l.next=s.next,s.next=l),i.pending=l}o!==0&&Wg(t,l,o)}}function Or(n,e,t,i){sn[Bl++]=n,sn[Bl++]=e,sn[Bl++]=t,sn[Bl++]=i,Nf|=i,n.lanes|=i,n=n.alternate,n!==null&&(n.lanes|=i)}function Rf(n,e,t,i){return Or(n,e,t,i),Ha(n)}function Eo(n,e){return Or(n,null,null,e),Ha(n)}function Wg(n,e,t){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t);for(var l=!1,o=n.return;o!==null;)o.childLanes|=t,i=o.alternate,i!==null&&(i.childLanes|=t),o.tag===22&&(n=o.stateNode,n===null||n._visibility&1||(l=!0)),n=o,o=o.return;return n.tag===3?(o=n.stateNode,l&&e!==null&&(l=31-jt(t),n=o.hiddenUpdates,i=n[l],i===null?n[l]=[e]:i.push(e),e.lane=t|536870912),o):null}function Ha(n){if(50<cs)throw cs=0,Dc=null,Error(w(185));for(var e=n.return;e!==null;)n=e,e=n.return;return n.tag===3?n.stateNode:null}var Pl={};function GT(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(n,e,t,i){return new GT(n,e,t,i)}function Df(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qn(n,e){var t=n.alternate;return t===null?(t=Qt(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&65011712,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t.refCleanup=n.refCleanup,t}function jg(n,e){n.flags&=65011714;var t=n.alternate;return t===null?(n.childLanes=0,n.lanes=e,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.type=t.type,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n}function ba(n,e,t,i,l,o){var s=0;if(i=n,typeof n=="function")Df(n)&&(s=1);else if(typeof n=="string")s=H1(n,t,kn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Wu:return n=Qt(31,t,e,l),n.elementType=Wu,n.lanes=o,n;case kl:return nl(t.children,l,o,e);case vg:s=8,l|=24;break;case Ju:return n=Qt(12,t,e,l|2),n.elementType=Ju,n.lanes=o,n;case Xu:return n=Qt(13,t,e,l),n.elementType=Xu,n.lanes=o,n;case Qu:return n=Qt(19,t,e,l),n.elementType=Qu,n.lanes=o,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case kx:case Fn:s=10;break e;case xg:s=9;break e;case yf:s=11;break e;case vf:s=14;break e;case yi:s=16,i=null;break e}s=29,t=Error(w(130,n===null?"null":typeof n,"")),i=null}return e=Qt(s,t,e,l),e.elementType=n,e.type=i,e.lanes=o,e}function nl(n,e,t,i){return n=Qt(7,n,i,e),n.lanes=t,n}function gu(n,e,t){return n=Qt(6,n,null,e),n.lanes=t,n}function yu(n,e,t){return e=Qt(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}var zl=[],Gl=0,Fa=null,Ya=0,rn=[],un=0,il=null,Yn=1,Zn="";function Wi(n,e){zl[Gl++]=Ya,zl[Gl++]=Fa,Fa=n,Ya=e}function ey(n,e,t){rn[un++]=Yn,rn[un++]=Zn,rn[un++]=il,il=n;var i=Yn;n=Zn;var l=32-jt(i)-1;i&=~(1<<l),t+=1;var o=32-jt(e)+l;if(30<o){var s=l-l%5;o=(i&(1<<s)-1).toString(32),i>>=s,l-=s,Yn=1<<32-jt(e)+l|t<<l|i,Zn=o+n}else Yn=1<<o|t<<l|i,Zn=n}function kf(n){n.return!==null&&(Wi(n,1),ey(n,1,0))}function If(n){for(;n===Fa;)Fa=zl[--Gl],zl[Gl]=null,Ya=zl[--Gl],zl[Gl]=null;for(;n===il;)il=rn[--un],rn[un]=null,Zn=rn[--un],rn[un]=null,Yn=rn[--un],rn[un]=null}var kt=null,We=null,Ce=!1,ll=null,bn=!1,fc=Error(w(519));function rl(n){var e=Error(w(418,""));throw Ss(dn(e,n)),fc}function uh(n){var e=n.stateNode,t=n.type,i=n.memoizedProps;switch(e[Nt]=n,e[Gt]=i,t){case"dialog":fe("cancel",e),fe("close",e);break;case"iframe":case"object":case"embed":fe("load",e);break;case"video":case"audio":for(t=0;t<Es.length;t++)fe(Es[t],e);break;case"source":fe("error",e);break;case"img":case"image":case"link":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"input":fe("invalid",e),kg(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Ga(e);break;case"select":fe("invalid",e);break;case"textarea":fe("invalid",e),Ug(e,i.value,i.defaultValue,i.children),Ga(e)}t=i.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||e.textContent===""+t||i.suppressHydrationWarning===!0||Lv(e.textContent,t)?(i.popover!=null&&(fe("beforetoggle",e),fe("toggle",e)),i.onScroll!=null&&fe("scroll",e),i.onScrollEnd!=null&&fe("scrollend",e),i.onClick!=null&&(e.onclick=Hr),e=!0):e=!1,e||rl(n)}function ch(n){for(kt=n.return;kt;)switch(kt.tag){case 5:case 13:bn=!1;return;case 27:case 3:bn=!0;return;default:kt=kt.return}}function Vo(n){if(n!==kt)return!1;if(!Ce)return ch(n),Ce=!0,!1;var e=n.tag,t;if((t=e!==3&&e!==27)&&((t=e===5)&&(t=n.type,t=!(t!=="form"&&t!=="button")||Vc(n.type,n.memoizedProps)),t=!t),t&&We&&rl(n),ch(n),e===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(w(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8)if(t=n.data,t==="/$"){if(e===0){We=vn(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++;n=n.nextSibling}We=null}}else e===27?(e=We,Gi(n.type)?(n=Pc,Pc=null,We=n):We=e):We=kt?vn(n.stateNode.nextSibling):null;return!0}function Bs(){We=kt=null,Ce=!1}function fh(){var n=ll;return n!==null&&(zt===null?zt=n:zt.push.apply(zt,n),ll=null),n}function Ss(n){ll===null?ll=[n]:ll.push(n)}var dc=Vn(null),xl=null,Kn=null;function Ti(n,e,t){Ke(dc,e._currentValue),e._currentValue=t}function Wn(n){n._currentValue=dc.current,yt(dc)}function hc(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function mc(n,e,t,i){var l=n.child;for(l!==null&&(l.return=n);l!==null;){var o=l.dependencies;if(o!==null){var s=l.child;o=o.firstContext;e:for(;o!==null;){var u=o;o=l;for(var c=0;c<e.length;c++)if(u.context===e[c]){o.lanes|=t,u=o.alternate,u!==null&&(u.lanes|=t),hc(o.return,t,n),i||(s=null);break e}o=u.next}}else if(l.tag===18){if(s=l.return,s===null)throw Error(w(341));s.lanes|=t,o=s.alternate,o!==null&&(o.lanes|=t),hc(s,t,n),s=null}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===n){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}}function Ps(n,e,t,i){n=null;for(var l=e,o=!1;l!==null;){if(!o){if(l.flags&524288)o=!0;else if(l.flags&262144)break}if(l.tag===10){var s=l.alternate;if(s===null)throw Error(w(387));if(s=s.memoizedProps,s!==null){var u=l.type;nn(l.pendingProps.value,s.value)||(n!==null?n.push(u):n=[u])}}else if(l===$a.current){if(s=l.alternate,s===null)throw Error(w(387));s.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(n!==null?n.push(Ms):n=[Ms])}l=l.return}n!==null&&mc(e,n,t,i),e.flags|=262144}function Za(n){for(n=n.firstContext;n!==null;){if(!nn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ul(n){xl=n,Kn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Rt(n){return ty(xl,n)}function ra(n,e){return xl===null&&ul(n),ty(n,e)}function ty(n,e){var t=e._currentValue;if(e={context:e,memoizedValue:t,next:null},Kn===null){if(n===null)throw Error(w(308));Kn=e,n.dependencies={lanes:0,firstContext:e},n.flags|=524288}else Kn=Kn.next=e;return t}var qT=typeof AbortController<"u"?AbortController:function(){var n=[],e=this.signal={aborted:!1,addEventListener:function(t,i){n.push(i)}};this.abort=function(){e.aborted=!0,n.forEach(function(t){return t()})}},HT=ft.unstable_scheduleCallback,FT=ft.unstable_NormalPriority,ut={$$typeof:Fn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new qT,data:new Map,refCount:0}}function zs(n){n.refCount--,n.refCount===0&&HT(FT,function(){n.controller.abort()})}var ts=null,pc=0,so=0,Xl=null;function YT(n,e){if(ts===null){var t=ts=[];pc=0,so=id(),Xl={status:"pending",value:void 0,then:function(i){t.push(i)}}}return pc++,e.then(dh,dh),e}function dh(){if(--pc===0&&ts!==null){Xl!==null&&(Xl.status="fulfilled");var n=ts;ts=null,so=0,Xl=null;for(var e=0;e<n.length;e++)(0,n[e])()}}function ZT(n,e){var t=[],i={status:"pending",value:null,reason:null,then:function(l){t.push(l)}};return n.then(function(){i.status="fulfilled",i.value=e;for(var l=0;l<t.length;l++)(0,t[l])(e)},function(l){for(i.status="rejected",i.reason=l,l=0;l<t.length;l++)(0,t[l])(void 0)}),i}var hh=W.S;W.S=function(n,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&YT(n,e),hh!==null&&hh(n,e)};var ol=Vn(null);function Lf(){var n=ol.current;return n!==null?n:$e.pooledCache}function Ma(n,e){e===null?Ke(ol,ol.current):Ke(ol,e.pool)}function ny(){var n=Lf();return n===null?null:{parent:ut._currentValue,pool:n}}var Gs=Error(w(460)),iy=Error(w(474)),Vr=Error(w(542)),gc={then:function(){}};function mh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ua(){}function ly(n,e,t){switch(t=n[t],t===void 0?n.push(e):t!==e&&(e.then(ua,ua),e=t),e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,gh(n),n;default:if(typeof e.status=="string")e.then(ua,ua);else{if(n=$e,n!==null&&100<n.shellSuspendCounter)throw Error(w(482));n=e,n.status="pending",n.then(function(i){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=i}},function(i){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,gh(n),n}throw ns=e,Gs}}var ns=null;function ph(){if(ns===null)throw Error(w(459));var n=ns;return ns=null,n}function gh(n){if(n===Gs||n===Vr)throw Error(w(483))}var vi=!1;function Of(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yc(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ni(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ri(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,we&2){var l=i.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),i.pending=e,e=Ha(n),Wg(n,null,t),e}return Or(n,i,e,t),Ha(n)}function is(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194048)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,bg(n,t)}}function vu(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var l=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};o===null?l=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?l=o=e:o=o.next=e}else l=o=e;t={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}var vc=!1;function ls(){if(vc){var n=Xl;if(n!==null)throw n}}function os(n,e,t,i){vc=!1;var l=n.updateQueue;vi=!1;var o=l.firstBaseUpdate,s=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var c=u,f=c.next;c.next=null,s===null?o=f:s.next=f,s=c;var d=n.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==s&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(o!==null){var m=l.baseState;s=0,d=f=c=null,u=o;do{var h=u.lane&-536870913,p=h!==u.lane;if(p?(ge&h)===h:(i&h)===h){h!==0&&h===so&&(vc=!0),d!==null&&(d=d.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var x=n,S=u;h=e;var _=t;switch(S.tag){case 1:if(x=S.payload,typeof x=="function"){m=x.call(_,m,h);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,h=typeof x=="function"?x.call(_,m,h):x,h==null)break e;m=qe({},m,h);break e;case 2:vi=!0}}h=u.callback,h!==null&&(n.flags|=64,p&&(n.flags|=8192),p=l.callbacks,p===null?l.callbacks=[h]:p.push(h))}else p={lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=p,c=m):d=d.next=p,s|=h;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;p=u,u=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);d===null&&(c=m),l.baseState=c,l.firstBaseUpdate=f,l.lastBaseUpdate=d,o===null&&(l.shared.lanes=0),Bi|=s,n.lanes=s,n.memoizedState=m}}function oy(n,e){if(typeof n!="function")throw Error(w(191,n));n.call(e)}function sy(n,e){var t=n.callbacks;if(t!==null)for(n.callbacks=null,n=0;n<t.length;n++)oy(t[n],e)}var ao=Vn(null),Ka=Vn(0);function yh(n,e){n=ni,Ke(Ka,n),Ke(ao,e),ni=n|e.baseLanes}function xc(){Ke(Ka,ni),Ke(ao,ao.current)}function Vf(){ni=Ka.current,yt(ao),yt(Ka)}var Vi=0,ue=null,Re=null,st=null,Ja=!1,Ql=!1,cl=!1,Xa=0,Cs=0,Wl=null,KT=0;function tt(){throw Error(w(321))}function $f(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!nn(n[t],e[t]))return!1;return!0}function Bf(n,e,t,i,l,o){return Vi=o,ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,W.H=n===null||n.memoizedState===null?Vy:$y,cl=!1,o=t(i,l),cl=!1,Ql&&(o=ry(e,t,i,l)),ay(n),o}function ay(n){W.H=Qa;var e=Re!==null&&Re.next!==null;if(Vi=0,st=Re=ue=null,Ja=!1,Cs=0,Wl=null,e)throw Error(w(300));n===null||gt||(n=n.dependencies,n!==null&&Za(n)&&(gt=!0))}function ry(n,e,t,i){ue=n;var l=0;do{if(Ql&&(Wl=null),Cs=0,Ql=!1,25<=l)throw Error(w(301));if(l+=1,st=Re=null,n.updateQueue!=null){var o=n.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}W.H=t1,o=e(t,i)}while(Ql);return o}function JT(){var n=W.H,e=n.useState()[0];return e=typeof e.then=="function"?qs(e):e,n=n.useState()[0],(Re!==null?Re.memoizedState:null)!==n&&(ue.flags|=1024),e}function Pf(){var n=Xa!==0;return Xa=0,n}function zf(n,e,t){e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~t}function Gf(n){if(Ja){for(n=n.memoizedState;n!==null;){var e=n.queue;e!==null&&(e.pending=null),n=n.next}Ja=!1}Vi=0,st=Re=ue=null,Ql=!1,Cs=Xa=0,Wl=null}function Bt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?ue.memoizedState=st=n:st=st.next=n,st}function at(){if(Re===null){var n=ue.alternate;n=n!==null?n.memoizedState:null}else n=Re.next;var e=st===null?ue.memoizedState:st.next;if(e!==null)st=e,Re=n;else{if(n===null)throw ue.alternate===null?Error(w(467)):Error(w(310));Re=n,n={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},st===null?ue.memoizedState=st=n:st=st.next=n}return st}function qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qs(n){var e=Cs;return Cs+=1,Wl===null&&(Wl=[]),n=ly(Wl,n,e),e=ue,(st===null?e.memoizedState:st.next)===null&&(e=e.alternate,W.H=e===null||e.memoizedState===null?Vy:$y),n}function $r(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return qs(n);if(n.$$typeof===Fn)return Rt(n)}throw Error(w(438,String(n)))}function Hf(n){var e=null,t=ue.updateQueue;if(t!==null&&(e=t.memoCache),e==null){var i=ue.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),t===null&&(t=qf(),ue.updateQueue=t),t.memoCache=e,t=e.data[e.index],t===void 0)for(t=e.data[e.index]=Array(n),i=0;i<n;i++)t[i]=Ix;return e.index++,t}function ei(n,e){return typeof e=="function"?e(n):e}function wa(n){var e=at();return Ff(e,Re,n)}function Ff(n,e,t){var i=n.queue;if(i===null)throw Error(w(311));i.lastRenderedReducer=t;var l=n.baseQueue,o=i.pending;if(o!==null){if(l!==null){var s=l.next;l.next=o.next,o.next=s}e.baseQueue=l=o,i.pending=null}if(o=n.baseState,l===null)n.memoizedState=o;else{e=l.next;var u=s=null,c=null,f=e,d=!1;do{var m=f.lane&-536870913;if(m!==f.lane?(ge&m)===m:(Vi&m)===m){var h=f.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),m===so&&(d=!0);else if((Vi&h)===h){f=f.next,h===so&&(d=!0);continue}else m={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=m,s=o):c=c.next=m,ue.lanes|=h,Bi|=h;m=f.action,cl&&t(o,m),o=f.hasEagerState?f.eagerState:t(o,m)}else h={lane:m,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=h,s=o):c=c.next=h,ue.lanes|=m,Bi|=m;f=f.next}while(f!==null&&f!==e);if(c===null?s=o:c.next=u,!nn(o,n.memoizedState)&&(gt=!0,d&&(t=Xl,t!==null)))throw t;n.memoizedState=o,n.baseState=s,n.baseQueue=c,i.lastRenderedState=o}return l===null&&(i.lanes=0),[n.memoizedState,i.dispatch]}function xu(n){var e=at(),t=e.queue;if(t===null)throw Error(w(311));t.lastRenderedReducer=n;var i=t.dispatch,l=t.pending,o=e.memoizedState;if(l!==null){t.pending=null;var s=l=l.next;do o=n(o,s.action),s=s.next;while(s!==l);nn(o,e.memoizedState)||(gt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,i]}function uy(n,e,t){var i=ue,l=at(),o=Ce;if(o){if(t===void 0)throw Error(w(407));t=t()}else t=e();var s=!nn((Re||l).memoizedState,t);s&&(l.memoizedState=t,gt=!0),l=l.queue;var u=dy.bind(null,i,l,n);if(Hs(2048,8,u,[n]),l.getSnapshot!==e||s||st!==null&&st.memoizedState.tag&1){if(i.flags|=2048,ro(9,Br(),fy.bind(null,i,l,t,e),null),$e===null)throw Error(w(349));o||Vi&124||cy(i,e,t)}return t}function cy(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ue.updateQueue,e===null?(e=qf(),ue.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function fy(n,e,t,i){e.value=t,e.getSnapshot=i,hy(e)&&my(n)}function dy(n,e,t){return t(function(){hy(e)&&my(n)})}function hy(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!nn(n,t)}catch{return!0}}function my(n){var e=Eo(n,2);e!==null&&tn(e,n,2)}function Tc(n){var e=Bt();if(typeof n=="function"){var t=n;if(n=t(),cl){Ei(!0);try{t()}finally{Ei(!1)}}}return e.memoizedState=e.baseState=n,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:n},e}function py(n,e,t,i){return n.baseState=t,Ff(n,Re,typeof i=="function"?i:ei)}function XT(n,e,t,i,l){if(Pr(n))throw Error(w(485));if(n=e.action,n!==null){var o={payload:l,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){o.listeners.push(s)}};W.T!==null?t(!0):o.isTransition=!1,i(o),t=e.pending,t===null?(o.next=e.pending=o,gy(e,o)):(o.next=t.next,e.pending=t.next=o)}}function gy(n,e){var t=e.action,i=e.payload,l=n.state;if(e.isTransition){var o=W.T,s={};W.T=s;try{var u=t(l,i),c=W.S;c!==null&&c(s,u),vh(n,e,u)}catch(f){Sc(n,e,f)}finally{W.T=o}}else try{o=t(l,i),vh(n,e,o)}catch(f){Sc(n,e,f)}}function vh(n,e,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(i){xh(n,e,i)},function(i){return Sc(n,e,i)}):xh(n,e,t)}function xh(n,e,t){e.status="fulfilled",e.value=t,yy(e),n.state=t,e=n.pending,e!==null&&(t=e.next,t===e?n.pending=null:(t=t.next,e.next=t,gy(n,t)))}function Sc(n,e,t){var i=n.pending;if(n.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=t,yy(e),e=e.next;while(e!==i)}n.action=null}function yy(n){n=n.listeners;for(var e=0;e<n.length;e++)(0,n[e])()}function vy(n,e){return e}function Th(n,e){if(Ce){var t=$e.formState;if(t!==null){e:{var i=ue;if(Ce){if(We){t:{for(var l=We,o=bn;l.nodeType!==8;){if(!o){l=null;break t}if(l=vn(l.nextSibling),l===null){l=null;break t}}o=l.data,l=o==="F!"||o==="F"?l:null}if(l){We=vn(l.nextSibling),i=l.data==="F!";break e}}rl(i)}i=!1}i&&(e=t[0])}}return t=Bt(),t.memoizedState=t.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:e},t.queue=i,t=Uy.bind(null,ue,i),i.dispatch=t,i=Tc(!1),o=Jf.bind(null,ue,!1,i.queue),i=Bt(),l={state:e,dispatch:null,action:n,pending:null},i.queue=l,t=XT.bind(null,ue,l,o,t),l.dispatch=t,i.memoizedState=n,[e,t,!1]}function Sh(n){var e=at();return xy(e,Re,n)}function xy(n,e,t){if(e=Ff(n,e,vy)[0],n=wa(ei)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=qs(e)}catch(s){throw s===Gs?Vr:s}else i=e;e=at();var l=e.queue,o=l.dispatch;return t!==e.memoizedState&&(ue.flags|=2048,ro(9,Br(),QT.bind(null,l,t),null)),[i,o,n]}function QT(n,e){n.action=e}function Ch(n){var e=at(),t=Re;if(t!==null)return xy(e,t,n);at(),e=e.memoizedState,t=at();var i=t.queue.dispatch;return t.memoizedState=n,[e,i,!1]}function ro(n,e,t,i){return n={tag:n,create:t,deps:i,inst:e,next:null},e=ue.updateQueue,e===null&&(e=qf(),ue.updateQueue=e),t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n),n}function Br(){return{destroy:void 0,resource:void 0}}function Ty(){return at().memoizedState}function Na(n,e,t,i){var l=Bt();i=i===void 0?null:i,ue.flags|=n,l.memoizedState=ro(1|e,Br(),t,i)}function Hs(n,e,t,i){var l=at();i=i===void 0?null:i;var o=l.memoizedState.inst;Re!==null&&i!==null&&$f(i,Re.memoizedState.deps)?l.memoizedState=ro(e,o,t,i):(ue.flags|=n,l.memoizedState=ro(1|e,o,t,i))}function _h(n,e){Na(8390656,8,n,e)}function Sy(n,e){Hs(2048,8,n,e)}function Cy(n,e){return Hs(4,2,n,e)}function _y(n,e){return Hs(4,4,n,e)}function Ey(n,e){if(typeof e=="function"){n=n();var t=e(n);return function(){typeof t=="function"?t():e(null)}}if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Ay(n,e,t){t=t!=null?t.concat([n]):null,Hs(4,4,Ey.bind(null,e,n),t)}function Yf(){}function by(n,e){var t=at();e=e===void 0?null:e;var i=t.memoizedState;return e!==null&&$f(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function My(n,e){var t=at();e=e===void 0?null:e;var i=t.memoizedState;if(e!==null&&$f(e,i[1]))return i[0];if(i=n(),cl){Ei(!0);try{n()}finally{Ei(!1)}}return t.memoizedState=[i,e],i}function Zf(n,e,t){return t===void 0||Vi&1073741824?n.memoizedState=e:(n.memoizedState=t,n=yv(),ue.lanes|=n,Bi|=n,t)}function wy(n,e,t,i){return nn(t,e)?t:ao.current!==null?(n=Zf(n,t,i),nn(n,e)||(gt=!0),n):Vi&42?(n=yv(),ue.lanes|=n,Bi|=n,e):(gt=!0,n.memoizedState=t)}function Ny(n,e,t,i,l){var o=_e.p;_e.p=o!==0&&8>o?o:8;var s=W.T,u={};W.T=u,Jf(n,!1,e,t);try{var c=l(),f=W.S;if(f!==null&&f(u,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=ZT(c,i);ss(n,e,d,en(n))}else ss(n,e,i,en(n))}catch(m){ss(n,e,{then:function(){},status:"rejected",reason:m},en())}finally{_e.p=o,W.T=s}}function WT(){}function Cc(n,e,t,i){if(n.tag!==5)throw Error(w(476));var l=Ry(n).queue;Ny(n,l,e,tl,t===null?WT:function(){return Dy(n),t(i)})}function Ry(n){var e=n.memoizedState;if(e!==null)return e;e={memoizedState:tl,baseState:tl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:tl},next:null};var t={};return e.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:t},next:null},n.memoizedState=e,n=n.alternate,n!==null&&(n.memoizedState=e),e}function Dy(n){var e=Ry(n).next.queue;ss(n,e,{},en())}function Kf(){return Rt(Ms)}function ky(){return at().memoizedState}function Iy(){return at().memoizedState}function jT(n){for(var e=n.return;e!==null;){switch(e.tag){case 24:case 3:var t=en();n=Ni(t);var i=Ri(e,n,t);i!==null&&(tn(i,e,t),is(i,e,t)),e={cache:Uf()},n.payload=e;return}e=e.return}}function e1(n,e,t){var i=en();t={lane:i,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},Pr(n)?Ly(e,t):(t=Rf(n,e,t,i),t!==null&&(tn(t,n,i),Oy(t,e,i)))}function Uy(n,e,t){var i=en();ss(n,e,t,i)}function ss(n,e,t,i){var l={lane:i,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if(Pr(n))Ly(e,l);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,u=o(s,t);if(l.hasEagerState=!0,l.eagerState=u,nn(u,s))return Or(n,e,l,0),$e===null&&Lr(),!1}catch{}finally{}if(t=Rf(n,e,l,i),t!==null)return tn(t,n,i),Oy(t,e,i),!0}return!1}function Jf(n,e,t,i){if(i={lane:2,revertLane:id(),action:i,hasEagerState:!1,eagerState:null,next:null},Pr(n)){if(e)throw Error(w(479))}else e=Rf(n,t,i,2),e!==null&&tn(e,n,2)}function Pr(n){var e=n.alternate;return n===ue||e!==null&&e===ue}function Ly(n,e){Ql=Ja=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Oy(n,e,t){if(t&4194048){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,bg(n,t)}}var Qa={readContext:Rt,use:$r,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt},Vy={readContext:Rt,use:$r,useCallback:function(n,e){return Bt().memoizedState=[n,e===void 0?null:e],n},useContext:Rt,useEffect:_h,useImperativeHandle:function(n,e,t){t=t!=null?t.concat([n]):null,Na(4194308,4,Ey.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Na(4194308,4,n,e)},useInsertionEffect:function(n,e){Na(4,2,n,e)},useMemo:function(n,e){var t=Bt();e=e===void 0?null:e;var i=n();if(cl){Ei(!0);try{n()}finally{Ei(!1)}}return t.memoizedState=[i,e],i},useReducer:function(n,e,t){var i=Bt();if(t!==void 0){var l=t(e);if(cl){Ei(!0);try{t(e)}finally{Ei(!1)}}}else l=e;return i.memoizedState=i.baseState=l,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:l},i.queue=n,n=n.dispatch=e1.bind(null,ue,n),[i.memoizedState,n]},useRef:function(n){var e=Bt();return n={current:n},e.memoizedState=n},useState:function(n){n=Tc(n);var e=n.queue,t=Uy.bind(null,ue,e);return e.dispatch=t,[n.memoizedState,t]},useDebugValue:Yf,useDeferredValue:function(n,e){var t=Bt();return Zf(t,n,e)},useTransition:function(){var n=Tc(!1);return n=Ny.bind(null,ue,n.queue,!0,!1),Bt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,e,t){var i=ue,l=Bt();if(Ce){if(t===void 0)throw Error(w(407));t=t()}else{if(t=e(),$e===null)throw Error(w(349));ge&124||cy(i,e,t)}l.memoizedState=t;var o={value:t,getSnapshot:e};return l.queue=o,_h(dy.bind(null,i,o,n),[n]),i.flags|=2048,ro(9,Br(),fy.bind(null,i,o,t,e),null),t},useId:function(){var n=Bt(),e=$e.identifierPrefix;if(Ce){var t=Zn,i=Yn;t=(i&~(1<<32-jt(i)-1)).toString(32)+t,e=""+e+"R"+t,t=Xa++,0<t&&(e+="H"+t.toString(32)),e+=""}else t=KT++,e=""+e+"r"+t.toString(32)+"";return n.memoizedState=e},useHostTransitionStatus:Kf,useFormState:Th,useActionState:Th,useOptimistic:function(n){var e=Bt();e.memoizedState=e.baseState=n;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=t,e=Jf.bind(null,ue,!0,t),t.dispatch=e,[n,e]},useMemoCache:Hf,useCacheRefresh:function(){return Bt().memoizedState=jT.bind(null,ue)}},$y={readContext:Rt,use:$r,useCallback:by,useContext:Rt,useEffect:Sy,useImperativeHandle:Ay,useInsertionEffect:Cy,useLayoutEffect:_y,useMemo:My,useReducer:wa,useRef:Ty,useState:function(){return wa(ei)},useDebugValue:Yf,useDeferredValue:function(n,e){var t=at();return wy(t,Re.memoizedState,n,e)},useTransition:function(){var n=wa(ei)[0],e=at().memoizedState;return[typeof n=="boolean"?n:qs(n),e]},useSyncExternalStore:uy,useId:ky,useHostTransitionStatus:Kf,useFormState:Sh,useActionState:Sh,useOptimistic:function(n,e){var t=at();return py(t,Re,n,e)},useMemoCache:Hf,useCacheRefresh:Iy},t1={readContext:Rt,use:$r,useCallback:by,useContext:Rt,useEffect:Sy,useImperativeHandle:Ay,useInsertionEffect:Cy,useLayoutEffect:_y,useMemo:My,useReducer:xu,useRef:Ty,useState:function(){return xu(ei)},useDebugValue:Yf,useDeferredValue:function(n,e){var t=at();return Re===null?Zf(t,n,e):wy(t,Re.memoizedState,n,e)},useTransition:function(){var n=xu(ei)[0],e=at().memoizedState;return[typeof n=="boolean"?n:qs(n),e]},useSyncExternalStore:uy,useId:ky,useHostTransitionStatus:Kf,useFormState:Ch,useActionState:Ch,useOptimistic:function(n,e){var t=at();return Re!==null?py(t,Re,n,e):(t.baseState=n,[n,t.queue.dispatch])},useMemoCache:Hf,useCacheRefresh:Iy},jl=null,_s=0;function ca(n){var e=_s;return _s+=1,jl===null&&(jl=[]),ly(jl,n,e)}function $o(n,e){e=e.props.ref,n.ref=e!==void 0?e:null}function fa(n,e){throw e.$$typeof===Dx?Error(w(525)):(n=Object.prototype.toString.call(e),Error(w(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)))}function Eh(n){var e=n._init;return e(n._payload)}function By(n){function e(y,v){if(n){var T=y.deletions;T===null?(y.deletions=[v],y.flags|=16):T.push(v)}}function t(y,v){if(!n)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function i(y){for(var v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function l(y,v){return y=Qn(y,v),y.index=0,y.sibling=null,y}function o(y,v,T){return y.index=T,n?(T=y.alternate,T!==null?(T=T.index,T<v?(y.flags|=67108866,v):T):(y.flags|=67108866,v)):(y.flags|=1048576,v)}function s(y){return n&&y.alternate===null&&(y.flags|=67108866),y}function u(y,v,T,C){return v===null||v.tag!==6?(v=gu(T,y.mode,C),v.return=y,v):(v=l(v,T),v.return=y,v)}function c(y,v,T,C){var b=T.type;return b===kl?d(y,v,T.props.children,C,T.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===yi&&Eh(b)===v.type)?(v=l(v,T.props),$o(v,T),v.return=y,v):(v=ba(T.type,T.key,T.props,null,y.mode,C),$o(v,T),v.return=y,v)}function f(y,v,T,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=yu(T,y.mode,C),v.return=y,v):(v=l(v,T.children||[]),v.return=y,v)}function d(y,v,T,C,b){return v===null||v.tag!==7?(v=nl(T,y.mode,C,b),v.return=y,v):(v=l(v,T),v.return=y,v)}function m(y,v,T){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=gu(""+v,y.mode,T),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ia:return T=ba(v.type,v.key,v.props,null,y.mode,T),$o(T,v),T.return=y,T;case Fo:return v=yu(v,y.mode,T),v.return=y,v;case yi:var C=v._init;return v=C(v._payload),m(y,v,T)}if(Yo(v)||Uo(v))return v=nl(v,y.mode,T,null),v.return=y,v;if(typeof v.then=="function")return m(y,ca(v),T);if(v.$$typeof===Fn)return m(y,ra(y,v),T);fa(y,v)}return null}function h(y,v,T,C){var b=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return b!==null?null:u(y,v,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ia:return T.key===b?c(y,v,T,C):null;case Fo:return T.key===b?f(y,v,T,C):null;case yi:return b=T._init,T=b(T._payload),h(y,v,T,C)}if(Yo(T)||Uo(T))return b!==null?null:d(y,v,T,C,null);if(typeof T.then=="function")return h(y,v,ca(T),C);if(T.$$typeof===Fn)return h(y,v,ra(y,T),C);fa(y,T)}return null}function p(y,v,T,C,b){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return y=y.get(T)||null,u(v,y,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ia:return y=y.get(C.key===null?T:C.key)||null,c(v,y,C,b);case Fo:return y=y.get(C.key===null?T:C.key)||null,f(v,y,C,b);case yi:var N=C._init;return C=N(C._payload),p(y,v,T,C,b)}if(Yo(C)||Uo(C))return y=y.get(T)||null,d(v,y,C,b,null);if(typeof C.then=="function")return p(y,v,T,ca(C),b);if(C.$$typeof===Fn)return p(y,v,T,ra(v,C),b);fa(v,C)}return null}function x(y,v,T,C){for(var b=null,N=null,M=v,D=v=0,B=null;M!==null&&D<T.length;D++){M.index>D?(B=M,M=null):B=M.sibling;var L=h(y,M,T[D],C);if(L===null){M===null&&(M=B);break}n&&M&&L.alternate===null&&e(y,M),v=o(L,v,D),N===null?b=L:N.sibling=L,N=L,M=B}if(D===T.length)return t(y,M),Ce&&Wi(y,D),b;if(M===null){for(;D<T.length;D++)M=m(y,T[D],C),M!==null&&(v=o(M,v,D),N===null?b=M:N.sibling=M,N=M);return Ce&&Wi(y,D),b}for(M=i(M);D<T.length;D++)B=p(M,y,D,T[D],C),B!==null&&(n&&B.alternate!==null&&M.delete(B.key===null?D:B.key),v=o(B,v,D),N===null?b=B:N.sibling=B,N=B);return n&&M.forEach(function(me){return e(y,me)}),Ce&&Wi(y,D),b}function S(y,v,T,C){if(T==null)throw Error(w(151));for(var b=null,N=null,M=v,D=v=0,B=null,L=T.next();M!==null&&!L.done;D++,L=T.next()){M.index>D?(B=M,M=null):B=M.sibling;var me=h(y,M,L.value,C);if(me===null){M===null&&(M=B);break}n&&M&&me.alternate===null&&e(y,M),v=o(me,v,D),N===null?b=me:N.sibling=me,N=me,M=B}if(L.done)return t(y,M),Ce&&Wi(y,D),b;if(M===null){for(;!L.done;D++,L=T.next())L=m(y,L.value,C),L!==null&&(v=o(L,v,D),N===null?b=L:N.sibling=L,N=L);return Ce&&Wi(y,D),b}for(M=i(M);!L.done;D++,L=T.next())L=p(M,y,D,L.value,C),L!==null&&(n&&L.alternate!==null&&M.delete(L.key===null?D:L.key),v=o(L,v,D),N===null?b=L:N.sibling=L,N=L);return n&&M.forEach(function(ke){return e(y,ke)}),Ce&&Wi(y,D),b}function _(y,v,T,C){if(typeof T=="object"&&T!==null&&T.type===kl&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ia:e:{for(var b=T.key;v!==null;){if(v.key===b){if(b=T.type,b===kl){if(v.tag===7){t(y,v.sibling),C=l(v,T.props.children),C.return=y,y=C;break e}}else if(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===yi&&Eh(b)===v.type){t(y,v.sibling),C=l(v,T.props),$o(C,T),C.return=y,y=C;break e}t(y,v);break}else e(y,v);v=v.sibling}T.type===kl?(C=nl(T.props.children,y.mode,C,T.key),C.return=y,y=C):(C=ba(T.type,T.key,T.props,null,y.mode,C),$o(C,T),C.return=y,y=C)}return s(y);case Fo:e:{for(b=T.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){t(y,v.sibling),C=l(v,T.children||[]),C.return=y,y=C;break e}else{t(y,v);break}else e(y,v);v=v.sibling}C=yu(T,y.mode,C),C.return=y,y=C}return s(y);case yi:return b=T._init,T=b(T._payload),_(y,v,T,C)}if(Yo(T))return x(y,v,T,C);if(Uo(T)){if(b=Uo(T),typeof b!="function")throw Error(w(150));return T=b.call(T),S(y,v,T,C)}if(typeof T.then=="function")return _(y,v,ca(T),C);if(T.$$typeof===Fn)return _(y,v,ra(y,T),C);fa(y,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,v!==null&&v.tag===6?(t(y,v.sibling),C=l(v,T),C.return=y,y=C):(t(y,v),C=gu(T,y.mode,C),C.return=y,y=C),s(y)):t(y,v)}return function(y,v,T,C){try{_s=0;var b=_(y,v,T,C);return jl=null,b}catch(M){if(M===Gs||M===Vr)throw M;var N=Qt(29,M,null,y.mode);return N.lanes=C,N.return=y,N}finally{}}}var uo=By(!0),Py=By(!1),mn=Vn(null),Un=null;function Si(n){var e=n.alternate;Ke(ct,ct.current&1),Ke(mn,n),Un===null&&(e===null||ao.current!==null||e.memoizedState!==null)&&(Un=n)}function zy(n){if(n.tag===22){if(Ke(ct,ct.current),Ke(mn,n),Un===null){var e=n.alternate;e!==null&&e.memoizedState!==null&&(Un=n)}}else Ci()}function Ci(){Ke(ct,ct.current),Ke(mn,mn.current)}function Jn(n){yt(mn),Un===n&&(Un=null),yt(ct)}var ct=Vn(0);function Wa(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||Bc(t)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Tu(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:qe({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var _c={enqueueSetState:function(n,e,t){n=n._reactInternals;var i=en(),l=Ni(i);l.payload=e,t!=null&&(l.callback=t),e=Ri(n,l,i),e!==null&&(tn(e,n,i),is(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=en(),l=Ni(i);l.tag=1,l.payload=e,t!=null&&(l.callback=t),e=Ri(n,l,i),e!==null&&(tn(e,n,i),is(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=en(),i=Ni(t);i.tag=2,e!=null&&(i.callback=e),e=Ri(n,i,t),e!==null&&(tn(e,n,t),is(e,n,t))}};function Ah(n,e,t,i,l,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ts(t,i)||!Ts(l,o):!0}function bh(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&_c.enqueueReplaceState(e,e.state,null)}function fl(n,e){var t=e;if("ref"in e){t={};for(var i in e)i!=="ref"&&(t[i]=e[i])}if(n=n.defaultProps){t===e&&(t=qe({},t));for(var l in n)t[l]===void 0&&(t[l]=n[l])}return t}var ja=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Gy(n){ja(n)}function qy(n){console.error(n)}function Hy(n){ja(n)}function er(n,e){try{var t=n.onUncaughtError;t(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Mh(n,e,t){try{var i=n.onCaughtError;i(t.value,{componentStack:t.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Ec(n,e,t){return t=Ni(t),t.tag=3,t.payload={element:null},t.callback=function(){er(n,e)},t}function Fy(n){return n=Ni(n),n.tag=3,n}function Yy(n,e,t,i){var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var o=i.value;n.payload=function(){return l(o)},n.callback=function(){Mh(e,t,i)}}var s=t.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mh(e,t,i),typeof l!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var u=i.stack;this.componentDidCatch(i.value,{componentStack:u!==null?u:""})})}function n1(n,e,t,i,l){if(t.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=t.alternate,e!==null&&Ps(e,t,l,!0),t=mn.current,t!==null){switch(t.tag){case 13:return Un===null?kc():t.alternate===null&&je===0&&(je=3),t.flags&=-257,t.flags|=65536,t.lanes=l,i===gc?t.flags|=16384:(e=t.updateQueue,e===null?t.updateQueue=new Set([i]):e.add(i),Du(n,i,l)),!1;case 22:return t.flags|=65536,i===gc?t.flags|=16384:(e=t.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},t.updateQueue=e):(t=e.retryQueue,t===null?e.retryQueue=new Set([i]):t.add(i)),Du(n,i,l)),!1}throw Error(w(435,t.tag))}return Du(n,i,l),kc(),!1}if(Ce)return e=mn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=l,i!==fc&&(n=Error(w(422),{cause:i}),Ss(dn(n,t)))):(i!==fc&&(e=Error(w(423),{cause:i}),Ss(dn(e,t))),n=n.current.alternate,n.flags|=65536,l&=-l,n.lanes|=l,i=dn(i,t),l=Ec(n.stateNode,i,l),vu(n,l),je!==4&&(je=2)),!1;var o=Error(w(520),{cause:i});if(o=dn(o,t),us===null?us=[o]:us.push(o),je!==4&&(je=2),e===null)return!0;i=dn(i,t),t=e;do{switch(t.tag){case 3:return t.flags|=65536,n=l&-l,t.lanes|=n,n=Ec(t.stateNode,i,n),vu(t,n),!1;case 1:if(e=t.type,o=t.stateNode,(t.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Di===null||!Di.has(o))))return t.flags|=65536,l&=-l,t.lanes|=l,l=Fy(l),Yy(l,n,t,i),vu(t,l),!1}t=t.return}while(t!==null);return!1}var Zy=Error(w(461)),gt=!1;function St(n,e,t,i){e.child=n===null?Py(e,null,t,i):uo(e,n.child,t,i)}function wh(n,e,t,i,l){t=t.render;var o=e.ref;if("ref"in i){var s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}else s=i;return ul(e),i=Bf(n,e,t,s,o,l),u=Pf(),n!==null&&!gt?(zf(n,e,l),ti(n,e,l)):(Ce&&u&&kf(e),e.flags|=1,St(n,e,i,l),e.child)}function Nh(n,e,t,i,l){if(n===null){var o=t.type;return typeof o=="function"&&!Df(o)&&o.defaultProps===void 0&&t.compare===null?(e.tag=15,e.type=o,Ky(n,e,o,i,l)):(n=ba(t.type,null,i,e,e.mode,l),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!Xf(n,l)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:Ts,t(s,i)&&n.ref===e.ref)return ti(n,e,l)}return e.flags|=1,n=Qn(o,i),n.ref=e.ref,n.return=e,e.child=n}function Ky(n,e,t,i,l){if(n!==null){var o=n.memoizedProps;if(Ts(o,i)&&n.ref===e.ref)if(gt=!1,e.pendingProps=i=o,Xf(n,l))n.flags&131072&&(gt=!0);else return e.lanes=n.lanes,ti(n,e,l)}return Ac(n,e,t,i,l)}function Jy(n,e,t){var i=e.pendingProps,l=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=o!==null?o.baseLanes|t:t,n!==null){for(l=e.child=n.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;e.childLanes=o&~i}else e.childLanes=0,e.child=null;return Rh(n,e,i,t)}if(t&536870912)e.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ma(e,o!==null?o.cachePool:null),o!==null?yh(e,o):xc(),zy(e);else return e.lanes=e.childLanes=536870912,Rh(n,e,o!==null?o.baseLanes|t:t,t)}else o!==null?(Ma(e,o.cachePool),yh(e,o),Ci(),e.memoizedState=null):(n!==null&&Ma(e,null),xc(),Ci());return St(n,e,l,t),e.child}function Rh(n,e,t,i){var l=Lf();return l=l===null?null:{parent:ut._currentValue,pool:l},e.memoizedState={baseLanes:t,cachePool:l},n!==null&&Ma(e,null),xc(),zy(e),n!==null&&Ps(n,e,i,!0),null}function Ra(n,e){var t=e.ref;if(t===null)n!==null&&n.ref!==null&&(e.flags|=4194816);else{if(typeof t!="function"&&typeof t!="object")throw Error(w(284));(n===null||n.ref!==t)&&(e.flags|=4194816)}}function Ac(n,e,t,i,l){return ul(e),t=Bf(n,e,t,i,void 0,l),i=Pf(),n!==null&&!gt?(zf(n,e,l),ti(n,e,l)):(Ce&&i&&kf(e),e.flags|=1,St(n,e,t,l),e.child)}function Dh(n,e,t,i,l,o){return ul(e),e.updateQueue=null,t=ry(e,i,t,l),ay(n),i=Pf(),n!==null&&!gt?(zf(n,e,o),ti(n,e,o)):(Ce&&i&&kf(e),e.flags|=1,St(n,e,t,o),e.child)}function kh(n,e,t,i,l){if(ul(e),e.stateNode===null){var o=Pl,s=t.contextType;typeof s=="object"&&s!==null&&(o=Rt(s)),o=new t(i,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=_c,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=i,o.state=e.memoizedState,o.refs={},Of(e),s=t.contextType,o.context=typeof s=="object"&&s!==null?Rt(s):Pl,o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Tu(e,t,s,i),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&_c.enqueueReplaceState(o,o.state,null),os(e,i,o,l),ls(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(n===null){o=e.stateNode;var u=e.memoizedProps,c=fl(t,u);o.props=c;var f=o.context,d=t.contextType;s=Pl,typeof d=="object"&&d!==null&&(s=Rt(d));var m=t.getDerivedStateFromProps;d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function",u=e.pendingProps!==u,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u||f!==s)&&bh(e,o,i,s),vi=!1;var h=e.memoizedState;o.state=h,os(e,i,o,l),ls(),f=e.memoizedState,u||h!==f||vi?(typeof m=="function"&&(Tu(e,t,m,i),f=e.memoizedState),(c=vi||Ah(e,t,c,i,h,f,s))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),o.props=i,o.state=f,o.context=s,i=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,yc(n,e),s=e.memoizedProps,d=fl(t,s),o.props=d,m=e.pendingProps,h=o.context,f=t.contextType,c=Pl,typeof f=="object"&&f!==null&&(c=Rt(f)),u=t.getDerivedStateFromProps,(f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==m||h!==c)&&bh(e,o,i,c),vi=!1,h=e.memoizedState,o.state=h,os(e,i,o,l),ls();var p=e.memoizedState;s!==m||h!==p||vi||n!==null&&n.dependencies!==null&&Za(n.dependencies)?(typeof u=="function"&&(Tu(e,t,u,i),p=e.memoizedState),(d=vi||Ah(e,t,d,i,h,p,c)||n!==null&&n.dependencies!==null&&Za(n.dependencies))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),i=!1)}return o=i,Ra(n,e),i=(e.flags&128)!==0,o||i?(o=e.stateNode,t=i&&typeof t.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,n!==null&&i?(e.child=uo(e,n.child,null,l),e.child=uo(e,null,t,l)):St(n,e,t,l),e.memoizedState=o.state,n=e.child):n=ti(n,e,l),n}function Ih(n,e,t,i){return Bs(),e.flags|=256,St(n,e,t,i),e.child}var Su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cu(n){return{baseLanes:n,cachePool:ny()}}function _u(n,e,t){return n=n!==null?n.childLanes&~t:0,e&&(n|=hn),n}function Xy(n,e,t){var i=e.pendingProps,l=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=n!==null&&n.memoizedState===null?!1:(ct.current&2)!==0),s&&(l=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,n===null){if(Ce){if(l?Si(e):Ci(),Ce){var u=We,c;if(c=u){e:{for(c=u,u=bn;c.nodeType!==8;){if(!u){u=null;break e}if(c=vn(c.nextSibling),c===null){u=null;break e}}u=c}u!==null?(e.memoizedState={dehydrated:u,treeContext:il!==null?{id:Yn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},c=Qt(18,null,null,0),c.stateNode=u,c.return=e,e.child=c,kt=e,We=null,c=!0):c=!1}c||rl(e)}if(u=e.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return Bc(u)?e.lanes=32:e.lanes=536870912,null;Jn(e)}return u=i.children,i=i.fallback,l?(Ci(),l=e.mode,u=tr({mode:"hidden",children:u},l),i=nl(i,l,t,null),u.return=e,i.return=e,u.sibling=i,e.child=u,l=e.child,l.memoizedState=Cu(t),l.childLanes=_u(n,s,t),e.memoizedState=Su,i):(Si(e),bc(e,u))}if(c=n.memoizedState,c!==null&&(u=c.dehydrated,u!==null)){if(o)e.flags&256?(Si(e),e.flags&=-257,e=Eu(n,e,t)):e.memoizedState!==null?(Ci(),e.child=n.child,e.flags|=128,e=null):(Ci(),l=i.fallback,u=e.mode,i=tr({mode:"visible",children:i.children},u),l=nl(l,u,t,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,uo(e,n.child,null,t),i=e.child,i.memoizedState=Cu(t),i.childLanes=_u(n,s,t),e.memoizedState=Su,e=l);else if(Si(e),Bc(u)){if(s=u.nextSibling&&u.nextSibling.dataset,s)var f=s.dgst;s=f,i=Error(w(419)),i.stack="",i.digest=s,Ss({value:i,source:null,stack:null}),e=Eu(n,e,t)}else if(gt||Ps(n,e,t,!1),s=(t&n.childLanes)!==0,gt||s){if(s=$e,s!==null&&(i=t&-t,i=i&42?1:Tf(i),i=i&(s.suspendedLanes|t)?0:i,i!==0&&i!==c.retryLane))throw c.retryLane=i,Eo(n,i),tn(s,n,i),Zy;u.data==="$?"||kc(),e=Eu(n,e,t)}else u.data==="$?"?(e.flags|=192,e.child=n.child,e=null):(n=c.treeContext,We=vn(u.nextSibling),kt=e,Ce=!0,ll=null,bn=!1,n!==null&&(rn[un++]=Yn,rn[un++]=Zn,rn[un++]=il,Yn=n.id,Zn=n.overflow,il=e),e=bc(e,i.children),e.flags|=4096);return e}return l?(Ci(),l=i.fallback,u=e.mode,c=n.child,f=c.sibling,i=Qn(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?l=Qn(f,l):(l=nl(l,u,t,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,i=l,l=e.child,u=n.child.memoizedState,u===null?u=Cu(t):(c=u.cachePool,c!==null?(f=ut._currentValue,c=c.parent!==f?{parent:f,pool:f}:c):c=ny(),u={baseLanes:u.baseLanes|t,cachePool:c}),l.memoizedState=u,l.childLanes=_u(n,s,t),e.memoizedState=Su,i):(Si(e),t=n.child,n=t.sibling,t=Qn(t,{mode:"visible",children:i.children}),t.return=e,t.sibling=null,n!==null&&(s=e.deletions,s===null?(e.deletions=[n],e.flags|=16):s.push(n)),e.child=t,e.memoizedState=null,t)}function bc(n,e){return e=tr({mode:"visible",children:e},n.mode),e.return=n,n.child=e}function tr(n,e){return n=Qt(22,n,null,e),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Eu(n,e,t){return uo(e,n.child,null,t),n=bc(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Uh(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),hc(n.return,e,t)}function Au(n,e,t,i,l){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:l}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=t,o.tailMode=l)}function Qy(n,e,t){var i=e.pendingProps,l=i.revealOrder,o=i.tail;if(St(n,e,i.children,t),i=ct.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Uh(n,t,e);else if(n.tag===19)Uh(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}switch(Ke(ct,i),l){case"forwards":for(t=e.child,l=null;t!==null;)n=t.alternate,n!==null&&Wa(n)===null&&(l=t),t=t.sibling;t=l,t===null?(l=e.child,e.child=null):(l=t.sibling,t.sibling=null),Au(e,!1,l,t,o);break;case"backwards":for(t=null,l=e.child,e.child=null;l!==null;){if(n=l.alternate,n!==null&&Wa(n)===null){e.child=l;break}n=l.sibling,l.sibling=t,t=l,l=n}Au(e,!0,t,null,o);break;case"together":Au(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ti(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Bi|=e.lanes,!(t&e.childLanes))if(n!==null){if(Ps(n,e,t,!1),(t&e.childLanes)===0)return null}else return null;if(n!==null&&e.child!==n.child)throw Error(w(153));if(e.child!==null){for(n=e.child,t=Qn(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Qn(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Xf(n,e){return n.lanes&e?!0:(n=n.dependencies,!!(n!==null&&Za(n)))}function i1(n,e,t){switch(e.tag){case 3:Ba(e,e.stateNode.containerInfo),Ti(e,ut,n.memoizedState.cache),Bs();break;case 27:case 5:tc(e);break;case 4:Ba(e,e.stateNode.containerInfo);break;case 10:Ti(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Si(e),e.flags|=128,null):t&e.child.childLanes?Xy(n,e,t):(Si(e),n=ti(n,e,t),n!==null?n.sibling:null);Si(e);break;case 19:var l=(n.flags&128)!==0;if(i=(t&e.childLanes)!==0,i||(Ps(n,e,t,!1),i=(t&e.childLanes)!==0),l){if(i)return Qy(n,e,t);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ke(ct,ct.current),i)break;return null;case 22:case 23:return e.lanes=0,Jy(n,e,t);case 24:Ti(e,ut,n.memoizedState.cache)}return ti(n,e,t)}function Wy(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps)gt=!0;else{if(!Xf(n,t)&&!(e.flags&128))return gt=!1,i1(n,e,t);gt=!!(n.flags&131072)}else gt=!1,Ce&&e.flags&1048576&&ey(e,Ya,e.index);switch(e.lanes=0,e.tag){case 16:e:{n=e.pendingProps;var i=e.elementType,l=i._init;if(i=l(i._payload),e.type=i,typeof i=="function")Df(i)?(n=fl(i,n),e.tag=1,e=kh(null,e,i,n,t)):(e.tag=0,e=Ac(null,e,i,n,t));else{if(i!=null){if(l=i.$$typeof,l===yf){e.tag=11,e=wh(null,e,i,n,t);break e}else if(l===vf){e.tag=14,e=Nh(null,e,i,n,t);break e}}throw e=ju(i)||i,Error(w(306,e,""))}}return e;case 0:return Ac(n,e,e.type,e.pendingProps,t);case 1:return i=e.type,l=fl(i,e.pendingProps),kh(n,e,i,l,t);case 3:e:{if(Ba(e,e.stateNode.containerInfo),n===null)throw Error(w(387));i=e.pendingProps;var o=e.memoizedState;l=o.element,yc(n,e),os(e,i,null,t);var s=e.memoizedState;if(i=s.cache,Ti(e,ut,i),i!==o.cache&&mc(e,[ut],t,!0),ls(),i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=Ih(n,e,i,t);break e}else if(i!==l){l=dn(Error(w(424)),e),Ss(l),e=Ih(n,e,i,t);break e}else{switch(n=e.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(We=vn(n.firstChild),kt=e,Ce=!0,ll=null,bn=!0,t=Py(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling}else{if(Bs(),i===l){e=ti(n,e,t);break e}St(n,e,i,t)}e=e.child}return e;case 26:return Ra(n,e),n===null?(t=Qh(e.type,null,e.pendingProps,null))?e.memoizedState=t:Ce||(t=e.type,n=e.pendingProps,i=rr(wi.current).createElement(t),i[Nt]=e,i[Gt]=n,Et(i,t,n),pt(i),e.stateNode=i):e.memoizedState=Qh(e.type,n.memoizedProps,e.pendingProps,n.memoizedState),null;case 27:return tc(e),n===null&&Ce&&(i=e.stateNode=$v(e.type,e.pendingProps,wi.current),kt=e,bn=!0,l=We,Gi(e.type)?(Pc=l,We=vn(i.firstChild)):We=l),St(n,e,e.pendingProps.children,t),Ra(n,e),n===null&&(e.flags|=4194304),e.child;case 5:return n===null&&Ce&&((l=i=We)&&(i=D1(i,e.type,e.pendingProps,bn),i!==null?(e.stateNode=i,kt=e,We=vn(i.firstChild),bn=!1,l=!0):l=!1),l||rl(e)),tc(e),l=e.type,o=e.pendingProps,s=n!==null?n.memoizedProps:null,i=o.children,Vc(l,o)?i=null:s!==null&&Vc(l,s)&&(e.flags|=32),e.memoizedState!==null&&(l=Bf(n,e,JT,null,null,t),Ms._currentValue=l),Ra(n,e),St(n,e,i,t),e.child;case 6:return n===null&&Ce&&((n=t=We)&&(t=k1(t,e.pendingProps,bn),t!==null?(e.stateNode=t,kt=e,We=null,n=!0):n=!1),n||rl(e)),null;case 13:return Xy(n,e,t);case 4:return Ba(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=uo(e,null,i,t):St(n,e,i,t),e.child;case 11:return wh(n,e,e.type,e.pendingProps,t);case 7:return St(n,e,e.pendingProps,t),e.child;case 8:return St(n,e,e.pendingProps.children,t),e.child;case 12:return St(n,e,e.pendingProps.children,t),e.child;case 10:return i=e.pendingProps,Ti(e,e.type,i.value),St(n,e,i.children,t),e.child;case 9:return l=e.type._context,i=e.pendingProps.children,ul(e),l=Rt(l),i=i(l),e.flags|=1,St(n,e,i,t),e.child;case 14:return Nh(n,e,e.type,e.pendingProps,t);case 15:return Ky(n,e,e.type,e.pendingProps,t);case 19:return Qy(n,e,t);case 31:return i=e.pendingProps,t=e.mode,i={mode:i.mode,children:i.children},n===null?(t=tr(i,t),t.ref=e.ref,e.child=t,t.return=e,e=t):(t=Qn(n.child,i),t.ref=e.ref,e.child=t,t.return=e,e=t),e;case 22:return Jy(n,e,t);case 24:return ul(e),i=Rt(ut),n===null?(l=Lf(),l===null&&(l=$e,o=Uf(),l.pooledCache=o,o.refCount++,o!==null&&(l.pooledCacheLanes|=t),l=o),e.memoizedState={parent:i,cache:l},Of(e),Ti(e,ut,l)):(n.lanes&t&&(yc(n,e),os(e,null,null,t),ls()),l=n.memoizedState,o=e.memoizedState,l.parent!==i?(l={parent:i,cache:i},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),Ti(e,ut,i)):(i=o.cache,Ti(e,ut,i),i!==l.cache&&mc(e,[ut],t,!0))),St(n,e,e.pendingProps.children,t),e.child;case 29:throw e.pendingProps}throw Error(w(156,e.tag))}function Gn(n){n.flags|=4}function Lh(n,e){if(e.type!=="stylesheet"||e.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!zv(e)){if(e=mn.current,e!==null&&((ge&4194048)===ge?Un!==null:(ge&62914560)!==ge&&!(ge&536870912)||e!==Un))throw ns=gc,iy;n.flags|=8192}}function da(n,e){e!==null&&(n.flags|=4),n.flags&16384&&(e=n.tag!==22?Eg():536870912,n.lanes|=e,co|=e)}function Bo(n,e){if(!Ce)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Xe(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var l=n.child;l!==null;)t|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=n,l=l.sibling;else for(l=n.child;l!==null;)t|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=n,l=l.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function l1(n,e,t){var i=e.pendingProps;switch(If(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return Xe(e),null;case 3:return t=e.stateNode,i=null,n!==null&&(i=n.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Wn(ut),io(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(n===null||n.child===null)&&(Vo(e)?Gn(e):n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fh())),Xe(e),null;case 26:return t=e.memoizedState,n===null?(Gn(e),t!==null?(Xe(e),Lh(e,t)):(Xe(e),e.flags&=-16777217)):t?t!==n.memoizedState?(Gn(e),Xe(e),Lh(e,t)):(Xe(e),e.flags&=-16777217):(n.memoizedProps!==i&&Gn(e),Xe(e),e.flags&=-16777217),null;case 27:Pa(e),t=wi.current;var l=e.type;if(n!==null&&e.stateNode!=null)n.memoizedProps!==i&&Gn(e);else{if(!i){if(e.stateNode===null)throw Error(w(166));return Xe(e),null}n=kn.current,Vo(e)?uh(e):(n=$v(l,i,t),e.stateNode=n,Gn(e))}return Xe(e),null;case 5:if(Pa(e),t=e.type,n!==null&&e.stateNode!=null)n.memoizedProps!==i&&Gn(e);else{if(!i){if(e.stateNode===null)throw Error(w(166));return Xe(e),null}if(n=kn.current,Vo(e))uh(e);else{switch(l=rr(wi.current),n){case 1:n=l.createElementNS("http://www.w3.org/2000/svg",t);break;case 2:n=l.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;default:switch(t){case"svg":n=l.createElementNS("http://www.w3.org/2000/svg",t);break;case"math":n=l.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;case"script":n=l.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof i.is=="string"?l.createElement("select",{is:i.is}):l.createElement("select"),i.multiple?n.multiple=!0:i.size&&(n.size=i.size);break;default:n=typeof i.is=="string"?l.createElement(t,{is:i.is}):l.createElement(t)}}n[Nt]=e,n[Gt]=i;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=n;e:switch(Et(n,t,i),t){case"button":case"input":case"select":case"textarea":n=!!i.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Gn(e)}}return Xe(e),e.flags&=-16777217,null;case 6:if(n&&e.stateNode!=null)n.memoizedProps!==i&&Gn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(w(166));if(n=wi.current,Vo(e)){if(n=e.stateNode,t=e.memoizedProps,i=null,l=kt,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}n[Nt]=e,n=!!(n.nodeValue===t||i!==null&&i.suppressHydrationWarning===!0||Lv(n.nodeValue,t)),n||rl(e)}else n=rr(n).createTextNode(i),n[Nt]=e,e.stateNode=n}return Xe(e),null;case 13:if(i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(l=Vo(e),i!==null&&i.dehydrated!==null){if(n===null){if(!l)throw Error(w(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(w(317));l[Nt]=e}else Bs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),l=!1}else l=fh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(Jn(e),e):(Jn(e),null)}if(Jn(e),e.flags&128)return e.lanes=t,e;if(t=i!==null,n=n!==null&&n.memoizedState!==null,t){i=e.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool);var o=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==l&&(i.flags|=2048)}return t!==n&&t&&(e.child.flags|=8192),da(e,e.updateQueue),Xe(e),null;case 4:return io(),n===null&&ld(e.stateNode.containerInfo),Xe(e),null;case 10:return Wn(e.type),Xe(e),null;case 19:if(yt(ct),l=e.memoizedState,l===null)return Xe(e),null;if(i=(e.flags&128)!==0,o=l.rendering,o===null)if(i)Bo(l,!1);else{if(je!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Wa(n),o!==null){for(e.flags|=128,Bo(l,!1),n=o.updateQueue,e.updateQueue=n,da(e,n),e.subtreeFlags=0,n=t,t=e.child;t!==null;)jg(t,n),t=t.sibling;return Ke(ct,ct.current&1|2),e.child}n=n.sibling}l.tail!==null&&In()>ir&&(e.flags|=128,i=!0,Bo(l,!1),e.lanes=4194304)}else{if(!i)if(n=Wa(o),n!==null){if(e.flags|=128,i=!0,n=n.updateQueue,e.updateQueue=n,da(e,n),Bo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Ce)return Xe(e),null}else 2*In()-l.renderingStartTime>ir&&t!==536870912&&(e.flags|=128,i=!0,Bo(l,!1),e.lanes=4194304);l.isBackwards?(o.sibling=e.child,e.child=o):(n=l.last,n!==null?n.sibling=o:e.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=In(),e.sibling=null,n=ct.current,Ke(ct,i?n&1|2:n&1),e):(Xe(e),null);case 22:case 23:return Jn(e),Vf(),i=e.memoizedState!==null,n!==null?n.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?t&536870912&&!(e.flags&128)&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),t=e.updateQueue,t!==null&&da(e,t.retryQueue),t=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==t&&(e.flags|=2048),n!==null&&yt(ol),null;case 24:return t=null,n!==null&&(t=n.memoizedState.cache),e.memoizedState.cache!==t&&(e.flags|=2048),Wn(ut),Xe(e),null;case 25:return null;case 30:return null}throw Error(w(156,e.tag))}function o1(n,e){switch(If(e),e.tag){case 1:return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Wn(ut),io(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 26:case 27:case 5:return Pa(e),null;case 13:if(Jn(e),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(w(340));Bs()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return yt(ct),null;case 4:return io(),null;case 10:return Wn(e.type),null;case 22:case 23:return Jn(e),Vf(),n!==null&&yt(ol),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 24:return Wn(ut),null;case 25:return null;default:return null}}function jy(n,e){switch(If(e),e.tag){case 3:Wn(ut),io();break;case 26:case 27:case 5:Pa(e);break;case 4:io();break;case 13:Jn(e);break;case 19:yt(ct);break;case 10:Wn(e.type);break;case 22:case 23:Jn(e),Vf(),n!==null&&yt(ol);break;case 24:Wn(ut)}}function Fs(n,e){try{var t=e.updateQueue,i=t!==null?t.lastEffect:null;if(i!==null){var l=i.next;t=l;do{if((t.tag&n)===n){i=void 0;var o=t.create,s=t.inst;i=o(),s.destroy=i}t=t.next}while(t!==l)}}catch(u){Le(e,e.return,u)}}function $i(n,e,t){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var o=l.next;i=o;do{if((i.tag&n)===n){var s=i.inst,u=s.destroy;if(u!==void 0){s.destroy=void 0,l=e;var c=t,f=u;try{f()}catch(d){Le(l,c,d)}}}i=i.next}while(i!==o)}}catch(d){Le(e,e.return,d)}}function ev(n){var e=n.updateQueue;if(e!==null){var t=n.stateNode;try{sy(e,t)}catch(i){Le(n,n.return,i)}}}function tv(n,e,t){t.props=fl(n.type,n.memoizedProps),t.state=n.memoizedState;try{t.componentWillUnmount()}catch(i){Le(n,e,i)}}function as(n,e){try{var t=n.ref;if(t!==null){switch(n.tag){case 26:case 27:case 5:var i=n.stateNode;break;case 30:i=n.stateNode;break;default:i=n.stateNode}typeof t=="function"?n.refCleanup=t(i):t.current=i}}catch(l){Le(n,e,l)}}function Mn(n,e){var t=n.ref,i=n.refCleanup;if(t!==null)if(typeof i=="function")try{i()}catch(l){Le(n,e,l)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(l){Le(n,e,l)}else t.current=null}function nv(n){var e=n.type,t=n.memoizedProps,i=n.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":t.autoFocus&&i.focus();break e;case"img":t.src?i.src=t.src:t.srcSet&&(i.srcset=t.srcSet)}}catch(l){Le(n,n.return,l)}}function bu(n,e,t){try{var i=n.stateNode;b1(i,n.type,t,e),i[Gt]=e}catch(l){Le(n,n.return,l)}}function iv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Gi(n.type)||n.tag===4}function Mu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||iv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Gi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Mc(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t).insertBefore(n,e):(e=t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,e.appendChild(n),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Hr));else if(i!==4&&(i===27&&Gi(n.type)&&(t=n.stateNode,e=null),n=n.child,n!==null))for(Mc(n,e,t),n=n.sibling;n!==null;)Mc(n,e,t),n=n.sibling}function nr(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(i===27&&Gi(n.type)&&(t=n.stateNode),n=n.child,n!==null))for(nr(n,e,t),n=n.sibling;n!==null;)nr(n,e,t),n=n.sibling}function lv(n){var e=n.stateNode,t=n.memoizedProps;try{for(var i=n.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);Et(e,i,t),e[Nt]=n,e[Gt]=t}catch(o){Le(n,n.return,o)}}var Hn=!1,nt=!1,wu=!1,Oh=typeof WeakSet=="function"?WeakSet:Set,mt=null;function s1(n,e){if(n=n.containerInfo,Lc=dr,n=Fg(n),wf(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var l=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,u=-1,c=-1,f=0,d=0,m=n,h=null;t:for(;;){for(var p;m!==t||l!==0&&m.nodeType!==3||(u=s+l),m!==o||i!==0&&m.nodeType!==3||(c=s+i),m.nodeType===3&&(s+=m.nodeValue.length),(p=m.firstChild)!==null;)h=m,m=p;for(;;){if(m===n)break t;if(h===t&&++f===l&&(u=s),h===o&&++d===i&&(c=s),(p=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=p}t=u===-1||c===-1?null:{start:u,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Oc={focusedElem:n,selectionRange:t},dr=!1,mt=e;mt!==null;)if(e=mt,n=e.child,(e.subtreeFlags&1024)!==0&&n!==null)n.return=e,mt=n;else for(;mt!==null;){switch(e=mt,o=e.alternate,n=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&o!==null){n=void 0,t=e,l=o.memoizedProps,o=o.memoizedState,i=t.stateNode;try{var x=fl(t.type,l,t.elementType===t.type);n=i.getSnapshotBeforeUpdate(x,o),i.__reactInternalSnapshotBeforeUpdate=n}catch(S){Le(t,t.return,S)}}break;case 3:if(n&1024){if(n=e.stateNode.containerInfo,t=n.nodeType,t===9)$c(n);else if(t===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":$c(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(w(163))}if(n=e.sibling,n!==null){n.return=e.return,mt=n;break}mt=e.return}}function ov(n,e,t){var i=t.flags;switch(t.tag){case 0:case 11:case 15:pi(n,t),i&4&&Fs(5,t);break;case 1:if(pi(n,t),i&4)if(n=t.stateNode,e===null)try{n.componentDidMount()}catch(s){Le(t,t.return,s)}else{var l=fl(t.type,e.memoizedProps);e=e.memoizedState;try{n.componentDidUpdate(l,e,n.__reactInternalSnapshotBeforeUpdate)}catch(s){Le(t,t.return,s)}}i&64&&ev(t),i&512&&as(t,t.return);break;case 3:if(pi(n,t),i&64&&(n=t.updateQueue,n!==null)){if(e=null,t.child!==null)switch(t.child.tag){case 27:case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}try{sy(n,e)}catch(s){Le(t,t.return,s)}}break;case 27:e===null&&i&4&&lv(t);case 26:case 5:pi(n,t),e===null&&i&4&&nv(t),i&512&&as(t,t.return);break;case 12:pi(n,t);break;case 13:pi(n,t),i&4&&rv(n,t),i&64&&(n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(t=p1.bind(null,t),I1(n,t))));break;case 22:if(i=t.memoizedState!==null||Hn,!i){e=e!==null&&e.memoizedState!==null||nt,l=Hn;var o=nt;Hn=i,(nt=e)&&!o?gi(n,t,(t.subtreeFlags&8772)!==0):pi(n,t),Hn=l,nt=o}break;case 30:break;default:pi(n,t)}}function sv(n){var e=n.alternate;e!==null&&(n.alternate=null,sv(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&Cf(e)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ye=null,Pt=!1;function qn(n,e,t){for(t=t.child;t!==null;)av(n,e,t),t=t.sibling}function av(n,e,t){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Us,t)}catch{}switch(t.tag){case 26:nt||Mn(t,e),qn(n,e,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:nt||Mn(t,e);var i=Ye,l=Pt;Gi(t.type)&&(Ye=t.stateNode,Pt=!1),qn(n,e,t),fs(t.stateNode),Ye=i,Pt=l;break;case 5:nt||Mn(t,e);case 6:if(i=Ye,l=Pt,Ye=null,qn(n,e,t),Ye=i,Pt=l,Ye!==null)if(Pt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(t.stateNode)}catch(o){Le(t,e,o)}else try{Ye.removeChild(t.stateNode)}catch(o){Le(t,e,o)}break;case 18:Ye!==null&&(Pt?(n=Ye,Kh(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.stateNode),Rs(n)):Kh(Ye,t.stateNode));break;case 4:i=Ye,l=Pt,Ye=t.stateNode.containerInfo,Pt=!0,qn(n,e,t),Ye=i,Pt=l;break;case 0:case 11:case 14:case 15:nt||$i(2,t,e),nt||$i(4,t,e),qn(n,e,t);break;case 1:nt||(Mn(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"&&tv(t,e,i)),qn(n,e,t);break;case 21:qn(n,e,t);break;case 22:nt=(i=nt)||t.memoizedState!==null,qn(n,e,t),nt=i;break;default:qn(n,e,t)}}function rv(n,e){if(e.memoizedState===null&&(n=e.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Rs(n)}catch(t){Le(e,e.return,t)}}function a1(n){switch(n.tag){case 13:case 19:var e=n.stateNode;return e===null&&(e=n.stateNode=new Oh),e;case 22:return n=n.stateNode,e=n._retryCache,e===null&&(e=n._retryCache=new Oh),e;default:throw Error(w(435,n.tag))}}function Nu(n,e){var t=a1(n);e.forEach(function(i){var l=g1.bind(null,n,i);t.has(i)||(t.add(i),i.then(l,l))})}function Zt(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var l=t[i],o=n,s=e,u=s;e:for(;u!==null;){switch(u.tag){case 27:if(Gi(u.type)){Ye=u.stateNode,Pt=!1;break e}break;case 5:Ye=u.stateNode,Pt=!1;break e;case 3:case 4:Ye=u.stateNode.containerInfo,Pt=!0;break e}u=u.return}if(Ye===null)throw Error(w(160));av(o,s,l),Ye=null,Pt=!1,o=l.alternate,o!==null&&(o.return=null),l.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)uv(e,n),e=e.sibling}var yn=null;function uv(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Zt(e,n),Kt(n),i&4&&($i(3,n,n.return),Fs(3,n),$i(5,n,n.return));break;case 1:Zt(e,n),Kt(n),i&512&&(nt||t===null||Mn(t,t.return)),i&64&&Hn&&(n=n.updateQueue,n!==null&&(i=n.callbacks,i!==null&&(t=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=t===null?i:t.concat(i))));break;case 26:var l=yn;if(Zt(e,n),Kt(n),i&512&&(nt||t===null||Mn(t,t.return)),i&4){var o=t!==null?t.memoizedState:null;if(i=n.memoizedState,t===null)if(i===null)if(n.stateNode===null){e:{i=n.type,t=n.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":o=l.getElementsByTagName("title")[0],(!o||o[Vs]||o[Nt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=l.createElement(i),l.head.insertBefore(o,l.querySelector("head > title"))),Et(o,i,t),o[Nt]=n,pt(o),i=o;break e;case"link":var s=jh("link","href",l).get(i+(t.href||""));if(s){for(var u=0;u<s.length;u++)if(o=s[u],o.getAttribute("href")===(t.href==null||t.href===""?null:t.href)&&o.getAttribute("rel")===(t.rel==null?null:t.rel)&&o.getAttribute("title")===(t.title==null?null:t.title)&&o.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){s.splice(u,1);break t}}o=l.createElement(i),Et(o,i,t),l.head.appendChild(o);break;case"meta":if(s=jh("meta","content",l).get(i+(t.content||""))){for(u=0;u<s.length;u++)if(o=s[u],o.getAttribute("content")===(t.content==null?null:""+t.content)&&o.getAttribute("name")===(t.name==null?null:t.name)&&o.getAttribute("property")===(t.property==null?null:t.property)&&o.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&o.getAttribute("charset")===(t.charSet==null?null:t.charSet)){s.splice(u,1);break t}}o=l.createElement(i),Et(o,i,t),l.head.appendChild(o);break;default:throw Error(w(468,i))}o[Nt]=n,pt(o),i=o}n.stateNode=i}else em(l,n.type,n.stateNode);else n.stateNode=Wh(l,i,n.memoizedProps);else o!==i?(o===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):o.count--,i===null?em(l,n.type,n.stateNode):Wh(l,i,n.memoizedProps)):i===null&&n.stateNode!==null&&bu(n,n.memoizedProps,t.memoizedProps)}break;case 27:Zt(e,n),Kt(n),i&512&&(nt||t===null||Mn(t,t.return)),t!==null&&i&4&&bu(n,n.memoizedProps,t.memoizedProps);break;case 5:if(Zt(e,n),Kt(n),i&512&&(nt||t===null||Mn(t,t.return)),n.flags&32){l=n.stateNode;try{oo(l,"")}catch(p){Le(n,n.return,p)}}i&4&&n.stateNode!=null&&(l=n.memoizedProps,bu(n,l,t!==null?t.memoizedProps:l)),i&1024&&(wu=!0);break;case 6:if(Zt(e,n),Kt(n),i&4){if(n.stateNode===null)throw Error(w(162));i=n.memoizedProps,t=n.stateNode;try{t.nodeValue=i}catch(p){Le(n,n.return,p)}}break;case 3:if(Ia=null,l=yn,yn=ur(e.containerInfo),Zt(e,n),yn=l,Kt(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Rs(e.containerInfo)}catch(p){Le(n,n.return,p)}wu&&(wu=!1,cv(n));break;case 4:i=yn,yn=ur(n.stateNode.containerInfo),Zt(e,n),Kt(n),yn=i;break;case 12:Zt(e,n),Kt(n);break;case 13:Zt(e,n),Kt(n),n.child.flags&8192&&n.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(td=In()),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,Nu(n,i)));break;case 22:l=n.memoizedState!==null;var c=t!==null&&t.memoizedState!==null,f=Hn,d=nt;if(Hn=f||l,nt=d||c,Zt(e,n),nt=d,Hn=f,Kt(n),i&8192)e:for(e=n.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(t===null||c||Hn||nt||ji(n)),t=null,e=n;;){if(e.tag===5||e.tag===26){if(t===null){c=t=e;try{if(o=c.stateNode,l)s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{u=c.stateNode;var m=c.memoizedProps.style,h=m!=null&&m.hasOwnProperty("display")?m.display:null;u.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){Le(c,c.return,p)}}}else if(e.tag===6){if(t===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(p){Le(c,c.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===n)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;t===e&&(t=null),e=e.return}t===e&&(t=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=n.updateQueue,i!==null&&(t=i.retryQueue,t!==null&&(i.retryQueue=null,Nu(n,t))));break;case 19:Zt(e,n),Kt(n),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,Nu(n,i)));break;case 30:break;case 21:break;default:Zt(e,n),Kt(n)}}function Kt(n){var e=n.flags;if(e&2){try{for(var t,i=n.return;i!==null;){if(iv(i)){t=i;break}i=i.return}if(t==null)throw Error(w(160));switch(t.tag){case 27:var l=t.stateNode,o=Mu(n);nr(n,o,l);break;case 5:var s=t.stateNode;t.flags&32&&(oo(s,""),t.flags&=-33);var u=Mu(n);nr(n,u,s);break;case 3:case 4:var c=t.stateNode.containerInfo,f=Mu(n);Mc(n,f,c);break;default:throw Error(w(161))}}catch(d){Le(n,n.return,d)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function cv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var e=n;cv(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),n=n.sibling}}function pi(n,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)ov(n,e.alternate,e),e=e.sibling}function ji(n){for(n=n.child;n!==null;){var e=n;switch(e.tag){case 0:case 11:case 14:case 15:$i(4,e,e.return),ji(e);break;case 1:Mn(e,e.return);var t=e.stateNode;typeof t.componentWillUnmount=="function"&&tv(e,e.return,t),ji(e);break;case 27:fs(e.stateNode);case 26:case 5:Mn(e,e.return),ji(e);break;case 22:e.memoizedState===null&&ji(e);break;case 30:ji(e);break;default:ji(e)}n=n.sibling}}function gi(n,e,t){for(t=t&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,l=n,o=e,s=o.flags;switch(o.tag){case 0:case 11:case 15:gi(l,o,t),Fs(4,o);break;case 1:if(gi(l,o,t),i=o,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(f){Le(i,i.return,f)}if(i=o,l=i.updateQueue,l!==null){var u=i.stateNode;try{var c=l.shared.hiddenCallbacks;if(c!==null)for(l.shared.hiddenCallbacks=null,l=0;l<c.length;l++)oy(c[l],u)}catch(f){Le(i,i.return,f)}}t&&s&64&&ev(o),as(o,o.return);break;case 27:lv(o);case 26:case 5:gi(l,o,t),t&&i===null&&s&4&&nv(o),as(o,o.return);break;case 12:gi(l,o,t);break;case 13:gi(l,o,t),t&&s&4&&rv(l,o);break;case 22:o.memoizedState===null&&gi(l,o,t),as(o,o.return);break;case 30:break;default:gi(l,o,t)}e=e.sibling}}function Qf(n,e){var t=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==t&&(n!=null&&n.refCount++,t!=null&&zs(t))}function Wf(n,e){n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&zs(n))}function An(n,e,t,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fv(n,e,t,i),e=e.sibling}function fv(n,e,t,i){var l=e.flags;switch(e.tag){case 0:case 11:case 15:An(n,e,t,i),l&2048&&Fs(9,e);break;case 1:An(n,e,t,i);break;case 3:An(n,e,t,i),l&2048&&(n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&zs(n)));break;case 12:if(l&2048){An(n,e,t,i),n=e.stateNode;try{var o=e.memoizedProps,s=o.id,u=o.onPostCommit;typeof u=="function"&&u(s,e.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(c){Le(e,e.return,c)}}else An(n,e,t,i);break;case 13:An(n,e,t,i);break;case 23:break;case 22:o=e.stateNode,s=e.alternate,e.memoizedState!==null?o._visibility&2?An(n,e,t,i):rs(n,e):o._visibility&2?An(n,e,t,i):(o._visibility|=2,Nl(n,e,t,i,(e.subtreeFlags&10256)!==0)),l&2048&&Qf(s,e);break;case 24:An(n,e,t,i),l&2048&&Wf(e.alternate,e);break;default:An(n,e,t,i)}}function Nl(n,e,t,i,l){for(l=l&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=n,s=e,u=t,c=i,f=s.flags;switch(s.tag){case 0:case 11:case 15:Nl(o,s,u,c,l),Fs(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?Nl(o,s,u,c,l):rs(o,s):(d._visibility|=2,Nl(o,s,u,c,l)),l&&f&2048&&Qf(s.alternate,s);break;case 24:Nl(o,s,u,c,l),l&&f&2048&&Wf(s.alternate,s);break;default:Nl(o,s,u,c,l)}e=e.sibling}}function rs(n,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var t=n,i=e,l=i.flags;switch(i.tag){case 22:rs(t,i),l&2048&&Qf(i.alternate,i);break;case 24:rs(t,i),l&2048&&Wf(i.alternate,i);break;default:rs(t,i)}e=e.sibling}}var Ko=8192;function _l(n){if(n.subtreeFlags&Ko)for(n=n.child;n!==null;)dv(n),n=n.sibling}function dv(n){switch(n.tag){case 26:_l(n),n.flags&Ko&&n.memoizedState!==null&&Y1(yn,n.memoizedState,n.memoizedProps);break;case 5:_l(n);break;case 3:case 4:var e=yn;yn=ur(n.stateNode.containerInfo),_l(n),yn=e;break;case 22:n.memoizedState===null&&(e=n.alternate,e!==null&&e.memoizedState!==null?(e=Ko,Ko=16777216,_l(n),Ko=e):_l(n));break;default:_l(n)}}function hv(n){var e=n.alternate;if(e!==null&&(n=e.child,n!==null)){e.child=null;do e=n.sibling,n.sibling=null,n=e;while(n!==null)}}function Po(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var i=e[t];mt=i,pv(i,n)}hv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mv(n),n=n.sibling}function mv(n){switch(n.tag){case 0:case 11:case 15:Po(n),n.flags&2048&&$i(9,n,n.return);break;case 3:Po(n);break;case 12:Po(n);break;case 22:var e=n.stateNode;n.memoizedState!==null&&e._visibility&2&&(n.return===null||n.return.tag!==13)?(e._visibility&=-3,Da(n)):Po(n);break;default:Po(n)}}function Da(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var i=e[t];mt=i,pv(i,n)}hv(n)}for(n=n.child;n!==null;){switch(e=n,e.tag){case 0:case 11:case 15:$i(8,e,e.return),Da(e);break;case 22:t=e.stateNode,t._visibility&2&&(t._visibility&=-3,Da(e));break;default:Da(e)}n=n.sibling}}function pv(n,e){for(;mt!==null;){var t=mt;switch(t.tag){case 0:case 11:case 15:$i(8,t,e);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var i=t.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:zs(t.memoizedState.cache)}if(i=t.child,i!==null)i.return=t,mt=i;else e:for(t=n;mt!==null;){i=mt;var l=i.sibling,o=i.return;if(sv(i),i===t){mt=null;break e}if(l!==null){l.return=o,mt=l;break e}mt=o}}}var r1={getCacheForType:function(n){var e=Rt(ut),t=e.data.get(n);return t===void 0&&(t=n(),e.data.set(n,t)),t}},u1=typeof WeakMap=="function"?WeakMap:Map,we=0,$e=null,de=null,ge=0,Me=0,Jt=null,bi=!1,Ao=!1,jf=!1,ni=0,je=0,Bi=0,sl=0,ed=0,hn=0,co=0,us=null,zt=null,wc=!1,td=0,ir=1/0,lr=null,Di=null,_t=0,ki=null,fo=null,eo=0,Nc=0,Rc=null,gv=null,cs=0,Dc=null;function en(){if(we&2&&ge!==0)return ge&-ge;if(W.T!==null){var n=so;return n!==0?n:id()}return Mg()}function yv(){hn===0&&(hn=!(ge&536870912)||Ce?_g():536870912);var n=mn.current;return n!==null&&(n.flags|=32),hn}function tn(n,e,t){(n===$e&&(Me===2||Me===9)||n.cancelPendingCommit!==null)&&(ho(n,0),Mi(n,ge,hn,!1)),Os(n,t),(!(we&2)||n!==$e)&&(n===$e&&(!(we&2)&&(sl|=t),je===4&&Mi(n,ge,hn,!1)),$n(n))}function vv(n,e,t){if(we&6)throw Error(w(327));var i=!t&&(e&124)===0&&(e&n.expiredLanes)===0||Ls(n,e),l=i?d1(n,e):Ru(n,e,!0),o=i;do{if(l===0){Ao&&!i&&Mi(n,e,0,!1);break}else{if(t=n.current.alternate,o&&!c1(t)){l=Ru(n,e,!1),o=!1;continue}if(l===2){if(o=e,n.errorRecoveryDisabledLanes&o)var s=0;else s=n.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var u=n;l=us;var c=u.current.memoizedState.isDehydrated;if(c&&(ho(u,s).flags|=256),s=Ru(u,s,!1),s!==2){if(jf&&!c){u.errorRecoveryDisabledLanes|=o,sl|=o,l=4;break e}o=zt,zt=l,o!==null&&(zt===null?zt=o:zt.push.apply(zt,o))}l=s}if(o=!1,l!==2)continue}}if(l===1){ho(n,0),Mi(n,e,0,!0);break}e:{switch(i=n,o=l,o){case 0:case 1:throw Error(w(345));case 4:if((e&4194048)!==e)break;case 6:Mi(i,e,hn,!bi);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(w(329))}if((e&62914560)===e&&(l=td+300-In(),10<l)){if(Mi(i,e,hn,!bi),Dr(i,0,!0)!==0)break e;i.timeoutHandle=Vv(Vh.bind(null,i,t,zt,lr,wc,e,hn,sl,co,bi,o,2,-0,0),l);break e}Vh(i,t,zt,lr,wc,e,hn,sl,co,bi,o,0,-0,0)}}break}while(!0);$n(n)}function Vh(n,e,t,i,l,o,s,u,c,f,d,m,h,p){if(n.timeoutHandle=-1,m=e.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(bs={stylesheets:null,count:0,unsuspend:F1},dv(e),m=Z1(),m!==null)){n.cancelPendingCommit=m(Bh.bind(null,n,e,o,t,i,l,s,u,c,d,1,h,p)),Mi(n,o,s,!f);return}Bh(n,e,o,t,i,l,s,u,c)}function c1(n){for(var e=n;;){var t=e.tag;if((t===0||t===11||t===15)&&e.flags&16384&&(t=e.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var i=0;i<t.length;i++){var l=t[i],o=l.getSnapshot;l=l.value;try{if(!nn(o(),l))return!1}catch{return!1}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mi(n,e,t,i){e&=~ed,e&=~sl,n.suspendedLanes|=e,n.pingedLanes&=~e,i&&(n.warmLanes|=e),i=n.expirationTimes;for(var l=e;0<l;){var o=31-jt(l),s=1<<o;i[o]=-1,l&=~s}t!==0&&Ag(n,t,e)}function zr(){return we&6?!0:(Ys(0),!1)}function nd(){if(de!==null){if(Me===0)var n=de.return;else n=de,Kn=xl=null,Gf(n),jl=null,_s=0,n=de;for(;n!==null;)jy(n.alternate,n),n=n.return;de=null}}function ho(n,e){var t=n.timeoutHandle;t!==-1&&(n.timeoutHandle=-1,w1(t)),t=n.cancelPendingCommit,t!==null&&(n.cancelPendingCommit=null,t()),nd(),$e=n,de=t=Qn(n.current,null),ge=e,Me=0,Jt=null,bi=!1,Ao=Ls(n,e),jf=!1,co=hn=ed=sl=Bi=je=0,zt=us=null,wc=!1,e&8&&(e|=e&32);var i=n.entangledLanes;if(i!==0)for(n=n.entanglements,i&=e;0<i;){var l=31-jt(i),o=1<<l;e|=n[l],i&=~o}return ni=e,Lr(),t}function xv(n,e){ue=null,W.H=Qa,e===Gs||e===Vr?(e=ph(),Me=3):e===iy?(e=ph(),Me=4):Me=e===Zy?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Jt=e,de===null&&(je=1,er(n,dn(e,n.current)))}function Tv(){var n=W.H;return W.H=Qa,n===null?Qa:n}function Sv(){var n=W.A;return W.A=r1,n}function kc(){je=4,bi||(ge&4194048)!==ge&&mn.current!==null||(Ao=!0),!(Bi&134217727)&&!(sl&134217727)||$e===null||Mi($e,ge,hn,!1)}function Ru(n,e,t){var i=we;we|=2;var l=Tv(),o=Sv();($e!==n||ge!==e)&&(lr=null,ho(n,e)),e=!1;var s=je;e:do try{if(Me!==0&&de!==null){var u=de,c=Jt;switch(Me){case 8:nd(),s=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(e=!0);var f=Me;if(Me=0,Jt=null,ql(n,u,c,f),t&&Ao){s=0;break e}break;default:f=Me,Me=0,Jt=null,ql(n,u,c,f)}}f1(),s=je;break}catch(d){xv(n,d)}while(!0);return e&&n.shellSuspendCounter++,Kn=xl=null,we=i,W.H=l,W.A=o,de===null&&($e=null,ge=0,Lr()),s}function f1(){for(;de!==null;)Cv(de)}function d1(n,e){var t=we;we|=2;var i=Tv(),l=Sv();$e!==n||ge!==e?(lr=null,ir=In()+500,ho(n,e)):Ao=Ls(n,e);e:do try{if(Me!==0&&de!==null){e=de;var o=Jt;t:switch(Me){case 1:Me=0,Jt=null,ql(n,e,o,1);break;case 2:case 9:if(mh(o)){Me=0,Jt=null,$h(e);break}e=function(){Me!==2&&Me!==9||$e!==n||(Me=7),$n(n)},o.then(e,e);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:mh(o)?(Me=0,Jt=null,$h(e)):(Me=0,Jt=null,ql(n,e,o,7));break;case 5:var s=null;switch(de.tag){case 26:s=de.memoizedState;case 5:case 27:var u=de;if(!s||zv(s)){Me=0,Jt=null;var c=u.sibling;if(c!==null)de=c;else{var f=u.return;f!==null?(de=f,Gr(f)):de=null}break t}}Me=0,Jt=null,ql(n,e,o,5);break;case 6:Me=0,Jt=null,ql(n,e,o,6);break;case 8:nd(),je=6;break e;default:throw Error(w(462))}}h1();break}catch(d){xv(n,d)}while(!0);return Kn=xl=null,W.H=i,W.A=l,we=t,de!==null?0:($e=null,ge=0,Lr(),je)}function h1(){for(;de!==null&&!Lx();)Cv(de)}function Cv(n){var e=Wy(n.alternate,n,ni);n.memoizedProps=n.pendingProps,e===null?Gr(n):de=e}function $h(n){var e=n,t=e.alternate;switch(e.tag){case 15:case 0:e=Dh(t,e,e.pendingProps,e.type,void 0,ge);break;case 11:e=Dh(t,e,e.pendingProps,e.type.render,e.ref,ge);break;case 5:Gf(e);default:jy(t,e),e=de=jg(e,ni),e=Wy(t,e,ni)}n.memoizedProps=n.pendingProps,e===null?Gr(n):de=e}function ql(n,e,t,i){Kn=xl=null,Gf(e),jl=null,_s=0;var l=e.return;try{if(n1(n,l,e,t,ge)){je=1,er(n,dn(t,n.current)),de=null;return}}catch(o){if(l!==null)throw de=l,o;je=1,er(n,dn(t,n.current)),de=null;return}e.flags&32768?(Ce||i===1?n=!0:Ao||ge&536870912?n=!1:(bi=n=!0,(i===2||i===9||i===3||i===6)&&(i=mn.current,i!==null&&i.tag===13&&(i.flags|=16384))),_v(e,n)):Gr(e)}function Gr(n){var e=n;do{if(e.flags&32768){_v(e,bi);return}n=e.return;var t=l1(e.alternate,e,ni);if(t!==null){de=t;return}if(e=e.sibling,e!==null){de=e;return}de=e=n}while(e!==null);je===0&&(je=5)}function _v(n,e){do{var t=o1(n.alternate,n);if(t!==null){t.flags&=32767,de=t;return}if(t=n.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!e&&(n=n.sibling,n!==null)){de=n;return}de=n=t}while(n!==null);je=6,de=null}function Bh(n,e,t,i,l,o,s,u,c){n.cancelPendingCommit=null;do qr();while(_t!==0);if(we&6)throw Error(w(327));if(e!==null){if(e===n.current)throw Error(w(177));if(o=e.lanes|e.childLanes,o|=Nf,Fx(n,t,o,s,u,c),n===$e&&(de=$e=null,ge=0),fo=e,ki=n,eo=t,Nc=o,Rc=l,gv=i,e.subtreeFlags&10256||e.flags&10256?(n.callbackNode=null,n.callbackPriority=0,y1(za,function(){return wv(),null})):(n.callbackNode=null,n.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=W.T,W.T=null,l=_e.p,_e.p=2,s=we,we|=4;try{s1(n,e,t)}finally{we=s,_e.p=l,W.T=i}}_t=1,Ev(),Av(),bv()}}function Ev(){if(_t===1){_t=0;var n=ki,e=fo,t=(e.flags&13878)!==0;if(e.subtreeFlags&13878||t){t=W.T,W.T=null;var i=_e.p;_e.p=2;var l=we;we|=4;try{uv(e,n);var o=Oc,s=Fg(n.containerInfo),u=o.focusedElem,c=o.selectionRange;if(s!==u&&u&&u.ownerDocument&&Hg(u.ownerDocument.documentElement,u)){if(c!==null&&wf(u)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in u)u.selectionStart=f,u.selectionEnd=Math.min(d,u.value.length);else{var m=u.ownerDocument||document,h=m&&m.defaultView||window;if(h.getSelection){var p=h.getSelection(),x=u.textContent.length,S=Math.min(c.start,x),_=c.end===void 0?S:Math.min(c.end,x);!p.extend&&S>_&&(s=_,_=S,S=s);var y=sh(u,S),v=sh(u,_);if(y&&v&&(p.rangeCount!==1||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var T=m.createRange();T.setStart(y.node,y.offset),p.removeAllRanges(),S>_?(p.addRange(T),p.extend(v.node,v.offset)):(T.setEnd(v.node,v.offset),p.addRange(T))}}}}for(m=[],p=u;p=p.parentNode;)p.nodeType===1&&m.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<m.length;u++){var C=m[u];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}dr=!!Lc,Oc=Lc=null}finally{we=l,_e.p=i,W.T=t}}n.current=e,_t=2}}function Av(){if(_t===2){_t=0;var n=ki,e=fo,t=(e.flags&8772)!==0;if(e.subtreeFlags&8772||t){t=W.T,W.T=null;var i=_e.p;_e.p=2;var l=we;we|=4;try{ov(n,e.alternate,e)}finally{we=l,_e.p=i,W.T=t}}_t=3}}function bv(){if(_t===4||_t===3){_t=0,Ox();var n=ki,e=fo,t=eo,i=gv;e.subtreeFlags&10256||e.flags&10256?_t=5:(_t=0,fo=ki=null,Mv(n,n.pendingLanes));var l=n.pendingLanes;if(l===0&&(Di=null),Sf(t),e=e.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Us,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=W.T,l=_e.p,_e.p=2,W.T=null;try{for(var o=n.onRecoverableError,s=0;s<i.length;s++){var u=i[s];o(u.value,{componentStack:u.stack})}}finally{W.T=e,_e.p=l}}eo&3&&qr(),$n(n),l=n.pendingLanes,t&4194090&&l&42?n===Dc?cs++:(cs=0,Dc=n):cs=0,Ys(0)}}function Mv(n,e){(n.pooledCacheLanes&=e)===0&&(e=n.pooledCache,e!=null&&(n.pooledCache=null,zs(e)))}function qr(n){return Ev(),Av(),bv(),wv()}function wv(){if(_t!==5)return!1;var n=ki,e=Nc;Nc=0;var t=Sf(eo),i=W.T,l=_e.p;try{_e.p=32>t?32:t,W.T=null,t=Rc,Rc=null;var o=ki,s=eo;if(_t=0,fo=ki=null,eo=0,we&6)throw Error(w(331));var u=we;if(we|=4,mv(o.current),fv(o,o.current,s,t),we=u,Ys(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Us,o)}catch{}return!0}finally{_e.p=l,W.T=i,Mv(n,e)}}function Ph(n,e,t){e=dn(t,e),e=Ec(n.stateNode,e,2),n=Ri(n,e,2),n!==null&&(Os(n,2),$n(n))}function Le(n,e,t){if(n.tag===3)Ph(n,n,t);else for(;e!==null;){if(e.tag===3){Ph(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Di===null||!Di.has(i))){n=dn(t,n),t=Fy(2),i=Ri(e,t,2),i!==null&&(Yy(t,i,e,n),Os(i,2),$n(i));break}}e=e.return}}function Du(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new u1;var l=new Set;i.set(e,l)}else l=i.get(e),l===void 0&&(l=new Set,i.set(e,l));l.has(t)||(jf=!0,l.add(t),n=m1.bind(null,n,e,t),e.then(n,n))}function m1(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),n.pingedLanes|=n.suspendedLanes&t,n.warmLanes&=~t,$e===n&&(ge&t)===t&&(je===4||je===3&&(ge&62914560)===ge&&300>In()-td?!(we&2)&&ho(n,0):ed|=t,co===ge&&(co=0)),$n(n)}function Nv(n,e){e===0&&(e=Eg()),n=Eo(n,e),n!==null&&(Os(n,e),$n(n))}function p1(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Nv(n,t)}function g1(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,l=n.memoizedState;l!==null&&(t=l.retryLane);break;case 19:i=n.stateNode;break;case 22:i=n.stateNode._retryCache;break;default:throw Error(w(314))}i!==null&&i.delete(e),Nv(n,t)}function y1(n,e){return xf(n,e)}var or=null,Rl=null,Ic=!1,sr=!1,ku=!1,al=0;function $n(n){n!==Rl&&n.next===null&&(Rl===null?or=Rl=n:Rl=Rl.next=n),sr=!0,Ic||(Ic=!0,x1())}function Ys(n,e){if(!ku&&sr){ku=!0;do for(var t=!1,i=or;i!==null;){if(n!==0){var l=i.pendingLanes;if(l===0)var o=0;else{var s=i.suspendedLanes,u=i.pingedLanes;o=(1<<31-jt(42|n)+1)-1,o&=l&~(s&~u),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(t=!0,zh(i,o))}else o=ge,o=Dr(i,i===$e?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(o&3)||Ls(i,o)||(t=!0,zh(i,o));i=i.next}while(t);ku=!1}}function v1(){Rv()}function Rv(){sr=Ic=!1;var n=0;al!==0&&(M1()&&(n=al),al=0);for(var e=In(),t=null,i=or;i!==null;){var l=i.next,o=Dv(i,e);o===0?(i.next=null,t===null?or=l:t.next=l,l===null&&(Rl=t)):(t=i,(n!==0||o&3)&&(sr=!0)),i=l}Ys(n)}function Dv(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,l=n.expirationTimes,o=n.pendingLanes&-62914561;0<o;){var s=31-jt(o),u=1<<s,c=l[s];c===-1?(!(u&t)||u&i)&&(l[s]=Hx(u,e)):c<=e&&(n.expiredLanes|=u),o&=~u}if(e=$e,t=ge,t=Dr(n,n===e?t:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i=n.callbackNode,t===0||n===e&&(Me===2||Me===9)||n.cancelPendingCommit!==null)return i!==null&&i!==null&&lu(i),n.callbackNode=null,n.callbackPriority=0;if(!(t&3)||Ls(n,t)){if(e=t&-t,e===n.callbackPriority)return e;switch(i!==null&&lu(i),Sf(t)){case 2:case 8:t=Sg;break;case 32:t=za;break;case 268435456:t=Cg;break;default:t=za}return i=kv.bind(null,n),t=xf(t,i),n.callbackPriority=e,n.callbackNode=t,e}return i!==null&&i!==null&&lu(i),n.callbackPriority=2,n.callbackNode=null,2}function kv(n,e){if(_t!==0&&_t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var t=n.callbackNode;if(qr()&&n.callbackNode!==t)return null;var i=ge;return i=Dr(n,n===$e?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i===0?null:(vv(n,i,e),Dv(n,In()),n.callbackNode!=null&&n.callbackNode===t?kv.bind(null,n):null)}function zh(n,e){if(qr())return null;vv(n,e,!0)}function x1(){N1(function(){we&6?xf(Tg,v1):Rv()})}function id(){return al===0&&(al=_g()),al}function Gh(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:_a(""+n)}function qh(n,e){var t=e.ownerDocument.createElement("input");return t.name=e.name,t.value=e.value,n.id&&t.setAttribute("form",n.id),e.parentNode.insertBefore(t,e),n=new FormData(n),t.parentNode.removeChild(t),n}function T1(n,e,t,i,l){if(e==="submit"&&t&&t.stateNode===l){var o=Gh((l[Gt]||null).action),s=i.submitter;s&&(e=(e=s[Gt]||null)?Gh(e.formAction):s.getAttribute("formAction"),e!==null&&(o=e,s=null));var u=new kr("action","action",null,i,l);n.push({event:u,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(al!==0){var c=s?qh(l,s):new FormData(l);Cc(t,{pending:!0,data:c,method:l.method,action:o},null,c)}}else typeof o=="function"&&(u.preventDefault(),c=s?qh(l,s):new FormData(l),Cc(t,{pending:!0,data:c,method:l.method,action:o},o,c))},currentTarget:l}]})}}for(var Iu=0;Iu<cc.length;Iu++){var Uu=cc[Iu],S1=Uu.toLowerCase(),C1=Uu[0].toUpperCase()+Uu.slice(1);Tn(S1,"on"+C1)}Tn(Zg,"onAnimationEnd");Tn(Kg,"onAnimationIteration");Tn(Jg,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(BT,"onTransitionRun");Tn(PT,"onTransitionStart");Tn(zT,"onTransitionCancel");Tn(Xg,"onTransitionEnd");lo("onMouseEnter",["mouseout","mouseover"]);lo("onMouseLeave",["mouseout","mouseover"]);lo("onPointerEnter",["pointerout","pointerover"]);lo("onPointerLeave",["pointerout","pointerover"]);gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gl("onBeforeInput",["compositionend","keypress","textInput","paste"]);gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Es));function Iv(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],l=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var u=i[s],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){ja(d)}l.currentTarget=null,o=c}else for(s=0;s<i.length;s++){if(u=i[s],c=u.instance,f=u.currentTarget,u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){ja(d)}l.currentTarget=null,o=c}}}}function fe(n,e){var t=e[ic];t===void 0&&(t=e[ic]=new Set);var i=n+"__bubble";t.has(i)||(Uv(e,n,2,!1),t.add(i))}function Lu(n,e,t){var i=0;e&&(i|=4),Uv(t,n,i,e)}var ha="_reactListening"+Math.random().toString(36).slice(2);function ld(n){if(!n[ha]){n[ha]=!0,wg.forEach(function(t){t!=="selectionchange"&&(_1.has(t)||Lu(t,!1,n),Lu(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[ha]||(e[ha]=!0,Lu("selectionchange",!1,e))}}function Uv(n,e,t,i){switch(Yv(e)){case 2:var l=X1;break;case 8:l=Q1;break;default:l=rd}t=l.bind(null,e,t,n),l=void 0,!ac||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),i?l!==void 0?n.addEventListener(e,t,{capture:!0,passive:l}):n.addEventListener(e,t,!0):l!==void 0?n.addEventListener(e,t,{passive:l}):n.addEventListener(e,t,!1)}function Ou(n,e,t,i,l){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var u=i.stateNode.containerInfo;if(u===l)break;if(s===4)for(s=i.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===l)return;s=s.return}for(;u!==null;){if(s=Ul(u),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){i=o=s;continue e}u=u.parentNode}}i=i.return}Og(function(){var f=o,d=Ef(t),m=[];e:{var h=Qg.get(n);if(h!==void 0){var p=kr,x=n;switch(n){case"keypress":if(Aa(t)===0)break e;case"keydown":case"keyup":p=yT;break;case"focusin":x="focus",p=du;break;case"focusout":x="blur",p=du;break;case"beforeblur":case"afterblur":p=du;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=oT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=TT;break;case Zg:case Kg:case Jg:p=rT;break;case Xg:p=CT;break;case"scroll":case"scrollend":p=iT;break;case"wheel":p=ET;break;case"copy":case"cut":case"paste":p=cT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Wd;break;case"toggle":case"beforetoggle":p=bT}var S=(e&4)!==0,_=!S&&(n==="scroll"||n==="scrollend"),y=S?h!==null?h+"Capture":null:h;S=[];for(var v=f,T;v!==null;){var C=v;if(T=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||T===null||y===null||(C=vs(v,y),C!=null&&S.push(As(v,C,T))),_)break;v=v.return}0<S.length&&(h=new p(h,x,null,t,d),m.push({event:h,listeners:S}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",h&&t!==sc&&(x=t.relatedTarget||t.fromElement)&&(Ul(x)||x[Co]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=t.relatedTarget||t.toElement,p=f,x=x?Ul(x):null,x!==null&&(_=Is(x),S=x.tag,x!==_||S!==5&&S!==27&&S!==6)&&(x=null)):(p=null,x=f),p!==x)){if(S=Xd,C="onMouseLeave",y="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(S=Wd,C="onPointerLeave",y="onPointerEnter",v="pointer"),_=p==null?h:Zo(p),T=x==null?h:Zo(x),h=new S(C,v+"leave",p,t,d),h.target=_,h.relatedTarget=T,C=null,Ul(d)===f&&(S=new S(y,v+"enter",x,t,d),S.target=T,S.relatedTarget=_,C=S),_=C,p&&x)t:{for(S=p,y=x,v=0,T=S;T;T=El(T))v++;for(T=0,C=y;C;C=El(C))T++;for(;0<v-T;)S=El(S),v--;for(;0<T-v;)y=El(y),T--;for(;v--;){if(S===y||y!==null&&S===y.alternate)break t;S=El(S),y=El(y)}S=null}else S=null;p!==null&&Hh(m,h,p,S,!1),x!==null&&_!==null&&Hh(m,_,x,S,!0)}}e:{if(h=f?Zo(f):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=nh;else if(th(h))if(Gg)b=OT;else{b=UT;var N=IT}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?f&&_f(f.elementType)&&(b=nh):b=LT;if(b&&(b=b(n,f))){zg(m,b,t,d);break e}N&&N(n,h,f),n==="focusout"&&f&&h.type==="number"&&f.memoizedProps.value!=null&&oc(h,"number",h.value)}switch(N=f?Zo(f):window,n){case"focusin":(th(N)||N.contentEditable==="true")&&(Vl=N,rc=f,es=null);break;case"focusout":es=rc=Vl=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,ah(m,t,d);break;case"selectionchange":if($T)break;case"keydown":case"keyup":ah(m,t,d)}var M;if(Mf)e:{switch(n){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Ol?Bg(n,t)&&(D="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(D="onCompositionStart");D&&($g&&t.locale!=="ko"&&(Ol||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ol&&(M=Vg()):(Ai=d,Af="value"in Ai?Ai.value:Ai.textContent,Ol=!0)),N=ar(f,D),0<N.length&&(D=new Qd(D,n,null,t,d),m.push({event:D,listeners:N}),M?D.data=M:(M=Pg(t),M!==null&&(D.data=M)))),(M=wT?NT(n,t):RT(n,t))&&(D=ar(f,"onBeforeInput"),0<D.length&&(N=new Qd("onBeforeInput","beforeinput",null,t,d),m.push({event:N,listeners:D}),N.data=M)),T1(m,n,f,t,d)}Iv(m,e)})}function As(n,e,t){return{instance:n,listener:e,currentTarget:t}}function ar(n,e){for(var t=e+"Capture",i=[];n!==null;){var l=n,o=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||o===null||(l=vs(n,t),l!=null&&i.unshift(As(n,l,o)),l=vs(n,e),l!=null&&i.push(As(n,l,o))),n.tag===3)return i;n=n.return}return[]}function El(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Hh(n,e,t,i,l){for(var o=e._reactName,s=[];t!==null&&t!==i;){var u=t,c=u.alternate,f=u.stateNode;if(u=u.tag,c!==null&&c===i)break;u!==5&&u!==26&&u!==27||f===null||(c=f,l?(f=vs(t,o),f!=null&&s.unshift(As(t,f,c))):l||(f=vs(t,o),f!=null&&s.push(As(t,f,c)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var E1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function Fh(n){return(typeof n=="string"?n:""+n).replace(E1,`
`).replace(A1,"")}function Lv(n,e){return e=Fh(e),Fh(n)===e}function Hr(){}function Ne(n,e,t,i,l,o){switch(t){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||oo(n,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&oo(n,""+i);break;case"className":sa(n,"class",i);break;case"tabIndex":sa(n,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":sa(n,t,i);break;case"style":Lg(n,i,o);break;case"data":if(e!=="object"){sa(n,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||t!=="href")){n.removeAttribute(t);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(t);break}i=_a(""+i),n.setAttribute(t,i);break;case"action":case"formAction":if(typeof i=="function"){n.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(t==="formAction"?(e!=="input"&&Ne(n,e,"name",l.name,l,null),Ne(n,e,"formEncType",l.formEncType,l,null),Ne(n,e,"formMethod",l.formMethod,l,null),Ne(n,e,"formTarget",l.formTarget,l,null)):(Ne(n,e,"encType",l.encType,l,null),Ne(n,e,"method",l.method,l,null),Ne(n,e,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(t);break}i=_a(""+i),n.setAttribute(t,i);break;case"onClick":i!=null&&(n.onclick=Hr);break;case"onScroll":i!=null&&fe("scroll",n);break;case"onScrollEnd":i!=null&&fe("scrollend",n);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(w(61));if(t=i.__html,t!=null){if(l.children!=null)throw Error(w(60));n.innerHTML=t}}break;case"multiple":n.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":n.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){n.removeAttribute("xlink:href");break}t=_a(""+i),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,""+i):n.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,""):n.removeAttribute(t);break;case"capture":case"download":i===!0?n.setAttribute(t,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,i):n.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?n.setAttribute(t,i):n.removeAttribute(t);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?n.removeAttribute(t):n.setAttribute(t,i);break;case"popover":fe("beforetoggle",n),fe("toggle",n),Ca(n,"popover",i);break;case"xlinkActuate":zn(n,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":zn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":zn(n,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":zn(n,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":zn(n,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":zn(n,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":zn(n,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":zn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":zn(n,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ca(n,"is",i);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=tT.get(t)||t,Ca(n,t,i))}}function Uc(n,e,t,i,l,o){switch(t){case"style":Lg(n,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(w(61));if(t=i.__html,t!=null){if(l.children!=null)throw Error(w(60));n.innerHTML=t}}break;case"children":typeof i=="string"?oo(n,i):(typeof i=="number"||typeof i=="bigint")&&oo(n,""+i);break;case"onScroll":i!=null&&fe("scroll",n);break;case"onScrollEnd":i!=null&&fe("scrollend",n);break;case"onClick":i!=null&&(n.onclick=Hr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ng.hasOwnProperty(t))e:{if(t[0]==="o"&&t[1]==="n"&&(l=t.endsWith("Capture"),e=t.slice(2,l?t.length-7:void 0),o=n[Gt]||null,o=o!=null?o[t]:null,typeof o=="function"&&n.removeEventListener(e,o,l),typeof i=="function")){typeof o!="function"&&o!==null&&(t in n?n[t]=null:n.hasAttribute(t)&&n.removeAttribute(t)),n.addEventListener(e,i,l);break e}t in n?n[t]=i:i===!0?n.setAttribute(t,""):Ca(n,t,i)}}}function Et(n,e,t){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",n),fe("load",n);var i=!1,l=!1,o;for(o in t)if(t.hasOwnProperty(o)){var s=t[o];if(s!=null)switch(o){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(w(137,e));default:Ne(n,e,o,s,t,null)}}l&&Ne(n,e,"srcSet",t.srcSet,t,null),i&&Ne(n,e,"src",t.src,t,null);return;case"input":fe("invalid",n);var u=o=s=l=null,c=null,f=null;for(i in t)if(t.hasOwnProperty(i)){var d=t[i];if(d!=null)switch(i){case"name":l=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":o=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(w(137,e));break;default:Ne(n,e,i,d,t,null)}}kg(n,o,u,c,f,s,l,!1),Ga(n);return;case"select":fe("invalid",n),i=s=o=null;for(l in t)if(t.hasOwnProperty(l)&&(u=t[l],u!=null))switch(l){case"value":o=u;break;case"defaultValue":s=u;break;case"multiple":i=u;default:Ne(n,e,l,u,t,null)}e=o,t=s,n.multiple=!!i,e!=null?Kl(n,!!i,e,!1):t!=null&&Kl(n,!!i,t,!0);return;case"textarea":fe("invalid",n),o=l=i=null;for(s in t)if(t.hasOwnProperty(s)&&(u=t[s],u!=null))switch(s){case"value":i=u;break;case"defaultValue":l=u;break;case"children":o=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(w(91));break;default:Ne(n,e,s,u,t,null)}Ug(n,i,l,o),Ga(n);return;case"option":for(c in t)if(t.hasOwnProperty(c)&&(i=t[c],i!=null))switch(c){case"selected":n.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ne(n,e,c,i,t,null)}return;case"dialog":fe("beforetoggle",n),fe("toggle",n),fe("cancel",n),fe("close",n);break;case"iframe":case"object":fe("load",n);break;case"video":case"audio":for(i=0;i<Es.length;i++)fe(Es[i],n);break;case"image":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"embed":case"source":case"link":fe("error",n),fe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in t)if(t.hasOwnProperty(f)&&(i=t[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(w(137,e));default:Ne(n,e,f,i,t,null)}return;default:if(_f(e)){for(d in t)t.hasOwnProperty(d)&&(i=t[d],i!==void 0&&Uc(n,e,d,i,t,void 0));return}}for(u in t)t.hasOwnProperty(u)&&(i=t[u],i!=null&&Ne(n,e,u,i,t,null))}function b1(n,e,t,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,o=null,s=null,u=null,c=null,f=null,d=null;for(p in t){var m=t[p];if(t.hasOwnProperty(p)&&m!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":c=m;default:i.hasOwnProperty(p)||Ne(n,e,p,null,i,m)}}for(var h in i){var p=i[h];if(m=t[h],i.hasOwnProperty(h)&&(p!=null||m!=null))switch(h){case"type":o=p;break;case"name":l=p;break;case"checked":f=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":u=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(w(137,e));break;default:p!==m&&Ne(n,e,h,p,i,m)}}lc(n,s,u,c,f,d,o,l);return;case"select":p=s=u=h=null;for(o in t)if(c=t[o],t.hasOwnProperty(o)&&c!=null)switch(o){case"value":break;case"multiple":p=c;default:i.hasOwnProperty(o)||Ne(n,e,o,null,i,c)}for(l in i)if(o=i[l],c=t[l],i.hasOwnProperty(l)&&(o!=null||c!=null))switch(l){case"value":h=o;break;case"defaultValue":u=o;break;case"multiple":s=o;default:o!==c&&Ne(n,e,l,o,i,c)}e=u,t=s,i=p,h!=null?Kl(n,!!t,h,!1):!!i!=!!t&&(e!=null?Kl(n,!!t,e,!0):Kl(n,!!t,t?[]:"",!1));return;case"textarea":p=h=null;for(u in t)if(l=t[u],t.hasOwnProperty(u)&&l!=null&&!i.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:Ne(n,e,u,null,i,l)}for(s in i)if(l=i[s],o=t[s],i.hasOwnProperty(s)&&(l!=null||o!=null))switch(s){case"value":h=l;break;case"defaultValue":p=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(w(91));break;default:l!==o&&Ne(n,e,s,l,i,o)}Ig(n,h,p);return;case"option":for(var x in t)if(h=t[x],t.hasOwnProperty(x)&&h!=null&&!i.hasOwnProperty(x))switch(x){case"selected":n.selected=!1;break;default:Ne(n,e,x,null,i,h)}for(c in i)if(h=i[c],p=t[c],i.hasOwnProperty(c)&&h!==p&&(h!=null||p!=null))switch(c){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ne(n,e,c,h,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in t)h=t[S],t.hasOwnProperty(S)&&h!=null&&!i.hasOwnProperty(S)&&Ne(n,e,S,null,i,h);for(f in i)if(h=i[f],p=t[f],i.hasOwnProperty(f)&&h!==p&&(h!=null||p!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(w(137,e));break;default:Ne(n,e,f,h,i,p)}return;default:if(_f(e)){for(var _ in t)h=t[_],t.hasOwnProperty(_)&&h!==void 0&&!i.hasOwnProperty(_)&&Uc(n,e,_,void 0,i,h);for(d in i)h=i[d],p=t[d],!i.hasOwnProperty(d)||h===p||h===void 0&&p===void 0||Uc(n,e,d,h,i,p);return}}for(var y in t)h=t[y],t.hasOwnProperty(y)&&h!=null&&!i.hasOwnProperty(y)&&Ne(n,e,y,null,i,h);for(m in i)h=i[m],p=t[m],!i.hasOwnProperty(m)||h===p||h==null&&p==null||Ne(n,e,m,h,i,p)}var Lc=null,Oc=null;function rr(n){return n.nodeType===9?n:n.ownerDocument}function Yh(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ov(n,e){if(n===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&e==="foreignObject"?0:n}function Vc(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vu=null;function M1(){var n=window.event;return n&&n.type==="popstate"?n===Vu?!1:(Vu=n,!0):(Vu=null,!1)}var Vv=typeof setTimeout=="function"?setTimeout:void 0,w1=typeof clearTimeout=="function"?clearTimeout:void 0,Zh=typeof Promise=="function"?Promise:void 0,N1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zh<"u"?function(n){return Zh.resolve(null).then(n).catch(R1)}:Vv;function R1(n){setTimeout(function(){throw n})}function Gi(n){return n==="head"}function Kh(n,e){var t=e,i=0,l=0;do{var o=t.nextSibling;if(n.removeChild(t),o&&o.nodeType===8)if(t=o.data,t==="/$"){if(0<i&&8>i){t=i;var s=n.ownerDocument;if(t&1&&fs(s.documentElement),t&2&&fs(s.body),t&4)for(t=s.head,fs(t),s=t.firstChild;s;){var u=s.nextSibling,c=s.nodeName;s[Vs]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||t.removeChild(s),s=u}}if(l===0){n.removeChild(o),Rs(e);return}l--}else t==="$"||t==="$?"||t==="$!"?l++:i=t.charCodeAt(0)-48;else i=0;t=o}while(t);Rs(e)}function $c(n){var e=n.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var t=e;switch(e=e.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":$c(t),Cf(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}n.removeChild(t)}}function D1(n,e,t,i){for(;n.nodeType===1;){var l=t;if(n.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(i){if(!n[Vs])switch(e){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(o=n.getAttribute("rel"),o==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(o!==l.rel||n.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||n.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||n.getAttribute("title")!==(l.title==null?null:l.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(o=n.getAttribute("src"),(o!==(l.src==null?null:l.src)||n.getAttribute("type")!==(l.type==null?null:l.type)||n.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&o&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(e==="input"&&n.type==="hidden"){var o=l.name==null?null:""+l.name;if(l.type==="hidden"&&n.getAttribute("name")===o)return n}else return n;if(n=vn(n.nextSibling),n===null)break}return null}function k1(n,e,t){if(e==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!t||(n=vn(n.nextSibling),n===null))return null;return n}function Bc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function I1(n,e){var t=n.ownerDocument;if(n.data!=="$?"||t.readyState==="complete")e();else{var i=function(){e(),t.removeEventListener("DOMContentLoaded",i)};t.addEventListener("DOMContentLoaded",i),n._reactRetry=i}}function vn(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return n}var Pc=null;function Jh(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}function $v(n,e,t){switch(e=rr(t),n){case"html":if(n=e.documentElement,!n)throw Error(w(452));return n;case"head":if(n=e.head,!n)throw Error(w(453));return n;case"body":if(n=e.body,!n)throw Error(w(454));return n;default:throw Error(w(451))}}function fs(n){for(var e=n.attributes;e.length;)n.removeAttributeNode(e[0]);Cf(n)}var pn=new Map,Xh=new Set;function ur(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var oi=_e.d;_e.d={f:U1,r:L1,D:O1,C:V1,L:$1,m:B1,X:z1,S:P1,M:G1};function U1(){var n=oi.f(),e=zr();return n||e}function L1(n){var e=_o(n);e!==null&&e.tag===5&&e.type==="form"?Dy(e):oi.r(n)}var bo=typeof document>"u"?null:document;function Bv(n,e,t){var i=bo;if(i&&typeof e=="string"&&e){var l=fn(e);l='link[rel="'+n+'"][href="'+l+'"]',typeof t=="string"&&(l+='[crossorigin="'+t+'"]'),Xh.has(l)||(Xh.add(l),n={rel:n,crossOrigin:t,href:e},i.querySelector(l)===null&&(e=i.createElement("link"),Et(e,"link",n),pt(e),i.head.appendChild(e)))}}function O1(n){oi.D(n),Bv("dns-prefetch",n,null)}function V1(n,e){oi.C(n,e),Bv("preconnect",n,e)}function $1(n,e,t){oi.L(n,e,t);var i=bo;if(i&&n&&e){var l='link[rel="preload"][as="'+fn(e)+'"]';e==="image"&&t&&t.imageSrcSet?(l+='[imagesrcset="'+fn(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(l+='[imagesizes="'+fn(t.imageSizes)+'"]')):l+='[href="'+fn(n)+'"]';var o=l;switch(e){case"style":o=mo(n);break;case"script":o=Mo(n)}pn.has(o)||(n=qe({rel:"preload",href:e==="image"&&t&&t.imageSrcSet?void 0:n,as:e},t),pn.set(o,n),i.querySelector(l)!==null||e==="style"&&i.querySelector(Zs(o))||e==="script"&&i.querySelector(Ks(o))||(e=i.createElement("link"),Et(e,"link",n),pt(e),i.head.appendChild(e)))}}function B1(n,e){oi.m(n,e);var t=bo;if(t&&n){var i=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+fn(i)+'"][href="'+fn(n)+'"]',o=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Mo(n)}if(!pn.has(o)&&(n=qe({rel:"modulepreload",href:n},e),pn.set(o,n),t.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(Ks(o)))return}i=t.createElement("link"),Et(i,"link",n),pt(i),t.head.appendChild(i)}}}function P1(n,e,t){oi.S(n,e,t);var i=bo;if(i&&n){var l=Zl(i).hoistableStyles,o=mo(n);e=e||"default";var s=l.get(o);if(!s){var u={loading:0,preload:null};if(s=i.querySelector(Zs(o)))u.loading=5;else{n=qe({rel:"stylesheet",href:n,"data-precedence":e},t),(t=pn.get(o))&&od(n,t);var c=s=i.createElement("link");pt(c),Et(c,"link",n),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){u.loading|=1}),c.addEventListener("error",function(){u.loading|=2}),u.loading|=4,ka(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:u},l.set(o,s)}}}function z1(n,e){oi.X(n,e);var t=bo;if(t&&n){var i=Zl(t).hoistableScripts,l=Mo(n),o=i.get(l);o||(o=t.querySelector(Ks(l)),o||(n=qe({src:n,async:!0},e),(e=pn.get(l))&&sd(n,e),o=t.createElement("script"),pt(o),Et(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function G1(n,e){oi.M(n,e);var t=bo;if(t&&n){var i=Zl(t).hoistableScripts,l=Mo(n),o=i.get(l);o||(o=t.querySelector(Ks(l)),o||(n=qe({src:n,async:!0,type:"module"},e),(e=pn.get(l))&&sd(n,e),o=t.createElement("script"),pt(o),Et(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function Qh(n,e,t,i){var l=(l=wi.current)?ur(l):null;if(!l)throw Error(w(446));switch(n){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(e=mo(t.href),t=Zl(l).hoistableStyles,i=t.get(e),i||(i={type:"style",instance:null,count:0,state:null},t.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){n=mo(t.href);var o=Zl(l).hoistableStyles,s=o.get(n);if(s||(l=l.ownerDocument||l,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(n,s),(o=l.querySelector(Zs(n)))&&!o._p&&(s.instance=o,s.state.loading=5),pn.has(n)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},pn.set(n,t),o||q1(l,n,t,s.state))),e&&i===null)throw Error(w(528,""));return s}if(e&&i!==null)throw Error(w(529,""));return null;case"script":return e=t.async,t=t.src,typeof t=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Mo(t),t=Zl(l).hoistableScripts,i=t.get(e),i||(i={type:"script",instance:null,count:0,state:null},t.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(w(444,n))}}function mo(n){return'href="'+fn(n)+'"'}function Zs(n){return'link[rel="stylesheet"]['+n+"]"}function Pv(n){return qe({},n,{"data-precedence":n.precedence,precedence:null})}function q1(n,e,t,i){n.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=n.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Et(e,"link",t),pt(e),n.head.appendChild(e))}function Mo(n){return'[src="'+fn(n)+'"]'}function Ks(n){return"script[async]"+n}function Wh(n,e,t){if(e.count++,e.instance===null)switch(e.type){case"style":var i=n.querySelector('style[data-href~="'+fn(t.href)+'"]');if(i)return e.instance=i,pt(i),i;var l=qe({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return i=(n.ownerDocument||n).createElement("style"),pt(i),Et(i,"style",l),ka(i,t.precedence,n),e.instance=i;case"stylesheet":l=mo(t.href);var o=n.querySelector(Zs(l));if(o)return e.state.loading|=4,e.instance=o,pt(o),o;i=Pv(t),(l=pn.get(l))&&od(i,l),o=(n.ownerDocument||n).createElement("link"),pt(o);var s=o;return s._p=new Promise(function(u,c){s.onload=u,s.onerror=c}),Et(o,"link",i),e.state.loading|=4,ka(o,t.precedence,n),e.instance=o;case"script":return o=Mo(t.src),(l=n.querySelector(Ks(o)))?(e.instance=l,pt(l),l):(i=t,(l=pn.get(o))&&(i=qe({},t),sd(i,l)),n=n.ownerDocument||n,l=n.createElement("script"),pt(l),Et(l,"link",i),n.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(w(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,ka(i,t.precedence,n));return e.instance}function ka(n,e,t){for(var i=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,o=l,s=0;s<i.length;s++){var u=i[s];if(u.dataset.precedence===e)o=u;else if(o!==l)break}o?o.parentNode.insertBefore(n,o.nextSibling):(e=t.nodeType===9?t.head:t,e.insertBefore(n,e.firstChild))}function od(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.title==null&&(n.title=e.title)}function sd(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.integrity==null&&(n.integrity=e.integrity)}var Ia=null;function jh(n,e,t){if(Ia===null){var i=new Map,l=Ia=new Map;l.set(t,i)}else l=Ia,i=l.get(t),i||(i=new Map,l.set(t,i));if(i.has(n))return i;for(i.set(n,null),t=t.getElementsByTagName(n),l=0;l<t.length;l++){var o=t[l];if(!(o[Vs]||o[Nt]||n==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var s=o.getAttribute(e)||"";s=n+s;var u=i.get(s);u?u.push(o):i.set(s,[o])}}return i}function em(n,e,t){n=n.ownerDocument||n,n.head.insertBefore(t,e==="title"?n.querySelector("head > title"):null)}function H1(n,e,t){if(t===1||e.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return n=e.disabled,typeof e.precedence=="string"&&n==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function zv(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var bs=null;function F1(){}function Y1(n,e,t){if(bs===null)throw Error(w(475));var i=bs;if(e.type==="stylesheet"&&(typeof t.media!="string"||matchMedia(t.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var l=mo(t.href),o=n.querySelector(Zs(l));if(o){n=o._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(i.count++,i=cr.bind(i),n.then(i,i)),e.state.loading|=4,e.instance=o,pt(o);return}o=n.ownerDocument||n,t=Pv(t),(l=pn.get(l))&&od(t,l),o=o.createElement("link"),pt(o);var s=o;s._p=new Promise(function(u,c){s.onload=u,s.onerror=c}),Et(o,"link",t),e.instance=o}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,n),(n=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=cr.bind(i),n.addEventListener("load",e),n.addEventListener("error",e))}}function Z1(){if(bs===null)throw Error(w(475));var n=bs;return n.stylesheets&&n.count===0&&zc(n,n.stylesheets),0<n.count?function(e){var t=setTimeout(function(){if(n.stylesheets&&zc(n,n.stylesheets),n.unsuspend){var i=n.unsuspend;n.unsuspend=null,i()}},6e4);return n.unsuspend=e,function(){n.unsuspend=null,clearTimeout(t)}}:null}function cr(){if(this.count--,this.count===0){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var fr=null;function zc(n,e){n.stylesheets=null,n.unsuspend!==null&&(n.count++,fr=new Map,e.forEach(K1,n),fr=null,cr.call(n))}function K1(n,e){if(!(e.state.loading&4)){var t=fr.get(n);if(t)var i=t.get(null);else{t=new Map,fr.set(n,t);for(var l=n.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<l.length;o++){var s=l[o];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(t.set(s.dataset.precedence,s),i=s)}i&&t.set(null,i)}l=e.instance,s=l.getAttribute("data-precedence"),o=t.get(s)||i,o===i&&t.set(null,l),t.set(s,l),this.count++,i=cr.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),o?o.parentNode.insertBefore(l,o.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(l,n.firstChild)),e.state.loading|=4}}var Ms={$$typeof:Fn,Provider:null,Consumer:null,_currentValue:tl,_currentValue2:tl,_threadCount:0};function J1(n,e,t,i,l,o,s,u){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ou(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ou(0),this.hiddenUpdates=ou(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Gv(n,e,t,i,l,o,s,u,c,f,d,m){return n=new J1(n,e,t,s,u,c,f,m),e=1,o===!0&&(e|=24),o=Qt(3,null,null,e),n.current=o,o.stateNode=n,e=Uf(),e.refCount++,n.pooledCache=e,e.refCount++,o.memoizedState={element:i,isDehydrated:t,cache:e},Of(o),n}function qv(n){return n?(n=Pl,n):Pl}function Hv(n,e,t,i,l,o){l=qv(l),i.context===null?i.context=l:i.pendingContext=l,i=Ni(e),i.payload={element:t},o=o===void 0?null:o,o!==null&&(i.callback=o),t=Ri(n,i,e),t!==null&&(tn(t,n,e),is(t,n,e))}function tm(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function ad(n,e){tm(n,e),(n=n.alternate)&&tm(n,e)}function Fv(n){if(n.tag===13){var e=Eo(n,67108864);e!==null&&tn(e,n,67108864),ad(n,67108864)}}var dr=!0;function X1(n,e,t,i){var l=W.T;W.T=null;var o=_e.p;try{_e.p=2,rd(n,e,t,i)}finally{_e.p=o,W.T=l}}function Q1(n,e,t,i){var l=W.T;W.T=null;var o=_e.p;try{_e.p=8,rd(n,e,t,i)}finally{_e.p=o,W.T=l}}function rd(n,e,t,i){if(dr){var l=Gc(i);if(l===null)Ou(n,e,i,hr,t),nm(n,i);else if(j1(l,n,e,t,i))i.stopPropagation();else if(nm(n,i),e&4&&-1<W1.indexOf(n)){for(;l!==null;){var o=_o(l);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var s=Qi(o.pendingLanes);if(s!==0){var u=o;for(u.pendingLanes|=2,u.entangledLanes|=2;s;){var c=1<<31-jt(s);u.entanglements[1]|=c,s&=~c}$n(o),!(we&6)&&(ir=In()+500,Ys(0))}}break;case 13:u=Eo(o,2),u!==null&&tn(u,o,2),zr(),ad(o,2)}if(o=Gc(i),o===null&&Ou(n,e,i,hr,t),o===l)break;l=o}l!==null&&i.stopPropagation()}else Ou(n,e,i,null,t)}}function Gc(n){return n=Ef(n),ud(n)}var hr=null;function ud(n){if(hr=null,n=Ul(n),n!==null){var e=Is(n);if(e===null)n=null;else{var t=e.tag;if(t===13){if(n=gg(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null)}}return hr=n,null}function Yv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vx()){case Tg:return 2;case Sg:return 8;case za:case $x:return 32;case Cg:return 268435456;default:return 32}default:return 32}}var qc=!1,Ii=null,Ui=null,Li=null,ws=new Map,Ns=new Map,_i=[],W1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nm(n,e){switch(n){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":ws.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(e.pointerId)}}function zo(n,e,t,i,l,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:o,targetContainers:[l]},e!==null&&(e=_o(e),e!==null&&Fv(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),n)}function j1(n,e,t,i,l){switch(e){case"focusin":return Ii=zo(Ii,n,e,t,i,l),!0;case"dragenter":return Ui=zo(Ui,n,e,t,i,l),!0;case"mouseover":return Li=zo(Li,n,e,t,i,l),!0;case"pointerover":var o=l.pointerId;return ws.set(o,zo(ws.get(o)||null,n,e,t,i,l)),!0;case"gotpointercapture":return o=l.pointerId,Ns.set(o,zo(Ns.get(o)||null,n,e,t,i,l)),!0}return!1}function Zv(n){var e=Ul(n.target);if(e!==null){var t=Is(e);if(t!==null){if(e=t.tag,e===13){if(e=gg(t),e!==null){n.blockedOn=e,Yx(n.priority,function(){if(t.tag===13){var i=en();i=Tf(i);var l=Eo(t,i);l!==null&&tn(l,t,i),ad(t,i)}});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ua(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Gc(n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);sc=i,t.target.dispatchEvent(i),sc=null}else return e=_o(t),e!==null&&Fv(e),n.blockedOn=t,!1;e.shift()}return!0}function im(n,e,t){Ua(n)&&t.delete(e)}function eS(){qc=!1,Ii!==null&&Ua(Ii)&&(Ii=null),Ui!==null&&Ua(Ui)&&(Ui=null),Li!==null&&Ua(Li)&&(Li=null),ws.forEach(im),Ns.forEach(im)}function ma(n,e){n.blockedOn===e&&(n.blockedOn=null,qc||(qc=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,eS)))}var pa=null;function lm(n){pa!==n&&(pa=n,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,function(){pa===n&&(pa=null);for(var e=0;e<n.length;e+=3){var t=n[e],i=n[e+1],l=n[e+2];if(typeof i!="function"){if(ud(i||t)===null)continue;break}var o=_o(t);o!==null&&(n.splice(e,3),e-=3,Cc(o,{pending:!0,data:l,method:t.method,action:i},i,l))}}))}function Rs(n){function e(c){return ma(c,n)}Ii!==null&&ma(Ii,n),Ui!==null&&ma(Ui,n),Li!==null&&ma(Li,n),ws.forEach(e),Ns.forEach(e);for(var t=0;t<_i.length;t++){var i=_i[t];i.blockedOn===n&&(i.blockedOn=null)}for(;0<_i.length&&(t=_i[0],t.blockedOn===null);)Zv(t),t.blockedOn===null&&_i.shift();if(t=(n.ownerDocument||n).$$reactFormReplay,t!=null)for(i=0;i<t.length;i+=3){var l=t[i],o=t[i+1],s=l[Gt]||null;if(typeof o=="function")s||lm(t);else if(s){var u=null;if(o&&o.hasAttribute("formAction")){if(l=o,s=o[Gt]||null)u=s.formAction;else if(ud(l)!==null)continue}else u=s.action;typeof u=="function"?t[i+1]=u:(t.splice(i,3),i-=3),lm(t)}}}function cd(n){this._internalRoot=n}Fr.prototype.render=cd.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(w(409));var t=e.current,i=en();Hv(t,i,n,e,null,null)};Fr.prototype.unmount=cd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Hv(n.current,2,null,n,null,null),zr(),e[Co]=null}};function Fr(n){this._internalRoot=n}Fr.prototype.unstable_scheduleHydration=function(n){if(n){var e=Mg();n={blockedOn:null,target:n,priority:e};for(var t=0;t<_i.length&&e!==0&&e<_i[t].priority;t++);_i.splice(t,0,n),t===0&&Zv(n)}};var om=mg.version;if(om!=="19.1.0")throw Error(w(527,om,"19.1.0"));_e.findDOMNode=function(n){var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(w(188)):(n=Object.keys(n).join(","),Error(w(268,n)));return n=Rx(e),n=n!==null?yg(n):null,n=n===null?null:n.stateNode,n};var tS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ga.isDisabled&&ga.supportsFiber)try{Us=ga.inject(tS),Wt=ga}catch{}}Nr.createRoot=function(n,e){if(!pg(n))throw Error(w(299));var t=!1,i="",l=Gy,o=qy,s=Hy,u=null;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(u=e.unstable_transitionCallbacks)),e=Gv(n,1,!1,null,null,t,i,l,o,s,u,null),n[Co]=e.current,ld(n),new cd(e)};Nr.hydrateRoot=function(n,e,t){if(!pg(n))throw Error(w(299));var i=!1,l="",o=Gy,s=qy,u=Hy,c=null,f=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(c=t.unstable_transitionCallbacks),t.formState!==void 0&&(f=t.formState)),e=Gv(n,1,!0,e,t??null,i,l,o,s,u,c,f),e.context=qv(null),t=e.current,i=en(),i=Tf(i),l=Ni(i),l.callback=null,Ri(t,l,i),t=i,e.current.lanes=t,Os(e,t),$n(e),n[Co]=e.current,ld(n),new Fr(e)};Nr.version="19.1.0";function Kv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kv)}catch(n){console.error(n)}}Kv(),rg.exports=Nr;var nS=rg.exports;const iS=Wp(nS),$u=["1","2","3","4","5","6","7","8","9","10","11","12"],Jv=["","","","","","",""],Ct=["","","","","","","","","","","","",""],Xn="",wo="smartcalendar:userEvents",Yr="smartcalendar:builtinEventOverrides",mr="smartcalendar:userEventsUpdated",Hc="smartcalendar:builtinEventOverridesUpdated",sm=2029,Xv=A.createContext(void 0),am="smartcalendar:theme",lS={mainBg:"bg-main",headerBg:"bg-secondary",componentBg:"bg-secondary",inputBg:"bg-tertiary",border:"border-border-primary",textPrimary:"text-text-primary",textSecondary:"text-text-secondary",accentColor:"text-accent-text",accentBg:"bg-accent-primary",activeTabBg:"bg-accent-primary",buttonBg:"bg-tertiary",buttonText:"text-white",hoverEffect:"hover:bg-tertiary/60",eventUserBg:"bg-accent-primary/20",eventBuiltinBg:"bg-tertiary/60",eventBuiltinBorder:"border-border-secondary",placeholderColor:"placeholder:text-text-tertiary",scrollbarThumb:""},oS=({children:n})=>{const[e,t]=A.useState(()=>{const l=(localStorage.getItem(am)??"").trim();return l==="light"||l==="beige"||l==="dark"?l:"beige"});A.useEffect(()=>{localStorage.setItem(am,e),document.documentElement.setAttribute("data-theme",e)},[e]),A.useEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[]);const i=A.useMemo(()=>({theme:e,setTheme:t,colors:lS}),[e]);return g.jsx(Xv.Provider,{value:i,children:n})},qi=()=>{const n=A.useContext(Xv);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},Bu=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},sS=({currentDate:n,events:e,onEventClick:t,onDateClick:i,onDragStart:l,onDragEnd:o,onDrop:s})=>{const{colors:u}=qi(),c=new Date(n),f=c.getDay();c.setDate(n.getDate()-f);const d=Array.from({length:7},(h,p)=>{const x=new Date(c);return x.setDate(c.getDate()+p),x}),m=Bu(new Date);return g.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[g.jsx("div",{className:`grid grid-cols-7 border-b ${u.border} ${u.componentBg}/80 flex-shrink-0`,children:d.map((h,p)=>{const x=Bu(h),S=x===m;return g.jsxs("div",{className:`p-3 text-center border-r ${u.border} last:border-r-0 ${S?`${u.accentBg}/20`:""}`,children:[g.jsx("div",{className:`text-xs ${u.textSecondary} font-medium mb-1`,children:Jv[p]}),g.jsx("div",{className:`text-lg font-bold ${S?u.accentColor:u.textPrimary}`,children:h.getDate()})]},x)})}),g.jsx("div",{className:"flex-grow grid grid-cols-7 min-h-0 overflow-hidden",children:d.map(h=>{const p=Bu(h),x=e.filter(_=>_.date===p),S=p===m;return g.jsx("div",{className:`border-r ${u.border} last:border-r-0 p-2 overflow-y-auto scrollbar-thin ${u.hoverEffect} transition-colors h-full ${S?`${u.accentBg}/10`:""}`,onClick:()=>i(p),onDragOver:_=>{_.preventDefault(),_.dataTransfer.dropEffect="move"},onDrop:_=>s&&s(_,p),children:g.jsx("div",{className:"space-y-2",children:x.map(_=>g.jsx("div",{"data-tour":"calendar-event",draggable:!!l,onDragStart:y=>l==null?void 0:l(y,_.id),onDragEnd:o,className:`px-2 py-1.5 rounded-md text-sm cursor-grab active:cursor-grabbing shadow-sm border transition-shadow truncate font-medium ${_.kind==="user"?"bg-accent-primary text-white border-transparent hover:opacity-90":"bg-tertiary text-text-primary border-transparent hover:opacity-90"}`,onClick:y=>{y.stopPropagation(),t(_)},title:_.title,children:g.jsx("div",{className:"font-medium truncate",children:_.title})},_.id))})},p)})})]})};var xe;(function(n){n.assertEqual=l=>{};function e(l){}n.assertIs=e;function t(l){throw new Error}n.assertNever=t,n.arrayToEnum=l=>{const o={};for(const s of l)o[s]=s;return o},n.getValidEnumValues=l=>{const o=n.objectKeys(l).filter(u=>typeof l[l[u]]!="number"),s={};for(const u of o)s[u]=l[u];return n.objectValues(s)},n.objectValues=l=>n.objectKeys(l).map(function(o){return l[o]}),n.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const o=[];for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&o.push(s);return o},n.find=(l,o)=>{for(const s of l)if(o(s))return s},n.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function i(l,o=" | "){return l.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}n.joinValues=i,n.jsonStringifyReplacer=(l,o)=>typeof o=="bigint"?o.toString():o})(xe||(xe={}));var rm;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(rm||(rm={}));const G=xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xi=n=>{switch(typeof n){case"undefined":return G.undefined;case"string":return G.string;case"number":return Number.isNaN(n)?G.nan:G.number;case"boolean":return G.boolean;case"function":return G.function;case"bigint":return G.bigint;case"symbol":return G.symbol;case"object":return Array.isArray(n)?G.array:n===null?G.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?G.promise:typeof Map<"u"&&n instanceof Map?G.map:typeof Set<"u"&&n instanceof Set?G.set:typeof Date<"u"&&n instanceof Date?G.date:G.object;default:return G.unknown}},I=xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ii extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},i={_errors:[]},l=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(l);else if(s.code==="invalid_return_type")l(s.returnTypeError);else if(s.code==="invalid_arguments")l(s.argumentsError);else if(s.path.length===0)i._errors.push(t(s));else{let u=i,c=0;for(;c<s.path.length;){const f=s.path[c];c===s.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(t(s))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return l(this),i}static assert(e){if(!(e instanceof ii))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const l of this.issues)l.path.length>0?(t[l.path[0]]=t[l.path[0]]||[],t[l.path[0]].push(e(l))):i.push(e(l));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}ii.create=n=>new ii(n);const Fc=(n,e)=>{let t;switch(n.code){case I.invalid_type:n.received===G.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case I.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,xe.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:t=`Unrecognized key(s) in object: ${xe.joinValues(n.keys,", ")}`;break;case I.invalid_union:t="Invalid input";break;case I.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${xe.joinValues(n.options)}`;break;case I.invalid_enum_value:t=`Invalid enum value. Expected ${xe.joinValues(n.options)}, received '${n.received}'`;break;case I.invalid_arguments:t="Invalid function arguments";break;case I.invalid_return_type:t="Invalid function return type";break;case I.invalid_date:t="Invalid date";break;case I.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:xe.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case I.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case I.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case I.custom:t="Invalid input";break;case I.invalid_intersection_types:t="Intersection results could not be merged";break;case I.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case I.not_finite:t="Number must be finite";break;default:t=e.defaultError,xe.assertNever(n)}return{message:t}};let aS=Fc;function rS(){return aS}const uS=n=>{const{data:e,path:t,errorMaps:i,issueData:l}=n,o=[...t,...l.path||[]],s={...l,path:o};if(l.message!==void 0)return{...l,path:o,message:l.message};let u="";const c=i.filter(f=>!!f).slice().reverse();for(const f of c)u=f(s,{data:e,defaultError:u}).message;return{...l,path:o,message:u}};function P(n,e){const t=rS(),i=uS({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Fc?void 0:Fc].filter(l=>!!l)});n.common.issues.push(i)}class Lt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const l of t){if(l.status==="aborted")return ie;l.status==="dirty"&&e.dirty(),i.push(l.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const l of t){const o=await l.key,s=await l.value;i.push({key:o,value:s})}return Lt.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const l of t){const{key:o,value:s}=l;if(o.status==="aborted"||s.status==="aborted")return ie;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||l.alwaysSet)&&(i[o.value]=s.value)}return{status:e.value,value:i}}}const ie=Object.freeze({status:"aborted"}),Jo=n=>({status:"dirty",value:n}),gn=n=>({status:"valid",value:n}),um=n=>n.status==="aborted",cm=n=>n.status==="dirty",po=n=>n.status==="valid",pr=n=>typeof Promise<"u"&&n instanceof Promise;var q;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(q||(q={}));class On{constructor(e,t,i,l){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fm=(n,e)=>{if(po(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ii(n.common.issues);return this._error=t,this._error}}};function ae(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:l}=n;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:(s,u)=>{const{message:c}=n;return s.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??i??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:c??t??u.defaultError}},description:l}}class pe{get description(){return this._def.description}_getType(e){return xi(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:xi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Lt,ctx:{common:e.parent.common,data:e.data,parsedType:xi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(pr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xi(e)},l=this._parseSync({data:e,path:i.path,parent:i});return fm(i,l)}"~validate"(e){var i,l;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xi(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:t});return po(o)?{value:o.value}:{issues:t.common.issues}}catch(o){(l=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(o=>po(o)?{value:o.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xi(e)},l=this._parse({data:e,path:i.path,parent:i}),o=await(pr(l)?l:Promise.resolve(l));return fm(i,o)}refine(e,t){const i=l=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(l):t;return this._refinement((l,o)=>{const s=e(l),u=()=>o.addIssue({code:I.custom,...i(l)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(e,t){return this._refinement((i,l)=>e(i)?!0:(l.addIssue(typeof t=="function"?t(i,l):t),!1))}_refinement(e){return new vo({schema:this,typeName:ne.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Oi.create(this,this._def)}nullable(){return xo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ln.create(this)}promise(){return Tr.create(this,this._def)}or(e){return yr.create([this,e],this._def)}and(e){return vr.create(this,e,this._def)}transform(e){return new vo({...ae(this._def),schema:this,typeName:ne.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Jc({...ae(this._def),innerType:this,defaultValue:t,typeName:ne.ZodDefault})}brand(){return new kS({typeName:ne.ZodBranded,type:this,...ae(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Xc({...ae(this._def),innerType:this,catchValue:t,typeName:ne.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return fd.create(this,e)}readonly(){return Qc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cS=/^c[^\s-]{8,}$/i,fS=/^[0-9a-z]+$/,dS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mS=/^[a-z0-9_-]{21}$/i,pS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,gS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pu;const xS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,TS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,SS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,CS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_S=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ES=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Qv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",AS=new RegExp(`^${Qv}$`);function Wv(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function bS(n){return new RegExp(`^${Wv(n)}$`)}function MS(n){let e=`${Qv}T${Wv(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function wS(n,e){return!!((e==="v4"||!e)&&xS.test(n)||(e==="v6"||!e)&&SS.test(n))}function NS(n,e){if(!pS.test(n))return!1;try{const[t]=n.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),l=JSON.parse(atob(i));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||e&&l.alg!==e)}catch{return!1}}function RS(n,e){return!!((e==="v4"||!e)&&TS.test(n)||(e==="v6"||!e)&&CS.test(n))}class wn extends pe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==G.string){const o=this._getOrReturnCtx(e);return P(o,{code:I.invalid_type,expected:G.string,received:o.parsedType}),ie}const i=new Lt;let l;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(l=this._getOrReturnCtx(e,l),P(l,{code:I.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(l=this._getOrReturnCtx(e,l),P(l,{code:I.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,u=e.data.length<o.value;(s||u)&&(l=this._getOrReturnCtx(e,l),s?P(l,{code:I.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&P(l,{code:I.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")yS.test(e.data)||(l=this._getOrReturnCtx(e,l),P(l,{validation:"email",code:I.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")Pu||(Pu=new RegExp(vS,"u")),Pu.test(e.data)||(l=this._getOrReturnCtx(e,l),P(l,{validation:"emoji",code:I.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")hS.test(e.data)||(l=this._getOrReturnCtx(e,l),P(l,{validation:"uuid",code:I.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")mS.test(e.data)||(l=this._getOrReturnCtx(e,l),P(l,{validation:"nanoid",code:I.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")cS.test(e.data)||(l=this._getOrReturnCtx(e,l),P(l,{validation:"cuid",code:I.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")fS.test(e.data)||(l=this._getOrReturnCtx(e,l),P(l,{validation:"cuid2",code:I.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")dS.test(e.data)||(l=this._getOrReturnCtx(e,l),P(l,{validation:"ulid",code:I.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),P(l,{validation:"url",code:I.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),P(l,{validation:"regex",code:I.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(l=this._getOrReturnCtx(e,l),P(l,{code:I.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(l=this._getOrReturnCtx(e,l),P(l,{code:I.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(l=this._getOrReturnCtx(e,l),P(l,{code:I.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?MS(o).test(e.data)||(l=this._getOrReturnCtx(e,l),P(l,{code:I.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?AS.test(e.data)||(l=this._getOrReturnCtx(e,l),P(l,{code:I.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?bS(o).test(e.data)||(l=this._getOrReturnCtx(e,l),P(l,{code:I.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?gS.test(e.data)||(l=this._getOrReturnCtx(e,l),P(l,{validation:"duration",code:I.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?wS(e.data,o.version)||(l=this._getOrReturnCtx(e,l),P(l,{validation:"ip",code:I.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?NS(e.data,o.alg)||(l=this._getOrReturnCtx(e,l),P(l,{validation:"jwt",code:I.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?RS(e.data,o.version)||(l=this._getOrReturnCtx(e,l),P(l,{validation:"cidr",code:I.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?_S.test(e.data)||(l=this._getOrReturnCtx(e,l),P(l,{validation:"base64",code:I.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?ES.test(e.data)||(l=this._getOrReturnCtx(e,l),P(l,{validation:"base64url",code:I.invalid_string,message:o.message}),i.dirty()):xe.assertNever(o);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(l=>e.test(l),{validation:t,code:I.invalid_string,...q.errToObj(i)})}_addCheck(e){return new wn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...q.errToObj(e)})}url(e){return this._addCheck({kind:"url",...q.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...q.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...q.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...q.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...q.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...q.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...q.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...q.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...q.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...q.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...q.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...q.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...q.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...q.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...q.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...q.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...q.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...q.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...q.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...q.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...q.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...q.errToObj(t)})}nonempty(e){return this.min(1,q.errToObj(e))}trim(){return new wn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}wn.create=n=>new wn({checks:[],typeName:ne.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...ae(n)});function DS(n,e){const t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,l=t>i?t:i,o=Number.parseInt(n.toFixed(l).replace(".","")),s=Number.parseInt(e.toFixed(l).replace(".",""));return o%s/10**l}class dl extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==G.number){const o=this._getOrReturnCtx(e);return P(o,{code:I.invalid_type,expected:G.number,received:o.parsedType}),ie}let i;const l=new Lt;for(const o of this._def.checks)o.kind==="int"?xe.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{code:I.invalid_type,expected:"integer",received:"float",message:o.message}),l.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),P(i,{code:I.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),P(i,{code:I.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="multipleOf"?DS(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),P(i,{code:I.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{code:I.not_finite,message:o.message}),l.dirty()):xe.assertNever(o);return{status:l.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,q.toString(t))}gt(e,t){return this.setLimit("min",e,!1,q.toString(t))}lte(e,t){return this.setLimit("max",e,!0,q.toString(t))}lt(e,t){return this.setLimit("max",e,!1,q.toString(t))}setLimit(e,t,i,l){return new dl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:q.toString(l)}]})}_addCheck(e){return new dl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:q.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:q.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:q.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:q.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:q.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:q.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&xe.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}dl.create=n=>new dl({checks:[],typeName:ne.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ae(n)});class hl extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==G.bigint)return this._getInvalidInput(e);let i;const l=new Lt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),P(i,{code:I.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),P(i,{code:I.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),P(i,{code:I.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):xe.assertNever(o);return{status:l.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return P(t,{code:I.invalid_type,expected:G.bigint,received:t.parsedType}),ie}gte(e,t){return this.setLimit("min",e,!0,q.toString(t))}gt(e,t){return this.setLimit("min",e,!1,q.toString(t))}lte(e,t){return this.setLimit("max",e,!0,q.toString(t))}lt(e,t){return this.setLimit("max",e,!1,q.toString(t))}setLimit(e,t,i,l){return new hl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:q.toString(l)}]})}_addCheck(e){return new hl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:q.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:q.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}hl.create=n=>new hl({checks:[],typeName:ne.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...ae(n)});class gr extends pe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==G.boolean){const i=this._getOrReturnCtx(e);return P(i,{code:I.invalid_type,expected:G.boolean,received:i.parsedType}),ie}return gn(e.data)}}gr.create=n=>new gr({typeName:ne.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ae(n)});class go extends pe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==G.date){const o=this._getOrReturnCtx(e);return P(o,{code:I.invalid_type,expected:G.date,received:o.parsedType}),ie}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return P(o,{code:I.invalid_date}),ie}const i=new Lt;let l;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(l=this._getOrReturnCtx(e,l),P(l,{code:I.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(l=this._getOrReturnCtx(e,l),P(l,{code:I.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):xe.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new go({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:q.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:q.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}go.create=n=>new go({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:ne.ZodDate,...ae(n)});class dm extends pe{_parse(e){if(this._getType(e)!==G.symbol){const i=this._getOrReturnCtx(e);return P(i,{code:I.invalid_type,expected:G.symbol,received:i.parsedType}),ie}return gn(e.data)}}dm.create=n=>new dm({typeName:ne.ZodSymbol,...ae(n)});class hm extends pe{_parse(e){if(this._getType(e)!==G.undefined){const i=this._getOrReturnCtx(e);return P(i,{code:I.invalid_type,expected:G.undefined,received:i.parsedType}),ie}return gn(e.data)}}hm.create=n=>new hm({typeName:ne.ZodUndefined,...ae(n)});class mm extends pe{_parse(e){if(this._getType(e)!==G.null){const i=this._getOrReturnCtx(e);return P(i,{code:I.invalid_type,expected:G.null,received:i.parsedType}),ie}return gn(e.data)}}mm.create=n=>new mm({typeName:ne.ZodNull,...ae(n)});class pm extends pe{constructor(){super(...arguments),this._any=!0}_parse(e){return gn(e.data)}}pm.create=n=>new pm({typeName:ne.ZodAny,...ae(n)});class Yc extends pe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return gn(e.data)}}Yc.create=n=>new Yc({typeName:ne.ZodUnknown,...ae(n)});class Pi extends pe{_parse(e){const t=this._getOrReturnCtx(e);return P(t,{code:I.invalid_type,expected:G.never,received:t.parsedType}),ie}}Pi.create=n=>new Pi({typeName:ne.ZodNever,...ae(n)});class gm extends pe{_parse(e){if(this._getType(e)!==G.undefined){const i=this._getOrReturnCtx(e);return P(i,{code:I.invalid_type,expected:G.void,received:i.parsedType}),ie}return gn(e.data)}}gm.create=n=>new gm({typeName:ne.ZodVoid,...ae(n)});class Ln extends pe{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),l=this._def;if(t.parsedType!==G.array)return P(t,{code:I.invalid_type,expected:G.array,received:t.parsedType}),ie;if(l.exactLength!==null){const s=t.data.length>l.exactLength.value,u=t.data.length<l.exactLength.value;(s||u)&&(P(t,{code:s?I.too_big:I.too_small,minimum:u?l.exactLength.value:void 0,maximum:s?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),i.dirty())}if(l.minLength!==null&&t.data.length<l.minLength.value&&(P(t,{code:I.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),i.dirty()),l.maxLength!==null&&t.data.length>l.maxLength.value&&(P(t,{code:I.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((s,u)=>l.type._parseAsync(new On(t,s,t.path,u)))).then(s=>Lt.mergeArray(i,s));const o=[...t.data].map((s,u)=>l.type._parseSync(new On(t,s,t.path,u)));return Lt.mergeArray(i,o)}get element(){return this._def.type}min(e,t){return new Ln({...this._def,minLength:{value:e,message:q.toString(t)}})}max(e,t){return new Ln({...this._def,maxLength:{value:e,message:q.toString(t)}})}length(e,t){return new Ln({...this._def,exactLength:{value:e,message:q.toString(t)}})}nonempty(e){return this.min(1,e)}}Ln.create=(n,e)=>new Ln({type:n,minLength:null,maxLength:null,exactLength:null,typeName:ne.ZodArray,...ae(e)});function Dl(n){if(n instanceof ot){const e={};for(const t in n.shape){const i=n.shape[t];e[t]=Oi.create(Dl(i))}return new ot({...n._def,shape:()=>e})}else return n instanceof Ln?new Ln({...n._def,type:Dl(n.element)}):n instanceof Oi?Oi.create(Dl(n.unwrap())):n instanceof xo?xo.create(Dl(n.unwrap())):n instanceof ml?ml.create(n.items.map(e=>Dl(e))):n}class ot extends pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=xe.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==G.object){const f=this._getOrReturnCtx(e);return P(f,{code:I.invalid_type,expected:G.object,received:f.parsedType}),ie}const{status:i,ctx:l}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof Pi&&this._def.unknownKeys==="strip"))for(const f in l.data)s.includes(f)||u.push(f);const c=[];for(const f of s){const d=o[f],m=l.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new On(l,m,l.path,f)),alwaysSet:f in l.data})}if(this._def.catchall instanceof Pi){const f=this._def.unknownKeys;if(f==="passthrough")for(const d of u)c.push({key:{status:"valid",value:d},value:{status:"valid",value:l.data[d]}});else if(f==="strict")u.length>0&&(P(l,{code:I.unrecognized_keys,keys:u}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const d of u){const m=l.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new On(l,m,l.path,d)),alwaysSet:d in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const f=[];for(const d of c){const m=await d.key,h=await d.value;f.push({key:m,value:h,alwaysSet:d.alwaysSet})}return f}).then(f=>Lt.mergeObjectSync(i,f)):Lt.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return q.errToObj,new ot({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var o,s;const l=((s=(o=this._def).errorMap)==null?void 0:s.call(o,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:q.errToObj(e).message??l}:{message:l}}}:{}})}strip(){return new ot({...this._def,unknownKeys:"strip"})}passthrough(){return new ot({...this._def,unknownKeys:"passthrough"})}extend(e){return new ot({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ot({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ne.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ot({...this._def,catchall:e})}pick(e){const t={};for(const i of xe.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new ot({...this._def,shape:()=>t})}omit(e){const t={};for(const i of xe.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new ot({...this._def,shape:()=>t})}deepPartial(){return Dl(this)}partial(e){const t={};for(const i of xe.objectKeys(this.shape)){const l=this.shape[i];e&&!e[i]?t[i]=l:t[i]=l.optional()}return new ot({...this._def,shape:()=>t})}required(e){const t={};for(const i of xe.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof Oi;)o=o._def.innerType;t[i]=o}return new ot({...this._def,shape:()=>t})}keyof(){return jv(xe.objectKeys(this.shape))}}ot.create=(n,e)=>new ot({shape:()=>n,unknownKeys:"strip",catchall:Pi.create(),typeName:ne.ZodObject,...ae(e)});ot.strictCreate=(n,e)=>new ot({shape:()=>n,unknownKeys:"strict",catchall:Pi.create(),typeName:ne.ZodObject,...ae(e)});ot.lazycreate=(n,e)=>new ot({shape:n,unknownKeys:"strip",catchall:Pi.create(),typeName:ne.ZodObject,...ae(e)});class yr extends pe{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function l(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const s=o.map(u=>new ii(u.ctx.common.issues));return P(t,{code:I.invalid_union,unionErrors:s}),ie}if(t.common.async)return Promise.all(i.map(async o=>{const s={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:s}),ctx:s}})).then(l);{let o;const s=[];for(const c of i){const f={...t,common:{...t.common,issues:[]},parent:null},d=c._parseSync({data:t.data,path:t.path,parent:f});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:f}),f.common.issues.length&&s.push(f.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const u=s.map(c=>new ii(c));return P(t,{code:I.invalid_union,unionErrors:u}),ie}}get options(){return this._def.options}}yr.create=(n,e)=>new yr({options:n,typeName:ne.ZodUnion,...ae(e)});function Zc(n,e){const t=xi(n),i=xi(e);if(n===e)return{valid:!0,data:n};if(t===G.object&&i===G.object){const l=xe.objectKeys(e),o=xe.objectKeys(n).filter(u=>l.indexOf(u)!==-1),s={...n,...e};for(const u of o){const c=Zc(n[u],e[u]);if(!c.valid)return{valid:!1};s[u]=c.data}return{valid:!0,data:s}}else if(t===G.array&&i===G.array){if(n.length!==e.length)return{valid:!1};const l=[];for(let o=0;o<n.length;o++){const s=n[o],u=e[o],c=Zc(s,u);if(!c.valid)return{valid:!1};l.push(c.data)}return{valid:!0,data:l}}else return t===G.date&&i===G.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class vr extends pe{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),l=(o,s)=>{if(um(o)||um(s))return ie;const u=Zc(o.value,s.value);return u.valid?((cm(o)||cm(s))&&t.dirty(),{status:t.value,value:u.data}):(P(i,{code:I.invalid_intersection_types}),ie)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,s])=>l(o,s)):l(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}vr.create=(n,e,t)=>new vr({left:n,right:e,typeName:ne.ZodIntersection,...ae(t)});class ml extends pe{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.array)return P(i,{code:I.invalid_type,expected:G.array,received:i.parsedType}),ie;if(i.data.length<this._def.items.length)return P(i,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ie;!this._def.rest&&i.data.length>this._def.items.length&&(P(i,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...i.data].map((s,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new On(i,s,i.path,u)):null}).filter(s=>!!s);return i.common.async?Promise.all(o).then(s=>Lt.mergeArray(t,s)):Lt.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new ml({...this._def,rest:e})}}ml.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ml({items:n,typeName:ne.ZodTuple,rest:null,...ae(e)})};class xr extends pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.object)return P(i,{code:I.invalid_type,expected:G.object,received:i.parsedType}),ie;const l=[],o=this._def.keyType,s=this._def.valueType;for(const u in i.data)l.push({key:o._parse(new On(i,u,i.path,u)),value:s._parse(new On(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?Lt.mergeObjectAsync(t,l):Lt.mergeObjectSync(t,l)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof pe?new xr({keyType:e,valueType:t,typeName:ne.ZodRecord,...ae(i)}):new xr({keyType:wn.create(),valueType:e,typeName:ne.ZodRecord,...ae(t)})}}class ym extends pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.map)return P(i,{code:I.invalid_type,expected:G.map,received:i.parsedType}),ie;const l=this._def.keyType,o=this._def.valueType,s=[...i.data.entries()].map(([u,c],f)=>({key:l._parse(new On(i,u,i.path,[f,"key"])),value:o._parse(new On(i,c,i.path,[f,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of s){const f=await c.key,d=await c.value;if(f.status==="aborted"||d.status==="aborted")return ie;(f.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(f.value,d.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const c of s){const f=c.key,d=c.value;if(f.status==="aborted"||d.status==="aborted")return ie;(f.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(f.value,d.value)}return{status:t.value,value:u}}}}ym.create=(n,e,t)=>new ym({valueType:e,keyType:n,typeName:ne.ZodMap,...ae(t)});class Ds extends pe{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.set)return P(i,{code:I.invalid_type,expected:G.set,received:i.parsedType}),ie;const l=this._def;l.minSize!==null&&i.data.size<l.minSize.value&&(P(i,{code:I.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),t.dirty()),l.maxSize!==null&&i.data.size>l.maxSize.value&&(P(i,{code:I.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),t.dirty());const o=this._def.valueType;function s(c){const f=new Set;for(const d of c){if(d.status==="aborted")return ie;d.status==="dirty"&&t.dirty(),f.add(d.value)}return{status:t.value,value:f}}const u=[...i.data.values()].map((c,f)=>o._parse(new On(i,c,i.path,f)));return i.common.async?Promise.all(u).then(c=>s(c)):s(u)}min(e,t){return new Ds({...this._def,minSize:{value:e,message:q.toString(t)}})}max(e,t){return new Ds({...this._def,maxSize:{value:e,message:q.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ds.create=(n,e)=>new Ds({valueType:n,minSize:null,maxSize:null,typeName:ne.ZodSet,...ae(e)});class Kc extends pe{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Kc.create=(n,e)=>new Kc({getter:n,typeName:ne.ZodLazy,...ae(e)});class vm extends pe{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return P(t,{received:t.data,code:I.invalid_literal,expected:this._def.value}),ie}return{status:"valid",value:e.data}}get value(){return this._def.value}}vm.create=(n,e)=>new vm({value:n,typeName:ne.ZodLiteral,...ae(e)});function jv(n,e){return new yo({values:n,typeName:ne.ZodEnum,...ae(e)})}class yo extends pe{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return P(t,{expected:xe.joinValues(i),received:t.parsedType,code:I.invalid_type}),ie}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return P(t,{received:t.data,code:I.invalid_enum_value,options:i}),ie}return gn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return yo.create(e,{...this._def,...t})}exclude(e,t=this._def){return yo.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}yo.create=jv;class xm extends pe{_parse(e){const t=xe.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==G.string&&i.parsedType!==G.number){const l=xe.objectValues(t);return P(i,{expected:xe.joinValues(l),received:i.parsedType,code:I.invalid_type}),ie}if(this._cache||(this._cache=new Set(xe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const l=xe.objectValues(t);return P(i,{received:i.data,code:I.invalid_enum_value,options:l}),ie}return gn(e.data)}get enum(){return this._def.values}}xm.create=(n,e)=>new xm({values:n,typeName:ne.ZodNativeEnum,...ae(e)});class Tr extends pe{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==G.promise&&t.common.async===!1)return P(t,{code:I.invalid_type,expected:G.promise,received:t.parsedType}),ie;const i=t.parsedType===G.promise?t.data:Promise.resolve(t.data);return gn(i.then(l=>this._def.type.parseAsync(l,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Tr.create=(n,e)=>new Tr({type:n,typeName:ne.ZodPromise,...ae(e)});class vo extends pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),l=this._def.effect||null,o={addIssue:s=>{P(i,s),s.fatal?t.abort():t.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),l.type==="preprocess"){const s=l.transform(i.data,o);if(i.common.async)return Promise.resolve(s).then(async u=>{if(t.value==="aborted")return ie;const c=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return c.status==="aborted"?ie:c.status==="dirty"||t.value==="dirty"?Jo(c.value):c});{if(t.value==="aborted")return ie;const u=this._def.schema._parseSync({data:s,path:i.path,parent:i});return u.status==="aborted"?ie:u.status==="dirty"||t.value==="dirty"?Jo(u.value):u}}if(l.type==="refinement"){const s=u=>{const c=l.refinement(u,o);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?ie:(u.status==="dirty"&&t.dirty(),s(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?ie:(u.status==="dirty"&&t.dirty(),s(u.value).then(()=>({status:t.value,value:u.value}))))}if(l.type==="transform")if(i.common.async===!1){const s=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!po(s))return ie;const u=l.transform(s.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(s=>po(s)?Promise.resolve(l.transform(s.value,o)).then(u=>({status:t.value,value:u})):ie);xe.assertNever(l)}}vo.create=(n,e,t)=>new vo({schema:n,typeName:ne.ZodEffects,effect:e,...ae(t)});vo.createWithPreprocess=(n,e,t)=>new vo({schema:e,effect:{type:"preprocess",transform:n},typeName:ne.ZodEffects,...ae(t)});class Oi extends pe{_parse(e){return this._getType(e)===G.undefined?gn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Oi.create=(n,e)=>new Oi({innerType:n,typeName:ne.ZodOptional,...ae(e)});class xo extends pe{_parse(e){return this._getType(e)===G.null?gn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xo.create=(n,e)=>new xo({innerType:n,typeName:ne.ZodNullable,...ae(e)});class Jc extends pe{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===G.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Jc.create=(n,e)=>new Jc({innerType:n,typeName:ne.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ae(e)});class Xc extends pe{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},l=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return pr(l)?l.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ii(i.common.issues)},input:i.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new ii(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Xc.create=(n,e)=>new Xc({innerType:n,typeName:ne.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ae(e)});class Tm extends pe{_parse(e){if(this._getType(e)!==G.nan){const i=this._getOrReturnCtx(e);return P(i,{code:I.invalid_type,expected:G.nan,received:i.parsedType}),ie}return{status:"valid",value:e.data}}}Tm.create=n=>new Tm({typeName:ne.ZodNaN,...ae(n)});class kS extends pe{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class fd extends pe{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?ie:o.status==="dirty"?(t.dirty(),Jo(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const l=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?ie:l.status==="dirty"?(t.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:i.path,parent:i})}}static create(e,t){return new fd({in:e,out:t,typeName:ne.ZodPipeline})}}class Qc extends pe{_parse(e){const t=this._def.innerType._parse(e),i=l=>(po(l)&&(l.value=Object.freeze(l.value)),l);return pr(t)?t.then(l=>i(l)):i(t)}unwrap(){return this._def.innerType}}Qc.create=(n,e)=>new Qc({innerType:n,typeName:ne.ZodReadonly,...ae(e)});var ne;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(ne||(ne={}));const Ji=wn.create,Sm=dl.create;hl.create;const IS=gr.create;go.create;const Cm=Yc.create;Pi.create;const Xo=Ln.create,US=ot.create,LS=yr.create;vr.create;ml.create;const OS=xr.create,VS=Kc.create,$S=yo.create;Tr.create;Oi.create;xo.create;const Al={string:n=>wn.create({...n,coerce:!0}),number:n=>dl.create({...n,coerce:!0}),boolean:n=>gr.create({...n,coerce:!0}),bigint:n=>hl.create({...n,coerce:!0}),date:n=>go.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let BS,PS;function zS(){return{geminiUrl:BS,vertexUrl:PS}}function GS(n,e,t){var i,l,o;if(!(!((i=n.httpOptions)===null||i===void 0)&&i.baseUrl)){const s=zS();return n.vertexai?(l=s.vertexUrl)!==null&&l!==void 0?l:e:(o=s.geminiUrl)!==null&&o!==void 0?o:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class No{}function Q(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const o=e[l];return o!=null?String(o):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function r(n,e,t){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(t))for(let f=0;f<c.length;f++){const d=c[f];r(d,e.slice(o+1),t[f])}else for(const f of c)r(f,e.slice(o+1),t)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];r(c[0],e.slice(o+1),t);return}(!n[s]||typeof n[s]!="object")&&(n[s]={}),n=n[s]}const i=e[e.length-1],l=n[i];if(l!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===l)return;if(typeof l=="object"&&typeof t=="object"&&l!==null&&t!==null)Object.assign(l,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else n[i]=t}function a(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const i=e[t];if(i.endsWith("[]")){const l=i.slice(0,-2);if(l in n){const o=n[l];return Array.isArray(o)?o.map(s=>a(s,e.slice(t+1))):void 0}else return}else n=n[i]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _m;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(_m||(_m={}));var Em;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Em||(Em={}));var Nn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Nn||(Nn={}));var Am;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Am||(Am={}));var bm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(bm||(bm={}));var Mm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Mm||(Mm={}));var wm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(wm||(wm={}));var Nm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Nm||(Nm={}));var Rm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Rm||(Rm={}));var Dm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Dm||(Dm={}));var km;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(km||(km={}));var Im;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Im||(Im={}));var Um;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Um||(Um={}));var Sr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Sr||(Sr={}));var Lm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Lm||(Lm={}));var Wc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Wc||(Wc={}));var Om;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Om||(Om={}));var Vm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Vm||(Vm={}));var $m;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})($m||($m={}));var Bm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Bm||(Bm={}));var Pm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Pm||(Pm={}));var zm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(zm||(zm={}));var Gm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Gm||(Gm={}));var qm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(qm||(qm={}));var Hm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(Hm||(Hm={}));var Fm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Fm||(Fm={}));var Ym;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ym||(Ym={}));var Zm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Zm||(Zm={}));var Km;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Km||(Km={}));var Jm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Jm||(Jm={}));var Xm;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Xm||(Xm={}));var Qm;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Qm||(Qm={}));var Wm;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Wm||(Wm={}));var jm;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(jm||(jm={}));var ep;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(ep||(ep={}));var tp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(tp||(tp={}));var np;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(np||(np={}));var ip;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ip||(ip={}));var Hl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Hl||(Hl={}));class Go{get text(){var e,t,i,l,o,s,u,c;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const m=[];for(const h of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,x]of Object.entries(h))p!=="text"&&p!=="thought"&&(x!==null||x!==void 0)&&m.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,f+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,t,i,l,o,s,u,c;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const m of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,p]of Object.entries(m))h!=="inlineData"&&(p!==null||p!==void 0)&&d.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,t,i,l,o,s,u,c;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,i,l,o,s,u,c,f;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,i,l,o,s,u,c,f;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class lp{}class op{}class qS{}class HS{}class sp{}class ap{}class rp{}class FS{}class up{}class cp{}class fp{}class YS{}class jc{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class ZS{}class KS{}class JS{get text(){var e,t,i;let l="",o=!1;const s=[];for(const u of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,l+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?l:void 0}get data(){var e,t,i;let l="";const o=[];for(const s of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(l+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class XS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Be(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function e0(n,e){const t=Be(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function t0(n,e){return Array.isArray(e)?e.map(t=>Cr(n,t)):[Cr(n,e)]}function Cr(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function QS(n,e){const t=Cr(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function WS(n,e){const t=Cr(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function dp(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function n0(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>dp(n,t)):[dp(n,e)]}function ef(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function hp(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function mp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Ut(n,e){if(e==null)throw new Error("ContentUnion is required");return ef(e)?e:{role:"user",parts:n0(n,e)}}function i0(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=Ut(n,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=Ut(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Ut(n,t)):[Ut(n,e)]}function xn(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(hp(e)||mp(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ut(n,e)]}const t=[],i=[],l=ef(e[0]);for(const o of e){const s=ef(o);if(s!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(o);else{if(hp(o)||mp(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return l||t.push({role:"user",parts:n0(n,i)}),t}const jS=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),pp=$S(["string","number","integer","object","array","boolean","null"]),eC=LS([pp,Xo(pp)]);function tC(n=!0){const e=VS(()=>{const t=US({type:eC.optional(),format:Ji().optional(),title:Ji().optional(),description:Ji().optional(),default:Cm().optional(),items:e.optional(),minItems:Al.string().optional(),maxItems:Al.string().optional(),enum:Xo(Cm()).optional(),properties:OS(Ji(),e).optional(),required:Xo(Ji()).optional(),minProperties:Al.string().optional(),maxProperties:Al.string().optional(),propertyOrdering:Xo(Ji()).optional(),minimum:Sm().optional(),maximum:Sm().optional(),minLength:Al.string().optional(),maxLength:Al.string().optional(),pattern:Ji().optional(),anyOf:Xo(e).optional(),additionalProperties:IS().optional()});return n?t.strict():t});return e}function nC(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Nn).includes(t[0].toUpperCase())?t[0].toUpperCase():Nn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(Nn).includes(i.toUpperCase())?i.toUpperCase():Nn.TYPE_UNSPECIFIED})}}function to(n){const e={},t=["items"],i=["anyOf"],l=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=n.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,n=o[1]):o[1].type==="null"&&(e.nullable=!0,n=o[0])),n.type instanceof Array&&nC(n.type,e);for(const[s,u]of Object.entries(n))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Nn).includes(u.toUpperCase())?u.toUpperCase():Nn.TYPE_UNSPECIFIED}else if(t.includes(s))e[s]=to(u);else if(i.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(to(f))}e[s]=c}else if(l.includes(s)){const c={};for(const[f,d]of Object.entries(u))c[f]=to(d);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function _r(n,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=tC().parse(e);return to(t)}else return to(e)}function l0(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function dd(n,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Js(n,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=_r(n,t.parameters)),t.response&&(t.response=_r(n,t.response));return e}function Xs(n,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function iC(n,e,t,i=1){const l=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:l?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:l?`${t}/${e}`:e}function Hi(n,e){if(typeof e!="string")throw new Error("name must be a string");return iC(n,e,"cachedContents")}function o0(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function si(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function lC(n){return n!=null&&typeof n=="object"&&"name"in n}function oC(n){return n!=null&&typeof n=="object"&&"video"in n}function sC(n){return n!=null&&typeof n=="object"&&"uri"in n}function s0(n,e){var t;let i;if(lC(e)&&(i=e.name),!(sC(e)&&(i=e.uri,i===void 0))&&!(oC(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const o=i.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${i}`);i=o[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function a0(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function r0(n,e){for(const t of["models","tunedModels","publisherModels"])if(aC(e,t))return e[t];return[]}function aC(n,e){return n!==null&&typeof n=="object"&&e in n}function rC(n,e={}){const t=n,i={name:t.name,description:t.description,parameters:to(Zr(t.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function uC(n,e={}){const t=[],i=new Set;for(const l of n){const o=l.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const s=rC(l,e);s.functionDeclarations&&t.push(...s.functionDeclarations)}return{functionDeclarations:t}}function cC(n){const e=[];for(const t of n)e.push(Zr(t));return e}function fC(n){const e={};for(const[t,i]of Object.entries(n)){const l=i;e[t]=Zr(l)}return e}function Zr(n){const e=new Set(["items"]),t=new Set(["anyOf"]),i=new Set(["properties"]),l={};for(const[o,s]of Object.entries(n))if(e.has(o))l[o]=Zr(s);else if(t.has(o))l[o]=cC(s);else if(i.has(o))l[o]=fC(s);else if(o==="type"){const u=s.toUpperCase();l[o]=Object.values(Nn).includes(u)?u:Nn.TYPE_UNSPECIFIED}else jS.has(o)&&(l[o]=s);return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dC(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function hC(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function mC(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function pC(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],dC(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],hC(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],mC(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function gp(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>pC(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function gC(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function yC(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function vC(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],yC(n,i)),t}function xC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function TC(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],xC(n,i)),t}function SC(){return{}}function CC(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>gC(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],vC(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],TC(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],SC());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function _C(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function EC(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function AC(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],EC(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function bC(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],_C(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],AC(n,l)),t}function MC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);t!==void 0&&o!=null&&r(t,["expireTime"],o);const s=a(e,["displayName"]);t!==void 0&&s!=null&&r(t,["displayName"],s);const u=a(e,["contents"]);if(t!==void 0&&u!=null){let m=xn(n,u);Array.isArray(m)&&(m=m.map(h=>gp(n,h))),r(t,["contents"],m)}const c=a(e,["systemInstruction"]);t!==void 0&&c!=null&&r(t,["systemInstruction"],gp(n,Ut(n,c)));const f=a(e,["tools"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(h=>CC(n,h))),r(t,["tools"],m)}const d=a(e,["toolConfig"]);if(t!==void 0&&d!=null&&r(t,["toolConfig"],bC(n,d)),a(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function wC(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["model"],e0(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],MC(n,l,t)),t}function NC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],Hi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function RC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],Hi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function DC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);return t!==void 0&&o!=null&&r(t,["expireTime"],o),i}function kC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],Hi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],DC(n,l,t)),t}function IC(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),i}function UC(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],IC(n,i,t)),t}function LC(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function OC(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function VC(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function $C(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],LC(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],OC(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],VC(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function yp(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>$C(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function BC(n,e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(e,["description"]);i!=null&&r(t,["description"],i);const l=a(e,["name"]);l!=null&&r(t,["name"],l);const o=a(e,["parameters"]);o!=null&&r(t,["parameters"],o);const s=a(e,["response"]);return s!=null&&r(t,["response"],s),t}function PC(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function zC(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],PC(n,i)),t}function GC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function qC(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],GC(n,i)),t}function HC(){return{}}function FC(n,e){const t={},i=a(e,["apiKeyString"]);return i!=null&&r(t,["apiKeyString"],i),t}function YC(n,e){const t={},i=a(e,["apiKeyConfig"]);i!=null&&r(t,["apiKeyConfig"],FC(n,i));const l=a(e,["authType"]);l!=null&&r(t,["authType"],l);const o=a(e,["googleServiceAccountConfig"]);o!=null&&r(t,["googleServiceAccountConfig"],o);const s=a(e,["httpBasicAuthConfig"]);s!=null&&r(t,["httpBasicAuthConfig"],s);const u=a(e,["oauthConfig"]);u!=null&&r(t,["oauthConfig"],u);const c=a(e,["oidcConfig"]);return c!=null&&r(t,["oidcConfig"],c),t}function ZC(n,e){const t={},i=a(e,["authConfig"]);return i!=null&&r(t,["authConfig"],YC(n,i)),t}function KC(){return{}}function JC(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(h=>BC(n,h))),r(t,["functionDeclarations"],m)}const l=a(e,["retrieval"]);l!=null&&r(t,["retrieval"],l);const o=a(e,["googleSearch"]);o!=null&&r(t,["googleSearch"],zC(n,o));const s=a(e,["googleSearchRetrieval"]);s!=null&&r(t,["googleSearchRetrieval"],qC(n,s)),a(e,["enterpriseWebSearch"])!=null&&r(t,["enterpriseWebSearch"],HC());const c=a(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],ZC(n,c)),a(e,["urlContext"])!=null&&r(t,["urlContext"],KC());const d=a(e,["codeExecution"]);return d!=null&&r(t,["codeExecution"],d),t}function XC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function QC(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function WC(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],QC(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function jC(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],XC(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],WC(n,l)),t}function e_(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);t!==void 0&&o!=null&&r(t,["expireTime"],o);const s=a(e,["displayName"]);t!==void 0&&s!=null&&r(t,["displayName"],s);const u=a(e,["contents"]);if(t!==void 0&&u!=null){let h=xn(n,u);Array.isArray(h)&&(h=h.map(p=>yp(n,p))),r(t,["contents"],h)}const c=a(e,["systemInstruction"]);t!==void 0&&c!=null&&r(t,["systemInstruction"],yp(n,Ut(n,c)));const f=a(e,["tools"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>JC(n,p))),r(t,["tools"],h)}const d=a(e,["toolConfig"]);t!==void 0&&d!=null&&r(t,["toolConfig"],jC(n,d));const m=a(e,["kmsKeyName"]);return t!==void 0&&m!=null&&r(t,["encryption_spec","kmsKeyName"],m),i}function t_(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["model"],e0(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],e_(n,l,t)),t}function n_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],Hi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function i_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],Hi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function l_(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);return t!==void 0&&o!=null&&r(t,["expireTime"],o),i}function o_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],Hi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l_(n,l,t)),t}function s_(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),i}function a_(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],s_(n,i,t)),t}function La(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["model"]);o!=null&&r(t,["model"],o);const s=a(e,["createTime"]);s!=null&&r(t,["createTime"],s);const u=a(e,["updateTime"]);u!=null&&r(t,["updateTime"],u);const c=a(e,["expireTime"]);c!=null&&r(t,["expireTime"],c);const f=a(e,["usageMetadata"]);return f!=null&&r(t,["usageMetadata"],f),t}function r_(){return{}}function u_(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>La(n,s))),r(t,["cachedContents"],o)}return t}function Oa(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["model"]);o!=null&&r(t,["model"],o);const s=a(e,["createTime"]);s!=null&&r(t,["createTime"],s);const u=a(e,["updateTime"]);u!=null&&r(t,["updateTime"],u);const c=a(e,["expireTime"]);c!=null&&r(t,["expireTime"],c);const f=a(e,["usageMetadata"]);return f!=null&&r(t,["usageMetadata"],f),t}function c_(){return{}}function f_(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Oa(n,s))),r(t,["cachedContents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var To;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(To||(To={}));class Kr{constructor(e,t,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,l)}init(e,t,i){var l,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};i?typeof i=="object"?s=Object.assign({},i):s=i:s={config:{}},s.config&&(s.config.pageToken=t.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(l=s.config)===null||l===void 0?void 0:l.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d_ extends No{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Kr(To.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=t_(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Oa(this.apiClient,d))}else{const f=wC(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>La(this.apiClient,d))}}async get(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=n_(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Oa(this.apiClient,d))}else{const f=NC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>La(this.apiClient,d))}}async delete(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=i_(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(()=>{const d=c_(),m=new cp;return Object.assign(m,d),m})}else{const f=RC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(()=>{const d=r_(),m=new cp;return Object.assign(m,d),m})}}async update(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=o_(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Oa(this.apiClient,d))}else{const f=kC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>La(this.apiClient,d))}}async listInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=a_(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const m=f_(this.apiClient,d),h=new fp;return Object.assign(h,m),h})}else{const f=UC(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const m=u_(this.apiClient,d),h=new fp;return Object.assign(h,m),h})}}}function vp(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ge(n){return this instanceof Ge?(this.v=n,this):new Ge(n)}function no(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),l[Symbol.asyncIterator]=function(){return this},l;function s(p){return function(x){return Promise.resolve(x).then(p,m)}}function u(p,x){i[p]&&(l[p]=function(S){return new Promise(function(_,y){o.push([p,S,_,y])>1||c(p,S)})},x&&(l[p]=x(l[p])))}function c(p,x){try{f(i[p](x))}catch(S){h(o[0][3],S)}}function f(p){p.value instanceof Ge?Promise.resolve(p.value.v).then(d,m):h(o[0][2],p)}function d(p){c("next",p)}function m(p){c("throw",p)}function h(p,x){p(x),o.shift(),o.length&&c(o[0][0],o[0][1])}}function ds(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vp=="function"?vp(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(u,c){s=n[o](s),l(u,c,s.done,s.value)})}}function l(o,s,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h_(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:u0(t)}function u0(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function m_(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function xp(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const l=[];let o=!0;for(;i<t&&n[i].role==="model";)l.push(n[i]),o&&!u0(n[i])&&(o=!1),i++;o?e.push(...l):e.pop()}return e}class p_{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new g_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class g_{constructor(e,t,i,l={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=l,this.history=o,this.sendPromise=Promise.resolve(),m_(o)}async sendMessage(e){var t;await this.sendPromise;const i=Ut(this.apiClient,e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,s,u;const c=await l,f=(s=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,d=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let h=[];d!=null&&(h=(u=d.slice(m))!==null&&u!==void 0?u:[]);const p=f?[f]:[];this.recordHistory(i,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var t;await this.sendPromise;const i=Ut(this.apiClient,e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const o=await l;return this.processStreamResponse(o,i)}getHistory(e=!1){const t=e?xp(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,l;return no(this,arguments,function*(){var s,u,c,f;const d=[];try{for(var m=!0,h=ds(e),p;p=yield Ge(h.next()),s=p.done,!s;m=!0){f=p.value,m=!1;const x=f;if(h_(x)){const S=(l=(i=x.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content;S!==void 0&&d.push(S)}yield yield Ge(x)}}catch(x){u={error:x}}finally{try{!m&&!s&&(c=h.return)&&(yield Ge(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(t,d)})}recordHistory(e,t,i){let l=[];t.length>0&&t.every(o=>o.role!==void 0)?l=t:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...xp(i)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y_(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),i}function v_(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],y_(n,i,t)),t}function x_(n,e){const t={},i=a(e,["details"]);i!=null&&r(t,["details"],i);const l=a(e,["message"]);l!=null&&r(t,["message"],l);const o=a(e,["code"]);return o!=null&&r(t,["code"],o),t}function T_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["mimeType"]);o!=null&&r(t,["mimeType"],o);const s=a(e,["sizeBytes"]);s!=null&&r(t,["sizeBytes"],s);const u=a(e,["createTime"]);u!=null&&r(t,["createTime"],u);const c=a(e,["expirationTime"]);c!=null&&r(t,["expirationTime"],c);const f=a(e,["updateTime"]);f!=null&&r(t,["updateTime"],f);const d=a(e,["sha256Hash"]);d!=null&&r(t,["sha256Hash"],d);const m=a(e,["uri"]);m!=null&&r(t,["uri"],m);const h=a(e,["downloadUri"]);h!=null&&r(t,["downloadUri"],h);const p=a(e,["state"]);p!=null&&r(t,["state"],p);const x=a(e,["source"]);x!=null&&r(t,["source"],x);const S=a(e,["videoMetadata"]);S!=null&&r(t,["videoMetadata"],S);const _=a(e,["error"]);return _!=null&&r(t,["error"],x_(n,_)),t}function S_(n,e){const t={},i=a(e,["file"]);i!=null&&r(t,["file"],T_(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function C_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","file"],s0(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function __(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","file"],s0(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function E_(n,e){const t={},i=a(e,["details"]);i!=null&&r(t,["details"],i);const l=a(e,["message"]);l!=null&&r(t,["message"],l);const o=a(e,["code"]);return o!=null&&r(t,["code"],o),t}function tf(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["mimeType"]);o!=null&&r(t,["mimeType"],o);const s=a(e,["sizeBytes"]);s!=null&&r(t,["sizeBytes"],s);const u=a(e,["createTime"]);u!=null&&r(t,["createTime"],u);const c=a(e,["expirationTime"]);c!=null&&r(t,["expirationTime"],c);const f=a(e,["updateTime"]);f!=null&&r(t,["updateTime"],f);const d=a(e,["sha256Hash"]);d!=null&&r(t,["sha256Hash"],d);const m=a(e,["uri"]);m!=null&&r(t,["uri"],m);const h=a(e,["downloadUri"]);h!=null&&r(t,["downloadUri"],h);const p=a(e,["state"]);p!=null&&r(t,["state"],p);const x=a(e,["source"]);x!=null&&r(t,["source"],x);const S=a(e,["videoMetadata"]);S!=null&&r(t,["videoMetadata"],S);const _=a(e,["error"]);return _!=null&&r(t,["error"],E_(n,_)),t}function A_(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["files"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>tf(n,s))),r(t,["files"],o)}return t}function b_(){return{}}function M_(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w_ extends No{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Kr(To.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>tf(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=v_(this.apiClient,e);return o=Q("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=A_(this.apiClient,c),d=new YS;return Object.assign(d,f),d})}}async createInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=S_(this.apiClient,e);return o=Q("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=b_(),f=new ZS;return Object.assign(f,c),f})}}async get(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=C_(this.apiClient,e);return o=Q("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>tf(this.apiClient,c))}}async delete(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=__(this.apiClient,e);return o=Q("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=M_(),f=new KS;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N_(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function R_(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function c0(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],N_(n,i)),t}function D_(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],R_(n,i)),t}function k_(n,e){const t={},i=a(e,["speaker"]);i!=null&&r(t,["speaker"],i);const l=a(e,["voiceConfig"]);return l!=null&&r(t,["voiceConfig"],c0(n,l)),t}function I_(n,e){const t={},i=a(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>k_(n,o))),r(t,["speakerVoiceConfigs"],l)}return t}function U_(n,e){const t={},i=a(e,["voiceConfig"]);i!=null&&r(t,["voiceConfig"],c0(n,i));const l=a(e,["multiSpeakerVoiceConfig"]);l!=null&&r(t,["multiSpeakerVoiceConfig"],I_(n,l));const o=a(e,["languageCode"]);return o!=null&&r(t,["languageCode"],o),t}function L_(n,e){const t={},i=a(e,["voiceConfig"]);if(i!=null&&r(t,["voiceConfig"],D_(n,i)),a(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function O_(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function V_(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function $_(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function B_(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function P_(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function z_(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function G_(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],O_(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],$_(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],P_(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function q_(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],V_(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],B_(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],z_(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function H_(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>G_(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function F_(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>q_(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function Y_(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function Z_(n,e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(e,["description"]);i!=null&&r(t,["description"],i);const l=a(e,["name"]);l!=null&&r(t,["name"],l);const o=a(e,["parameters"]);o!=null&&r(t,["parameters"],o);const s=a(e,["response"]);return s!=null&&r(t,["response"],s),t}function K_(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function J_(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function X_(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],K_(n,i)),t}function Q_(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],J_(n,i)),t}function W_(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function j_(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function eE(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],W_(n,i)),t}function tE(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],j_(n,i)),t}function nE(){return{}}function iE(n,e){const t={},i=a(e,["apiKeyString"]);return i!=null&&r(t,["apiKeyString"],i),t}function lE(n,e){const t={},i=a(e,["apiKeyConfig"]);i!=null&&r(t,["apiKeyConfig"],iE(n,i));const l=a(e,["authType"]);l!=null&&r(t,["authType"],l);const o=a(e,["googleServiceAccountConfig"]);o!=null&&r(t,["googleServiceAccountConfig"],o);const s=a(e,["httpBasicAuthConfig"]);s!=null&&r(t,["httpBasicAuthConfig"],s);const u=a(e,["oauthConfig"]);u!=null&&r(t,["oauthConfig"],u);const c=a(e,["oidcConfig"]);return c!=null&&r(t,["oidcConfig"],c),t}function oE(n,e){const t={},i=a(e,["authConfig"]);return i!=null&&r(t,["authConfig"],lE(n,i)),t}function sE(){return{}}function aE(){return{}}function rE(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Y_(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],X_(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],eE(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],sE());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function uE(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(h=>Z_(n,h))),r(t,["functionDeclarations"],m)}const l=a(e,["retrieval"]);l!=null&&r(t,["retrieval"],l);const o=a(e,["googleSearch"]);o!=null&&r(t,["googleSearch"],Q_(n,o));const s=a(e,["googleSearchRetrieval"]);s!=null&&r(t,["googleSearchRetrieval"],tE(n,s)),a(e,["enterpriseWebSearch"])!=null&&r(t,["enterpriseWebSearch"],nE());const c=a(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],oE(n,c)),a(e,["urlContext"])!=null&&r(t,["urlContext"],aE());const d=a(e,["codeExecution"]);return d!=null&&r(t,["codeExecution"],d),t}function cE(n,e){const t={},i=a(e,["handle"]);if(i!=null&&r(t,["handle"],i),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function fE(n,e){const t={},i=a(e,["handle"]);i!=null&&r(t,["handle"],i);const l=a(e,["transparent"]);return l!=null&&r(t,["transparent"],l),t}function Tp(){return{}}function Sp(){return{}}function dE(n,e){const t={},i=a(e,["disabled"]);i!=null&&r(t,["disabled"],i);const l=a(e,["startOfSpeechSensitivity"]);l!=null&&r(t,["startOfSpeechSensitivity"],l);const o=a(e,["endOfSpeechSensitivity"]);o!=null&&r(t,["endOfSpeechSensitivity"],o);const s=a(e,["prefixPaddingMs"]);s!=null&&r(t,["prefixPaddingMs"],s);const u=a(e,["silenceDurationMs"]);return u!=null&&r(t,["silenceDurationMs"],u),t}function hE(n,e){const t={},i=a(e,["disabled"]);i!=null&&r(t,["disabled"],i);const l=a(e,["startOfSpeechSensitivity"]);l!=null&&r(t,["startOfSpeechSensitivity"],l);const o=a(e,["endOfSpeechSensitivity"]);o!=null&&r(t,["endOfSpeechSensitivity"],o);const s=a(e,["prefixPaddingMs"]);s!=null&&r(t,["prefixPaddingMs"],s);const u=a(e,["silenceDurationMs"]);return u!=null&&r(t,["silenceDurationMs"],u),t}function mE(n,e){const t={},i=a(e,["automaticActivityDetection"]);i!=null&&r(t,["automaticActivityDetection"],dE(n,i));const l=a(e,["activityHandling"]);l!=null&&r(t,["activityHandling"],l);const o=a(e,["turnCoverage"]);return o!=null&&r(t,["turnCoverage"],o),t}function pE(n,e){const t={},i=a(e,["automaticActivityDetection"]);i!=null&&r(t,["automaticActivityDetection"],hE(n,i));const l=a(e,["activityHandling"]);l!=null&&r(t,["activityHandling"],l);const o=a(e,["turnCoverage"]);return o!=null&&r(t,["turnCoverage"],o),t}function gE(n,e){const t={},i=a(e,["targetTokens"]);return i!=null&&r(t,["targetTokens"],i),t}function yE(n,e){const t={},i=a(e,["targetTokens"]);return i!=null&&r(t,["targetTokens"],i),t}function vE(n,e){const t={},i=a(e,["triggerTokens"]);i!=null&&r(t,["triggerTokens"],i);const l=a(e,["slidingWindow"]);return l!=null&&r(t,["slidingWindow"],gE(n,l)),t}function xE(n,e){const t={},i=a(e,["triggerTokens"]);i!=null&&r(t,["triggerTokens"],i);const l=a(e,["slidingWindow"]);return l!=null&&r(t,["slidingWindow"],yE(n,l)),t}function TE(n,e){const t={},i=a(e,["proactiveAudio"]);return i!=null&&r(t,["proactiveAudio"],i),t}function SE(n,e){const t={},i=a(e,["proactiveAudio"]);return i!=null&&r(t,["proactiveAudio"],i),t}function CE(n,e,t){const i={},l=a(e,["generationConfig"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig"],l);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const s=a(e,["temperature"]);t!==void 0&&s!=null&&r(t,["setup","generationConfig","temperature"],s);const u=a(e,["topP"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topP"],u);const c=a(e,["topK"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","maxOutputTokens"],f);const d=a(e,["mediaResolution"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","mediaResolution"],d);const m=a(e,["seed"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","seed"],m);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","speechConfig"],U_(n,dd(n,h)));const p=a(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],p);const x=a(e,["systemInstruction"]);t!==void 0&&x!=null&&r(t,["setup","systemInstruction"],H_(n,Ut(n,x)));const S=a(e,["tools"]);if(t!==void 0&&S!=null){let N=Xs(n,S);Array.isArray(N)&&(N=N.map(M=>rE(n,Js(n,M)))),r(t,["setup","tools"],N)}const _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],cE(n,_));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],Tp());const v=a(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&r(t,["setup","outputAudioTranscription"],Tp());const T=a(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&r(t,["setup","realtimeInputConfig"],mE(n,T));const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&r(t,["setup","contextWindowCompression"],vE(n,C));const b=a(e,["proactivity"]);return t!==void 0&&b!=null&&r(t,["setup","proactivity"],TE(n,b)),i}function _E(n,e,t){const i={},l=a(e,["generationConfig"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig"],l);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const s=a(e,["temperature"]);t!==void 0&&s!=null&&r(t,["setup","generationConfig","temperature"],s);const u=a(e,["topP"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topP"],u);const c=a(e,["topK"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","maxOutputTokens"],f);const d=a(e,["mediaResolution"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","mediaResolution"],d);const m=a(e,["seed"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","seed"],m);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","speechConfig"],L_(n,dd(n,h)));const p=a(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],p);const x=a(e,["systemInstruction"]);t!==void 0&&x!=null&&r(t,["setup","systemInstruction"],F_(n,Ut(n,x)));const S=a(e,["tools"]);if(t!==void 0&&S!=null){let N=Xs(n,S);Array.isArray(N)&&(N=N.map(M=>uE(n,Js(n,M)))),r(t,["setup","tools"],N)}const _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],fE(n,_));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],Sp());const v=a(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&r(t,["setup","outputAudioTranscription"],Sp());const T=a(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&r(t,["setup","realtimeInputConfig"],pE(n,T));const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&r(t,["setup","contextWindowCompression"],xE(n,C));const b=a(e,["proactivity"]);return t!==void 0&&b!=null&&r(t,["setup","proactivity"],SE(n,b)),i}function EE(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["setup","model"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],CE(n,l,t)),t}function AE(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["setup","model"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],_E(n,l,t)),t}function bE(){return{}}function ME(){return{}}function wE(){return{}}function NE(){return{}}function RE(n,e){const t={},i=a(e,["media"]);i!=null&&r(t,["mediaChunks"],t0(n,i));const l=a(e,["audio"]);l!=null&&r(t,["audio"],WS(n,l));const o=a(e,["audioStreamEnd"]);o!=null&&r(t,["audioStreamEnd"],o);const s=a(e,["video"]);s!=null&&r(t,["video"],QS(n,s));const u=a(e,["text"]);return u!=null&&r(t,["text"],u),a(e,["activityStart"])!=null&&r(t,["activityStart"],bE()),a(e,["activityEnd"])!=null&&r(t,["activityEnd"],wE()),t}function DE(n,e){const t={},i=a(e,["media"]);if(i!=null&&r(t,["mediaChunks"],t0(n,i)),a(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=a(e,["audioStreamEnd"]);if(l!=null&&r(t,["audioStreamEnd"],l),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(a(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return a(e,["activityStart"])!=null&&r(t,["activityStart"],ME()),a(e,["activityEnd"])!=null&&r(t,["activityEnd"],NE()),t}function f0(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["weight"]);return l!=null&&r(t,["weight"],l),t}function kE(n,e){const t={},i=a(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>f0(n,o))),r(t,["weightedPrompts"],l)}return t}function d0(n,e){const t={},i=a(e,["temperature"]);i!=null&&r(t,["temperature"],i);const l=a(e,["topK"]);l!=null&&r(t,["topK"],l);const o=a(e,["seed"]);o!=null&&r(t,["seed"],o);const s=a(e,["guidance"]);s!=null&&r(t,["guidance"],s);const u=a(e,["bpm"]);u!=null&&r(t,["bpm"],u);const c=a(e,["density"]);c!=null&&r(t,["density"],c);const f=a(e,["brightness"]);f!=null&&r(t,["brightness"],f);const d=a(e,["scale"]);d!=null&&r(t,["scale"],d);const m=a(e,["muteBass"]);m!=null&&r(t,["muteBass"],m);const h=a(e,["muteDrums"]);h!=null&&r(t,["muteDrums"],h);const p=a(e,["onlyBassAndDrums"]);return p!=null&&r(t,["onlyBassAndDrums"],p),t}function IE(n,e){const t={},i=a(e,["musicGenerationConfig"]);return i!=null&&r(t,["musicGenerationConfig"],d0(n,i)),t}function h0(n,e){const t={},i=a(e,["model"]);return i!=null&&r(t,["model"],i),t}function m0(n,e){const t={},i=a(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>f0(n,o))),r(t,["weightedPrompts"],l)}return t}function nf(n,e){const t={},i=a(e,["setup"]);i!=null&&r(t,["setup"],h0(n,i));const l=a(e,["clientContent"]);l!=null&&r(t,["clientContent"],m0(n,l));const o=a(e,["musicGenerationConfig"]);o!=null&&r(t,["musicGenerationConfig"],d0(n,o));const s=a(e,["playbackControl"]);return s!=null&&r(t,["playbackControl"],s),t}function UE(){return{}}function LE(){return{}}function OE(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function VE(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function $E(n,e){const t={},i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function BE(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function PE(n,e){const t={},i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function zE(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function GE(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],OE(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],$E(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],PE(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function qE(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],VE(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],BE(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],zE(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function HE(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>GE(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function FE(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>qE(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function Cp(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["finished"]);return l!=null&&r(t,["finished"],l),t}function _p(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["finished"]);return l!=null&&r(t,["finished"],l),t}function YE(n,e){const t={},i=a(e,["retrievedUrl"]);i!=null&&r(t,["retrievedUrl"],i);const l=a(e,["urlRetrievalStatus"]);return l!=null&&r(t,["urlRetrievalStatus"],l),t}function ZE(n,e){const t={},i=a(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>YE(n,o))),r(t,["urlMetadata"],l)}return t}function KE(n,e){const t={},i=a(e,["modelTurn"]);i!=null&&r(t,["modelTurn"],HE(n,i));const l=a(e,["turnComplete"]);l!=null&&r(t,["turnComplete"],l);const o=a(e,["interrupted"]);o!=null&&r(t,["interrupted"],o);const s=a(e,["groundingMetadata"]);s!=null&&r(t,["groundingMetadata"],s);const u=a(e,["generationComplete"]);u!=null&&r(t,["generationComplete"],u);const c=a(e,["inputTranscription"]);c!=null&&r(t,["inputTranscription"],Cp(n,c));const f=a(e,["outputTranscription"]);f!=null&&r(t,["outputTranscription"],Cp(n,f));const d=a(e,["urlContextMetadata"]);return d!=null&&r(t,["urlContextMetadata"],ZE(n,d)),t}function JE(n,e){const t={},i=a(e,["modelTurn"]);i!=null&&r(t,["modelTurn"],FE(n,i));const l=a(e,["turnComplete"]);l!=null&&r(t,["turnComplete"],l);const o=a(e,["interrupted"]);o!=null&&r(t,["interrupted"],o);const s=a(e,["groundingMetadata"]);s!=null&&r(t,["groundingMetadata"],s);const u=a(e,["generationComplete"]);u!=null&&r(t,["generationComplete"],u);const c=a(e,["inputTranscription"]);c!=null&&r(t,["inputTranscription"],_p(n,c));const f=a(e,["outputTranscription"]);return f!=null&&r(t,["outputTranscription"],_p(n,f)),t}function XE(n,e){const t={},i=a(e,["id"]);i!=null&&r(t,["id"],i);const l=a(e,["args"]);l!=null&&r(t,["args"],l);const o=a(e,["name"]);return o!=null&&r(t,["name"],o),t}function QE(n,e){const t={},i=a(e,["args"]);i!=null&&r(t,["args"],i);const l=a(e,["name"]);return l!=null&&r(t,["name"],l),t}function WE(n,e){const t={},i=a(e,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>XE(n,o))),r(t,["functionCalls"],l)}return t}function jE(n,e){const t={},i=a(e,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>QE(n,o))),r(t,["functionCalls"],l)}return t}function eA(n,e){const t={},i=a(e,["ids"]);return i!=null&&r(t,["ids"],i),t}function tA(n,e){const t={},i=a(e,["ids"]);return i!=null&&r(t,["ids"],i),t}function ya(n,e){const t={},i=a(e,["modality"]);i!=null&&r(t,["modality"],i);const l=a(e,["tokenCount"]);return l!=null&&r(t,["tokenCount"],l),t}function va(n,e){const t={},i=a(e,["modality"]);i!=null&&r(t,["modality"],i);const l=a(e,["tokenCount"]);return l!=null&&r(t,["tokenCount"],l),t}function nA(n,e){const t={},i=a(e,["promptTokenCount"]);i!=null&&r(t,["promptTokenCount"],i);const l=a(e,["cachedContentTokenCount"]);l!=null&&r(t,["cachedContentTokenCount"],l);const o=a(e,["responseTokenCount"]);o!=null&&r(t,["responseTokenCount"],o);const s=a(e,["toolUsePromptTokenCount"]);s!=null&&r(t,["toolUsePromptTokenCount"],s);const u=a(e,["thoughtsTokenCount"]);u!=null&&r(t,["thoughtsTokenCount"],u);const c=a(e,["totalTokenCount"]);c!=null&&r(t,["totalTokenCount"],c);const f=a(e,["promptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(x=>ya(n,x))),r(t,["promptTokensDetails"],p)}const d=a(e,["cacheTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(x=>ya(n,x))),r(t,["cacheTokensDetails"],p)}const m=a(e,["responseTokensDetails"]);if(m!=null){let p=m;Array.isArray(p)&&(p=p.map(x=>ya(n,x))),r(t,["responseTokensDetails"],p)}const h=a(e,["toolUsePromptTokensDetails"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(x=>ya(n,x))),r(t,["toolUsePromptTokensDetails"],p)}return t}function iA(n,e){const t={},i=a(e,["promptTokenCount"]);i!=null&&r(t,["promptTokenCount"],i);const l=a(e,["cachedContentTokenCount"]);l!=null&&r(t,["cachedContentTokenCount"],l);const o=a(e,["candidatesTokenCount"]);o!=null&&r(t,["responseTokenCount"],o);const s=a(e,["toolUsePromptTokenCount"]);s!=null&&r(t,["toolUsePromptTokenCount"],s);const u=a(e,["thoughtsTokenCount"]);u!=null&&r(t,["thoughtsTokenCount"],u);const c=a(e,["totalTokenCount"]);c!=null&&r(t,["totalTokenCount"],c);const f=a(e,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(S=>va(n,S))),r(t,["promptTokensDetails"],x)}const d=a(e,["cacheTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(S=>va(n,S))),r(t,["cacheTokensDetails"],x)}const m=a(e,["candidatesTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(S=>va(n,S))),r(t,["responseTokensDetails"],x)}const h=a(e,["toolUsePromptTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(S=>va(n,S))),r(t,["toolUsePromptTokensDetails"],x)}const p=a(e,["trafficType"]);return p!=null&&r(t,["trafficType"],p),t}function lA(n,e){const t={},i=a(e,["timeLeft"]);return i!=null&&r(t,["timeLeft"],i),t}function oA(n,e){const t={},i=a(e,["timeLeft"]);return i!=null&&r(t,["timeLeft"],i),t}function sA(n,e){const t={},i=a(e,["newHandle"]);i!=null&&r(t,["newHandle"],i);const l=a(e,["resumable"]);l!=null&&r(t,["resumable"],l);const o=a(e,["lastConsumedClientMessageIndex"]);return o!=null&&r(t,["lastConsumedClientMessageIndex"],o),t}function aA(n,e){const t={},i=a(e,["newHandle"]);i!=null&&r(t,["newHandle"],i);const l=a(e,["resumable"]);l!=null&&r(t,["resumable"],l);const o=a(e,["lastConsumedClientMessageIndex"]);return o!=null&&r(t,["lastConsumedClientMessageIndex"],o),t}function rA(n,e){const t={};a(e,["setupComplete"])!=null&&r(t,["setupComplete"],UE());const l=a(e,["serverContent"]);l!=null&&r(t,["serverContent"],KE(n,l));const o=a(e,["toolCall"]);o!=null&&r(t,["toolCall"],WE(n,o));const s=a(e,["toolCallCancellation"]);s!=null&&r(t,["toolCallCancellation"],eA(n,s));const u=a(e,["usageMetadata"]);u!=null&&r(t,["usageMetadata"],nA(n,u));const c=a(e,["goAway"]);c!=null&&r(t,["goAway"],lA(n,c));const f=a(e,["sessionResumptionUpdate"]);return f!=null&&r(t,["sessionResumptionUpdate"],sA(n,f)),t}function uA(n,e){const t={};a(e,["setupComplete"])!=null&&r(t,["setupComplete"],LE());const l=a(e,["serverContent"]);l!=null&&r(t,["serverContent"],JE(n,l));const o=a(e,["toolCall"]);o!=null&&r(t,["toolCall"],jE(n,o));const s=a(e,["toolCallCancellation"]);s!=null&&r(t,["toolCallCancellation"],tA(n,s));const u=a(e,["usageMetadata"]);u!=null&&r(t,["usageMetadata"],iA(n,u));const c=a(e,["goAway"]);c!=null&&r(t,["goAway"],oA(n,c));const f=a(e,["sessionResumptionUpdate"]);return f!=null&&r(t,["sessionResumptionUpdate"],aA(n,f)),t}function cA(){return{}}function fA(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["weight"]);return l!=null&&r(t,["weight"],l),t}function dA(n,e){const t={},i=a(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>fA(n,o))),r(t,["weightedPrompts"],l)}return t}function hA(n,e){const t={},i=a(e,["temperature"]);i!=null&&r(t,["temperature"],i);const l=a(e,["topK"]);l!=null&&r(t,["topK"],l);const o=a(e,["seed"]);o!=null&&r(t,["seed"],o);const s=a(e,["guidance"]);s!=null&&r(t,["guidance"],s);const u=a(e,["bpm"]);u!=null&&r(t,["bpm"],u);const c=a(e,["density"]);c!=null&&r(t,["density"],c);const f=a(e,["brightness"]);f!=null&&r(t,["brightness"],f);const d=a(e,["scale"]);d!=null&&r(t,["scale"],d);const m=a(e,["muteBass"]);m!=null&&r(t,["muteBass"],m);const h=a(e,["muteDrums"]);h!=null&&r(t,["muteDrums"],h);const p=a(e,["onlyBassAndDrums"]);return p!=null&&r(t,["onlyBassAndDrums"],p),t}function mA(n,e){const t={},i=a(e,["clientContent"]);i!=null&&r(t,["clientContent"],dA(n,i));const l=a(e,["musicGenerationConfig"]);return l!=null&&r(t,["musicGenerationConfig"],hA(n,l)),t}function pA(n,e){const t={},i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);l!=null&&r(t,["mimeType"],l);const o=a(e,["sourceMetadata"]);return o!=null&&r(t,["sourceMetadata"],mA(n,o)),t}function gA(n,e){const t={},i=a(e,["audioChunks"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>pA(n,o))),r(t,["audioChunks"],l)}return t}function yA(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["filteredReason"]);return l!=null&&r(t,["filteredReason"],l),t}function vA(n,e){const t={};a(e,["setupComplete"])!=null&&r(t,["setupComplete"],cA());const l=a(e,["serverContent"]);l!=null&&r(t,["serverContent"],gA(n,l));const o=a(e,["filteredPrompt"]);return o!=null&&r(t,["filteredPrompt"],yA(n,o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xA(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function TA(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function SA(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function CA(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],xA(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],TA(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],SA(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function Jr(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>CA(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function _A(n,e){const t={},i=a(e,["anyOf"]);i!=null&&r(t,["anyOf"],i);const l=a(e,["default"]);l!=null&&r(t,["default"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["enum"]);s!=null&&r(t,["enum"],s);const u=a(e,["example"]);u!=null&&r(t,["example"],u);const c=a(e,["format"]);c!=null&&r(t,["format"],c);const f=a(e,["items"]);f!=null&&r(t,["items"],f);const d=a(e,["maxItems"]);d!=null&&r(t,["maxItems"],d);const m=a(e,["maxLength"]);m!=null&&r(t,["maxLength"],m);const h=a(e,["maxProperties"]);h!=null&&r(t,["maxProperties"],h);const p=a(e,["maximum"]);p!=null&&r(t,["maximum"],p);const x=a(e,["minItems"]);x!=null&&r(t,["minItems"],x);const S=a(e,["minLength"]);S!=null&&r(t,["minLength"],S);const _=a(e,["minProperties"]);_!=null&&r(t,["minProperties"],_);const y=a(e,["minimum"]);y!=null&&r(t,["minimum"],y);const v=a(e,["nullable"]);v!=null&&r(t,["nullable"],v);const T=a(e,["pattern"]);T!=null&&r(t,["pattern"],T);const C=a(e,["properties"]);C!=null&&r(t,["properties"],C);const b=a(e,["propertyOrdering"]);b!=null&&r(t,["propertyOrdering"],b);const N=a(e,["required"]);N!=null&&r(t,["required"],N);const M=a(e,["title"]);M!=null&&r(t,["title"],M);const D=a(e,["type"]);return D!=null&&r(t,["type"],D),t}function EA(n,e){const t={};if(a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(e,["category"]);i!=null&&r(t,["category"],i);const l=a(e,["threshold"]);return l!=null&&r(t,["threshold"],l),t}function AA(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function bA(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function MA(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],bA(n,i)),t}function wA(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function NA(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],wA(n,i)),t}function RA(){return{}}function DA(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>AA(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],MA(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],NA(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],RA());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function kA(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function IA(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function UA(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],IA(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function LA(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],kA(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],UA(n,l)),t}function OA(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function p0(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],OA(n,i)),t}function VA(n,e){const t={},i=a(e,["speaker"]);i!=null&&r(t,["speaker"],i);const l=a(e,["voiceConfig"]);return l!=null&&r(t,["voiceConfig"],p0(n,l)),t}function $A(n,e){const t={},i=a(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>VA(n,o))),r(t,["speakerVoiceConfigs"],l)}return t}function BA(n,e){const t={},i=a(e,["voiceConfig"]);i!=null&&r(t,["voiceConfig"],p0(n,i));const l=a(e,["multiSpeakerVoiceConfig"]);l!=null&&r(t,["multiSpeakerVoiceConfig"],$A(n,l));const o=a(e,["languageCode"]);return o!=null&&r(t,["languageCode"],o),t}function PA(n,e){const t={},i=a(e,["includeThoughts"]);i!=null&&r(t,["includeThoughts"],i);const l=a(e,["thinkingBudget"]);return l!=null&&r(t,["thinkingBudget"],l),t}function zA(n,e,t){const i={},l=a(e,["systemInstruction"]);t!==void 0&&l!=null&&r(t,["systemInstruction"],Jr(n,Ut(n,l)));const o=a(e,["temperature"]);o!=null&&r(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&r(i,["topP"],s);const u=a(e,["topK"]);u!=null&&r(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&r(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&r(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&r(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&r(i,["logprobs"],h);const p=a(e,["presencePenalty"]);p!=null&&r(i,["presencePenalty"],p);const x=a(e,["frequencyPenalty"]);x!=null&&r(i,["frequencyPenalty"],x);const S=a(e,["seed"]);S!=null&&r(i,["seed"],S);const _=a(e,["responseMimeType"]);_!=null&&r(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);if(y!=null&&r(i,["responseSchema"],_A(n,_r(n,y))),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(e,["safetySettings"]);if(t!==void 0&&v!=null){let L=v;Array.isArray(L)&&(L=L.map(me=>EA(n,me))),r(t,["safetySettings"],L)}const T=a(e,["tools"]);if(t!==void 0&&T!=null){let L=Xs(n,T);Array.isArray(L)&&(L=L.map(me=>DA(n,Js(n,me)))),r(t,["tools"],L)}const C=a(e,["toolConfig"]);if(t!==void 0&&C!=null&&r(t,["toolConfig"],LA(n,C)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=a(e,["cachedContent"]);t!==void 0&&b!=null&&r(t,["cachedContent"],Hi(n,b));const N=a(e,["responseModalities"]);N!=null&&r(i,["responseModalities"],N);const M=a(e,["mediaResolution"]);M!=null&&r(i,["mediaResolution"],M);const D=a(e,["speechConfig"]);if(D!=null&&r(i,["speechConfig"],BA(n,l0(n,D))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=a(e,["thinkingConfig"]);return B!=null&&r(i,["thinkingConfig"],PA(n,B)),i}function Ep(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Jr(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["generationConfig"],zA(n,o,t)),t}function GA(n,e,t){const i={},l=a(e,["taskType"]);t!==void 0&&l!=null&&r(t,["requests[]","taskType"],l);const o=a(e,["title"]);t!==void 0&&o!=null&&r(t,["requests[]","title"],o);const s=a(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&r(t,["requests[]","outputDimensionality"],s),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function qA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["contents"]);l!=null&&r(t,["requests[]","content"],i0(n,l));const o=a(e,["config"]);o!=null&&r(t,["config"],GA(n,o,t));const s=a(e,["model"]);return s!==void 0&&r(t,["requests[]","model"],Be(n,s)),t}function HA(n,e,t){const i={};if(a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=a(e,["numberOfImages"]);t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l);const o=a(e,["aspectRatio"]);t!==void 0&&o!=null&&r(t,["parameters","aspectRatio"],o);const s=a(e,["guidanceScale"]);if(t!==void 0&&s!=null&&r(t,["parameters","guidanceScale"],s),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=a(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&r(t,["parameters","safetySetting"],u);const c=a(e,["personGeneration"]);t!==void 0&&c!=null&&r(t,["parameters","personGeneration"],c);const f=a(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&r(t,["parameters","includeSafetyAttributes"],f);const d=a(e,["includeRaiReason"]);t!==void 0&&d!=null&&r(t,["parameters","includeRaiReason"],d);const m=a(e,["language"]);t!==void 0&&m!=null&&r(t,["parameters","language"],m);const h=a(e,["outputMimeType"]);t!==void 0&&h!=null&&r(t,["parameters","outputOptions","mimeType"],h);const p=a(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&r(t,["parameters","outputOptions","compressionQuality"],p),a(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function FA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&r(t,["config"],HA(n,o,t)),t}function YA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function ZA(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);t!==void 0&&s!=null&&r(t,["_query","filter"],s);const u=a(e,["queryBase"]);return t!==void 0&&u!=null&&r(t,["_url","models_url"],a0(n,u)),i}function KA(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],ZA(n,i,t)),t}function JA(n,e,t){const i={},l=a(e,["displayName"]);t!==void 0&&l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);t!==void 0&&o!=null&&r(t,["description"],o);const s=a(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&r(t,["defaultCheckpointId"],s),i}function XA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],JA(n,l,t)),t}function QA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function WA(n,e){const t={};if(a(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function jA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Jr(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["config"],WA(n,o)),t}function eb(n,e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=a(e,["imageBytes"]);i!=null&&r(t,["bytesBase64Encoded"],si(n,i));const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function tb(n,e,t){const i={},l=a(e,["numberOfVideos"]);if(t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l),a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=a(e,["durationSeconds"]);if(t!==void 0&&o!=null&&r(t,["parameters","durationSeconds"],o),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=a(e,["aspectRatio"]);if(t!==void 0&&s!=null&&r(t,["parameters","aspectRatio"],s),a(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=a(e,["personGeneration"]);if(t!==void 0&&u!=null&&r(t,["parameters","personGeneration"],u),a(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=a(e,["negativePrompt"]);t!==void 0&&c!=null&&r(t,["parameters","negativePrompt"],c);const f=a(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&r(t,["parameters","enhancePrompt"],f),a(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return i}function nb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["image"]);if(o!=null&&r(t,["instances[0]","image"],eb(n,o)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=a(e,["config"]);return s!=null&&r(t,["config"],tb(n,s,t)),t}function ib(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function lb(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function ob(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function sb(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],ib(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],lb(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],ob(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function Ro(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>sb(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function ab(n,e){const t={},i=a(e,["anyOf"]);i!=null&&r(t,["anyOf"],i);const l=a(e,["default"]);l!=null&&r(t,["default"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["enum"]);s!=null&&r(t,["enum"],s);const u=a(e,["example"]);u!=null&&r(t,["example"],u);const c=a(e,["format"]);c!=null&&r(t,["format"],c);const f=a(e,["items"]);f!=null&&r(t,["items"],f);const d=a(e,["maxItems"]);d!=null&&r(t,["maxItems"],d);const m=a(e,["maxLength"]);m!=null&&r(t,["maxLength"],m);const h=a(e,["maxProperties"]);h!=null&&r(t,["maxProperties"],h);const p=a(e,["maximum"]);p!=null&&r(t,["maximum"],p);const x=a(e,["minItems"]);x!=null&&r(t,["minItems"],x);const S=a(e,["minLength"]);S!=null&&r(t,["minLength"],S);const _=a(e,["minProperties"]);_!=null&&r(t,["minProperties"],_);const y=a(e,["minimum"]);y!=null&&r(t,["minimum"],y);const v=a(e,["nullable"]);v!=null&&r(t,["nullable"],v);const T=a(e,["pattern"]);T!=null&&r(t,["pattern"],T);const C=a(e,["properties"]);C!=null&&r(t,["properties"],C);const b=a(e,["propertyOrdering"]);b!=null&&r(t,["propertyOrdering"],b);const N=a(e,["required"]);N!=null&&r(t,["required"],N);const M=a(e,["title"]);M!=null&&r(t,["title"],M);const D=a(e,["type"]);return D!=null&&r(t,["type"],D),t}function rb(n,e){const t={},i=a(e,["featureSelectionPreference"]);return i!=null&&r(t,["featureSelectionPreference"],i),t}function ub(n,e){const t={},i=a(e,["method"]);i!=null&&r(t,["method"],i);const l=a(e,["category"]);l!=null&&r(t,["category"],l);const o=a(e,["threshold"]);return o!=null&&r(t,["threshold"],o),t}function cb(n,e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(e,["description"]);i!=null&&r(t,["description"],i);const l=a(e,["name"]);l!=null&&r(t,["name"],l);const o=a(e,["parameters"]);o!=null&&r(t,["parameters"],o);const s=a(e,["response"]);return s!=null&&r(t,["response"],s),t}function fb(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function db(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],fb(n,i)),t}function hb(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function mb(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],hb(n,i)),t}function pb(){return{}}function gb(n,e){const t={},i=a(e,["apiKeyString"]);return i!=null&&r(t,["apiKeyString"],i),t}function yb(n,e){const t={},i=a(e,["apiKeyConfig"]);i!=null&&r(t,["apiKeyConfig"],gb(n,i));const l=a(e,["authType"]);l!=null&&r(t,["authType"],l);const o=a(e,["googleServiceAccountConfig"]);o!=null&&r(t,["googleServiceAccountConfig"],o);const s=a(e,["httpBasicAuthConfig"]);s!=null&&r(t,["httpBasicAuthConfig"],s);const u=a(e,["oauthConfig"]);u!=null&&r(t,["oauthConfig"],u);const c=a(e,["oidcConfig"]);return c!=null&&r(t,["oidcConfig"],c),t}function vb(n,e){const t={},i=a(e,["authConfig"]);return i!=null&&r(t,["authConfig"],yb(n,i)),t}function xb(){return{}}function g0(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(h=>cb(n,h))),r(t,["functionDeclarations"],m)}const l=a(e,["retrieval"]);l!=null&&r(t,["retrieval"],l);const o=a(e,["googleSearch"]);o!=null&&r(t,["googleSearch"],db(n,o));const s=a(e,["googleSearchRetrieval"]);s!=null&&r(t,["googleSearchRetrieval"],mb(n,s)),a(e,["enterpriseWebSearch"])!=null&&r(t,["enterpriseWebSearch"],pb());const c=a(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],vb(n,c)),a(e,["urlContext"])!=null&&r(t,["urlContext"],xb());const d=a(e,["codeExecution"]);return d!=null&&r(t,["codeExecution"],d),t}function Tb(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function Sb(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function Cb(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],Sb(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function _b(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],Tb(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],Cb(n,l)),t}function Eb(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function Ab(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],Eb(n,i)),t}function bb(n,e){const t={},i=a(e,["voiceConfig"]);if(i!=null&&r(t,["voiceConfig"],Ab(n,i)),a(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function Mb(n,e){const t={},i=a(e,["includeThoughts"]);i!=null&&r(t,["includeThoughts"],i);const l=a(e,["thinkingBudget"]);return l!=null&&r(t,["thinkingBudget"],l),t}function wb(n,e,t){const i={},l=a(e,["systemInstruction"]);t!==void 0&&l!=null&&r(t,["systemInstruction"],Ro(n,Ut(n,l)));const o=a(e,["temperature"]);o!=null&&r(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&r(i,["topP"],s);const u=a(e,["topK"]);u!=null&&r(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&r(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&r(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&r(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&r(i,["logprobs"],h);const p=a(e,["presencePenalty"]);p!=null&&r(i,["presencePenalty"],p);const x=a(e,["frequencyPenalty"]);x!=null&&r(i,["frequencyPenalty"],x);const S=a(e,["seed"]);S!=null&&r(i,["seed"],S);const _=a(e,["responseMimeType"]);_!=null&&r(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);y!=null&&r(i,["responseSchema"],ab(n,_r(n,y)));const v=a(e,["routingConfig"]);v!=null&&r(i,["routingConfig"],v);const T=a(e,["modelSelectionConfig"]);T!=null&&r(i,["modelConfig"],rb(n,T));const C=a(e,["safetySettings"]);if(t!==void 0&&C!=null){let dt=C;Array.isArray(dt)&&(dt=dt.map(At=>ub(n,At))),r(t,["safetySettings"],dt)}const b=a(e,["tools"]);if(t!==void 0&&b!=null){let dt=Xs(n,b);Array.isArray(dt)&&(dt=dt.map(At=>g0(n,Js(n,At)))),r(t,["tools"],dt)}const N=a(e,["toolConfig"]);t!==void 0&&N!=null&&r(t,["toolConfig"],_b(n,N));const M=a(e,["labels"]);t!==void 0&&M!=null&&r(t,["labels"],M);const D=a(e,["cachedContent"]);t!==void 0&&D!=null&&r(t,["cachedContent"],Hi(n,D));const B=a(e,["responseModalities"]);B!=null&&r(i,["responseModalities"],B);const L=a(e,["mediaResolution"]);L!=null&&r(i,["mediaResolution"],L);const me=a(e,["speechConfig"]);me!=null&&r(i,["speechConfig"],bb(n,l0(n,me)));const ke=a(e,["audioTimestamp"]);ke!=null&&r(i,["audioTimestamp"],ke);const vt=a(e,["thinkingConfig"]);return vt!=null&&r(i,["thinkingConfig"],Mb(n,vt)),i}function Ap(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Ro(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["generationConfig"],wb(n,o,t)),t}function Nb(n,e,t){const i={},l=a(e,["taskType"]);t!==void 0&&l!=null&&r(t,["instances[]","task_type"],l);const o=a(e,["title"]);t!==void 0&&o!=null&&r(t,["instances[]","title"],o);const s=a(e,["outputDimensionality"]);t!==void 0&&s!=null&&r(t,["parameters","outputDimensionality"],s);const u=a(e,["mimeType"]);t!==void 0&&u!=null&&r(t,["instances[]","mimeType"],u);const c=a(e,["autoTruncate"]);return t!==void 0&&c!=null&&r(t,["parameters","autoTruncate"],c),i}function Rb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["contents"]);l!=null&&r(t,["instances[]","content"],i0(n,l));const o=a(e,["config"]);return o!=null&&r(t,["config"],Nb(n,o,t)),t}function Db(n,e,t){const i={},l=a(e,["outputGcsUri"]);t!==void 0&&l!=null&&r(t,["parameters","storageUri"],l);const o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&r(t,["parameters","negativePrompt"],o);const s=a(e,["numberOfImages"]);t!==void 0&&s!=null&&r(t,["parameters","sampleCount"],s);const u=a(e,["aspectRatio"]);t!==void 0&&u!=null&&r(t,["parameters","aspectRatio"],u);const c=a(e,["guidanceScale"]);t!==void 0&&c!=null&&r(t,["parameters","guidanceScale"],c);const f=a(e,["seed"]);t!==void 0&&f!=null&&r(t,["parameters","seed"],f);const d=a(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&r(t,["parameters","safetySetting"],d);const m=a(e,["personGeneration"]);t!==void 0&&m!=null&&r(t,["parameters","personGeneration"],m);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&r(t,["parameters","includeSafetyAttributes"],h);const p=a(e,["includeRaiReason"]);t!==void 0&&p!=null&&r(t,["parameters","includeRaiReason"],p);const x=a(e,["language"]);t!==void 0&&x!=null&&r(t,["parameters","language"],x);const S=a(e,["outputMimeType"]);t!==void 0&&S!=null&&r(t,["parameters","outputOptions","mimeType"],S);const _=a(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&r(t,["parameters","outputOptions","compressionQuality"],_);const y=a(e,["addWatermark"]);t!==void 0&&y!=null&&r(t,["parameters","addWatermark"],y);const v=a(e,["enhancePrompt"]);return t!==void 0&&v!=null&&r(t,["parameters","enhancePrompt"],v),i}function kb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&r(t,["config"],Db(n,o,t)),t}function Xr(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["gcsUri"],i);const l=a(e,["imageBytes"]);l!=null&&r(t,["bytesBase64Encoded"],si(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function Ib(n,e){const t={},i=a(e,["maskMode"]);i!=null&&r(t,["maskMode"],i);const l=a(e,["segmentationClasses"]);l!=null&&r(t,["maskClasses"],l);const o=a(e,["maskDilation"]);return o!=null&&r(t,["dilation"],o),t}function Ub(n,e){const t={},i=a(e,["controlType"]);i!=null&&r(t,["controlType"],i);const l=a(e,["enableControlImageComputation"]);return l!=null&&r(t,["computeControl"],l),t}function Lb(n,e){const t={},i=a(e,["styleDescription"]);return i!=null&&r(t,["styleDescription"],i),t}function Ob(n,e){const t={},i=a(e,["subjectType"]);i!=null&&r(t,["subjectType"],i);const l=a(e,["subjectDescription"]);return l!=null&&r(t,["subjectDescription"],l),t}function Vb(n,e){const t={},i=a(e,["referenceImage"]);i!=null&&r(t,["referenceImage"],Xr(n,i));const l=a(e,["referenceId"]);l!=null&&r(t,["referenceId"],l);const o=a(e,["referenceType"]);o!=null&&r(t,["referenceType"],o);const s=a(e,["maskImageConfig"]);s!=null&&r(t,["maskImageConfig"],Ib(n,s));const u=a(e,["controlImageConfig"]);u!=null&&r(t,["controlImageConfig"],Ub(n,u));const c=a(e,["styleImageConfig"]);c!=null&&r(t,["styleImageConfig"],Lb(n,c));const f=a(e,["subjectImageConfig"]);return f!=null&&r(t,["subjectImageConfig"],Ob(n,f)),t}function $b(n,e,t){const i={},l=a(e,["outputGcsUri"]);t!==void 0&&l!=null&&r(t,["parameters","storageUri"],l);const o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&r(t,["parameters","negativePrompt"],o);const s=a(e,["numberOfImages"]);t!==void 0&&s!=null&&r(t,["parameters","sampleCount"],s);const u=a(e,["aspectRatio"]);t!==void 0&&u!=null&&r(t,["parameters","aspectRatio"],u);const c=a(e,["guidanceScale"]);t!==void 0&&c!=null&&r(t,["parameters","guidanceScale"],c);const f=a(e,["seed"]);t!==void 0&&f!=null&&r(t,["parameters","seed"],f);const d=a(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&r(t,["parameters","safetySetting"],d);const m=a(e,["personGeneration"]);t!==void 0&&m!=null&&r(t,["parameters","personGeneration"],m);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&r(t,["parameters","includeSafetyAttributes"],h);const p=a(e,["includeRaiReason"]);t!==void 0&&p!=null&&r(t,["parameters","includeRaiReason"],p);const x=a(e,["language"]);t!==void 0&&x!=null&&r(t,["parameters","language"],x);const S=a(e,["outputMimeType"]);t!==void 0&&S!=null&&r(t,["parameters","outputOptions","mimeType"],S);const _=a(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&r(t,["parameters","outputOptions","compressionQuality"],_);const y=a(e,["editMode"]);t!==void 0&&y!=null&&r(t,["parameters","editMode"],y);const v=a(e,["baseSteps"]);return t!==void 0&&v!=null&&r(t,["parameters","editConfig","baseSteps"],v),i}function Bb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Vb(n,c))),r(t,["instances[0]","referenceImages"],u)}const s=a(e,["config"]);return s!=null&&r(t,["config"],$b(n,s,t)),t}function Pb(n,e,t){const i={},l=a(e,["includeRaiReason"]);t!==void 0&&l!=null&&r(t,["parameters","includeRaiReason"],l);const o=a(e,["outputMimeType"]);t!==void 0&&o!=null&&r(t,["parameters","outputOptions","mimeType"],o);const s=a(e,["outputCompressionQuality"]);t!==void 0&&s!=null&&r(t,["parameters","outputOptions","compressionQuality"],s);const u=a(e,["numberOfImages"]);t!==void 0&&u!=null&&r(t,["parameters","sampleCount"],u);const c=a(e,["mode"]);return t!==void 0&&c!=null&&r(t,["parameters","mode"],c),i}function zb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["image"]);l!=null&&r(t,["instances[0]","image"],Xr(n,l));const o=a(e,["upscaleFactor"]);o!=null&&r(t,["parameters","upscaleConfig","upscaleFactor"],o);const s=a(e,["config"]);return s!=null&&r(t,["config"],Pb(n,s,t)),t}function Gb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function qb(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);t!==void 0&&s!=null&&r(t,["_query","filter"],s);const u=a(e,["queryBase"]);return t!==void 0&&u!=null&&r(t,["_url","models_url"],a0(n,u)),i}function Hb(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],qb(n,i,t)),t}function Fb(n,e,t){const i={},l=a(e,["displayName"]);t!==void 0&&l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);t!==void 0&&o!=null&&r(t,["description"],o);const s=a(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&r(t,["defaultCheckpointId"],s),i}function Yb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],Fb(n,l,t)),t}function Zb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function Kb(n,e,t){const i={},l=a(e,["systemInstruction"]);t!==void 0&&l!=null&&r(t,["systemInstruction"],Ro(n,Ut(n,l)));const o=a(e,["tools"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>g0(n,c))),r(t,["tools"],u)}const s=a(e,["generationConfig"]);return t!==void 0&&s!=null&&r(t,["generationConfig"],s),i}function Jb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Ro(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["config"],Kb(n,o,t)),t}function Xb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Ro(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["config"],o),t}function Qb(n,e){const t={},i=a(e,["uri"]);i!=null&&r(t,["gcsUri"],i);const l=a(e,["videoBytes"]);l!=null&&r(t,["bytesBase64Encoded"],si(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function Wb(n,e,t){const i={},l=a(e,["numberOfVideos"]);t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l);const o=a(e,["outputGcsUri"]);t!==void 0&&o!=null&&r(t,["parameters","storageUri"],o);const s=a(e,["fps"]);t!==void 0&&s!=null&&r(t,["parameters","fps"],s);const u=a(e,["durationSeconds"]);t!==void 0&&u!=null&&r(t,["parameters","durationSeconds"],u);const c=a(e,["seed"]);t!==void 0&&c!=null&&r(t,["parameters","seed"],c);const f=a(e,["aspectRatio"]);t!==void 0&&f!=null&&r(t,["parameters","aspectRatio"],f);const d=a(e,["resolution"]);t!==void 0&&d!=null&&r(t,["parameters","resolution"],d);const m=a(e,["personGeneration"]);t!==void 0&&m!=null&&r(t,["parameters","personGeneration"],m);const h=a(e,["pubsubTopic"]);t!==void 0&&h!=null&&r(t,["parameters","pubsubTopic"],h);const p=a(e,["negativePrompt"]);t!==void 0&&p!=null&&r(t,["parameters","negativePrompt"],p);const x=a(e,["enhancePrompt"]);t!==void 0&&x!=null&&r(t,["parameters","enhancePrompt"],x);const S=a(e,["generateAudio"]);t!==void 0&&S!=null&&r(t,["parameters","generateAudio"],S);const _=a(e,["lastFrame"]);return t!==void 0&&_!=null&&r(t,["instances[0]","lastFrame"],Xr(n,_)),i}function jb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["image"]);o!=null&&r(t,["instances[0]","image"],Xr(n,o));const s=a(e,["video"]);s!=null&&r(t,["instances[0]","video"],Qb(n,s));const u=a(e,["config"]);return u!=null&&r(t,["config"],Wb(n,u,t)),t}function e2(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function t2(n,e){const t={},i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function n2(n,e){const t={},i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function i2(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],e2(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],t2(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],n2(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function l2(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>i2(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function o2(n,e){const t={},i=a(e,["citationSources"]);return i!=null&&r(t,["citations"],i),t}function s2(n,e){const t={},i=a(e,["retrievedUrl"]);i!=null&&r(t,["retrievedUrl"],i);const l=a(e,["urlRetrievalStatus"]);return l!=null&&r(t,["urlRetrievalStatus"],l),t}function a2(n,e){const t={},i=a(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>s2(n,o))),r(t,["urlMetadata"],l)}return t}function r2(n,e){const t={},i=a(e,["content"]);i!=null&&r(t,["content"],l2(n,i));const l=a(e,["citationMetadata"]);l!=null&&r(t,["citationMetadata"],o2(n,l));const o=a(e,["tokenCount"]);o!=null&&r(t,["tokenCount"],o);const s=a(e,["finishReason"]);s!=null&&r(t,["finishReason"],s);const u=a(e,["urlContextMetadata"]);u!=null&&r(t,["urlContextMetadata"],a2(n,u));const c=a(e,["avgLogprobs"]);c!=null&&r(t,["avgLogprobs"],c);const f=a(e,["groundingMetadata"]);f!=null&&r(t,["groundingMetadata"],f);const d=a(e,["index"]);d!=null&&r(t,["index"],d);const m=a(e,["logprobsResult"]);m!=null&&r(t,["logprobsResult"],m);const h=a(e,["safetyRatings"]);return h!=null&&r(t,["safetyRatings"],h),t}function bp(n,e){const t={},i=a(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>r2(n,c))),r(t,["candidates"],u)}const l=a(e,["modelVersion"]);l!=null&&r(t,["modelVersion"],l);const o=a(e,["promptFeedback"]);o!=null&&r(t,["promptFeedback"],o);const s=a(e,["usageMetadata"]);return s!=null&&r(t,["usageMetadata"],s),t}function u2(n,e){const t={},i=a(e,["values"]);return i!=null&&r(t,["values"],i),t}function c2(){return{}}function f2(n,e){const t={},i=a(e,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>u2(n,s))),r(t,["embeddings"],o)}return a(e,["metadata"])!=null&&r(t,["metadata"],c2()),t}function d2(n,e){const t={},i=a(e,["bytesBase64Encoded"]);i!=null&&r(t,["imageBytes"],si(n,i));const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function y0(n,e){const t={},i=a(e,["safetyAttributes","categories"]);i!=null&&r(t,["categories"],i);const l=a(e,["safetyAttributes","scores"]);l!=null&&r(t,["scores"],l);const o=a(e,["contentType"]);return o!=null&&r(t,["contentType"],o),t}function h2(n,e){const t={},i=a(e,["_self"]);i!=null&&r(t,["image"],d2(n,i));const l=a(e,["raiFilteredReason"]);l!=null&&r(t,["raiFilteredReason"],l);const o=a(e,["_self"]);return o!=null&&r(t,["safetyAttributes"],y0(n,o)),t}function m2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>h2(n,s))),r(t,["generatedImages"],o)}const l=a(e,["positivePromptSafetyAttributes"]);return l!=null&&r(t,["positivePromptSafetyAttributes"],y0(n,l)),t}function p2(n,e){const t={},i=a(e,["baseModel"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["createTime"]);l!=null&&r(t,["createTime"],l);const o=a(e,["updateTime"]);return o!=null&&r(t,["updateTime"],o),t}function lf(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["version"]);s!=null&&r(t,["version"],s);const u=a(e,["_self"]);u!=null&&r(t,["tunedModelInfo"],p2(n,u));const c=a(e,["inputTokenLimit"]);c!=null&&r(t,["inputTokenLimit"],c);const f=a(e,["outputTokenLimit"]);f!=null&&r(t,["outputTokenLimit"],f);const d=a(e,["supportedGenerationMethods"]);return d!=null&&r(t,["supportedActions"],d),t}function g2(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=r0(n,l);Array.isArray(o)&&(o=o.map(s=>lf(n,s))),r(t,["models"],o)}return t}function y2(){return{}}function v2(n,e){const t={},i=a(e,["totalTokens"]);i!=null&&r(t,["totalTokens"],i);const l=a(e,["cachedContentTokenCount"]);return l!=null&&r(t,["cachedContentTokenCount"],l),t}function x2(n,e){const t={},i=a(e,["video","uri"]);i!=null&&r(t,["uri"],i);const l=a(e,["video","encodedVideo"]);l!=null&&r(t,["videoBytes"],si(n,l));const o=a(e,["encoding"]);return o!=null&&r(t,["mimeType"],o),t}function T2(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],x2(n,i)),t}function S2(n,e){const t={},i=a(e,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>T2(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function C2(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response","generateVideoResponse"]);return u!=null&&r(t,["response"],S2(n,u)),t}function _2(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function E2(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function A2(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function b2(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],_2(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],E2(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],A2(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function M2(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>b2(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function w2(n,e){const t={},i=a(e,["citations"]);return i!=null&&r(t,["citations"],i),t}function N2(n,e){const t={},i=a(e,["retrievedUrl"]);i!=null&&r(t,["retrievedUrl"],i);const l=a(e,["urlRetrievalStatus"]);return l!=null&&r(t,["urlRetrievalStatus"],l),t}function R2(n,e){const t={},i=a(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>N2(n,o))),r(t,["urlMetadata"],l)}return t}function D2(n,e){const t={},i=a(e,["content"]);i!=null&&r(t,["content"],M2(n,i));const l=a(e,["citationMetadata"]);l!=null&&r(t,["citationMetadata"],w2(n,l));const o=a(e,["finishMessage"]);o!=null&&r(t,["finishMessage"],o);const s=a(e,["finishReason"]);s!=null&&r(t,["finishReason"],s);const u=a(e,["urlContextMetadata"]);u!=null&&r(t,["urlContextMetadata"],R2(n,u));const c=a(e,["avgLogprobs"]);c!=null&&r(t,["avgLogprobs"],c);const f=a(e,["groundingMetadata"]);f!=null&&r(t,["groundingMetadata"],f);const d=a(e,["index"]);d!=null&&r(t,["index"],d);const m=a(e,["logprobsResult"]);m!=null&&r(t,["logprobsResult"],m);const h=a(e,["safetyRatings"]);return h!=null&&r(t,["safetyRatings"],h),t}function Mp(n,e){const t={},i=a(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>D2(n,d))),r(t,["candidates"],f)}const l=a(e,["createTime"]);l!=null&&r(t,["createTime"],l);const o=a(e,["responseId"]);o!=null&&r(t,["responseId"],o);const s=a(e,["modelVersion"]);s!=null&&r(t,["modelVersion"],s);const u=a(e,["promptFeedback"]);u!=null&&r(t,["promptFeedback"],u);const c=a(e,["usageMetadata"]);return c!=null&&r(t,["usageMetadata"],c),t}function k2(n,e){const t={},i=a(e,["truncated"]);i!=null&&r(t,["truncated"],i);const l=a(e,["token_count"]);return l!=null&&r(t,["tokenCount"],l),t}function I2(n,e){const t={},i=a(e,["values"]);i!=null&&r(t,["values"],i);const l=a(e,["statistics"]);return l!=null&&r(t,["statistics"],k2(n,l)),t}function U2(n,e){const t={},i=a(e,["billableCharacterCount"]);return i!=null&&r(t,["billableCharacterCount"],i),t}function L2(n,e){const t={},i=a(e,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>I2(n,s))),r(t,["embeddings"],o)}const l=a(e,["metadata"]);return l!=null&&r(t,["metadata"],U2(n,l)),t}function O2(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["gcsUri"],i);const l=a(e,["bytesBase64Encoded"]);l!=null&&r(t,["imageBytes"],si(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function v0(n,e){const t={},i=a(e,["safetyAttributes","categories"]);i!=null&&r(t,["categories"],i);const l=a(e,["safetyAttributes","scores"]);l!=null&&r(t,["scores"],l);const o=a(e,["contentType"]);return o!=null&&r(t,["contentType"],o),t}function hd(n,e){const t={},i=a(e,["_self"]);i!=null&&r(t,["image"],O2(n,i));const l=a(e,["raiFilteredReason"]);l!=null&&r(t,["raiFilteredReason"],l);const o=a(e,["_self"]);o!=null&&r(t,["safetyAttributes"],v0(n,o));const s=a(e,["prompt"]);return s!=null&&r(t,["enhancedPrompt"],s),t}function V2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>hd(n,s))),r(t,["generatedImages"],o)}const l=a(e,["positivePromptSafetyAttributes"]);return l!=null&&r(t,["positivePromptSafetyAttributes"],v0(n,l)),t}function $2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>hd(n,o))),r(t,["generatedImages"],l)}return t}function B2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>hd(n,o))),r(t,["generatedImages"],l)}return t}function P2(n,e){const t={},i=a(e,["endpoint"]);i!=null&&r(t,["name"],i);const l=a(e,["deployedModelId"]);return l!=null&&r(t,["deployedModelId"],l),t}function z2(n,e){const t={},i=a(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["createTime"]);l!=null&&r(t,["createTime"],l);const o=a(e,["updateTime"]);return o!=null&&r(t,["updateTime"],o),t}function G2(n,e){const t={},i=a(e,["checkpointId"]);i!=null&&r(t,["checkpointId"],i);const l=a(e,["epoch"]);l!=null&&r(t,["epoch"],l);const o=a(e,["step"]);return o!=null&&r(t,["step"],o),t}function of(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["versionId"]);s!=null&&r(t,["version"],s);const u=a(e,["deployedModels"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>P2(n,p))),r(t,["endpoints"],h)}const c=a(e,["labels"]);c!=null&&r(t,["labels"],c);const f=a(e,["_self"]);f!=null&&r(t,["tunedModelInfo"],z2(n,f));const d=a(e,["defaultCheckpointId"]);d!=null&&r(t,["defaultCheckpointId"],d);const m=a(e,["checkpoints"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(p=>G2(n,p))),r(t,["checkpoints"],h)}return t}function q2(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=r0(n,l);Array.isArray(o)&&(o=o.map(s=>of(n,s))),r(t,["models"],o)}return t}function H2(){return{}}function F2(n,e){const t={},i=a(e,["totalTokens"]);return i!=null&&r(t,["totalTokens"],i),t}function Y2(n,e){const t={},i=a(e,["tokensInfo"]);return i!=null&&r(t,["tokensInfo"],i),t}function Z2(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["uri"],i);const l=a(e,["bytesBase64Encoded"]);l!=null&&r(t,["videoBytes"],si(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function K2(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],Z2(n,i)),t}function J2(n,e){const t={},i=a(e,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>K2(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function X2(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],J2(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q2="Content-Type",W2="X-Server-Timeout",j2="User-Agent",sf="x-goog-api-client",eM="1.5.1",tM=`google-genai-sdk/${eM}`,nM="v1beta1",iM="v1beta",wp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class x0 extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class af extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class lM{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:nM,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:iM,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const l=[this.getRequestUrlInternal(t)];return i&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))l.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(l,o,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[l,o]of Object.entries(t))typeof o=="object"?i[l]=Object.assign(Object.assign({},i[l]),o):o!==void 0&&(i[l]=o);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(l,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const l=new AbortController,o=l.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>l.abort(),t.timeout),i&&i.addEventListener("abort",()=>{l.abort()}),e.signal=o}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async l=>(await Np(l),new jc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async l=>(await Np(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var t;return no(this,arguments,function*(){const l=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield Ge(l.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c);try{const m=JSON.parse(f);if("error"in m){const h=JSON.parse(JSON.stringify(m.error)),p=h.status,x=h.code,S=`got status: ${p}. ${JSON.stringify(m)}`;if(x>=400&&x<500)throw new x0(S);if(x>=500&&x<600)throw new af(S)}}catch(m){const h=m;if(h.name==="ClientError"||h.name==="ServerError")throw m}s+=f;let d=s.match(wp);for(;d;){const m=d[1];try{const h=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ge(new jc(h)),s=s.slice(d[0].length),d=s.match(wp)}catch(h){throw new Error(`exception parsing stream chunk ${m}. ${h}`)}}}}finally{l.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=tM+" "+this.clientOptions.userAgentExtra;return e[j2]=t,e[sf]=t,e[Q2]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,l]of Object.entries(e.headers))t.append(i,l);e.timeout&&e.timeout>0&&t.append(W2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const l={};t!=null&&(l.mimeType=t.mimeType,l.name=t.name,l.displayName=t.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);l.sizeBytes=String(s.size);const u=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=u;const c=await this.fetchUploadUrl(l,t);return o.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let l={};t!=null&&t.httpOptions?l=t.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:Q("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=s==null?void 0:s.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Np(n){var e;if(n===void 0)throw new af("response is undefined");if(!n.ok){const t=n.status,i=n.statusText;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const o=`got status: ${t} ${i}. ${JSON.stringify(l)}`;throw t>=400&&t<500?new x0(o):t>=500&&t<600?new af(o):new Error(o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oM="mcp_used/unknown";function T0(n){for(const e of n)if(md(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function S0(n){var e;const t=(e=n[sf])!==null&&e!==void 0?e:"";n[sf]=(t+` ${oM}`).trimStart()}function sM(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>md(l)))!==null&&i!==void 0?i:!1}function aM(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>!md(l)))!==null&&i!==void 0?i:!1}function md(n){return n!==null&&typeof n=="object"&&n instanceof pd}function rM(n,e=100){return no(this,arguments,function*(){let i,l=0;for(;l<e;){const o=yield Ge(n.listTools({cursor:i}));for(const s of o.tools)yield yield Ge(s),l++;if(!o.nextCursor)break;i=o.nextCursor}})}class pd{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new pd(e,t)}async initialize(){var e,t,i,l;if(this.mcpTools.length>0)return;const o={},s=[];for(const d of this.mcpClients)try{for(var u=!0,c=(t=void 0,ds(rM(d))),f;f=await c.next(),e=f.done,!e;u=!0){l=f.value,u=!1;const m=l;s.push(m);const h=m.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(m){t={error:m}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(t)throw t.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),uC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await l.callTool({name:i.name,arguments:i.args},void 0,o);t.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function uM(n,e,t){const i=new XS;let l;t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data);const o=vA(n,l);Object.assign(i,o),e(i)}class cM{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=hM(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const d=new Promise(T=>{f=T}),m=e.callbacks,h=function(){f({})},p=this.apiClient,x={onopen:h,onmessage:T=>{uM(p,m.onmessage,T)},onerror:(t=m==null?void 0:m.onerror)!==null&&t!==void 0?t:function(T){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(T){}},S=this.webSocketFactory.create(c,dM(s),x);S.connect(),await d;const _=Be(this.apiClient,e.model),y=h0(this.apiClient,{model:_}),v=nf(this.apiClient,{setup:y});return S.send(JSON.stringify(v)),new fM(S,this.apiClient)}}class fM{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=kE(this.apiClient,e),i=m0(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=IE(this.apiClient,e),i=nf(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=nf(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Hl.PLAY)}pause(){this.sendPlaybackControl(Hl.PAUSE)}stop(){this.sendPlaybackControl(Hl.STOP)}resetContext(){this.sendPlaybackControl(Hl.RESET_CONTEXT)}close(){this.conn.close()}}function dM(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function hM(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function pM(n,e,t){const i=new JS;let l;if(t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data),n.isVertexAI()){const o=uA(n,l);Object.assign(i,o)}else{const o=rA(n,l);Object.assign(i,o)}e(i)}class gM{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new cM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,l,o,s,u;const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const m=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&T0(e.config.tools)&&S0(m);const h=TM(m);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const B=this.apiClient.getApiKey();let L="BidiGenerateContent",me="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),L="BidiGenerateContentConstrained",me="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${L}?${me}=${B}`}let p=()=>{};const x=new Promise(B=>{p=B}),S=e.callbacks,_=function(){var B;(B=S==null?void 0:S.onopen)===null||B===void 0||B.call(S),p({})},y=this.apiClient,v={onopen:_,onmessage:B=>{pM(y,S.onmessage,B)},onerror:(t=S==null?void 0:S.onerror)!==null&&t!==void 0?t:function(B){},onclose:(i=S==null?void 0:S.onclose)!==null&&i!==void 0?i:function(B){}},T=this.webSocketFactory.create(d,xM(h),v);T.connect(),await x;let C=Be(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const B=this.apiClient.getProject(),L=this.apiClient.getLocation();C=`projects/${B}/locations/${L}/`+C}let b={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Sr.AUDIO]}:e.config.responseModalities=[Sr.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],M=[];for(const B of N)if(this.isCallableTool(B)){const L=B;M.push(await L.tool())}else M.push(B);M.length>0&&(e.config.tools=M);const D={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?b=AE(this.apiClient,D):b=EE(this.apiClient,D),delete b.config,T.send(JSON.stringify(b)),new vM(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const yM={turnComplete:!0};class vM{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=xn(e,t.turns),e.isVertexAI()?i=i.map(l=>Ro(e,l)):i=i.map(l=>Jr(e,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(mM)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},yM),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:DE(this.apiClient,e)}:t={realtimeInput:RE(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function xM(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function TM(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rp=10;function Dp(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const s of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Va(s)){l=!0;break}if(!l)return!0;const o=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Va(n){return"callTool"in n&&typeof n.callTool=="function"}function kp(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SM extends No{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,l,o,s,u;const c=await this.processParamsForMcpUsage(t);if(!sM(t)||Dp(t.config))return await this.generateContentInternal(c);if(aM(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,d;const m=xn(this.apiClient,c.contents),h=(o=(l=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:Rp;let p=0;for(;p<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const x=f.candidates[0].content,S=[];for(const _ of(u=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Va(_)){const v=await _.callTool(f.functionCalls);S.push(...v)}p++,d={role:"user",parts:S},c.contents=xn(this.apiClient,c.contents),c.contents.push(x),c.contents.push(d),kp(c.config)&&(m.push(x),m.push(d))}return kp(c.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async t=>{if(Dp(t.config)){const i=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var l;let o;const s=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((l=c==null?void 0:c.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:s.push(c);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o}:u={generatedImages:s},u}),this.list=async t=>{var i;const s={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Kr(To.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const l={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(l)}}async processParamsForMcpUsage(e){var t,i,l;const o=(t=e.config)===null||t===void 0?void 0:t.tools;if(!o)return e;const s=await Promise.all(o.map(async c=>Va(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&T0(e.config.tools)){const c=(l=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),S0(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var t,i,l;const o=new Map;for(const s of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Va(s)){const u=s,c=await u.tool();for(const f of(l=c.functionDeclarations)!==null&&l!==void 0?l:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var t,i,l;const o=(l=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:Rp;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,d,m){var h,p;return no(this,arguments,function*(){for(var x,S,_,y;u<o;){s&&(u++,s=!1);const b=yield Ge(f.processParamsForMcpUsage(m)),N=yield Ge(f.generateContentStreamInternal(b)),M=[],D=[];try{for(var v=!0,T=(S=void 0,ds(N)),C;C=yield Ge(T.next()),x=C.done,!x;v=!0){y=C.value,v=!1;const B=y;if(yield yield Ge(B),B.candidates&&(!((h=B.candidates[0])===null||h===void 0)&&h.content)){D.push(B.candidates[0].content);for(const L of(p=B.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(u<o&&L.functionCall){if(!L.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(L.functionCall.name)){const me=yield Ge(d.get(L.functionCall.name).callTool([L.functionCall]));M.push(...me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${L.functionCall.name}`)}}}}catch(B){S={error:B}}finally{try{!v&&!x&&(_=T.return)&&(yield Ge(_.call(T)))}finally{if(S)throw S.error}}if(M.length>0){s=!0;const B=new Go;B.candidates=[{content:{role:"user",parts:M}}],yield yield Ge(B);const L=[];L.push(...D),L.push({role:"user",parts:M});const me=xn(f.apiClient,m.contents).concat(L);m.contents=me}else break}})}(this,c,e)}async generateContentInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ap(this.apiClient,e);return u=Q("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const m=Mp(this.apiClient,d),h=new Go;return Object.assign(h,m),h})}else{const f=Ep(this.apiClient,e);return u=Q("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const m=bp(this.apiClient,d),h=new Go;return Object.assign(h,m),h})}}async generateContentStreamInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ap(this.apiClient,e);u=Q("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const d=this.apiClient;return s=d.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(m){return no(this,arguments,function*(){var h,p,x,S;try{for(var _=!0,y=ds(m),v;v=yield Ge(y.next()),h=v.done,!h;_=!0){S=v.value,_=!1;const C=Mp(d,yield Ge(S.json())),b=new Go;Object.assign(b,C),yield yield Ge(b)}}catch(T){p={error:T}}finally{try{!_&&!h&&(x=y.return)&&(yield Ge(x.call(y)))}finally{if(p)throw p.error}}})})}else{const f=Ep(this.apiClient,e);u=Q("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const d=this.apiClient;return s=d.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(m){return no(this,arguments,function*(){var h,p,x,S;try{for(var _=!0,y=ds(m),v;v=yield Ge(y.next()),h=v.done,!h;_=!0){S=v.value,_=!1;const C=bp(d,yield Ge(S.json())),b=new Go;Object.assign(b,C),yield yield Ge(b)}}catch(T){p={error:T}}finally{try{!_&&!h&&(x=y.return)&&(yield Ge(x.call(y)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Rb(this.apiClient,e);return u=Q("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const m=L2(this.apiClient,d),h=new lp;return Object.assign(h,m),h})}else{const f=qA(this.apiClient,e);return u=Q("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const m=f2(this.apiClient,d),h=new lp;return Object.assign(h,m),h})}}async generateImagesInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=kb(this.apiClient,e);return u=Q("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const m=V2(this.apiClient,d),h=new op;return Object.assign(h,m),h})}else{const f=FA(this.apiClient,e);return u=Q("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const m=m2(this.apiClient,d),h=new op;return Object.assign(h,m),h})}}async editImageInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Bb(this.apiClient,e);return o=Q("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=$2(this.apiClient,c),d=new qS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=zb(this.apiClient,e);return o=Q("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=B2(this.apiClient,c),d=new HS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Gb(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>of(this.apiClient,d))}else{const f=YA(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>lf(this.apiClient,d))}}async listInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Hb(this.apiClient,e);return u=Q("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const m=q2(this.apiClient,d),h=new sp;return Object.assign(h,m),h})}else{const f=KA(this.apiClient,e);return u=Q("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const m=g2(this.apiClient,d),h=new sp;return Object.assign(h,m),h})}}async update(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Yb(this.apiClient,e);return u=Q("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>of(this.apiClient,d))}else{const f=XA(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>lf(this.apiClient,d))}}async delete(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Zb(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(()=>{const d=H2(),m=new ap;return Object.assign(m,d),m})}else{const f=QA(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(()=>{const d=y2(),m=new ap;return Object.assign(m,d),m})}}async countTokens(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Jb(this.apiClient,e);return u=Q("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const m=F2(this.apiClient,d),h=new rp;return Object.assign(h,m),h})}else{const f=jA(this.apiClient,e);return u=Q("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const m=v2(this.apiClient,d),h=new rp;return Object.assign(h,m),h})}}async computeTokens(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Xb(this.apiClient,e);return o=Q("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=Y2(this.apiClient,c),d=new FS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=jb(this.apiClient,e);return u=Q("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>X2(this.apiClient,d))}else{const f=nb(this.apiClient,e);return u=Q("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>C2(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CM(n,e){const t={},i=a(e,["operationName"]);i!=null&&r(t,["_url","operationName"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function _M(n,e){const t={},i=a(e,["operationName"]);i!=null&&r(t,["_url","operationName"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function EM(n,e){const t={},i=a(e,["operationName"]);i!=null&&r(t,["operationName"],i);const l=a(e,["resourceName"]);l!=null&&r(t,["_url","resourceName"],l);const o=a(e,["config"]);return o!=null&&r(t,["config"],o),t}function AM(n,e){const t={},i=a(e,["video","uri"]);i!=null&&r(t,["uri"],i);const l=a(e,["video","encodedVideo"]);l!=null&&r(t,["videoBytes"],si(n,l));const o=a(e,["encoding"]);return o!=null&&r(t,["mimeType"],o),t}function bM(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],AM(n,i)),t}function MM(n,e){const t={},i=a(e,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>bM(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function wM(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response","generateVideoResponse"]);return u!=null&&r(t,["response"],MM(n,u)),t}function NM(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["uri"],i);const l=a(e,["bytesBase64Encoded"]);l!=null&&r(t,["videoBytes"],si(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function RM(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],NM(n,i)),t}function DM(n,e){const t={},i=a(e,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>RM(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function Ip(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],DM(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kM extends No{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=t.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:l,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})}async getVideosOperationInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=_M(this.apiClient,e);return u=Q("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Ip(this.apiClient,d))}else{const f=CM(this.apiClient,e);return u=Q("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>wM(this.apiClient,d))}}async fetchPredictVideosOperationInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=EM(this.apiClient,e);return o=Q("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>Ip(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IM(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function C0(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],IM(n,i)),t}function UM(n,e){const t={},i=a(e,["speaker"]);i!=null&&r(t,["speaker"],i);const l=a(e,["voiceConfig"]);return l!=null&&r(t,["voiceConfig"],C0(n,l)),t}function LM(n,e){const t={},i=a(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>UM(n,o))),r(t,["speakerVoiceConfigs"],l)}return t}function OM(n,e){const t={},i=a(e,["voiceConfig"]);i!=null&&r(t,["voiceConfig"],C0(n,i));const l=a(e,["multiSpeakerVoiceConfig"]);l!=null&&r(t,["multiSpeakerVoiceConfig"],LM(n,l));const o=a(e,["languageCode"]);return o!=null&&r(t,["languageCode"],o),t}function VM(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function $M(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function BM(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function PM(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],VM(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],$M(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],BM(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function zM(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>PM(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function GM(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function qM(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function HM(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],qM(n,i)),t}function FM(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function YM(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],FM(n,i)),t}function ZM(){return{}}function KM(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>GM(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],HM(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],YM(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],ZM());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function JM(n,e){const t={},i=a(e,["handle"]);if(i!=null&&r(t,["handle"],i),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Up(){return{}}function XM(n,e){const t={},i=a(e,["disabled"]);i!=null&&r(t,["disabled"],i);const l=a(e,["startOfSpeechSensitivity"]);l!=null&&r(t,["startOfSpeechSensitivity"],l);const o=a(e,["endOfSpeechSensitivity"]);o!=null&&r(t,["endOfSpeechSensitivity"],o);const s=a(e,["prefixPaddingMs"]);s!=null&&r(t,["prefixPaddingMs"],s);const u=a(e,["silenceDurationMs"]);return u!=null&&r(t,["silenceDurationMs"],u),t}function QM(n,e){const t={},i=a(e,["automaticActivityDetection"]);i!=null&&r(t,["automaticActivityDetection"],XM(n,i));const l=a(e,["activityHandling"]);l!=null&&r(t,["activityHandling"],l);const o=a(e,["turnCoverage"]);return o!=null&&r(t,["turnCoverage"],o),t}function WM(n,e){const t={},i=a(e,["targetTokens"]);return i!=null&&r(t,["targetTokens"],i),t}function jM(n,e){const t={},i=a(e,["triggerTokens"]);i!=null&&r(t,["triggerTokens"],i);const l=a(e,["slidingWindow"]);return l!=null&&r(t,["slidingWindow"],WM(n,l)),t}function ew(n,e){const t={},i=a(e,["proactiveAudio"]);return i!=null&&r(t,["proactiveAudio"],i),t}function tw(n,e,t){const i={},l=a(e,["generationConfig"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig"],l);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const s=a(e,["temperature"]);t!==void 0&&s!=null&&r(t,["setup","generationConfig","temperature"],s);const u=a(e,["topP"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topP"],u);const c=a(e,["topK"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","maxOutputTokens"],f);const d=a(e,["mediaResolution"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","mediaResolution"],d);const m=a(e,["seed"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","seed"],m);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","speechConfig"],OM(n,dd(n,h)));const p=a(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],p);const x=a(e,["systemInstruction"]);t!==void 0&&x!=null&&r(t,["setup","systemInstruction"],zM(n,Ut(n,x)));const S=a(e,["tools"]);if(t!==void 0&&S!=null){let N=Xs(n,S);Array.isArray(N)&&(N=N.map(M=>KM(n,Js(n,M)))),r(t,["setup","tools"],N)}const _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],JM(n,_));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],Up());const v=a(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&r(t,["setup","outputAudioTranscription"],Up());const T=a(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&r(t,["setup","realtimeInputConfig"],QM(n,T));const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&r(t,["setup","contextWindowCompression"],jM(n,C));const b=a(e,["proactivity"]);return t!==void 0&&b!=null&&r(t,["setup","proactivity"],ew(n,b)),i}function nw(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["setup","model"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],tw(n,l,t)),t}function iw(n,e,t){const i={},l=a(e,["expireTime"]);t!==void 0&&l!=null&&r(t,["expireTime"],l);const o=a(e,["newSessionExpireTime"]);t!==void 0&&o!=null&&r(t,["newSessionExpireTime"],o);const s=a(e,["uses"]);t!==void 0&&s!=null&&r(t,["uses"],s);const u=a(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&r(t,["bidiGenerateContentSetup"],nw(n,u));const c=a(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&r(t,["fieldMask"],c),i}function lw(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],iw(n,i,t)),t}function ow(n,e){const t={},i=a(e,["name"]);return i!=null&&r(t,["name"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sw(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(o=>`${t}.${o}`);e.push(...l)}else e.push(t)}return e.join(",")}function aw(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(n.bidiGenerateContentSetup=o,t=o):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const l=n.fieldMask;if(t){const o=sw(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?n.fieldMask=o:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];l.length>0&&(u=l.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?n.fieldMask=l.join(","):delete n.fieldMask;return n}class rw extends No{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=lw(this.apiClient,e);o=Q("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=aw(u,e.config);return l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>ow(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uw(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function cw(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);return t!==void 0&&s!=null&&r(t,["_query","filter"],s),i}function fw(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],cw(n,i,t)),t}function dw(n,e){const t={},i=a(e,["textInput"]);i!=null&&r(t,["textInput"],i);const l=a(e,["output"]);return l!=null&&r(t,["output"],l),t}function hw(n,e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=a(e,["examples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>dw(n,o))),r(t,["examples","examples"],l)}return t}function mw(n,e,t){const i={};if(a(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=a(e,["tunedModelDisplayName"]);if(t!==void 0&&l!=null&&r(t,["displayName"],l),a(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=a(e,["epochCount"]);t!==void 0&&o!=null&&r(t,["tuningTask","hyperparameters","epochCount"],o);const s=a(e,["learningRateMultiplier"]);if(s!=null&&r(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=a(e,["batchSize"]);t!==void 0&&u!=null&&r(t,["tuningTask","hyperparameters","batchSize"],u);const c=a(e,["learningRate"]);return t!==void 0&&c!=null&&r(t,["tuningTask","hyperparameters","learningRate"],c),i}function pw(n,e){const t={},i=a(e,["baseModel"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["trainingDataset"]);l!=null&&r(t,["tuningTask","trainingData"],hw(n,l));const o=a(e,["config"]);return o!=null&&r(t,["config"],mw(n,o,t)),t}function gw(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function yw(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);return t!==void 0&&s!=null&&r(t,["_query","filter"],s),i}function vw(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],yw(n,i,t)),t}function xw(n,e,t){const i={},l=a(e,["gcsUri"]);if(t!==void 0&&l!=null&&r(t,["supervisedTuningSpec","trainingDatasetUri"],l),a(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Tw(n,e){const t={},i=a(e,["gcsUri"]);return i!=null&&r(t,["validationDatasetUri"],i),t}function Sw(n,e,t){const i={},l=a(e,["validationDataset"]);t!==void 0&&l!=null&&r(t,["supervisedTuningSpec"],Tw(n,l));const o=a(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&r(t,["tunedModelDisplayName"],o);const s=a(e,["description"]);t!==void 0&&s!=null&&r(t,["description"],s);const u=a(e,["epochCount"]);t!==void 0&&u!=null&&r(t,["supervisedTuningSpec","hyperParameters","epochCount"],u);const c=a(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&r(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const f=a(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&r(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const d=a(e,["adapterSize"]);if(t!==void 0&&d!=null&&r(t,["supervisedTuningSpec","hyperParameters","adapterSize"],d),a(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function Cw(n,e){const t={},i=a(e,["baseModel"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["trainingDataset"]);l!=null&&r(t,["supervisedTuningSpec","trainingDatasetUri"],xw(n,l,t));const o=a(e,["config"]);return o!=null&&r(t,["config"],Sw(n,o,t)),t}function _w(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["model"],i);const l=a(e,["name"]);return l!=null&&r(t,["endpoint"],l),t}function _0(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["state"]);l!=null&&r(t,["state"],o0(n,l));const o=a(e,["createTime"]);o!=null&&r(t,["createTime"],o);const s=a(e,["tuningTask","startTime"]);s!=null&&r(t,["startTime"],s);const u=a(e,["tuningTask","completeTime"]);u!=null&&r(t,["endTime"],u);const c=a(e,["updateTime"]);c!=null&&r(t,["updateTime"],c);const f=a(e,["description"]);f!=null&&r(t,["description"],f);const d=a(e,["baseModel"]);d!=null&&r(t,["baseModel"],d);const m=a(e,["_self"]);m!=null&&r(t,["tunedModel"],_w(n,m));const h=a(e,["distillationSpec"]);h!=null&&r(t,["distillationSpec"],h);const p=a(e,["experiment"]);p!=null&&r(t,["experiment"],p);const x=a(e,["labels"]);x!=null&&r(t,["labels"],x);const S=a(e,["pipelineJob"]);S!=null&&r(t,["pipelineJob"],S);const _=a(e,["serviceAccount"]);_!=null&&r(t,["serviceAccount"],_);const y=a(e,["tunedModelDisplayName"]);return y!=null&&r(t,["tunedModelDisplayName"],y),t}function Ew(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["tunedModels"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>_0(n,s))),r(t,["tuningJobs"],o)}return t}function Aw(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);return s!=null&&r(t,["error"],s),t}function bw(n,e){const t={},i=a(e,["checkpointId"]);i!=null&&r(t,["checkpointId"],i);const l=a(e,["epoch"]);l!=null&&r(t,["epoch"],l);const o=a(e,["step"]);o!=null&&r(t,["step"],o);const s=a(e,["endpoint"]);return s!=null&&r(t,["endpoint"],s),t}function Mw(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["model"],i);const l=a(e,["endpoint"]);l!=null&&r(t,["endpoint"],l);const o=a(e,["checkpoints"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>bw(n,u))),r(t,["checkpoints"],s)}return t}function rf(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["state"]);l!=null&&r(t,["state"],o0(n,l));const o=a(e,["createTime"]);o!=null&&r(t,["createTime"],o);const s=a(e,["startTime"]);s!=null&&r(t,["startTime"],s);const u=a(e,["endTime"]);u!=null&&r(t,["endTime"],u);const c=a(e,["updateTime"]);c!=null&&r(t,["updateTime"],c);const f=a(e,["error"]);f!=null&&r(t,["error"],f);const d=a(e,["description"]);d!=null&&r(t,["description"],d);const m=a(e,["baseModel"]);m!=null&&r(t,["baseModel"],m);const h=a(e,["tunedModel"]);h!=null&&r(t,["tunedModel"],Mw(n,h));const p=a(e,["supervisedTuningSpec"]);p!=null&&r(t,["supervisedTuningSpec"],p);const x=a(e,["tuningDataStats"]);x!=null&&r(t,["tuningDataStats"],x);const S=a(e,["encryptionSpec"]);S!=null&&r(t,["encryptionSpec"],S);const _=a(e,["partnerModelTuningSpec"]);_!=null&&r(t,["partnerModelTuningSpec"],_);const y=a(e,["distillationSpec"]);y!=null&&r(t,["distillationSpec"],y);const v=a(e,["experiment"]);v!=null&&r(t,["experiment"],v);const T=a(e,["labels"]);T!=null&&r(t,["labels"],T);const C=a(e,["pipelineJob"]);C!=null&&r(t,["pipelineJob"],C);const b=a(e,["serviceAccount"]);b!=null&&r(t,["serviceAccount"],b);const N=a(e,["tunedModelDisplayName"]);return N!=null&&r(t,["tunedModelDisplayName"],N),t}function ww(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["tuningJobs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>rf(n,s))),r(t,["tuningJobs"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nw extends No{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Kr(To.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const i=await this.tuneMldevInternal(t);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Wc.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=gw(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>rf(this.apiClient,d))}else{const f=uw(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>_0(this.apiClient,d))}}async listInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=vw(this.apiClient,e);return u=Q("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const m=ww(this.apiClient,d),h=new up;return Object.assign(h,m),h})}else{const f=fw(this.apiClient,e);return u=Q("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const m=Ew(this.apiClient,d),h=new up;return Object.assign(h,m),h})}}async tuneInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Cw(this.apiClient,e);return o=Q("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>rf(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pw(this.apiClient,e);return o=Q("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>Aw(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rw{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Dw=1024*1024*8,kw=3,Iw=1e3,Uw=2,zu="x-goog-upload-status";async function Lw(n,e,t){var i,l,o;let s=0,u=0,c=new jc(new Response),f="upload";for(s=n.size;u<s;){const m=Math.min(Dw,s-u),h=n.slice(u,u+m);u+m>=s&&(f+=", finalize");let p=0,x=Iw;for(;p<kw&&(c=await t.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[zu]));)p++,await Vw(x),x=x*Uw;if(u+=m,((l=c==null?void 0:c.headers)===null||l===void 0?void 0:l[zu])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[zu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function Ow(n){return{size:n.size,type:n.type}}function Vw(n){return new Promise(e=>setTimeout(e,n))}class $w{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Lw(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ow(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bw{create(e,t,i){return new Pw(e,t,i)}}class Pw{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lp="x-goog-api-key";class zw{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Lp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Lp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gw="gl-node/";class E0{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=GS(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const l=new zw(this.apiKey);this.apiClient=new lM({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Gw+"web",uploader:new $w,downloader:new Rw}),this.models=new SM(this.apiClient),this.live=new gM(this.apiClient,l,new Bw),this.chats=new p_(this.models,this.apiClient),this.caches=new d_(this.apiClient),this.files=new w_(this.apiClient),this.operations=new kM(this.apiClient),this.authTokens=new rw(this.apiClient),this.tunings=new Nw(this.apiClient)}}function gd(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Tl=gd();function A0(n){Tl=n}const b0=/[&<>"']/,qw=new RegExp(b0.source,"g"),M0=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Hw=new RegExp(M0.source,"g"),Fw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Op=n=>Fw[n];function Xt(n,e){if(e){if(b0.test(n))return n.replace(qw,Op)}else if(M0.test(n))return n.replace(Hw,Op);return n}const Yw=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Zw(n){return n.replace(Yw,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Kw=/(^|[^\[])\^/g;function De(n,e){let t=typeof n=="string"?n:n.source;e=e||"";const i={replace:(l,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(Kw,"$1"),t=t.replace(l,s),i},getRegex:()=>new RegExp(t,e)};return i}function Vp(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const hs={exec:()=>null};function $p(n,e){const t=n.replace(/\|/g,(o,s,u)=>{let c=!1,f=s;for(;--f>=0&&u[f]==="\\";)c=!c;return c?"|":" |"}),i=t.split(/ \|/);let l=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;l<i.length;l++)i[l]=i[l].trim().replace(/\\\|/g,"|");return i}function qo(n,e,t){const i=n.length;if(i===0)return"";let l=0;for(;l<i&&n.charAt(i-l-1)===e;)l++;return n.slice(0,i-l)}function Jw(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let i=0;i<n.length;i++)if(n[i]==="\\")i++;else if(n[i]===e[0])t++;else if(n[i]===e[1]&&(t--,t<0))return i;return-1}function Bp(n,e,t,i){const l=e.href,o=e.title?Xt(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const u={type:"link",raw:t,href:l,title:o,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,u}return{type:"image",raw:t,href:l,title:o,text:Xt(s)}}function Xw(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(l=>{const o=l.match(/^\s+/);if(o===null)return l;const[s]=o;return s.length>=i.length?l.slice(i.length):l}).join(`
`)}class Er{constructor(e){Ve(this,"options");Ve(this,"rules");Ve(this,"lexer");this.options=e||Tl}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:qo(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],l=Xw(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:l}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const l=qo(i,"#");(this.options.pedantic||!l||/ $/.test(l))&&(i=l.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:qo(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let i=qo(t[0],`
`).split(`
`),l="",o="";const s=[];for(;i.length>0;){let u=!1;const c=[];let f;for(f=0;f<i.length;f++)if(/^ {0,3}>/.test(i[f]))c.push(i[f]),u=!0;else if(!u)c.push(i[f]);else break;i=i.slice(f);const d=c.join(`
`),m=d.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");l=l?`${l}
${d}`:d,o=o?`${o}
${m}`:m;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(m,s,!0),this.lexer.state.top=h,i.length===0)break;const p=s[s.length-1];if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){const x=p,S=x.raw+`
`+i.join(`
`),_=this.blockquote(S);s[s.length-1]=_,l=l.substring(0,l.length-x.raw.length)+_.raw,o=o.substring(0,o.length-x.text.length)+_.text;break}else if((p==null?void 0:p.type)==="list"){const x=p,S=x.raw+`
`+i.join(`
`),_=this.list(S);s[s.length-1]=_,l=l.substring(0,l.length-p.raw.length)+_.raw,o=o.substring(0,o.length-x.raw.length)+_.raw,i=S.substring(s[s.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:s,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const l=i.length>1,o={type:"list",raw:"",ordered:l,start:l?+i.slice(0,-1):"",loose:!1,items:[]};i=l?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=l?i:"[*+-]");const s=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`);let u=!1;for(;e;){let c=!1,f="",d="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;f=t[0],e=e.substring(f.length);let m=t[2].split(`
`,1)[0].replace(/^\t+/,y=>" ".repeat(3*y.length)),h=e.split(`
`,1)[0],p=!m.trim(),x=0;if(this.options.pedantic?(x=2,d=m.trimStart()):p?x=t[1].length+1:(x=t[2].search(/[^ ]/),x=x>4?1:x,d=m.slice(x),x+=t[1].length),p&&/^ *$/.test(h)&&(f+=h+`
`,e=e.substring(h.length+1),c=!0),!c){const y=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),v=new RegExp(`^ {0,${Math.min(3,x-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),T=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:\`\`\`|~~~)`),C=new RegExp(`^ {0,${Math.min(3,x-1)}}#`);for(;e;){const b=e.split(`
`,1)[0];if(h=b,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),T.test(h)||C.test(h)||y.test(h)||v.test(e))break;if(h.search(/[^ ]/)>=x||!h.trim())d+=`
`+h.slice(x);else{if(p||m.search(/[^ ]/)>=4||T.test(m)||C.test(m)||v.test(m))break;d+=`
`+h}!p&&!h.trim()&&(p=!0),f+=b+`
`,e=e.substring(b.length+1),m=h.slice(x)}}o.loose||(u?o.loose=!0:/\n *\n *$/.test(f)&&(u=!0));let S=null,_;this.options.gfm&&(S=/^\[[ xX]\] /.exec(d),S&&(_=S[0]!=="[ ] ",d=d.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:f,task:!!S,checked:_,loose:!1,text:d,tokens:[]}),o.raw+=f}o.items[o.items.length-1].raw=o.items[o.items.length-1].raw.trimEnd(),o.items[o.items.length-1].text=o.items[o.items.length-1].text.trimEnd(),o.raw=o.raw.trimEnd();for(let c=0;c<o.items.length;c++)if(this.lexer.state.top=!1,o.items[c].tokens=this.lexer.blockTokens(o.items[c].text,[]),!o.loose){const f=o.items[c].tokens.filter(m=>m.type==="space"),d=f.length>0&&f.some(m=>/\n.*\n/.test(m.raw));o.loose=d}if(o.loose)for(let c=0;c<o.items.length;c++)o.items[c].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),l=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:l,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const i=$p(t[1]),l=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===l.length){for(const u of l)/^ *-+: *$/.test(u)?s.align.push("right"):/^ *:-+: *$/.test(u)?s.align.push("center"):/^ *:-+ *$/.test(u)?s.align.push("left"):s.align.push(null);for(let u=0;u<i.length;u++)s.header.push({text:i[u],tokens:this.lexer.inline(i[u]),header:!0,align:s.align[u]});for(const u of o)s.rows.push($p(u,s.header.length).map((c,f)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:s.align[f]})));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Xt(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const s=qo(i.slice(0,-1),"\\");if((i.length-s.length)%2===0)return}else{const s=Jw(t[2],"()");if(s>-1){const c=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let l=t[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);s&&(l=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(i)?l=l.slice(1):l=l.slice(1,-1)),Bp(t,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const l=(i[2]||i[1]).replace(/\s+/g," "),o=t[l.toLowerCase()];if(!o){const s=i[0].charAt(0);return{type:"text",raw:s,text:s}}return Bp(i,o,i[0],this.lexer)}}emStrong(e,t,i=""){let l=this.rules.inline.emStrongLDelim.exec(e);if(!l||l[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(l[1]||l[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const s=[...l[0]].length-1;let u,c,f=s,d=0;const m=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(m.lastIndex=0,t=t.slice(-1*e.length+s);(l=m.exec(t))!=null;){if(u=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!u)continue;if(c=[...u].length,l[3]||l[4]){f+=c;continue}else if((l[5]||l[6])&&s%3&&!((s+c)%3)){d+=c;continue}if(f-=c,f>0)continue;c=Math.min(c,c+f+d);const h=[...l[0]][0].length,p=e.slice(0,s+l.index+h+c);if(Math.min(s,c)%2){const S=p.slice(1,-1);return{type:"em",raw:p,text:S,tokens:this.lexer.inlineTokens(S)}}const x=p.slice(2,-2);return{type:"strong",raw:p,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const l=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return l&&o&&(i=i.substring(1,i.length-1)),i=Xt(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let i,l;return t[2]==="@"?(i=Xt(t[1]),l="mailto:"+i):(i=Xt(t[1]),l=i),{type:"link",raw:t[0],text:i,href:l,tokens:[{type:"text",raw:i,text:i}]}}}url(e){var i;let t;if(t=this.rules.inline.url.exec(e)){let l,o;if(t[2]==="@")l=Xt(t[0]),o="mailto:"+l;else{let s;do s=t[0],t[0]=((i=this.rules.inline._backpedal.exec(t[0]))==null?void 0:i[0])??"";while(s!==t[0]);l=Xt(t[0]),t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:l,href:o,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let i;return this.lexer.state.inRawBlock?i=t[0]:i=Xt(t[0]),{type:"text",raw:t[0],text:i}}}}const Qw=/^(?: *(?:\n|$))+/,Ww=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,jw=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Qs=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,eN=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,w0=/(?:[*+-]|\d{1,9}[.)])/,N0=De(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,w0).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),yd=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,tN=/^[^\n]+/,vd=/(?!\s*\])(?:\\.|[^\[\]\\])+/,nN=De(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",vd).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),iN=De(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,w0).getRegex(),Qr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",xd=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,lN=De("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",xd).replace("tag",Qr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),R0=De(yd).replace("hr",Qs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qr).getRegex(),oN=De(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",R0).getRegex(),Td={blockquote:oN,code:Ww,def:nN,fences:jw,heading:eN,hr:Qs,html:lN,lheading:N0,list:iN,newline:Qw,paragraph:R0,table:hs,text:tN},Pp=De("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Qs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qr).getRegex(),sN={...Td,table:Pp,paragraph:De(yd).replace("hr",Qs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Pp).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qr).getRegex()},aN={...Td,html:De(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",xd).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:hs,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:De(yd).replace("hr",Qs).replace("heading",` *#{1,6} *[^
]`).replace("lheading",N0).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},D0=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,rN=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,k0=/^( {2,}|\\)\n(?!\s*$)/,uN=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ws="\\p{P}\\p{S}",cN=De(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Ws).getRegex(),fN=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,dN=De(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Ws).getRegex(),hN=De("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Ws).getRegex(),mN=De("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Ws).getRegex(),pN=De(/\\([punct])/,"gu").replace(/punct/g,Ws).getRegex(),gN=De(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),yN=De(xd).replace("(?:-->|$)","-->").getRegex(),vN=De("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",yN).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ar=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,xN=De(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ar).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),I0=De(/^!?\[(label)\]\[(ref)\]/).replace("label",Ar).replace("ref",vd).getRegex(),U0=De(/^!?\[(ref)\](?:\[\])?/).replace("ref",vd).getRegex(),TN=De("reflink|nolink(?!\\()","g").replace("reflink",I0).replace("nolink",U0).getRegex(),Sd={_backpedal:hs,anyPunctuation:pN,autolink:gN,blockSkip:fN,br:k0,code:rN,del:hs,emStrongLDelim:dN,emStrongRDelimAst:hN,emStrongRDelimUnd:mN,escape:D0,link:xN,nolink:U0,punctuation:cN,reflink:I0,reflinkSearch:TN,tag:vN,text:uN,url:hs},SN={...Sd,link:De(/^!?\[(label)\]\((.*?)\)/).replace("label",Ar).getRegex(),reflink:De(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ar).getRegex()},uf={...Sd,escape:De(D0).replace("])","~|])").getRegex(),url:De(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},CN={...uf,br:De(k0).replace("{2,}","*").getRegex(),text:De(uf.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},xa={normal:Td,gfm:sN,pedantic:aN},Ho={normal:Sd,gfm:uf,breaks:CN,pedantic:SN};class Rn{constructor(e){Ve(this,"tokens");Ve(this,"options");Ve(this,"state");Ve(this,"tokenizer");Ve(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Tl,this.options.tokenizer=this.options.tokenizer||new Er,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:xa.normal,inline:Ho.normal};this.options.pedantic?(t.block=xa.pedantic,t.inline=Ho.pedantic):this.options.gfm&&(t.block=xa.gfm,this.options.breaks?t.inline=Ho.breaks:t.inline=Ho.gfm),this.tokenizer.rules=t}static get rules(){return{block:xa,inline:Ho}}static lex(e,t){return new Rn(t).lex(e)}static lexInline(e,t){return new Rn(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],i=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(u,c,f)=>c+"    ".repeat(f.length));let l,o,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(l=u.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))){if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length),l.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+l.raw,o.text+=`
`+l.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+l.raw,o.text+=`
`+l.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let u=1/0;const c=e.slice(1);let f;this.options.extensions.startBlock.forEach(d=>{f=d.call({lexer:this},c),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(this.state.top&&(l=this.tokenizer.paragraph(s))){o=t[t.length-1],i&&(o==null?void 0:o.type)==="paragraph"?(o.raw+=`
`+l.raw,o.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(l),i=s.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length),o=t[t.length-1],o&&o.type==="text"?(o.raw+=`
`+l.raw,o.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(l);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,l,o,s=e,u,c,f;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)d.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,u.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(i=d.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),l=t[t.length-1],l&&i.type==="text"&&l.type==="text"?(l.raw+=i.raw,l.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),l=t[t.length-1],l&&i.type==="text"&&l.type==="text"?(l.raw+=i.raw,l.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,s,f)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const m=e.slice(1);let h;this.options.extensions.startInline.forEach(p=>{h=p.call({lexer:this},m),typeof h=="number"&&h>=0&&(d=Math.min(d,h))}),d<1/0&&d>=0&&(o=e.substring(0,d+1))}if(i=this.tokenizer.inlineText(o)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(f=i.raw.slice(-1)),c=!0,l=t[t.length-1],l&&l.type==="text"?(l.raw+=i.raw,l.text+=i.text):t.push(i);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}}class br{constructor(e){Ve(this,"options");Ve(this,"parser");this.options=e||Tl}space(e){return""}code({text:e,lang:t,escaped:i}){var s;const l=(s=(t||"").match(/^\S*/))==null?void 0:s[0],o=e.replace(/\n$/,"")+`
`;return l?'<pre><code class="language-'+Xt(l)+'">'+(i?o:Xt(o,!0))+`</code></pre>
`:"<pre><code>"+(i?o:Xt(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,i=e.start;let l="";for(let u=0;u<e.items.length;u++){const c=e.items[u];l+=this.listitem(c)}const o=t?"ol":"ul",s=t&&i!==1?' start="'+i+'"':"";return"<"+o+s+`>
`+l+"</"+o+`>
`}listitem(e){let t="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" "}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",i="";for(let o=0;o<e.header.length;o++)i+=this.tablecell(e.header[o]);t+=this.tablerow({text:i});let l="";for(let o=0;o<e.rows.length;o++){const s=e.rows[o];i="";for(let u=0;u<s.length;u++)i+=this.tablecell(s[u]);l+=this.tablerow({text:i})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+l+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+t+`</${i}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:i}){const l=this.parser.parseInline(i),o=Vp(e);if(o===null)return l;e=o;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+l+"</a>",s}image({href:e,title:t,text:i}){const l=Vp(e);if(l===null)return i;e=l;let o=`<img src="${e}" alt="${i}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class Cd{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Dn{constructor(e){Ve(this,"options");Ve(this,"renderer");Ve(this,"textRenderer");this.options=e||Tl,this.options.renderer=this.options.renderer||new br,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Cd}static parse(e,t){return new Dn(t).parse(e)}static parseInline(e,t){return new Dn(t).parseInline(e)}parse(e,t=!0){let i="";for(let l=0;l<e.length;l++){const o=e[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const u=o,c=this.options.extensions.renderers[u.type].call({parser:this},u);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){i+=c||"";continue}}const s=o;switch(s.type){case"space":{i+=this.renderer.space(s);continue}case"hr":{i+=this.renderer.hr(s);continue}case"heading":{i+=this.renderer.heading(s);continue}case"code":{i+=this.renderer.code(s);continue}case"table":{i+=this.renderer.table(s);continue}case"blockquote":{i+=this.renderer.blockquote(s);continue}case"list":{i+=this.renderer.list(s);continue}case"html":{i+=this.renderer.html(s);continue}case"paragraph":{i+=this.renderer.paragraph(s);continue}case"text":{let u=s,c=this.renderer.text(u);for(;l+1<e.length&&e[l+1].type==="text";)u=e[++l],c+=`
`+this.renderer.text(u);t?i+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c}]}):i+=c;continue}default:{const u='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let l=0;l<e.length;l++){const o=e[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=u||"";continue}}const s=o;switch(s.type){case"escape":{i+=t.text(s);break}case"html":{i+=t.html(s);break}case"link":{i+=t.link(s);break}case"image":{i+=t.image(s);break}case"strong":{i+=t.strong(s);break}case"em":{i+=t.em(s);break}case"codespan":{i+=t.codespan(s);break}case"br":{i+=t.br(s);break}case"del":{i+=t.del(s);break}case"text":{i+=t.text(s);break}default:{const u='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}}class ms{constructor(e){Ve(this,"options");this.options=e||Tl}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}Ve(ms,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var li,L0,cf,O0;class _N{constructor(...e){Ud(this,li);Ve(this,"defaults",gd());Ve(this,"options",this.setOptions);Ve(this,"parse",Io(this,li,cf).call(this,Rn.lex,Dn.parse));Ve(this,"parseInline",Io(this,li,cf).call(this,Rn.lexInline,Dn.parseInline));Ve(this,"Parser",Dn);Ve(this,"Renderer",br);Ve(this,"TextRenderer",Cd);Ve(this,"Lexer",Rn);Ve(this,"Tokenizer",Er);Ve(this,"Hooks",ms);this.use(...e)}walkTokens(e,t){var l,o;let i=[];for(const s of e)switch(i=i.concat(t.call(this,s)),s.type){case"table":{const u=s;for(const c of u.header)i=i.concat(this.walkTokens(c.tokens,t));for(const c of u.rows)for(const f of c)i=i.concat(this.walkTokens(f.tokens,t));break}case"list":{const u=s;i=i.concat(this.walkTokens(u.items,t));break}default:{const u=s;(o=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&o[u.type]?this.defaults.extensions.childTokens[u.type].forEach(c=>{const f=u[c].flat(1/0);i=i.concat(this.walkTokens(f,t))}):u.tokens&&(i=i.concat(this.walkTokens(u.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const l={...i};if(l.async=this.defaults.async||l.async||!1,i.extensions&&(i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const s=t.renderers[o.name];s?t.renderers[o.name]=function(...u){let c=o.renderer.apply(this,u);return c===!1&&(c=s.apply(this,u)),c}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=t[o.level];s?s.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),l.extensions=t),i.renderer){const o=this.defaults.renderer||new br(this.defaults);for(const s in i.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const u=s;let c=i.renderer[u];i.useNewRenderer||(c=Io(this,li,L0).call(this,c,u,o));const f=o[u];o[u]=(...d)=>{let m=c.apply(o,d);return m===!1&&(m=f.apply(o,d)),m||""}}l.renderer=o}if(i.tokenizer){const o=this.defaults.tokenizer||new Er(this.defaults);for(const s in i.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const u=s,c=i.tokenizer[u],f=o[u];o[u]=(...d)=>{let m=c.apply(o,d);return m===!1&&(m=f.apply(o,d)),m}}l.tokenizer=o}if(i.hooks){const o=this.defaults.hooks||new ms;for(const s in i.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;const u=s,c=i.hooks[u],f=o[u];ms.passThroughHooks.has(s)?o[u]=d=>{if(this.defaults.async)return Promise.resolve(c.call(o,d)).then(h=>f.call(o,h));const m=c.call(o,d);return f.call(o,m)}:o[u]=(...d)=>{let m=c.apply(o,d);return m===!1&&(m=f.apply(o,d)),m}}l.hooks=o}if(i.walkTokens){const o=this.defaults.walkTokens,s=i.walkTokens;l.walkTokens=function(u){let c=[];return c.push(s.call(this,u)),o&&(c=c.concat(o.call(this,u))),c}}this.defaults={...this.defaults,...l}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Rn.lex(e,t??this.defaults)}parser(e,t){return Dn.parse(e,t??this.defaults)}}li=new WeakSet,L0=function(e,t,i){switch(t){case"heading":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,i.parser.parseInline(l.tokens),l.depth,Zw(i.parser.parseInline(l.tokens,i.parser.textRenderer)))};case"code":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text,l.lang,!!l.escaped)};case"table":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);let o="",s="";for(let c=0;c<l.header.length;c++)s+=this.tablecell({text:l.header[c].text,tokens:l.header[c].tokens,header:!0,align:l.align[c]});o+=this.tablerow({text:s});let u="";for(let c=0;c<l.rows.length;c++){const f=l.rows[c];s="";for(let d=0;d<f.length;d++)s+=this.tablecell({text:f[d].text,tokens:f[d].tokens,header:!1,align:l.align[d]});u+=this.tablerow({text:s})}return e.call(this,o,u)};case"blockquote":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);const o=this.parser.parse(l.tokens);return e.call(this,o)};case"list":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);const o=l.ordered,s=l.start,u=l.loose;let c="";for(let f=0;f<l.items.length;f++){const d=l.items[f],m=d.checked,h=d.task;let p="";if(d.task){const x=this.checkbox({checked:!!m});u?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=x+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=x+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:x+" "}):p+=x+" "}p+=this.parser.parse(d.tokens,u),c+=this.listitem({type:"list_item",raw:p,text:p,task:h,checked:!!m,loose:u,tokens:d.tokens})}return e.call(this,c,o,s)};case"html":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text,l.block)};case"paragraph":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"escape":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)};case"link":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.href,l.title,this.parser.parseInline(l.tokens))};case"image":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.href,l.title,l.text)};case"strong":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"em":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"codespan":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)};case"del":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"text":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)}}return e},cf=function(e,t){return(i,l)=>{const o={...l},s={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const u=Io(this,li,O0).call(this,!!s.silent,!!s.async);if(typeof i>"u"||i===null)return u(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return u(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(i):i).then(c=>e(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>t(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(u);try{s.hooks&&(i=s.hooks.preprocess(i));let c=e(i,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let f=t(c,s);return s.hooks&&(f=s.hooks.postprocess(f)),f}catch(c){return u(c)}}},O0=function(e,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const l="<p>An error occurred:</p><pre>"+Xt(i.message+"",!0)+"</pre>";return t?Promise.resolve(l):l}if(t)return Promise.reject(i);throw i}};const pl=new _N;function Ae(n,e){return pl.parse(n,e)}Ae.options=Ae.setOptions=function(n){return pl.setOptions(n),Ae.defaults=pl.defaults,A0(Ae.defaults),Ae};Ae.getDefaults=gd;Ae.defaults=Tl;Ae.use=function(...n){return pl.use(...n),Ae.defaults=pl.defaults,A0(Ae.defaults),Ae};Ae.walkTokens=function(n,e){return pl.walkTokens(n,e)};Ae.parseInline=pl.parseInline;Ae.Parser=Dn;Ae.parser=Dn.parse;Ae.Renderer=br;Ae.TextRenderer=Cd;Ae.Lexer=Rn;Ae.lexer=Rn.lex;Ae.Tokenizer=Er;Ae.Hooks=ms;Ae.parse=Ae;Ae.options;Ae.setOptions;Ae.use;Ae.walkTokens;Ae.parseInline;Dn.parse;Rn.lex;const Gu="smartcalendar:geminiApiKey",qu="smartcalendar:openRouterApiKey",zp="smartcalendar:aiProviderPreference",Hu="smartcalendar:openRouterModel",V0=A.createContext(void 0);function EN({children:n}){const[e,t]=A.useState(()=>(localStorage.getItem(Gu)??"").trim()),[i,l]=A.useState(()=>(localStorage.getItem(qu)??"").trim()),[o,s]=A.useState(()=>{const _=(localStorage.getItem(zp)??"").trim();return _==="auto"||_==="gemini"||_==="openrouter"?_:"auto"}),[u,c]=A.useState(()=>(localStorage.getItem(Hu)??"").trim()),f=A.useCallback(_=>{const y=_.trim();t(y),y?localStorage.setItem(Gu,y):localStorage.removeItem(Gu)},[]),d=A.useCallback(_=>{const y=_.trim();l(y),y?localStorage.setItem(qu,y):localStorage.removeItem(qu)},[]),m=A.useCallback(_=>{s(_),localStorage.setItem(zp,_)},[]),h=A.useCallback(_=>{const y=_.trim();c(y),y?localStorage.setItem(Hu,y):localStorage.removeItem(Hu)},[]),p=A.useCallback(()=>{f("")},[f]),x=A.useCallback(()=>{d("")},[d]),S=A.useMemo(()=>({apiKey:e,openRouterApiKey:i,aiProviderPreference:o,openRouterModel:u,setApiKey:f,setOpenRouterApiKey:d,setAiProviderPreference:m,setOpenRouterModel:h,clearApiKey:p,clearOpenRouterApiKey:x}),[e,i,o,u,f,d,m,h,p,x]);return g.jsx(V0.Provider,{value:S,children:n})}function _d(){const n=A.useContext(V0);if(!n)throw new Error("useApiKey must be used within an ApiKeyProvider");return n}const AN="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let $0=(n=21)=>{let e="",t=crypto.getRandomValues(new Uint8Array(n|=0));for(;n--;)e+=AN[t[n]&63];return e};const bN="https://openrouter.ai/api/v1/chat/completions",Gp=["mistralai/mistral-7b-instruct:free","meta-llama/llama-3.2-3b-instruct:free","google/gemma-3-4b-it:free","openai/gpt-oss-20b:free"];async function ff({apiKey:n,messages:e,model:t,temperature:i=.2}){var s,u,c,f;const l=t?[t,...Gp]:[...Gp];let o=null;for(const d of l)try{const m=await fetch(bN,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"SmartCalendar"},body:JSON.stringify({model:d,messages:e,temperature:i})}),h=await m.text();if(!m.ok)try{const S=JSON.parse(h),_=(s=S==null?void 0:S.error)==null?void 0:s.message;throw new Error(_||`OpenRouter   (${m.status}) - model=${d}`)}catch{throw new Error(`OpenRouter   (${m.status}) - model=${d}`)}const p=JSON.parse(h),x=(f=(c=(u=p==null?void 0:p.choices)==null?void 0:u[0])==null?void 0:c.message)==null?void 0:f.content;if(!x||typeof x!="string")throw new Error("OpenRouter   .");return x}catch(m){o=m}throw o instanceof Error?o:new Error("OpenRouter  ")}const MN=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-slate-400 group-hover:text-cyan-400 transition-colors",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),wN=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-slate-400 group-hover:text-cyan-400 transition-colors",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})}),qp=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),NN=({className:n=""})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-5 h-5 ${n}`,children:g.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})}),Hp=({className:n=""})=>g.jsx("div",{className:`animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-cyan-500 ${n}`}),RN=({className:n=""})=>g.jsx("div",{className:`h-4 w-4 rounded-full border-2 border-slate-500 ${n}`}),DN=({className:n=""})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-4 h-4 ${n}`,children:g.jsx("path",{d:"M10 4.5a.75.75 0 01.75.75v4h4a.75.75 0 010 1.5h-4v4a.75.75 0 01-1.5 0v-4h-4a.75.75 0 010-1.5h4v-4A.75.75 0 0110 4.5z"})}),Fu=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},Fp=n=>{const[e,t,i]=n.split("-").map(Number);return{year:e,month:t,day:i}},kN=(n,e,t)=>{const i=String(n).padStart(4,"0"),l=String(e).padStart(2,"0"),o=String(t).padStart(2,"0");return`${i}-${l}-${o}`},Ed=n=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n),el=n=>typeof n=="string"&&Ct.includes(n),B0=n=>n==="manual"||n==="ai",IN=[{category:"",keywords:["","",""]},{category:"",keywords:[""]},{category:"",keywords:[""]},{category:"",keywords:["","","",""]},{category:"",keywords:["","","","","",""]},{category:"",keywords:["","","","","NEP"]},{category:"",keywords:["","","","",""]},{category:"",keywords:["","","","","","","","","",""]},{category:"",keywords:["","","","4","","","","","","","",""]},{category:"",keywords:["","","","","",""]},{category:"",keywords:["","","","","","","","",""]},{category:"",keywords:["","","","","","","","","","","","","","",""]}],UN=n=>{const e=n.replace(/[\s\u00A0\u200B\uFEFF]+/g,"").trim();if(!e)return null;for(const t of IN)for(const i of t.keywords)if(e.includes(i))return t.category;return null},LN=()=>{try{const n=localStorage.getItem(wo);if(!n)return[];const e=JSON.parse(n);return Array.isArray(e)?e.map(i=>{if(!i||typeof i!="object")return null;const l=i,o=l.id,s=l.date,u=l.title,c=l.category,f=l.source;if(typeof o!="string"||!Ed(s)||typeof u!="string")return null;const d=el(c)?c:Xn,m=B0(f)?f:"manual";return{id:o,date:s,title:u,category:d,kind:"user",source:m}}).filter(i=>!!i):[]}catch{return[]}},ON=n=>{try{const e=n.map(({id:t,date:i,title:l,category:o,source:s})=>({id:t,date:i,title:l,category:o,source:s}));localStorage.setItem(wo,JSON.stringify(e))}catch{}},P0="smartcalendar:eventFilters",z0=2,cn=["manual","ai"],VN=()=>{try{const n=localStorage.getItem(P0);if(!n)return{categories:[...Ct],sources:[...cn]};const e=JSON.parse(n);if(!e||typeof e!="object"||Array.isArray(e))return{categories:[...Ct],sources:[...cn]};const t=e,i=t.categories,l=t.sources,s=(typeof t.version=="number"?t.version:0)<z0,u=new Set;if(Array.isArray(i))for(const m of i)el(m)&&u.add(m);const c=new Set;if(Array.isArray(l))for(const m of l)B0(m)&&c.add(m);let f=[...Ct];if(Array.isArray(i)){const m=Ct.filter(h=>u.has(h));m.length>0?f=m:s?f=[...Ct]:f=[]}let d=[...cn];if(Array.isArray(l)){const m=cn.filter(h=>c.has(h));m.length>0?d=m:s?d=[...cn]:d=[]}return{categories:f,sources:d}}catch{return{categories:[...Ct],sources:[...cn]}}},$N=n=>{try{localStorage.setItem(P0,JSON.stringify({version:z0,categories:n.categories,sources:n.sources}))}catch{}},BN=()=>{try{const n=localStorage.getItem(Yr);if(!n)return{};const e=JSON.parse(n);if(!e||typeof e!="object"||Array.isArray(e))return{};const t={};for(const[i,l]of Object.entries(e)){if(!l||typeof l!="object"||Array.isArray(l))continue;const o=l,s={};Ed(o.date)&&(s.date=o.date),typeof o.title=="string"&&o.title.trim()&&(s.title=o.title.trim()),el(o.category)&&(s.category=o.category),(s.date||s.title||s.category)&&(t[i]=s)}return t}catch{return{}}},PN=n=>{try{localStorage.setItem(Yr,JSON.stringify(n))}catch{}},Ta=["  ...","    (Google Search)...","   K-   ...","   ...","   ...","     ..."],zN=({scheduleText:n,manualContextText:e})=>{const{apiKey:t,openRouterApiKey:i,aiProviderPreference:l,openRouterModel:o}=_d(),{colors:s,theme:u}=qi(),[c,f]=A.useState(new Date),[d,m]=A.useState("month"),[h,p]=A.useState([]),[x,S]=A.useState({}),_=A.useMemo(()=>h.map(E=>{const k=x[E.id];return k?{...E,date:k.date??E.date,title:k.title??E.title,category:k.category??E.category}:E}),[h,x]),[y,v]=A.useState([]),T=A.useMemo(()=>[..._,...y],[_,y]),[{categories:C,sources:b}]=A.useState(()=>VN()),[N,M]=A.useState(C),[D,B]=A.useState(b),[L,me]=A.useState(!1),ke=A.useRef(null);A.useEffect(()=>{$N({categories:N,sources:D})},[N,D]),A.useEffect(()=>{if(!L)return;const E=k=>{const $=ke.current;$&&(k.target instanceof Node&&$.contains(k.target)||me(!1))};return window.addEventListener("mousedown",E),()=>window.removeEventListener("mousedown",E)},[L]);const vt=A.useMemo(()=>new Set(N),[N]),dt=A.useMemo(()=>new Set(D),[D]),At=A.useMemo(()=>{const E=new Set(N),k=new Set(D);return T.filter($=>E.has($.category)&&k.has($.source))},[T,N,D]),V=N.length===Ct.length&&D.length===cn.length,oe=()=>{if(V){M([]),B([]);return}M([...Ct]),B([...cn])},le=E=>{D.length===0&&B([...cn]),M(k=>{const $=new Set(k);return $.has(E)?$.delete(E):$.add(E),Ct.filter(O=>$.has(O))})},Ie=E=>{N.length===0&&M([...Ct]),B(k=>{const $=new Set(k);return $.has(E)?$.delete(E):$.add(E),cn.filter(O=>$.has(O))})},Pe=()=>{M([...Ct]),B([...cn])},[He,Dt]=A.useState(null),[ln,U]=A.useState({}),[F,R]=A.useState({}),[z,J]=A.useState(!1),[ve,ze]=A.useState(null),[Y,ee]=A.useState(null),[K,Z]=A.useState(0),ye=A.useRef(0),be=A.useRef(0),[rt,Fe]=A.useState(!0),[Te,bt]=A.useState(null),[Ht,Sn]=A.useState(new Set),[it,Ft]=A.useState(null),[Do,ai]=A.useState(null),Cn=A.useRef(!1),Sl=new Date,[lt,Vt]=A.useState(!1),[he,Oe]=A.useState("create"),[Ue,on]=A.useState(null),[ht,Yt]=A.useState("user"),[Bn,Fi]=A.useState(""),[H,Ee]=A.useState(Xn),[xt,Pn]=A.useState(Sl.getFullYear()),[ri,Wr]=A.useState(Sl.getMonth()+1),[ko,js]=A.useState(Sl.getDate()),[Ad,ui]=A.useState(null),jr=A.useMemo(()=>{if(!t)return null;try{return new E0({apiKey:t})}catch(E){return console.error("Failed to initialize Gemini AI:",E),null}},[t]),ci=A.useMemo(()=>{const E=!!t,k=!!i;return l==="gemini"?E?"gemini":k?"openrouter":null:l==="openrouter"?k?"openrouter":E?"gemini":null:E?"gemini":k?"openrouter":null},[l,t,i]);A.useEffect(()=>{const E=()=>v(LN());return E(),window.addEventListener(mr,E),()=>window.removeEventListener(mr,E)},[]),A.useEffect(()=>{ON(y)},[y]),A.useEffect(()=>{const E=()=>S(BN());return E(),window.addEventListener(Hc,E),()=>window.removeEventListener(Hc,E)},[]),A.useEffect(()=>{PN(x)},[x]),A.useEffect(()=>{(k=>{Fe(!0),bt(null);const $=new Date().getFullYear(),O=sm,X=[];let Se=1;if(!k||k.trim()===""){bt("   ."),p([]),Fe(!1);return}const j=k.split(`
`).filter(te=>te.trim()!=="");if(j.length===0){bt("    ."),p([]),Fe(!1);return}j.forEach((te,Qe)=>{const et=te.split(";").map(Tt=>Tt.replace(/[\s\u00A0\u200B\uFEFF]+/g," ").trim().normalize("NFC")).filter(Tt=>Tt!=="");if(et.length===3||et.length>=4){const Tt=et[0],se=et[1],ce=et.length>=4?et[2].replace(/[\s\u00A0\u200B\uFEFF]+/g,"").trim().normalize("NFC"):null,Je=et.length>=4?et.slice(3).join(";").trim():et.slice(2).join(";").trim(),Mt=Tt.match(/(\d+)/),wt=se.match(/(\d+)/),_n=el(ce)?ce:null;if(Mt&&wt&&Je){const En=parseInt(Mt[1],10)-1,di=parseInt(wt[1],10);if(En>=0&&En<12&&di>0&&di<=31){const hi=Je.split(",").map($t=>$t.trim()).filter($t=>$t);for(let $t=$;$t<=O;$t++)hi.forEach(nu=>{const tx=UN(nu),nx=_n??tx??Xn,ta=new Date($t,En,di);ta.getFullYear()===$t&&ta.getMonth()===En&&ta.getDate()===di&&X.push({id:`event-${$t}-${En+1}-${di}-${nu.substring(0,10).replace(/[^a-zA-Z0-9----]/g,"")}-${Se++}`,date:Fu(ta),title:nu,kind:"builtin",category:nx,source:"manual"})})}else console.warn(`Invalid date components (month or day out of range) in schedule data on line ${Qe+1}: ${te}`)}else console.warn(`Invalid format (month/day regex mismatch) in schedule data on line ${Qe+1}: ${te}`)}else te.trim()&&console.warn(`Skipping malformed line (expected 3 or 4 parts separated by ';') in schedule data on line ${Qe+1}: ${te}`)}),p(X),j.length>0&&X.length===0&&bt("      .  (: 1 ; 1 ;   1 ; 1 ;  ; ) ."),Fe(!1)})(n)},[n]),A.useEffect(()=>{let E;if(z&&K<Ta.length){const k=1300+Math.random()*1500;E=window.setTimeout(()=>{Z($=>$+1)},k)}return()=>clearTimeout(E)},[z,K]);const bd=E=>{f(k=>{const $=new Date(k);return $.setDate(1),$.setMonth($.getMonth()+E),$}),Sn(new Set)},Md=E=>{f(k=>{const $=new Date(k);return $.setDate($.getDate()+E*7),$})},Yi=c.getFullYear(),Cl=c.getMonth(),F0=new Date(Yi,Cl+1,0).getDate(),Y0=new Date(Yi,Cl,1).getDay(),eu=new Date,wd=A.useCallback(async E=>{var $,O,X;if(ln[E.id])return;const k=ye.current+1;if(ye.current=k,be.current=k,ze(E.id),J(!0),Z(0),ee(null),!ci){be.current===k&&(ee("AI    . API   ."),J(!1));return}if(ci==="gemini"&&!jr){be.current===k&&(ee("AI    . Gemini  ."),J(!1));return}try{const Se=`    : '${E.title}'${E.category?` ( : ${E.category})`:""}.
 : ${E.date}

        (       ):
1. **/ **:        . (3-4 )
2. ****:          . **          ** .
    (: "1. [] ", "2.  ", "3.   ")
      :
        1.  / ,  YouTube
        2.    
        3.    
    K-/NEIS       .
3. ** **: (    )`;let j=Se;e&&(j+=`

---    ---
${e}
---    ---`),j+=`

 Google      ,     . Markdown       .`;const te=[];te.push("      ."),te.push("  ,      ."),te.push(" ,       ."),e&&(te.push("     //  ."),te.push("---    ---"),te.push(e),te.push("---    ---"));const Qe=Se+`

   .`;let et,Tt;if(ci==="gemini"){const se=await jr.models.generateContent({model:"gemini-2.5-flash",contents:j,config:{thinkingConfig:{thinkingBudget:3e3},tools:[{googleSearch:{}}]}});et=se.text,Tt=(X=(O=($=se.candidates)==null?void 0:$[0])==null?void 0:O.groundingMetadata)==null?void 0:X.groundingChunks}else et=await ff({apiKey:i,model:o.trim()||void 0,messages:[{role:"system",content:te.join(`
`)},{role:"user",content:Qe}],temperature:.2}),Tt=void 0;be.current===k&&(et?U(se=>({...se,[E.id]:et})):ee("AI    ."),Tt&&Tt.length>0?R(se=>({...se,[E.id]:Tt})):ci==="openrouter"&&R(se=>{if(!se[E.id])return se;const ce={...se};return delete ce[E.id],ce}))}catch(Se){console.error("Error generating event description:",Se);let j="    .    .";if(Se instanceof Error){const te=Se.message??"",Qe=te.toLowerCase();te.includes("API key not valid")?j="API   . .":te.includes("OpenRouter")&&(te.includes("401")||Qe.includes("unauthorized"))?j="OpenRouter API   . .":Qe.includes("quota")?j="API   .":Qe.includes("failed to fetch")||Qe.includes("network")?j="  .   .":te.includes("OpenRouter")&&te.includes("404")&&(j="OpenRouter   .      .")}be.current===k&&ee(j)}finally{be.current===k&&(J(!1),Z(Ta.length))}},[ci,jr,i,o,ln,e]),Nd=E=>{Dt(E),ee(null),wd(E)},Zi=A.useCallback(E=>{U(k=>{if(!k[E])return k;const $={...k};return delete $[E],$}),R(k=>{if(!k[E])return k;const $={...k};return delete $[E],$})},[]),Rd=A.useCallback((E,k)=>{if(!E||!Ed(k))return;const $=y.find(X=>X.id===E);if($){if($.date===k)return;v(X=>X.map(Se=>Se.id===E?{...Se,date:k}:Se)),Zi(E),Dt(X=>X&&X.id===E?{...X,date:k}:X);return}const O=h.find(X=>X.id===E);O&&(O.date===k?S(X=>{const Se=X[E];if(!Se)return X;const j={...Se};delete j.date;const te={...X};return!j.date&&!j.title&&!j.category?delete te[E]:te[E]=j,te}):S(X=>{const j={...X[E]??{}};j.date=k;const te={...X};return te[E]=j,te}),Zi(E),Dt(X=>X&&X.id===E?{...X,date:k}:X))},[y,h,Zi]),tu=E=>{const{year:k,month:$,day:O}=Fp(E);!Number.isFinite(k)||!Number.isFinite($)||!Number.isFinite(O)||(Oe("create"),on(null),Yt("user"),Fi(""),Ee(Xn),Pn(k),Wr($),js(O),ui(null),Vt(!0))},Z0=E=>{const{year:k,month:$,day:O}=Fp(E.date);!Number.isFinite(k)||!Number.isFinite($)||!Number.isFinite(O)||(Oe("edit"),on(E.id),Yt(E.kind),Fi(E.title),Ee(E.category??Xn),Pn(k),Wr($),js(O),ui(null),Vt(!0))},fi=()=>{Vt(!1),ui(null)},ea=A.useMemo(()=>new Date(xt,ri,0).getDate(),[xt,ri]);A.useEffect(()=>{ko>ea&&js(ea)},[ko,ea]);const K0=A.useMemo(()=>{const E=new Date().getFullYear(),k=Math.min(E,xt),$=Math.max(sm,E+2,xt);return Array.from({length:$-k+1},(O,X)=>k+X)},[xt]),J0=()=>{const E=Bn.trim();if(!E){ui("  .");return}const k=kN(xt,ri,ko),$=new Date(xt,ri-1,ko);if(Number.isNaN($.getTime())||Fu($)!==k){ui("  .");return}if(he==="create"){const O=el(H)?H:null;if(!O){ui(" .");return}const X={id:`user-${$0(10)}`,date:k,title:E,category:O,kind:"user",source:"manual"};v(Se=>[X,...Se]),fi();return}if(!Ue){ui("   .");return}if(ht==="user"){const O=el(H)?H:null;if(!O){ui(" .");return}v(X=>X.map(Se=>Se.id===Ue?{...Se,date:k,title:E,category:O}:Se)),Zi(Ue),fi();return}S(O=>{const X=h.find(Qe=>Qe.id===Ue);if(!X)return O;const j={...O[Ue]??{}};k===X.date?delete j.date:j.date=k,E===X.title?delete j.title:j.title=E,el(H)?j.category=H:delete j.category;const te={...O};return!j.date&&!j.title&&!j.category?delete te[Ue]:te[Ue]=j,te}),Zi(Ue),fi()},Dd=()=>{if(Ue){if(ht==="builtin"){S(E=>{if(!E[Ue])return E;const $={...E};return delete $[Ue],$}),Zi(Ue),fi();return}v(E=>E.filter(k=>k.id!==Ue)),Zi(Ue),fi()}},kd=E=>{Sn(k=>{const $=new Set(k);return $.has(E)?$.delete(E):$.add(E),$})},X0=()=>g.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center mb-4 sm:mb-6 px-1 sm:px-2",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("h2",{className:`text-xl sm:text-2xl font-bold ${s.textPrimary} tracking-wide`,children:d==="month"?`${Yi} ${$u[Cl]}`:`${Yi} ${$u[c.getMonth()]} ${Math.ceil(c.getDate()/7)} ()`}),g.jsxs("div",{className:`flex ${s.inputBg} rounded-lg p-1 border ${s.border}`,children:[g.jsx("button",{onClick:()=>m("month"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${d==="month"?`${s.activeTabBg} ${s.buttonText} shadow-sm`:`${s.textSecondary} hover:${s.textPrimary}`}`,children:""}),g.jsx("button",{onClick:()=>m("week"),"data-tour":"view-week",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${d==="week"?`${s.activeTabBg} ${s.buttonText} shadow-sm`:`${s.textSecondary} hover:${s.textPrimary}`}`,children:""})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"relative",ref:ke,children:[g.jsxs("button",{type:"button",onClick:()=>me(E=>!E),"data-tour":"filter-button",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors border ${s.border} ${s.inputBg} ${s.textPrimary} hover:opacity-90`,"aria-label":"",children:["",V?"":" "]}),L&&g.jsxs("div",{className:`absolute right-0 mt-2 w-72 ${s.componentBg} border ${s.border} rounded-xl shadow-xl p-3 z-[110]`,onClick:E=>E.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[g.jsx("span",{className:`text-sm font-semibold ${s.textPrimary}`,children:""}),g.jsx("button",{type:"button",onClick:Pe,className:`text-xs ${s.textSecondary} hover:${s.textPrimary} underline`,children:""})]}),g.jsxs("label",{className:`flex items-center gap-2 text-sm ${s.textPrimary}`,children:[g.jsx("input",{type:"checkbox",className:`mt-0.5 h-4 w-4 rounded border ${s.border} ${s.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:V,onChange:oe,onClick:E=>E.stopPropagation()})," "]}),g.jsxs("div",{className:`mt-3 pt-2 border-t ${s.border}`,children:[g.jsx("div",{className:`text-xs font-semibold ${s.textSecondary} mb-1`,children:""}),g.jsx("div",{className:"max-h-40 overflow-y-auto scrollbar-thin pr-1 space-y-1",children:Ct.map(E=>g.jsxs("label",{className:`flex items-center gap-2 text-sm ${s.textPrimary}`,children:[g.jsx("input",{type:"checkbox",className:`mt-0.5 h-4 w-4 rounded border ${s.border} ${s.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:vt.has(E),onChange:()=>le(E),onClick:k=>k.stopPropagation()}),g.jsx("span",{className:"truncate",children:E})]},E))})]}),g.jsxs("div",{className:`mt-3 pt-2 border-t ${s.border}`,children:[g.jsx("div",{className:`text-xs font-semibold ${s.textSecondary} mb-1`,children:" "}),g.jsx("div",{className:"space-y-1",children:cn.map(E=>g.jsxs("label",{className:`flex items-center gap-2 text-sm ${s.textPrimary}`,children:[g.jsx("input",{type:"checkbox",className:`mt-0.5 h-4 w-4 rounded border ${s.border} ${s.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:dt.has(E),onChange:()=>Ie(E),onClick:k=>k.stopPropagation()}),E==="manual"?" ":"AI "]},E))})]})]})]}),g.jsx("button",{onClick:()=>d==="month"?bd(-1):Md(-1),className:`p-2 rounded-full ${s.hoverEffect} focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 transition-colors group`,"aria-label":"Previous",children:g.jsx(MN,{})}),g.jsx("button",{onClick:()=>d==="month"?bd(1):Md(1),className:`p-2 rounded-full ${s.hoverEffect} focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 transition-colors group`,"aria-label":"Next",children:g.jsx(wN,{})})]})]}),Q0=()=>g.jsx("div",{className:"flex-shrink-0 grid grid-cols-7 gap-1 sm:gap-2 mb-2 px-1",children:Jv.map(E=>g.jsx("div",{className:"text-center font-medium text-xs sm:text-sm text-text-tertiary uppercase",children:E},E))}),W0=()=>{const E=[];for(let O=0;O<Y0;O++)E.push(g.jsx("div",{className:"border border-transparent rounded-lg"},`blank-${O}`));const k=[],$=2;for(let O=1;O<=F0;O++){const X=O===eu.getDate()&&Cl===eu.getMonth()&&Yi===eu.getFullYear(),Se=new Date(Yi,Cl,O),j=Fu(Se),te=At.filter(se=>se.date===j),Qe=Ht.has(j),et=!Qe&&te.length>$,Tt=Qe?te:te.slice(0,$);k.push(g.jsx("div",{className:"relative min-h-[100px] h-full",children:g.jsxs("div",{"aria-label":`${$u[Cl]} ${O}, ${Yi}. ${te.length} .   .`,onClick:()=>{it||Cn.current||tu(j)},onDragOver:se=>{it&&(se.preventDefault(),se.dataTransfer.dropEffect="move",ai(j))},onDragLeave:()=>{ai(se=>se===j?null:se)},onDrop:se=>{se.preventDefault(),se.stopPropagation();const ce=se.dataTransfer.getData("text/plain");ce&&Rd(ce,j),Cn.current=!0,window.setTimeout(()=>{Cn.current=!1},0),Ft(null),ai(null)},className:`
                p-1 sm:p-2 border border-border-secondary/30 rounded-lg
                flex flex-col items-start justify-start 
                text-left 
                transition-all duration-200 ease-in-out
                w-full
                ${u==="dark"?"hover:brightness-125 hover:shadow-xl hover:border-accent-primary/70":"hover:bg-black/5 hover:shadow-sm"}
                ${Qe?"":"z-0 hover:z-10"}
            ${Qe?`absolute top-0 left-0 z-[100] h-auto min-h-full shadow-2xl ring-1 ring-border-primary ${s.componentBg}`:`relative h-full ${s.componentBg}`}
            ${X?"bg-accent-primary/10 border-accent-secondary/50":""}
            ${Do===j?"ring-2 ring-accent-primary":""}
            `,children:[g.jsxs("div",{className:"flex justify-between items-center w-full mb-0.5 flex-shrink-0",children:[g.jsx("span",{className:`
                text-xs font-semibold ml-1
                ${X?"bg-accent-primary text-white w-5 h-5 flex items-center justify-center rounded-full -ml-1 text-[10px]":"text-text-secondary"}
              `,children:O}),g.jsx("button",{type:"button",onClick:se=>{se.stopPropagation(),tu(j)},className:`
                  p-0.5 rounded-full 
                  text-text-tertiary hover:text-accent-primary hover:bg-main
                  opacity-0 group-hover:opacity-100 transition-opacity
                  ${Qe?"opacity-100":""}
                `,"aria-label":" ",children:g.jsx(DN,{className:"w-3 h-3"})})]}),g.jsxs("div",{className:`w-full space-y-0.5 flex flex-col ${Qe?"":"overflow-hidden"}`,children:[Tt.map(se=>{const ce=se.kind==="user";return g.jsx("button",{"data-tour":"calendar-event",type:"button",onClick:Je=>{Je.stopPropagation(),!Cn.current&&Nd(se)},draggable:!0,onDragStart:Je=>{Je.dataTransfer.setData("text/plain",se.id),Je.dataTransfer.effectAllowed="move",Ft(se.id)},onDragEnd:()=>{Ft(null),ai(null)},className:`
                      text-left w-full text-[10px] sm:text-[11px] px-1.5 rounded transition-all shadow-sm
                      truncate leading-tight font-bold
                      border flex-shrink-0 h-5 flex items-center
                      ${ce?"bg-accent-primary text-white border-transparent hover:opacity-90":"bg-tertiary text-text-primary border-transparent hover:opacity-90"} 
                      cursor-grab active:cursor-grabbing
                    `,title:se.title,children:se.title},se.id)}),et&&g.jsxs("button",{type:"button","data-tour":"calendar-more",onClick:se=>{se.stopPropagation(),kd(j)},className:"text-[10px] font-bold text-text-tertiary hover:text-text-primary hover:bg-tertiary/50 mt-0.5 h-4 flex items-center justify-center w-full text-center rounded transition-colors flex-shrink-0",children:["+",te.length-$," "]}),Qe&&te.length>$&&g.jsx("button",{type:"button",onClick:se=>{se.stopPropagation(),kd(j)},className:"text-[10px] sm:text-xs text-text-tertiary hover:text-text-primary mt-1 py-1 w-full text-center hover:bg-tertiary/50 rounded transition-colors flex-shrink-0",children:""})]})]})},O))}return g.jsx(g.Fragment,{children:[...E,...k]})},j0=()=>{if(!He)return null;const E=ln[He.id],k=F[He.id],$=z&&ve===He.id,O=ve===He.id?Y:null;let X="/ ",Se="",j="",te="",Qe=" ",et="",Tt="";if(E){const ce=E,Je=ce.match(/1\.\s*(?:\*\*)?\/ (?:\*\*)?:?/i),Mt=ce.match(/2\.\s*(?:\*\*)?(?:\*\*)?:?/i),wt=ce.match(/3\.\s*(?:\*\*)? (?:\*\*)?:?/i);let _n=Je?(Je.index||0)+Je[0].length:-1,En=Mt?(Mt.index||0)+Mt[0].length:-1,di=wt?(wt.index||0)+wt[0].length:-1,hi=ce.length;Mt&&(Mt.index||0)>_n&&_n!==-1&&(hi=Math.min(hi,Mt.index||0)),wt&&(wt.index||0)>_n&&_n!==-1&&(hi=Math.min(hi,wt.index||0));let $t=ce.length;wt&&(wt.index||0)>En&&En!==-1&&($t=Math.min($t,wt.index||0)),_n!==-1&&(Se=ce.substring(_n,hi).trim()),En!==-1&&(!Je||((Mt==null?void 0:Mt.index)||0)>=hi)&&(te=ce.substring(En,$t).trim()),di!==-1&&(!Mt||((wt==null?void 0:wt.index)||0)>=$t)&&(et=ce.substring(di).trim()),!Je&&!Mt&&!wt&&ce?Tt=ce.trim():Je&&!Se&&!te&&!et&&_n!==-1&&(Se=ce.substring(_n).trim())}const se=ce=>{if(!ce)return null;const Mt=Ae.parse(ce,{breaks:!0,gfm:!0}).replace(/<ul>/g,'<ul class="list-disc list-outside ml-5 space-y-1">').replace(/<ol>/g,'<ol class="list-decimal list-outside ml-5 space-y-1">').replace(/<li>/g,`<li class="text-sm ${s.textSecondary} leading-relaxed">`).replace(/<p>/g,`<p class="text-sm ${s.textSecondary} leading-relaxed mb-2">`).replace(/<strong>/g,`<strong class="font-semibold ${s.textPrimary}">`).replace(/<h3>/g,`<h3 class="text-base font-semibold ${s.accentColor} mt-2 mb-1">`).replace(/<h4>/g,`<h4 class="text-sm font-semibold ${s.accentColor} mt-1 mb-1">`);return g.jsx("div",{dangerouslySetInnerHTML:{__html:Mt}})};return g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",onClick:()=>Dt(null),role:"dialog","aria-modal":"true","aria-labelledby":"event-modal-title",children:g.jsxs("div",{className:`${s.componentBg} p-5 sm:p-6 rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col ${s.textPrimary} border ${s.border}`,onClick:ce=>ce.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-start mb-4 flex-shrink-0 gap-3",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("h3",{id:"event-modal-title",className:`text-lg font-semibold ${s.accentColor} truncate`,children:He.title}),g.jsxs("p",{className:`text-xs ${s.textSecondary} mt-0.5`,children:["AI   ",ci==="gemini"?"Gemini":ci==="openrouter"?"OpenRouter":"",He.category?`  ${He.category}`:""]})]}),g.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g.jsx("button",{type:"button",onClick:()=>{Dt(null),Z0(He)},className:`${s.buttonBg} ${s.hoverEffect} ${s.buttonText} font-semibold py-1.5 px-3 rounded-lg transition-colors text-sm`,children:""}),g.jsx("button",{onClick:()=>Dt(null),className:`p-1 ${s.textSecondary} hover:${s.textPrimary} transition-colors rounded-full ${s.hoverEffect}`,"aria-label":" ",type:"button",children:g.jsx(qp,{})})]})]}),g.jsxs("div",{className:"overflow-y-auto flex-grow pr-1 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-blue-700 hover:scrollbar-thumb-blue-600 active:scrollbar-thumb-blue-500 scrollbar-thumb-rounded-md",children:[$&&!E&&!O&&g.jsxs("div",{className:"text-sm text-slate-300 py-4",children:[g.jsx("ul",{className:"space-y-2.5",children:Ta.map((ce,Je)=>g.jsxs("li",{className:"flex items-center space-x-2.5",children:[Je<K?g.jsx(NN,{className:"text-green-500 flex-shrink-0"}):Je===K&&z?g.jsx(Hp,{className:"flex-shrink-0"}):g.jsx(RN,{className:"text-slate-500 flex-shrink-0"}),g.jsx("span",{className:`${Je<K?"text-slate-500 line-through":Je===K&&z?"text-cyan-400 font-medium":"text-slate-400"}`,children:ce})]},Je))}),K>=Ta.length&&$&&g.jsxs("div",{className:"flex items-center space-x-2.5 mt-3",children:[g.jsx(Hp,{className:"flex-shrink-0"}),g.jsx("span",{className:"text-cyan-400 font-medium",children:" ..."})]})]}),O&&g.jsxs("div",{className:"text-sm text-red-400 bg-red-900/20 border border-red-700 p-3 rounded-md",children:[g.jsx("p",{className:"font-semibold mb-1",children:""}),O]}),!E&&!$&&!O&&g.jsxs("div",{className:`text-sm ${s.textSecondary} py-4`,children:[g.jsx("p",{className:`font-semibold ${s.textPrimary} mb-1`,children:"AI    ."}),g.jsxs("p",{children:[" ",g.jsx("span",{className:`${s.textPrimary} font-medium`,children:"API Key "})," Gemini  OpenRouter     ."]}),g.jsx("button",{type:"button",onClick:()=>wd(He),className:`${s.accentBg} hover:opacity-90 ${s.buttonText} font-semibold py-2 px-3 rounded-lg transition-colors text-xs mt-3`,children:"AI  "})]}),E&&!O&&g.jsxs(g.Fragment,{children:[Tt&&g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:se(Tt)}),Se&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-md font-semibold text-cyan-400 mb-1.5",children:X}),g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:se(Se)})]}),te&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-md font-semibold text-cyan-400 mb-1.5",children:j}),g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:se(te)})]}),et&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-md font-semibold text-cyan-400 mb-1.5",children:Qe}),g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:se(et)})]}),k&&k.length>0&&g.jsxs("div",{className:"mt-5 pt-4 border-t border-slate-700",children:[g.jsx("h4",{className:"text-xs font-semibold text-slate-400 mb-2",children:"  (Google ):"}),g.jsx("ul",{className:"space-y-1.5",children:k.map((ce,Je)=>ce.web&&ce.web.uri?g.jsx("li",{className:"text-xs",children:g.jsx("a",{href:ce.web.uri,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 hover:text-cyan-400 hover:underline",title:ce.web.title||ce.web.uri,children:ce.web.title||ce.web.uri})},Je):null).filter(Boolean)})]})]}),!ci&&(!(He!=null&&He.id)||!ln[He.id]&&!z&&!Y)&&g.jsx("div",{className:`text-sm p-3 rounded-md mt-3 border ${u==="dark"?"text-yellow-200 bg-yellow-900/30 border-yellow-700":"text-amber-950 bg-amber-200/80 border-amber-300"}`,children:"AI   API  .    ."})]})]})})},ex=()=>{if(!lt)return null;const E=he==="create"?" ":ht==="builtin"?"  ":" ",k=Array.from({length:12},(O,X)=>X+1),$=Array.from({length:ea},(O,X)=>X+1);return g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",onClick:fi,role:"dialog","aria-modal":"true","aria-labelledby":"event-editor-title",children:g.jsxs("div",{className:`${s.componentBg} p-5 sm:p-6 rounded-lg shadow-2xl w-full max-w-lg flex flex-col ${s.textPrimary} border ${s.border}`,onClick:O=>O.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-start gap-3",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("h3",{id:"event-editor-title",className:`text-lg font-semibold ${s.accentColor}`,children:E}),g.jsx("p",{className:`text-xs ${s.textSecondary} mt-0.5`,children:"    . (&   )"}),ht==="builtin"&&g.jsx("p",{className:"text-[11px] text-slate-500 mt-1",children:"     ."})]}),g.jsx("button",{type:"button",onClick:fi,className:`p-1 ${s.textSecondary} hover:${s.textPrimary} transition-colors rounded-full ${s.hoverEffect}`,"aria-label":" ",children:g.jsx(qp,{})})]}),g.jsxs("div",{className:"mt-4 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:`text-sm ${s.textPrimary} block mb-1`,children:""}),g.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[g.jsx("select",{value:xt,onChange:O=>Pn(Number(O.target.value)),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,"aria-label":" ",children:K0.map(O=>g.jsxs("option",{value:O,children:[O,""]},O))}),g.jsx("select",{value:ri,onChange:O=>Wr(Number(O.target.value)),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,"aria-label":" ",children:k.map(O=>g.jsxs("option",{value:O,children:[O,""]},O))}),g.jsx("select",{value:ko,onChange:O=>js(Number(O.target.value)),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,"aria-label":" ",children:$.map(O=>g.jsxs("option",{value:O,children:[O,""]},O))})]}),g.jsx("p",{className:"text-[11px] text-slate-500 mt-1",children:"       ."})]}),g.jsxs("div",{children:[g.jsx("label",{className:`text-sm ${s.textPrimary} block mb-1`,htmlFor:"event-category",children:""}),g.jsxs("select",{id:"event-category",value:H,onChange:O=>Ee(O.target.value),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,children:[g.jsx("option",{value:"",children:" ()"}),Ct.map(O=>g.jsx("option",{value:O,children:O},O))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:`text-sm ${s.textPrimary} block mb-1`,htmlFor:"event-title",children:" "}),g.jsx("input",{id:"event-title",value:Bn,onChange:O=>Fi(O.target.value),placeholder:":   ",className:`w-full p-2.5 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none placeholder-slate-600`,autoFocus:!0}),Ad&&g.jsx("div",{className:"mt-2 text-xs text-red-300 bg-red-900/20 border border-red-700 p-2 rounded-md",children:Ad})]})]}),g.jsxs("div",{className:"mt-5 flex items-center justify-between gap-3",children:[he==="edit"?ht==="user"?g.jsx("button",{type:"button",onClick:Dd,className:"bg-red-600 hover:bg-red-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:""}):g.jsx("button",{type:"button",onClick:Dd,className:`${s.buttonBg} ${s.hoverEffect} ${s.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:" "}):g.jsx("div",{}),g.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[g.jsx("button",{type:"button",onClick:fi,className:`${s.buttonBg} ${s.hoverEffect} ${s.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:""}),g.jsx("button",{type:"button",onClick:J0,className:`${s.accentBg} hover:opacity-90 ${s.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:""})]})]})]})})};return g.jsxs("div",{className:`${s.componentBg} px-4 sm:px-6 py-3 sm:py-5 rounded-xl shadow-2xl flex flex-col w-full h-full border ${s.border}`,children:[X0(),rt&&g.jsx("div",{className:"text-center p-2 text-sm text-cyan-400 my-1",children:"   ..."}),Te&&!rt&&g.jsxs("div",{className:"text-center p-2 text-sm text-red-400 bg-red-900/30 rounded-md my-1",children:[g.jsx("p",{className:"font-semibold",children:"  :"}),g.jsx("p",{children:Te}),g.jsx("p",{className:"text-xs mt-1",children:"      ."})]}),!rt&&!Te&&T.length===0&&g.jsx("div",{className:"text-center p-2 text-sm text-slate-400 my-1",children:"  .     ."}),!rt&&!Te&&T.length>0&&At.length===0&&g.jsxs("div",{className:"text-center p-2 text-sm text-slate-300 bg-slate-900/30 rounded-md my-1",children:[g.jsx("p",{children:"    ."}),g.jsx("button",{type:"button",onClick:Pe,className:`${s.accentBg} hover:opacity-90 ${s.buttonText} font-semibold py-1.5 px-3 rounded-lg transition-colors text-xs mt-2`,children:" "})]}),d==="month"?g.jsxs("div",{className:"flex-grow flex flex-col min-h-0",children:[Q0(),g.jsx("div",{className:`flex-grow grid grid-cols-7 grid-rows-6 sm:gap-1 min-h-0 ${s.mainBg} rounded-xl sm:border ${s.border}/50 sm:p-2`,children:W0()})]}):g.jsx("div",{className:"flex-grow flex flex-col min-h-0",children:g.jsx(sS,{currentDate:c,events:At,onEventClick:Nd,onDateClick:E=>{it||Cn.current||tu(E)},onDragStart:(E,k)=>{Ft(k),E.dataTransfer.setData("text/plain",k),E.dataTransfer.effectAllowed="move"},onDragEnd:()=>{Ft(null),ai(null)},onDrop:(E,k)=>{E.preventDefault();const $=E.dataTransfer.getData("text/plain");$&&(Rd($,k),Cn.current=!0,setTimeout(()=>{Cn.current=!1},100)),Ft(null),ai(null)}})}),j0(),ex()]})},Fl=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},GN=n=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n),ps=n=>{if(!GN(n))return!1;const[e,t,i]=n.split("-").map(Number),l=new Date(e,t-1,i);return l.getFullYear()===e&&l.getMonth()===t-1&&l.getDate()===i},G0=n=>typeof n!="string"?null:Ct.includes(n)?n:null,qN=n=>n==="manual"||n==="ai"?n:null,gs=(n,e)=>n.localeCompare(e),Yu=(n,e)=>{if(!ps(n))return n;const[t,i,l]=n.split("-").map(Number),o=new Date(t,i-1,l);return o.setDate(o.getDate()+e),Fl(o)},Xi=(n,e)=>gs(n,e)<0?e:n,HN=(n,e)=>gs(n,e)>0?e:n,FN=(n,e=new Date)=>{const t=[/(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C?\s*[~-]\s*(\d{1,2})\s*\uC77C?/,/(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C?\s*[~-]\s*(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C?/,/(\d{1,2})\s*[\/\.]\s*(\d{1,2})\s*[~-]\s*(\d{1,2})\s*[\/\.]\s*(\d{1,2})/,/(\d{1,2})\s*\s*(\d{1,2})\s*?\s*[~\\-]\s*(\d{1,2})\s*?/,/(\d{1,2})\s*\s*(\d{1,2})\s*?\s*[~\\-]\s*(\d{1,2})\s*\s*(\d{1,2})\s*?/,/(\d{1,2})\s*[\\/\\.]\\s*(\d{1,2})\s*[~\\-]\s*(\d{1,2})\s*[\\/\\.]\\s*(\d{1,2})/];let i=null,l=null,o=null,s=null;for(const x of t){const S=n.match(x);if(S){if(x===t[0]){i=Number(S[1]),l=Number(S[2]),o=i,s=Number(S[3]);break}if(x===t[1]){i=Number(S[1]),l=Number(S[2]),o=Number(S[3]),s=Number(S[4]);break}if(x===t[2]){i=Number(S[1]),l=Number(S[2]),o=Number(S[3]),s=Number(S[4]);break}}}if(!i||!l||!o||!s||!Number.isFinite(i)||!Number.isFinite(l)||!Number.isFinite(o)||!Number.isFinite(s)||i<1||i>12||o<1||o>12||l<1||l>31||s<1||s>31)return null;const u=new Date(e.getFullYear(),e.getMonth(),e.getDate());let c=e.getFullYear();new Date(c,i-1,l)<u&&(c+=1);const m=o<i||o===i&&s<l?c+1:c,h=new Date(c,i-1,l),p=new Date(m,o-1,s);return Number.isNaN(h.getTime())||Number.isNaN(p.getTime())||Fl(h)!==`${String(c).padStart(4,"0")}-${String(i).padStart(2,"0")}-${String(l).padStart(2,"0")}`||Fl(p)!==`${String(m).padStart(4,"0")}-${String(o).padStart(2,"0")}-${String(s).padStart(2,"0")}`?null:{start:Fl(h),end:Fl(p)}},Yp=n=>["","","","","","","","","",""].some(t=>n.includes(t)),Zp=n=>["","","","","","","",""].some(t=>n.includes(t)),YN=()=>{try{const n=localStorage.getItem(wo);if(!n)return[];const e=JSON.parse(n);return Array.isArray(e)?e.map(t=>{if(!t||typeof t!="object")return null;const i=t,l=i.id,o=i.date,s=i.title,u=i.category,c=i.source;if(typeof l!="string"||typeof s!="string"||!s.trim()||typeof o!="string"||!ps(o))return null;const f=G0(u)??Xn,d=qN(c)??"manual";return{id:l,date:o,title:s.trim(),category:f,source:d}}).filter(t=>!!t):[]}catch{return[]}},ZN=n=>{try{const e=n.map(({id:t,date:i,title:l,category:o,source:s})=>({id:t,date:i,title:l,category:o,source:s}));localStorage.setItem(wo,JSON.stringify(e))}catch{}},KN=n=>{const e=n.indexOf("{");if(e<0)return null;const t=n.lastIndexOf("}");return t<=e?null:n.slice(e,t+1)},JN=({className:n="w-5 h-5"})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.8,stroke:"currentColor",className:n,children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 2v2m8-2v2M4 7h16"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5h14a2 2 0 012 2v13a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11v6m-3-3h6"})]}),XN=({className:n="w-5 h-5"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.8,stroke:"currentColor",className:n,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),QN=({className:n="w-6 h-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:g.jsx("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 00-3 3v10.5a3 3 0 003 3h15a3 3 0 003-3V6.75a3 3 0 00-3-3h-15zm4.125 3a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0zM15.375 3a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0zM19.5 6.75a1.125 1.125 0 11-2.25 0 1.125 1.125 0 012.25 0zM10.875 12a3.375 3.375 0 00-3.375 3.375h6.75A3.375 3.375 0 0010.875 12zM4.125 13.875a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z",clipRule:"evenodd"})}),WN=({className:n="w-6 h-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:g.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z",clipRule:"evenodd"})}),jN=()=>g.jsxs("div",{className:"flex items-center gap-1.5 px-1 py-1",children:[g.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300/80",style:{animation:"typingDot 1.2s infinite ease-in-out",animationDelay:"0ms"}}),g.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300/80",style:{animation:"typingDot 1.2s infinite ease-in-out",animationDelay:"150ms"}}),g.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300/80",style:{animation:"typingDot 1.2s infinite ease-in-out",animationDelay:"300ms"}})]}),eR=({manualContextText:n})=>{const{apiKey:e,openRouterApiKey:t,aiProviderPreference:i,openRouterModel:l}=_d(),{colors:o,theme:s}=qi(),[u,c]=A.useState(null),[f,d]=A.useState(null),[m,h]=A.useState([]),[p,x]=A.useState(""),[S,_]=A.useState(!1),[y,v]=A.useState(null),[T,C]=A.useState(!1),[b,N]=A.useState(!1),[M,D]=A.useState(null),[B,L]=A.useState(null),me=A.useRef(null),ke=A.useRef(null),vt=A.useRef(!1),dt=A.useRef({});A.useEffect(()=>{if(e)try{const U=new E0({apiKey:e});c(U),v(null),C(!0)}catch(U){console.error("Failed to initialize GoogleGenAI:",U),v("AI   . API   ."),C(!1)}else t?(c(null),d(null),v(null),C(!0),h([{id:"initial-ai-message",text:"!      .",isUser:!1}])):(console.warn("API_KEY for chatbot is not set. Chatbot AI features will be disabled."),c(null),d(null),h([{id:"initial-no-key",text:"API      .  **API Key **  .",isUser:!1}]),v("AI    API  ."),C(!1))},[e,t]),A.useEffect(()=>{var U;if(u&&T){let F="You are a helpful assistant for Korean school administration tasks. Provide concise and accurate information based on your knowledge and Google Search results. Cite your sources when available using the grounding information. Respond in Korean. Format your responses using markdown where appropriate (e.g., lists, bolding).!      ";n&&(F+=`

Additionally, you have access to the following table of contents from a school administration manual. When a user's query relates to topics covered in this manual, please reference the relevant sections or page numbers in your response if applicable. If you use information from this manual, please try to cite it (e.g., " 10, 168p ").

--- SCHOOL ADMINISTRATION MANUAL (TABLE OF CONTENTS) START ---
${n}
--- SCHOOL ADMINISTRATION MANUAL (TABLE OF CONTENTS) END ---`);try{const R=u.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:F,tools:[{googleSearch:{}}]}});d(R),h([{id:"initial-ai-message",text:"!      .",isUser:!1}]),(U=ke.current)==null||U.focus()}catch(R){console.error("Failed to create chat session:",R),v("   .    API  .")}}},[u,T,n]);const At=A.useCallback(U=>{if(!U)return;const F=dt.current[U.id];F&&F.scrollIntoView({behavior:"smooth",block:U.align??"start"})},[]);A.useEffect(()=>{if(vt.current){vt.current=!1;return}B&&(At(B),L(null))},[m,B,At]);const V=A.useCallback((U,F)=>{vt.current=!0,h(R=>R.map(z=>{if(z.id!==U||!z.scheduleProposal||z.scheduleProposal.applied||F<0||F>=z.scheduleProposal.selected.length)return z;const J=z.scheduleProposal.selected.slice();return J[F]=!J[F],{...z,scheduleProposal:{...z.scheduleProposal,selected:J}}}))},[]),oe=A.useCallback(U=>{vt.current=!0,h(F=>F.map(R=>{if(R.id!==U||!R.scheduleProposal||R.scheduleProposal.applied)return R;const z=R.scheduleProposal.selected.every(Boolean),J=R.scheduleProposal.selected.map(()=>!z);return{...R,scheduleProposal:{...R.scheduleProposal,selected:J}}}))},[]),le=A.useCallback((U,F)=>{vt.current=!0,D(R=>R&&R.messageId===U&&R.index===F?null:{messageId:U,index:F})},[]),Ie=A.useCallback((U,F,R)=>{ps(R)&&(vt.current=!0,h(z=>z.map(J=>{if(J.id!==U||!J.scheduleProposal||J.scheduleProposal.applied||F<0||F>=J.scheduleProposal.items.length)return J;const ve=J.scheduleProposal.items.slice();return ve[F]={...ve[F],date:R},{...J,scheduleProposal:{...J.scheduleProposal,items:ve}}})),D(null))},[]),Pe=A.useCallback(U=>{vt.current=!0,h(F=>{const R=F.find(Z=>Z.id===U);if(!(R!=null&&R.scheduleProposal)||R.scheduleProposal.applied)return F;const z=R.scheduleProposal,J=z.items.filter((Z,ye)=>z.selected[ye]);if(J.length===0)return F;const ve=YN(),ze=new Set(ve.map(Z=>`${Z.date}::${Z.title}`)),Y=[];for(const Z of J){const ye=`${Z.date}::${Z.title}`;ze.has(ye)||(ze.add(ye),Y.push({id:`user-${$0(10)}`,date:Z.date,title:Z.title,category:Z.category,source:"ai"}))}const ee=[...Y,...ve];ZN(ee),window.dispatchEvent(new CustomEvent(mr));const K=[];return K.push(` : **${Y.length}**   .`),z.project&&K.push(`- : **${z.project}**`),z.deadline&&K.push(`- : **${z.deadline}**`),Y.length>0?(K.push(""),K.push(...Y.map(Z=>`- ${Z.date} ${Z.title}`))):(K.push(""),K.push("        .")),F.map(Z=>Z.id!==U?Z:{...Z,text:`${Z.text}

${K.join(`
`)}`.trim(),scheduleProposal:{...z,applied:!0,appliedCount:Y.length,skippedCount:Math.max(0,J.length-Y.length)}})})},[]),He=A.useCallback(async()=>{var z,J,ve,ze;if(!p.trim()||S||!T)return;const U=p.trim(),F={id:`user-${Date.now()}`,text:U,isUser:!0};h(Y=>[...Y,F]),x(""),_(!0),v(null);const R=`ai-${Date.now()}`;h(Y=>[...Y,{id:R,text:"",isUser:!1,sources:[]}]),L({id:R,align:"start"});try{const Y=(()=>{const ee=!!e,K=!!t;return i==="gemini"?ee?"gemini":K?"openrouter":null:i==="openrouter"?K?"openrouter":ee?"gemini":null:ee?"gemini":K?"openrouter":null})();if(!Y)throw new Error("API_KEY_MISSING");if(b){const ee=new Date,K=Fl(ee),Z=FN(U,ee),ye=(Z==null?void 0:Z.start)??null,be=(Z==null?void 0:Z.end)??null,Fe=`    'K-( //)  ' ' ( )'  .
-      (/////// ) //   K-  , "  (/)    ()"    .
  : "12 24  " ' (/)' , " ", "/", " ", "  "  3~4  .
-  (//  )     events  ([]) .
${Y==="gemini"?"-   Google Search()  K-   /     .":"-   ,  K-       . (  )"}
-  JSON(/ ).     .

( /  ):
{
  "project": string,
  "deadline": "YYYY-MM-DD" | null,
  "events": [
    { "date": "YYYY-MM-DD", "task": string, "title": string, "category": string | null }
  ]
}

:
- title  "\${project}: \${task}" .
- date  ISO(YYYY-MM-DD).
-     (${K}, KST)    ''  .
- events **  3~4**. ( 3,    4)  task .
- events date  .
- (deadline)  events   (       ).
- category    ( null):
  ${Ct.join(", ")}

   (: "12 20~24 "):
- executionStart: ${ye??"null"}
- executionEnd: ${be??"null"}
- **//////    executionStart   **.
- **//    executionStart~executionEnd  ** .
- **///    executionEnd   ** .
-    , " ()  / "   .

 : """${U}"""`;let Te="",bt=[],Ht=!1;if(Y==="gemini"){if(!u)throw new Error("AI_NOT_READY");const he=async ht=>{var H,Ee,xt;const Yt=await u.models.generateContent({model:"gemini-2.5-flash",contents:ht,config:{thinkingConfig:{thinkingBudget:3e3},tools:[{googleSearch:{}}]}}),Bn=((xt=(Ee=(H=Yt.candidates)==null?void 0:H[0])==null?void 0:Ee.groundingMetadata)==null?void 0:xt.groundingChunks)??[],Fi=Bn.filter(Pn=>{var ri;return(ri=Pn.web)==null?void 0:ri.uri});return{response:Yt,groundingChunks:Bn,webChunks:Fi}};let{response:Oe,groundingChunks:Ue,webChunks:on}=await he(Fe);if(Ht=on.length>0,!Ht){const ht=`${Fe}

:  googleSearch    1 web.uri  .   events  ([]) .`;({response:Oe,groundingChunks:Ue,webChunks:on}=await he(ht)),Ht=on.length>0}Te=Oe.text??"",bt=Ue}else Te=await ff({apiKey:t,model:l.trim()||void 0,messages:[{role:"system",content:"  (K-)  .  JSON ,      ."},{role:"user",content:Fe}],temperature:.2}),bt=[],Ht=!1;const Sn=KN(Te)??Te;let it;try{it=JSON.parse(Sn)}catch{throw new Error("MODEL_RETURNED_INVALID_JSON")}const Ft=typeof(it==null?void 0:it.project)=="string"&&it.project.trim()?it.project.trim():U.slice(0,30).trim(),Do=typeof(it==null?void 0:it.deadline)=="string"&&ps(it.deadline)?it.deadline:null,ai=Array.isArray(it==null?void 0:it.events)?it.events.map(he=>{const Oe=he==null?void 0:he.date,Ue=typeof(he==null?void 0:he.task)=="string"?he.task.trim():typeof(he==null?void 0:he.title)=="string"?he.title.trim():"";if(!Ue)return null;const on=`${Ft}:`,ht=Ue.startsWith(on)?Ue.slice(on.length).trim():Ue,Yt=Ft?`${Ft}: ${ht}`:ht,Bn=G0(he==null?void 0:he.category)??Xn;return!ps(Oe)||!Yt?null:{date:Oe,title:Yt,category:Bn}}).filter(Boolean):[],Cn=[],Sl=new Set;for(const he of ai){const Oe=`${he.date}::${he.title}`;Sl.has(Oe)||(Sl.add(Oe),Cn.push(he))}let lt=Cn.slice(0,4).map(({date:he,title:Oe,category:Ue})=>({date:Xi(he,K),title:Oe,category:Ue}));if(ye&&be){const he=Xi(Yu(ye,-1),K),Oe=Xi(be,K);lt=lt.map(H=>{let Ee=H.date;const xt=Yp(H.title),Pn=Zp(H.title);return xt?Ee=HN(Ee,he):Pn?Ee=Xi(Ee,Oe):(gs(Ee,ye)<0&&(Ee=ye),gs(Ee,be)>0&&(Ee=be)),Ee=Xi(Ee,K),{...H,date:Ee}});const Ue=H=>H.includes("")||H.includes("")||H.includes("")?0:H.includes("")||H.includes("")||H.includes("")||H.includes("")?1:H.includes("")||H.includes("")||H.includes("")?2:3,on=H=>H.includes("")||H.includes("")?0:H.includes("")||H.includes("")?1:H.includes("")||H.includes("")?2:3,ht=lt.map((H,Ee)=>({idx:Ee,title:H.title})).filter(({title:H})=>Yp(H)).map(({idx:H})=>H).sort((H,Ee)=>Ue(lt[H].title)-Ue(lt[Ee].title)),Yt=lt.map((H,Ee)=>({idx:Ee,title:H.title})).filter(({title:H})=>Zp(H)).map(({idx:H})=>H).sort((H,Ee)=>on(lt[H].title)-on(lt[Ee].title)),Bn=new Set(ht.map(H=>lt[H].date));ht.length>1&&Bn.size<ht.length&&ht.forEach((H,Ee)=>{const xt=ht.length-1-Ee,Pn=Xi(Yu(he,-xt),K);lt[H]={...lt[H],date:Pn}});const Fi=new Set(Yt.map(H=>lt[H].date));Yt.length>1&&Fi.size<Yt.length&&Yt.forEach((H,Ee)=>{const xt=Xi(Yu(Oe,Ee),K);lt[H]={...lt[H],date:xt}})}lt.sort((he,Oe)=>gs(he.date,Oe.date));const Vt=[];Ft&&Vt.push(`- : **${Ft}**`),Do&&Vt.push(`- : **${Do}**`),ye&&be&&Vt.push(`- : **${ye} ~ ${be}**`),Y==="gemini"&&!Ht&&Vt.push("- :        ."),Y==="openrouter"&&Vt.push("- : OpenRouter  Google       ."),lt.length>0?(Vt.unshift("     ****   ."),h(he=>he.map(Oe=>Oe.id===R?{...Oe,text:Vt.join(`
`),sources:bt,scheduleProposal:{project:Ft,deadline:Do,items:lt,selected:lt.map(()=>!0),applied:!1}}:Oe))):(Vt.unshift("  ."),Vt.push('K-      . ) "12 24  (),    "'),h(he=>he.map(Oe=>Oe.id===R?{...Oe,text:Vt.join(`
`),sources:bt,scheduleProposal:void 0}:Oe)))}else if(Y==="gemini"){if(!f)throw new Error("CHAT_NOT_READY");const ee=await f.sendMessageStream({message:U});let K="",Z=[];for await(const ye of ee){const be=ye.text;be&&(K+=be);const rt=(ve=(J=(z=ye.candidates)==null?void 0:z[0])==null?void 0:J.groundingMetadata)==null?void 0:ve.groundingChunks;if(rt){const Fe=rt.filter(Te=>Te.web&&Te.web.uri&&!Z.some(bt=>{var Ht,Sn;return((Ht=bt.web)==null?void 0:Ht.uri)===((Sn=Te.web)==null?void 0:Sn.uri)}));Z=[...Z,...Fe]}h(Fe=>Fe.map(Te=>Te.id===R?{...Te,text:K,sources:Z}:Te))}}else{const ee=[];ee.push("   ( K-/NEIS) ."),ee.push("  /     ."),ee.push(" ,       ."),n&&(ee.push("     //  ."),ee.push("---    ---"),ee.push(n),ee.push("---    ---"));const K=m.filter(ye=>ye.text&&ye.text.trim().length>0).slice(-12).map(ye=>({role:ye.isUser?"user":"assistant",content:ye.text})),Z=await ff({apiKey:t,model:l.trim()||void 0,messages:[{role:"system",content:ee.join(`
`)},...K,{role:"user",content:U}],temperature:.2});h(ye=>ye.map(be=>be.id===R?{...be,text:Z,sources:[]}:be))}}catch(Y){console.error("Error sending message to AI API:",Y);let ee="    .    .";Y instanceof Error&&Y.message==="MODEL_RETURNED_INVALID_JSON"?ee="AI  JSON   .       . (: '11 13 ,     ')":Y instanceof Error&&Y.message==="CHAT_NOT_READY"?ee="    .     .":Y instanceof Error&&Y.message==="AI_NOT_READY"?ee="AI   .     .":Y instanceof Error&&Y.message==="API_KEY_MISSING"&&(ee="AI   API  .  **API Key **  ."),Y instanceof Error&&(Y.message.includes("API key not valid")?ee="API   .  .":Y.message.includes("OpenRouter")&&(Y.message.includes("401")||Y.message.toLowerCase().includes("unauthorized"))?ee="OpenRouter API   .":Y.message.includes("quota")?ee="API   .":(Y.message.toLowerCase().includes("network error")||Y.message.toLowerCase().includes("failed to fetch"))&&(ee="  .   .")),v(ee),h(K=>K.map(Z=>Z.id===R?{...Z,text:`: ${ee}`,sources:[]}:Z))}finally{_(!1),(ze=ke.current)==null||ze.focus()}},[p,f,u,S,T,b,e,t,i,l,n,m]),Dt=U=>{U.key==="Enter"&&!S&&He()},ln=U=>{const R=Ae.parse(U,{breaks:!0,gfm:!0}).replace(/<ul>/g,'<ul class="list-disc ml-5 mb-2">').replace(/<ol>/g,'<ol class="list-decimal ml-5 mb-2">').replace(/<p>/g,'<p class="mb-2">');return g.jsx("div",{dangerouslySetInnerHTML:{__html:R}})};return g.jsxs("div",{className:`${o.componentBg} p-3 sm:p-4 rounded-xl shadow-xl flex flex-col h-full border ${o.border} ${o.textPrimary}`,children:[g.jsx("h2",{className:`text-lg font-semibold ${o.accentColor} mb-3 text-center border-b ${o.border} pb-2 flex-shrink-0`,children:"AI  "}),!T&&y&&g.jsx("div",{className:`p-3 my-2 text-sm rounded-md text-center flex-shrink-0 border ${s==="dark"?"text-yellow-200 bg-yellow-900/30 border-yellow-700":"text-amber-950 bg-amber-200/80 border-amber-300"}`,children:y}),T&&y&&!m.find(U=>U.text.includes(y||""))&&g.jsx("div",{className:"p-3 my-2 text-sm text-red-400 bg-red-800/30 border border-red-700 rounded-md text-center flex-shrink-0",children:y}),g.jsxs("div",{className:`flex-grow overflow-y-auto min-h-0 space-y-4 pr-1 mb-3 scrollbar-thin scrollbar-track-transparent ${o.scrollbarThumb} scrollbar-thumb-rounded-md`,children:[m.map(U=>g.jsxs("div",{ref:F=>{dt.current[U.id]=F},className:`flex flex-col ${U.isUser?"items-end":"items-start"}`,children:[g.jsxs("div",{className:`flex items-start max-w-[85%] ${U.isUser?"flex-row-reverse":"flex-row"}`,children:[!U.isUser&&g.jsx(QN,{className:`w-5 h-5 ${o.accentColor} mr-2 mt-1 flex-shrink-0`}),U.isUser&&g.jsx(WN,{className:`w-5 h-5 ${o.accentColor} ml-2 mt-1 flex-shrink-0`}),g.jsxs("div",{className:`px-3 py-2 rounded-lg ${U.isUser?`${o.accentBg} ${o.buttonText} rounded-br-none`:`${o.inputBg} ${o.textPrimary} border ${o.border} rounded-bl-none`}`,children:[g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",style:{color:"inherit"},children:!U.isUser&&S&&U.text.trim()===""?g.jsx(jN,{}):ln(U.text)}),!U.isUser&&U.scheduleProposal&&g.jsxs("div",{className:`mt-3 pt-2 border-t ${o.border}`,children:[g.jsx("div",{className:"space-y-2",children:U.scheduleProposal.items.map((F,R)=>{var Y,ee,K;const z=!!((ee=(Y=U.scheduleProposal)==null?void 0:Y.selected)!=null&&ee[R]),J=!!((K=U.scheduleProposal)!=null&&K.applied),ve=`${U.id}-proposal-check-${R}`,ze=(M==null?void 0:M.messageId)===U.id&&(M==null?void 0:M.index)===R;return g.jsxs("div",{className:`flex items-start gap-2 text-sm leading-snug ${J?"opacity-60":""}`,children:[g.jsx("input",{type:"checkbox",id:ve,className:`mt-0.5 h-4 w-4 rounded ${o.border} ${o.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:z,disabled:J,onChange:()=>V(U.id,R)}),g.jsxs("div",{className:"flex flex-col min-w-0",children:[g.jsxs("div",{className:"flex items-start gap-2 min-w-0",children:[g.jsxs("div",{className:"relative flex-shrink-0",children:[g.jsx("button",{type:"button",className:`font-mono text-xs ${o.textSecondary} hover:opacity-80 underline underline-offset-2 disabled:no-underline disabled:cursor-default`,disabled:J,onClick:()=>le(U.id,R),children:F.date}),ze&&!J&&g.jsxs("div",{className:`absolute z-50 top-full left-0 mt-1 w-44 rounded-lg border ${o.border} ${o.componentBg} p-2 shadow-xl`,children:[g.jsx("div",{className:`text-[11px] ${o.textSecondary} mb-1`,children:" "}),g.jsx("input",{type:"date",className:`w-full rounded-md ${o.inputBg} border ${o.border} px-2 py-1 text-xs ${o.textPrimary} focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,value:F.date,onChange:Z=>Ie(U.id,R,Z.target.value)}),g.jsx("div",{className:"mt-2 flex justify-end",children:g.jsx("button",{type:"button",className:`px-2 py-1 rounded-md ${o.inputBg} hover:opacity-80 ${o.textPrimary} text-[11px] border ${o.border}`,onClick:()=>D(null),children:""})})]})]}),g.jsx("label",{htmlFor:ve,className:`${o.textPrimary} cursor-pointer break-words min-w-0`,children:F.title})]}),g.jsxs("div",{className:`text-xs ${o.textSecondary}`,children:[": ",F.category]})]})]},`${U.id}-proposal-${R}`)})}),g.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[g.jsx("button",{type:"button",className:`px-2.5 py-1.5 rounded-md ${o.inputBg} hover:opacity-80 ${o.textPrimary} text-xs border ${o.border} disabled:opacity-50 disabled:cursor-not-allowed`,onClick:()=>oe(U.id),disabled:!!U.scheduleProposal.applied,children:U.scheduleProposal.selected.every(Boolean)?"":""}),g.jsx("button",{type:"button",className:`px-2.5 py-1.5 rounded-md ${o.accentBg} hover:opacity-90 ${o.buttonText} text-xs border border-cyan-500/40 disabled:opacity-50 disabled:cursor-not-allowed`,onClick:()=>Pe(U.id),disabled:!!U.scheduleProposal.applied||U.scheduleProposal.selected.filter(Boolean).length===0,children:""}),U.scheduleProposal.applied&&g.jsxs("span",{className:`text-xs ${o.textSecondary}`,children:[" (",U.scheduleProposal.appliedCount??0," )"]})]})]})]})]}),U.sources&&U.sources.length>0&&!U.isUser&&g.jsxs("div",{className:`mt-1.5 ml-7 text-xs ${o.textSecondary} max-w-[85%]`,children:[g.jsx("p",{className:"font-semibold mb-0.5",children:" :"}),g.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:U.sources.map((F,R)=>F.web&&F.web.uri&&g.jsx("li",{children:g.jsx("a",{href:F.web.uri,target:"_blank",rel:"noopener noreferrer",className:`hover:${o.accentColor} underline`,title:F.web.title||F.web.uri,children:F.web.title||F.web.uri})},`${U.id}-src-${R}`))})]})]},U.id)),g.jsx("div",{ref:me})]}),g.jsx("div",{className:`flex-shrink-0 mt-auto pt-3 border-t ${o.border}`,children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{type:"button",onClick:()=>N(U=>!U),"data-tour":"ai-schedule-toggle",className:`p-2.5 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-400 border ${b?`${o.accentBg} text-white border-transparent`:`${o.inputBg} ${o.textPrimary} ${o.border} hover:opacity-80`}`,"aria-label":"  ",title:b?" : ON":" : OFF",disabled:S,children:g.jsx(JN,{className:"w-5 h-5"})}),g.jsx("input",{ref:ke,"data-tour":"chat-input",type:"text",value:p,onChange:U=>x(U.target.value),onKeyPress:Dt,placeholder:T?b?": ) 1113  ":" ...":"API   ",className:`flex-grow p-2.5 ${o.inputBg} border ${o.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm ${o.textPrimary} ${o.placeholderColor} disabled:opacity-50`,disabled:!T||S,"aria-label":"  "}),g.jsx("button",{onClick:He,disabled:!T||S||!p.trim(),className:`p-2.5 ${o.accentBg} hover:opacity-90 ${o.buttonText} rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-400`,"aria-label":" ",children:S?g.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):g.jsx(XN,{})})]})})]})},tR=`
1	;	1	;	 (  ) ,  ( 6) ,   () 
1	;	2	;	  ,      ,   ,    ,     (     ) ,    
1	;	3	;	    , (   5) ,      
1	;	4	;	     ,     (4) ,    (1) 
1	;	5	;	   ,     (1   ) 
1	;	6	;	  ,  ,   
1	;	7	;	 (, 1) 
1	;	8	;	   (4 12) ,    
1	;	9	;	   () , 2   ,    
1	;	10	;	    , 4     ,        
1	;	11	;	2024      2025   (k) , 2024    2025   
1	;	12	;	, , ,   () 
1	;	13	;	 
1	;	15	;	() ,     , 4   ,  [( )] 
1	;	16	;	  ,     
1	;	17	;	  ()  ,     
1	;	18	;	       ,     
1	;	19	;	  
1	;	20	;	  , (4) 4   , 4   
1	;	21	;	  
1	;	22	;	  
1	;	23	;	   (NEIS ) ,  1      
1	;	24	;	(   ) ,    (7-12) 
1	;	25	;	      ,    () ,     
1	;	26	;	   
1	;	27	;	  ,   () ,     (7~12) ,      
1	;	30	;	(  ) ,   ,  () () ,     ,  (7~12)() ,     
1	;	31	;	         , (NEP)     (  ) 
2	;	1	;	  (   ) ,   
2	;	2	;	    , ,,  () 
2	;	3	;	  ,      , ,,  (  ) 
2	;	4	;	  ,  ,   
2	;	5	;	   () ,     
2	;	6	;	   ,   () 
2	;	7	;	  (  ) ,    
2	;	8	;	2024  ()   2025   ,     
2	;	9	;	(2.23) (, , , ) ,    
2	;	10	;	    , 4     
2	;	11	;	  ,  
2	;	12	;	     ,     
2	;	13	;	4   , (,  ) 
2	;	14	;	   ,    (,,) 
2	;	16	;	  ( 10) ,  (  1 ) 
2	;	17	;	  ,     
2	;	18	;	   
2	;	19	;	() ,    () 
2	;	20	;	  , (4) 4   , 4   
2	;	21	;	 ,  (2 ) , 3.1.  4   
2	;	22	;	   ,  6    () 
2	;	23	;	 ()
2	;	24	;	  
2	;	25	;	(4) , (,,,) 
2	;	26	;	,    ,   
2	;	27	;	 ()
2	;	28	;	(  ), /  , ,   ,   ,   (   3.10/  2 ) 
3	;	1	;	    ,      
3	;	3	;	  ,  ,   ,      ,   
3	;	4	;	  ,   ,        ,     
3	;	6	;	  (~3.13) ,     
3	;	7	;	   ,    ,    
3	;	8	;	     ,     
3	;	9	;	   
3	;	10	;	    , 4     ,    
3	;	12	;	 
3	;	13	;	   () ,  
3	;	14	;	 () , 4   ,  
3	;	15	;	     ,  6    () 
3	;	17	;	  ,     ,   
3	;	19	;	()
3	;	20	;	(4) 4   , 4   ,   ,      ,    ,  (~3.21) 
3	;	21	;	      ,   (~3.30) 
3	;	22	;	      
3	;	23	;	()
3	;	24	;	 (2)
3	;	25	;	(   ) 
3	;	26	;	  
3	;	27	;	 
3	;	28	;	      (4) ,     (4) ,  () () 
3	;	29	;	   ,       
3	;	31	;	  () , (  ),   ,  () () ,     
4	;	1	;	  ,      , /  ,   
4	;	2	;	   (1 3)
4	;	3	;	  ,  ,   ,     
4	;	4	;	      ,   (1) ,     
4	;	5	;	  (4.1.)
4	;	8	;	  (/  .   ) 
4	;	9	;	    , 4     ,    
4	;	10	;	   () ,    
4	;	11	;	    ,     ,      
4	;	12	;	       
4	;	13	;	 
4	;	14	;	  ,  
4	;	15	;	    , 4   ,   ( ) 
4	;	16	;	()
4	;	17	;	  ,     
4	;	18	;	  , (4) 4   , 4   
4	;	19	;	     , 1/4       ,          
4	;	23	;	 ()
4	;	25	;	(   ) 
4	;	26	;	       () ,       
4	;	27	;	   () ,      
4	;	28	;	  ,    
4	;	30	;	(  ),   ,  ( ()) ,     
5	;	1	;	  ,      ,  () 
5	;	2	;	 ,   ,     
5	;	3	;	    
5	;	6	;	 
5	;	8	;	   ,   (  ) 
5	;	9	;	    (/) ,  ()    
5	;	11	;	  ,     , 4     
5	;	12	;	
5	;	14	;	    , 4   , (,  ) 
5	;	15	;	  ,     
5	;	16	;	    
5	;	18	;	()
5	;	19	;	  , (4) 4   , 4   
5	;	20	;	()
5	;	21	;	(1)
5	;	22	;	(   ) 
5	;	23	;	 ( )
5	;	26	;	 
5	;	27	;	  
5	;	28	;	    
5	;	29	;	(  ),   ,  ( ()) ,     
6	;	2	;	  ,      ,  () 
6	;	3	;	  ,  ,   
6	;	4	;	   ,     
6	;	6	;	     ,     
6	;	8	;	  (   ) 
6	;	9	;	  
6	;	10	;	    , 4     
6	;	12	;	  ,  
6	;	13	;	4   , (,  ) 
6	;	14	;	     () ,      ,      
6	;	15	;	    ,   
6	;	16	;	   
6	;	17	;	  ,     
6	;	18	;	() ,  (3) 
6	;	19	;	  , (4) 4   , 4   
6	;	20	;	    ,      ,      
6	;	24	;	(   ) 
6	;	25	;	  
6	;	26	;	 
6	;	27	;	      (1) ,     (1) 
6	;	28	;	    ,       
6	;	29	;	   
6	;	30	;	(  ),   ,  () () ,     
7	;	1	;	  ,      ,       
7	;	2	;	     ,  
7	;	3	;	  ,  ,   ,     
7	;	4	;	2/4       ,   (2) ,  (2) 
7	;	5	;	    
7	;	7	;	   (  )
7	;	8	;	   (2 6) ,    
7	;	9	;	    , 4     
7	;	10	;	
7	;	11	;	    ,    ,        
7	;	13	;	     ,    
7	;	14	;	 
7	;	15	;	    ,     , 4   ,  
7	;	16	;	()
7	;	17	;	  ,     
7	;	18	;	  , (4) 4   , 4   
7	;	19	;	   
7	;	24	;	(   ) ,     (1-6) 
7	;	25	;	      ,         
7	;	28	;	 
7	;	29	;	  
7	;	30	;	    (1-6)
7	;	31	;	(  ),   ,  ( ()) ,     ,  (1~6)  
8	;	1	;	  ,      
8	;	2	;	  (7 ) 
8	;	4	;	  ,  ,   
8	;	5	;	   
8	;	7	;	   ,    
8	;	8	;	   
8	;	10	;	  
8	;	11	;	    , 4     
8	;	12	;	  ,  
8	;	14	;	  ,     , 4   ,  
8	;	15	;	     
8	;	17	;	  ,  () 
8	;	18	;	   
8	;	19	;	() ,   , (4) 4   , 4   
8	;	21	;	(2)
8	;	22	;	    ,  ()  
8	;	25	;	(   ) 
8	;	26	;	 
8	;	27	;	  
8	;	28	;	(  ),   ,  ( ()) ,     
9	;	1	;	   ,      ,  (, )    
9	;	3	;	  ,  ,   
9	;	4	;	   
9	;	5	;	  
9	;	7	;	()
9	;	8	;	  
9	;	9	;	  
9	;	10	;	    , 4     
9	;	11	;	 (4)
9	;	12	;	  ,  
9	;	13	;	    
9	;	15	;	    , 4   ,  
9	;	17	;	()
9	;	18	;	  ,     
9	;	19	;	  , (4) 4   , 4   
9	;	20	;	  
9	;	23	;	(   ) 
9	;	25	;	  
9	;	26	;	       
9	;	28	;	   
9	;	29	;	  ,       (2) ,     (2) 
9	;	30	;	(  ),   ,  ( ()) ,     
10	;	1	;	  ,      
10	;	2	;	 ,   ,     ,    ,    
10	;	3	;	  (10.1.) , 3/4       ,     (3) 
10	;	9	;	    , 4     
10	;	10	;	  ,       ,     
10	;	13	;	  ,  ,    (3-9) 
10	;	14	;	() ,     , 4   ,  
10	;	16	;	  ,     
10	;	17	;	         
10	;	19	;	   () ,    
10	;	20	;	  , (4) 4   , 4   
10	;	22	;	 ()
10	;	24	;	(   ) 
10	;	25	;	     
10	;	26	;	   (16 3)
10	;	27	;	 
10	;	28	;	  
10	;	30	;	(  ),   ,  ( ()) ,     
11	;	1	;	    
11	;	2	;	 (   )
11	;	3	;	  ,      
11	;	4	;	  ,  ,   
11	;	5	;	   
11	;	6	;	   ,    
11	;	7	;	  
11	;	9	;	    , 4     
11	;	10	;	
11	;	12	;	 
11	;	13	;	4   ,  
11	;	14	;	   
11	;	16	;	  ,     ,     
11	;	18	;	()
11	;	19	;	  , (4) 4   , 4   
11	;	20	;	(3)
11	;	21	;	    
11	;	23	;	 (2)   
11	;	24	;	(   ) 
11	;	25	;	  
11	;	26	;	 
11	;	27	;	(  ),   ,  ( ()) ,     
11	;	28	;	     ()
12	;	1	;	  ,      
12	;	3	;	  ,  ,   
12	;	4	;	   
12	;	5	;	  (3)   ,        , 4/4       
12	;	7	;	    ( )
12	;	8	;	  (  11.12  )
12	;	9	;	  
12	;	10	;	    , 4     
12	;	11	;	     ,  ()   
12	;	12	;	 
12	;	13	;	   (NEIS) ,       
12	;	14	;	     ,   
12	;	15	;	    , 4   ,  
12	;	16	;	  ( ) ,     
12	;	17	;	() ,   ,     
12	;	18	;	 () 1 
12	;	19	;	  , (4) 4   , 4   
12	;	20	;	   ,   ,     ,       
12	;	21	;	    
12	;	23	;	(   ) 
12	;	25	;	  
12	;	26	;		;	   
12	;	26	;		;	    
12	;	26	;		;	   
12	;	28	;		;	   
12	;	29	;		;	 
12	;	30	;		;	      (3)
12	;	30	;		;	    (3) 
12	;	31	;		;	(  ),  
12	;	31	;		;	 ( ())
12	;	31	;		;	   
`,Kp=`
  "2025   "     .

### **1 **
*   **1.    3**
    *   **1.  :**  2(), 4(   ) 7( ),   3(   )
    *   **2.  :**  8( ),   5(  )
    *   **3.  :**  9( ),   6( )
    *   **4.  :**  18(   ) 19( ),  22(  ),   14(  ) 17(  ),   24(    ), 25(  ),   29(  ),  31( )
    *   **5. ():**  18(),   18(),   8(   ),   9(    ),  23( ),  1() 3( )
*   **2.    6**
    *   **1. ON-LINE  :**       ,    4( )
    *   **2. OFF-LINE  :** (      )
    *   **3. NEIS   :** (   )
    *   **4. NEIS  :** (   )
    *   **5. FAX :**    3( ), 5( ),    6(   )
*   **3.   10**
    *   **1.    :**  10( ),   6(  )
    *   **2. ():**  9(  ), 11(  ), 16(    ),   7(  ), 8(3 )
    *   **3.  :**  12(), 122( ),      7( ), 9( )
    *   **4.     :**  13(   ) 17( ),   12(   ) 17( ),   7( )
*   **4.    15**
    *   **1.    :**  36(    ) 43( ),   43(    ),    21(    ), 24( )

### **2 **
*   **1.   17**
    *   **1.  :**      2(  ),      4(  ) 6(),       33(   ) 40(),  4(  ),    3()
    *   **2. :**      7(  ), 8(  ),       36() 40(),  7( ), 8( )
    *   **3.  :**      2(  ) 14( ),        11(  )
*   **2.    20**
    *   **1.  :**       3() 8( ),        2(  ) 6(  )
    *   **2. :**       9(   ) 10( ),        7( ),      4()
*   **3. K-()  22**
    *   **1. :**       18( ),        15( ) 17( )
*   **4.   27**
    *   **1.  :**     19(  ),      19( ) 25( ),      4( ) 6( )
    *   **2.  :**      23(  ),      7(   ) 13(  )
    *   **3.   :**      24( ) 33(  ),      14( )
    *   **4.  :**      26() 32( ),      19(  )
    *   **5.  :**      43(       ),      35( )
*   **5.    31**
    *   **1.  :**       61( ),        45( )
    *   **2.  :**       61( ),        45( ),      10(),       10( )
*   **6.   33**
    *   **1.  :**  20( ),  1() 8(),    4( )
    *   **2.   :**  4(  ) 8(),    39( )

### **3 **
*   **1.   35**
    *   **1.  ( ):**     3( )
    *   **2. ():**     5(   ),     8(5    )
*   **2.    37**
    *   **1. :**   3(    ),    3(  ),    7(    )
*   **3.   40**
    *   **1.  :** ,   ,       ,        
    *   **2.    :**    8(),  5( ),       11()
*   **4.   42**
    *   **1.   :**  63(), 64(),  31()
*   **5.      45**
    *   **1.  :**   8( )
    *   **2.  :**   9( )
*   **6.      48**
    *   **1.  :**  8( )
    *   **2.  :**  9( )

### **4   **
*   **1.    51**
    *   **1.    :**  17( ),        17( ),    ,      4(  ),       2(),  56(   ),   25(  ),  293(  ),   265(   ),     10(),   ,   
*   **2.    65**
    *   **1.   :** ,    44() 72()
*   **3.    75**
    *   **1. :** ,  ,    73( ) 83(),    53(  ) 56()
*   **4.   84**
    *   **1. :** ,  ,  ,   

### **5 **
*   **1.      88**
    *   **1.    :**    4(   )
    *   **2.   :**    73(   )
*   **2. ()    91**
    *   **1. ()  :**   16(  ),   31( ),    28(),    44()
*   **3.     93**
    *   **1.    :**  28(    ),   49(    ),    56(  )
*   **4.      94**
    *   **1.   () :**  33(),  312(),  (, 2019. 10.),     56(   ),  293(  ),      8(    )
*   **5.   95**
    *   **1.  :**  34(),    59( )
    *   **2. :**   54( ),    60( ),    61( )

### **6 **
*   **1.   97**
    *   **1.   :**       
    *   **2.  :**      8(  ),       
*   **2.   98**
    *   **1.   :**   78(    ),    
    *   **2. :**   7(   ), 72(  ),      20(  ),    
*   **3.     105**
    *   **1. :**   10( ), 11( ),    19(   ),        10(   )
*   **4.   108**
    *   **1. :**   6(),    16( ), 18(     ),     6(),     ()

### **7 **
*   **1.     110**
    *   **1.   :**  31( ),   58(  ),  193(  )
    *   **2.    ,   :**   58(  ),     22( ),  193(  ),   ()
*   **2.    115**
    *   **1.  :**  32(),   572(  ),     9( )
    *   **2.  :**     12( )  152( )
*   **3.   119**
    *   **1.  :**   602(),     16(),   ()
*   **4.   120**
    *   **1.  :**   602(),     16(),   ()

### **8 **
*   **1. (NEIS)  122**
    *   **1. NEIS :** 2025   ,   
*   **2.     124**
    *   **1. :** ,  ,    ,     ,  ,       ,         ,       
*   **3.   139**
    *   **1.    :**  137( ), 140(   ), 143(   ), 164( )
*   **4.   141**
    *   **1.    :**  276( ), 229( )
    *   **3.   :**  195(  ), 227( ), 246(),   3( )
*   **5.   144**
    *   **1. :**  66( ) 68( ),   65(    )
    *   **3. :**  75( ), 77( ),   72()
*   **6.   147**
    *   **1. , :**  8(   ) 10(   ),   4(   )
*   **7.   149**
    *   **1. ,  :**  72(),  
*   **8.   151**
    *   **1.    :**    ,      5(  )

### **9 **
*   **1.    155**
    *   **1.  :**        2(),  25( )
    *   **3.  :**    46( ), 47( )
    *   **5.     :**   30(    ),    58( )

### **10  **
*   **1.     162**
    *   **1.   :**    11( ), 14(  )
*   **2.    167**
    *   **1.  :**    11( )
*   **3.   171**
    *   **1.   :**    14(  )
*   **4.   173**
    *   **1.   :**    14(  )
*   **5.   175**
    *   **1.   :**    14(  )
*   **6.  ,     176**
    *   **1.    :**    16(     )  17( )
*   **7.    178**
    *   **1.   :**    15(   ),  302( )
*   **8.    179**
    *   **1.  :**    18(), 19( )
*   **9.    181**
    *   **1.   :**    4(), 20( ), 23( )

### **11  **
*   **1.    183**
    *   **1. :**    25( )
    *   **2. :**     9( ),    42(   )
    *   **3. :**    26(  ) 28( ),        3(),     22( ),       

### **12  **
*   **1.    189**
    *   **1.  ():**  20 2( ),  19( ),    4( ),    30(  ),      ,  5(   ) 8()
    *   **2.   ():**    155() 157( ),  4( ), 6(    )
    *   **3.    :**  30( ),  7(    ),   3(    ),    4(), 19( ), 34( )
*   **2.    194**
    *   **1.   :**    33(   ) 36()
    *   **2. :**    33(   )
*   **3.    206**
*   **4.    218**
*   **5.   223**

### **13 **
*   **1.    228**
    *   **1.  :**  4(  ), 6( )
    *   **2.   :**    ,    ,   7( ),  664( ),  2(),     2()
*   **2.    236**
    *   **1. :** (   )
    *   **2. :** (   )
    *   **3.  :**   2() 10( ),     2( )
*   **3.     244**
    *   **1.     :**  4( ), 7( ),   22( ), 23(   ),           (),         (),   48(   )
    *   **2. :**   7( ) 10( ), 15( ), 16(     ), 20(   ), 322( ) 36( ), 124( ),     ,        ,    ,    
    *   **3. 2 ,   :**   18(2 ), 19(   )
    *   **4.   :**   43(  ), 44(  ),    
    *   **5.    :**   442(   )
*   **4.    264**
    *   **1.  :**   47( ) 48(   ),    
    *   **2.    :**   50(   ),   33(     ), 48(  ),   33(   )
*   **5.    267**
    *   **1.    :** (   )
    *   **2. , ,    :**      5(, ,        ),       4(    ),  2(), 61(   ) 66(   )
    *   **3.  :**   302( ), 35(  ),     ,      ,   ,    98( ),      154(),     2(), 17(  ),     9 5( )
*   **6.     290**
    *   **1.  :**   262(     ), 344(  ), 643(    ), 83( ),    53(    ),      8(  ),       10(),     1 9(   ), 9 9( )  12()
*   **7.    298**
    *   **1. :** (   )
    *   **2.       :** (   )
    *   **3.      :** (   )

### **14 **
*   **1.   300**
    *   **1.  :**    91( )
    *   **2.  :**    91( )
    *   **3.  :**    40( ),     3( )  [1]
    *   **4.  :**    40( ),    90(  ) 99(), 127(   ),  34( ),   40(      )

### **15 **
*   **1.      304**
    *   **1.   :**   64(),   46(  )
*   **2.      307**
    *   **1.  :**   64(),   47( )
    *   **2.  :**   64(),   47(  ),   11(  )
*   **3.      310**
    *   **1.  :**   64(),   50()
*   **4.       311**
    *   **1.  :**   45(  )
    *   **2.    :**   52(    )

### **16 **
*   **1.      312**
    *   **1.  :**    58( ),     58( ),    5( ) [1]
*   **2.    314**
    *   **1.  :**    68(),    5( ), 10( ), [1]   ,     9()
*   **3.   319**
    *   **2. :**  14(  ),    16(  ),     17( ),     14( )
*   **4.   321**
    *   **1.  :**    16(  ),     62(  )
*   **5.    323**
    *   **1.  :**    76( ), 77(  ), 78( ),     78(   ), 79( ),    17( ), 18( )
*   **6.   326**
    *   **1. :**    60( ),     59(),     24()
*   **7.     328**
    *   **1.   :**       5( ) 13( )
*   **8. (RFID)    331**
    *   **1. (RFID)  :**    66( ),    35(  )

### **17 **
*   **1.    334**
    *   **1.  :**     5(  ),      3( )
    *   **2.    :** (   )
*   **2.    335**
    *   **1.    :**   52( ),    2( )
    *   **2.      :**  38(),    18()
*   **3.    338**
    *   **1.     :**      12( )
    *   **2.    :**     95(   ),      92(   ),     5()
*   **4.      340**
    *   **1.   :**     20(), 21(),      13( )
    *   **2.  :**      31(  ),     29( ), 31( ),    8(  )[3]
*   **5.     345**
    *   **1. ():**     20( ), 21(),            4(     )
*   **6.   348**
    *   **1.    :**      33()
    *   **2.   :**     51( ), 52(   )
*   **7.   350**
    *   **1.  :**         34(   ),       5(  ),      4(  )

### **18 **
*   **1.    354**
    *   **1.  :**         13(  ),       11( ),        5()
*   **2.    359**
    *   **1.  :**  ( )
    *   **2.  :**  6(  ), 10(  ) 19(),   5(  ), 12(  ) 20(),    ,     ,    ,        4
    *   **3.  :**     4( ) 8( ), 14( ),  24( ), 34(   ), 36(   ), 39( ),   11(    ), 14(  ),  16(    ),  16(,    ), 22( ), 23(    ),   6(), 19(  ),   20(     ), 23(   ),      7(  ),  16()
    *   **4.  :**  17(  ), 29(), 30(),   153 1(    ),   202(), 25(), 50(), 64(  ),  34(), 37(  ), 41(), 57(),   15(  ), 30(  ),   52(), 66(), 70(  ), 75( )
    *   **5.  :**  15(), 18(  ), 28(),   13( ), 16(  ),   53(  ), 64( ) 68( ),   
    *   **6.  :**  27( ) 29( ), 31( ), 32( , , ), 48(    ), 50( ),   37(    ),   46( ), 50(     ), 52(  ), 54(  ),      
*   **3.    363**
    *   **1. 23  :**  6(    ), 8(3  ), 9(   ), 11( ), 12( ), 22(  ), 23(), 28(  ),   4( ), 5(3  ), 8(  ),        5()
*   **4.    381**
    *   **1. :** (   )
*   **5.    385**
    *   **1.    ( ):**    () 254(   )

### **19     **
*   **1.        387**
    *   **1.    :**       2 4( ), ,     
    *   **2. () :**  8(),  111(),   154()
*   **2.    392**
    *   **1.    :**  38( ),    69( ), 156(), 157(),    41( )
*   **3.     394**
    *   **1.  :** (   )
*   **4.     396**
    *   **1.      :** ,  , ,  ,  ,  8,   19,   3, 6,  6, 7,   9,   3,  15,   7, ,  ,  ,       ,  7, 72,  52
*   **5.    399**
    *   **1.   :**   ,    
*   **6.     403**
    *   **1. ()   () :**  6(),   7(  ),   3( )
*   **7.  (BTL)   405**
    *   **1.   :**    4 2( )
    *   **2.    :** (   )
`,nR="https://aistudio.google.com/app/apikey",iR="https://openrouter.ai/keys",Zu=1,ks=n=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n),Mr=n=>typeof n=="string"&&Ct.includes(n),q0=n=>n==="manual"||n==="ai",bl=n=>{if(!ks(n))return null;const e=Number(n.slice(0,4));return Number.isFinite(e)?e:null},Ku=n=>{const e=/^event-(\d{4})-/.exec(n);if(!e)return null;const t=Number(e[1]);return Number.isFinite(t)?t:null},Jp=()=>{try{const n=localStorage.getItem(wo);if(!n)return[];const e=JSON.parse(n);if(!Array.isArray(e))return[];const t=[];for(const i of e){if(!i||typeof i!="object")continue;const l=i,o=l.id,s=l.date,u=l.title,c=l.category,f=l.source;typeof o!="string"||!o||ks(s)&&(typeof u!="string"||!u.trim()||t.push({id:o,date:s,title:u.trim(),category:Mr(c)?c:Xn,source:q0(f)?f:"manual"}))}return t}catch{return[]}},lR=n=>{localStorage.setItem(wo,JSON.stringify(n)),window.dispatchEvent(new CustomEvent(mr))},Xp=()=>{try{const n=localStorage.getItem(Yr);if(!n)return{};const e=JSON.parse(n);if(!e||typeof e!="object"||Array.isArray(e))return{};const t={};for(const[i,l]of Object.entries(e)){if(!l||typeof l!="object"||Array.isArray(l))continue;const o=l,s={};ks(o.date)&&(s.date=o.date),typeof o.title=="string"&&o.title.trim()&&(s.title=o.title.trim()),Mr(o.category)&&(s.category=o.category),(s.date||s.title||s.category)&&(t[i]=s)}return t}catch{return{}}},oR=n=>{localStorage.setItem(Yr,JSON.stringify(n)),window.dispatchEvent(new CustomEvent(Hc))},sR=({isOpen:n,onClose:e,geminiApiKey:t,openRouterApiKey:i,aiProviderPreference:l,openRouterModel:o,onSaveGemini:s,onSaveOpenRouter:u,onSaveAiProviderPreference:c,onSaveOpenRouterModel:f,onClearGemini:d,onClearOpenRouter:m})=>{const{colors:h}=qi(),[p,x]=A.useState(t),[S,_]=A.useState(i),[y,v]=A.useState(l),[T,C]=A.useState(o),[b,N]=A.useState(!1),[M,D]=A.useState(!1),[B,L]=A.useState(()=>new Date().getFullYear()),[me,ke]=A.useState(null);A.useEffect(()=>{n&&(x(t),_(i),v(l),C(o),N(!1),D(!1),L(new Date().getFullYear()),ke(null))},[n,t,i,l,o]);const vt=A.useMemo(()=>t?t.length<=8?"*".repeat(t.length):`${t.slice(0,4)}${"*".repeat(t.length-8)}${t.slice(-4)}`:"",[t]),dt=A.useMemo(()=>i?i.length<=10?"*".repeat(i.length):`${i.slice(0,6)}${"*".repeat(i.length-10)}${i.slice(-4)}`:"",[i]),At=A.useMemo(()=>{const R=!!p.trim(),z=!!S.trim();return y==="gemini"?R?"gemini":z?"openrouter":null:y==="openrouter"?z?"openrouter":R?"gemini":null:R?"gemini":z?"openrouter":null},[y,p,S]),V=y==="auto"||y==="gemini",oe=y==="auto"||y==="openrouter";if(!n)return null;const le=()=>{s(p),u(S),c(y),f(T),e()},Ie=()=>{d(),m(),x(""),_(""),e()},Pe=R=>{const z=Jp().filter(ze=>bl(ze.date)===R),J=Xp(),ve={};for(const[ze,Y]of Object.entries(J))((Y.date&&bl(Y.date))??Ku(ze))===R&&(ve[ze]=Y);return{version:Zu,createdAt:new Date().toISOString(),year:R,userEvents:z,builtinEventOverrides:ve}},He=(R,z)=>{const J=new Blob([z],{type:"application/json"}),ve=URL.createObjectURL(J),ze=document.createElement("a");ze.href=ve,ze.download=R,document.body.appendChild(ze),ze.click(),ze.remove(),URL.revokeObjectURL(ve)},Dt=()=>{ke(null);const R=Math.trunc(B);if(!Number.isFinite(R)||R<1900||R>9999){ke({type:"error",message:"  ."});return}try{const z=Pe(R),J=JSON.stringify(z,null,2);He(`smart-calendar-backup-${R}.json`,J),ke({type:"success",message:`${R}   .`})}catch(z){ke({type:"error",message:z instanceof Error?z.message:"    ."})}},ln=R=>{if(!R||typeof R!="object"||Array.isArray(R))throw new Error("    .");const z=R,J=z.version,ve=typeof J=="number"?J:J===void 0?0:NaN;if(ve!==0&&ve!==Zu)throw new Error("    .");const ze=z.year;if(typeof ze!="number"||!Number.isFinite(ze))throw new Error("    . (year)");const Y=Math.trunc(ze),ee=z.userEvents??z.events;if(!Array.isArray(ee))throw new Error("    . (userEvents)");const K=z.builtinEventOverrides??z.builtinOverrides??z.overrides;if(K!==void 0&&(typeof K!="object"||K===null||Array.isArray(K)))throw new Error("    . (builtinEventOverrides)");const Z=[];for(const be of ee){if(!be||typeof be!="object")continue;const rt=be,Fe=rt.id,Te=rt.date,bt=rt.title,Ht=rt.category,Sn=rt.source;typeof Fe!="string"||!Fe||!ks(Te)||typeof bt!="string"||!bt.trim()||bl(Te)!==Y||Z.push({id:Fe,date:Te,title:bt.trim(),category:Mr(Ht)?Ht:Xn,source:q0(Sn)?Sn:"manual"})}const ye={};if(K&&typeof K=="object"&&!Array.isArray(K))for(const[be,rt]of Object.entries(K)){if(!rt||typeof rt!="object"||Array.isArray(rt))continue;const Fe=rt,Te={};ks(Fe.date)&&(Te.date=Fe.date),typeof Fe.title=="string"&&Fe.title.trim()&&(Te.title=Fe.title.trim()),Mr(Fe.category)&&(Te.category=Fe.category),((Te.date&&bl(Te.date))??Ku(be))===Y&&(Te.date||Te.title||Te.category)&&(ye[be]=Te)}return{version:Zu,createdAt:typeof z.createdAt=="string"?z.createdAt:new Date().toISOString(),year:Y,userEvents:Z,builtinEventOverrides:ye}},U=async R=>{ke(null);try{const z=await R.text(),J=JSON.parse(z),ve=ln(J),Y=Jp().filter(Z=>bl(Z.date)!==ve.year);lR([...ve.userEvents,...Y]);const ee=Xp(),K={};for(const[Z,ye]of Object.entries(ee))((ye.date&&bl(ye.date))??Ku(Z))!==ve.year&&(K[Z]=ye);oR({...K,...ve.builtinEventOverrides}),ke({type:"success",message:`${ve.year}  . ( ${ve.userEvents.length} /   ${Object.keys(ve.builtinEventOverrides).length})`})}catch(z){ke({type:"error",message:z instanceof Error?z.message:"    ."})}},F=async R=>{var J;const z=(J=R.target.files)==null?void 0:J[0];z&&(await U(z),R.target.value="")};return g.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:`w-full max-w-lg max-h-[90vh] overflow-y-auto scrollbar-thin ${h.componentBg} border ${h.border} rounded-xl shadow-xl p-5`,children:[g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:`text-lg font-semibold ${h.accentColor}`,children:"API Key "}),g.jsx("p",{className:`text-xs ${h.textSecondary} mt-1`,children:"   (localStorage) . (  PC  )"})]}),g.jsx("button",{onClick:e,className:`${h.textSecondary} hover:${h.textPrimary} px-2 py-1 rounded-md ${h.hoverEffect}`,"aria-label":"",children:""})]}),g.jsxs("div",{className:"mt-4 space-y-5",children:[g.jsxs("section",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("label",{className:`text-sm ${h.textPrimary} block`,htmlFor:"ai-provider-select",children:"AI Provider"}),g.jsxs("span",{className:`text-xs ${h.textSecondary}`,children:[" : ",At??""]})]}),g.jsxs("select",{id:"ai-provider-select",value:y,onChange:R=>v(R.target.value),className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm`,children:[g.jsx("option",{value:"auto",children:"()"}),g.jsx("option",{value:"gemini",children:"Google AI Studio (Gemini)"}),g.jsx("option",{value:"openrouter",children:"OpenRouter"})]}),g.jsx("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:" Provider  ,   Provider  . (Google   Gemini )"})]}),V&&g.jsxs("section",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("label",{className:`text-sm ${h.textPrimary} block`,htmlFor:"gemini-api-key-input",children:"Gemini API Key"}),g.jsx("a",{href:nR,target:"_blank",rel:"noopener noreferrer",className:`text-xs ${h.textSecondary} hover:${h.textPrimary} underline`,children:" "})]}),g.jsx("input",{id:"gemini-api-key-input",type:b?"text":"password",value:p,onChange:R=>x(R.target.value),placeholder:"AIza...   ",className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm placeholder-slate-500`}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("button",{onClick:()=>N(R=>!R),className:`text-xs ${h.textSecondary} hover:${h.textPrimary}`,type:"button",children:b?"":""}),t&&g.jsxs("div",{className:`text-xs ${h.textSecondary}`,children:[": ",vt]})]}),g.jsxs("ol",{className:`text-[11px] ${h.textSecondary} leading-relaxed list-decimal list-inside mt-2 space-y-0.5`,children:[g.jsx("li",{children:"Google AI Studio API Key ."}),g.jsx("li",{children:"   ."})]})]}),oe&&g.jsxs("section",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("label",{className:`text-sm ${h.textPrimary} block`,htmlFor:"openrouter-api-key-input",children:"OpenRouter API Key"}),g.jsx("a",{href:iR,target:"_blank",rel:"noopener noreferrer",className:`text-xs ${h.textSecondary} hover:${h.textPrimary} underline`,children:" /"})]}),g.jsx("input",{id:"openrouter-api-key-input",type:M?"text":"password",value:S,onChange:R=>_(R.target.value),placeholder:"sk-or-v1-...   ",className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm placeholder-slate-500`}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("button",{onClick:()=>D(R=>!R),className:`text-xs ${h.textSecondary} hover:${h.textPrimary}`,type:"button",children:M?"":""}),i&&g.jsxs("div",{className:`text-xs ${h.textSecondary}`,children:[": ",dt]})]}),g.jsxs("div",{className:"mt-2 space-y-1",children:[g.jsx("label",{className:`text-xs ${h.textSecondary} block`,htmlFor:"openrouter-model-input",children:"OpenRouter  ()"}),g.jsx("input",{id:"openrouter-model-input",type:"text",value:T,onChange:R=>C(R.target.value),placeholder:"(     )",className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm placeholder-slate-500`}),g.jsxs("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:[": ",g.jsx("span",{className:"font-mono",children:"mistralai/mistral-7b-instruct:free"}),"  ",g.jsx("span",{className:"font-mono",children:"google/gemma-3-4b-it:free"})]})]}),g.jsxs("ol",{className:`text-[11px] ${h.textSecondary} leading-relaxed list-decimal list-inside mt-2 space-y-0.5`,children:[g.jsx("li",{children:"OpenRouter   Keys  API Key ."}),g.jsx("li",{children:"   ."})]})]}),g.jsx("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:"()  Gemini    Gemini ,  OpenRouter ."}),g.jsxs("section",{className:`space-y-2 pt-4 border-t ${h.border}`,children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("h3",{className:`text-sm font-semibold ${h.textPrimary}`,children:" / "}),g.jsx("span",{className:`text-[11px] ${h.textSecondary}`,children:" JSON "})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 items-end",children:[g.jsxs("div",{children:[g.jsx("label",{className:`text-xs ${h.textSecondary} block mb-1`,htmlFor:"backup-year-input",children:""}),g.jsx("input",{id:"backup-year-input",type:"number",value:B,onChange:R=>L(Number(R.target.value)),className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm`,min:1900,max:9999})]}),g.jsx("button",{type:"button",onClick:Dt,className:`${h.buttonBg} ${h.hoverEffect} ${h.buttonText} font-semibold py-2.5 px-4 rounded-lg transition-colors text-sm w-full`,children:" "}),g.jsxs("label",{className:`${h.accentBg} hover:opacity-90 ${h.buttonText} font-semibold py-2.5 px-4 rounded-lg transition-colors text-sm w-full text-center cursor-pointer`,children:[g.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:F})," "]})]}),me&&g.jsx("div",{className:`text-xs p-2 rounded-md border ${me.type==="success"?"text-green-200 bg-green-900/20 border-green-700":"text-red-200 bg-red-900/20 border-red-700"}`,children:me.message}),g.jsx("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:"    /   . (API Key  )"})]})]}),g.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[g.jsx("button",{onClick:Ie,className:`${h.eventBuiltinBg} hover:opacity-90 ${h.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,type:"button",children:" "}),g.jsx("button",{onClick:le,className:`${h.accentBg} hover:opacity-90 ${h.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,type:"button",children:""})]})]})})},Sa=8,Yl=(n,e,t)=>Math.min(t,Math.max(e,n)),aR=n=>{const e=n.getBoundingClientRect(),t=Yl(e.top-Sa,0,window.innerHeight),i=Yl(e.left-Sa,0,window.innerWidth),l=Yl(e.right+Sa,0,window.innerWidth),o=Yl(e.bottom+Sa,0,window.innerHeight);return{top:t,left:i,width:Math.max(0,l-i),height:Math.max(0,o-t),right:l,bottom:o}},rR=n=>n?document.querySelector(`[data-tour="${CSS.escape(n)}"]`):null,uR=({isOpen:n,steps:e,onClose:t})=>{var v,T;const{colors:i}=qi(),[l,o]=A.useState(0),[s,u]=A.useState(!1),[c,f]=A.useState(null),d=A.useRef(null),[m,h]=A.useState(null),p=e[l];A.useEffect(()=>{n&&(o(0),u(!1),f(null))},[n]),A.useLayoutEffect(()=>{if(!n||!p)return;let C=0;const b=()=>{const D=rR(p.target);if(!D){f(null);return}f(aR(D))},N=()=>{C&&cancelAnimationFrame(C),C=requestAnimationFrame(b)};N();const M=new MutationObserver(()=>N());return M.observe(document.body,{childList:!0,subtree:!0}),window.addEventListener("resize",N),window.addEventListener("scroll",N,!0),()=>{C&&cancelAnimationFrame(C),M.disconnect(),window.removeEventListener("resize",N),window.removeEventListener("scroll",N,!0)}},[n,p==null?void 0:p.target]),A.useLayoutEffect(()=>{n&&d.current&&h(d.current.getBoundingClientRect())},[n,l]);const x=A.useMemo(()=>{var M,D;const C=c?{x:c.left+c.width/2,y:c.top+c.height/2}:{x:window.innerWidth/2,y:window.innerHeight/2},b=((M=p==null?void 0:p.arrowOffset)==null?void 0:M.x)??0,N=((D=p==null?void 0:p.arrowOffset)==null?void 0:D.y)??0;return{x:Yl(C.x+b,0,window.innerWidth),y:Yl(C.y+N,0,window.innerHeight)}},[c,(v=p==null?void 0:p.arrowOffset)==null?void 0:v.x,(T=p==null?void 0:p.arrowOffset)==null?void 0:T.y]),S=A.useMemo(()=>m?{x:m.left+m.width/2,y:m.top}:{x:32,y:window.innerHeight-32},[m]),_=()=>{if(l>=e.length-1){t({dismissed:s});return}o(C=>C+1)},y=()=>t({dismissed:s});return!n||!p?null:g.jsxs("div",{className:"fixed inset-0 z-[200]",role:"dialog","aria-modal":"true","aria-label":" ",onClick:_,children:[c?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed bg-black/60",style:{top:0,left:0,width:"100%",height:`${c.top}px`}}),g.jsx("div",{className:"fixed bg-black/60",style:{top:`${c.bottom}px`,left:0,width:"100%",height:`${window.innerHeight-c.bottom}px`}}),g.jsx("div",{className:"fixed bg-black/60",style:{top:`${c.top}px`,left:0,width:`${c.left}px`,height:`${c.height}px`}}),g.jsx("div",{className:"fixed bg-black/60",style:{top:`${c.top}px`,left:`${c.right}px`,width:`${window.innerWidth-c.right}px`,height:`${c.height}px`}}),g.jsx("div",{className:"fixed pointer-events-none border-2 border-cyan-400 rounded-xl shadow-[0_0_0_2px_rgba(34,211,238,0.2)]",style:{top:`${c.top}px`,left:`${c.left}px`,width:`${c.width}px`,height:`${c.height}px`}})]}):g.jsx("div",{className:"fixed inset-0 bg-black/60"}),c&&g.jsxs("svg",{className:"fixed inset-0 pointer-events-none",width:"100%",height:"100%","aria-hidden":"true",children:[g.jsx("defs",{children:g.jsx("marker",{id:"tour-arrowhead",markerWidth:"10",markerHeight:"8",refX:"8",refY:"4",orient:"auto",children:g.jsx("path",{d:"M0,0 L10,4 L0,8 Z",fill:"rgba(34,211,238,0.95)"})})}),g.jsx("line",{x1:S.x,y1:S.y,x2:x.x,y2:x.y,stroke:"rgba(34,211,238,0.9)",strokeWidth:"2",markerEnd:"url(#tour-arrowhead)"})]}),g.jsxs("div",{ref:d,className:`fixed left-4 bottom-4 w-[min(380px,calc(100vw-32px))] ${i.componentBg} border ${i.border} rounded-xl shadow-2xl p-4`,onClick:C=>C.stopPropagation(),children:[g.jsxs("div",{className:"flex items-start justify-between gap-3",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsxs("div",{className:`text-[11px] ${i.textSecondary}`,children:[l+1," / ",e.length]}),g.jsx("div",{className:`text-base font-semibold ${i.accentColor} mt-0.5`,children:p.title})]}),g.jsx("button",{type:"button",onClick:y,className:`text-xs ${i.textSecondary} hover:${i.textPrimary} underline`,children:""})]}),g.jsx("p",{className:`mt-2 text-sm ${i.textPrimary} leading-relaxed`,children:p.description}),g.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[g.jsxs("label",{className:`flex items-center gap-2 text-xs ${i.textSecondary}`,children:[g.jsx("input",{type:"checkbox",checked:s,onChange:C=>u(C.target.checked),className:`mt-0.5 h-4 w-4 rounded border ${i.border} ${i.inputBg} text-cyan-500 focus:ring-cyan-400`}),"  "]}),g.jsx("div",{className:`text-xs ${i.textSecondary}`,children:"   "})]})]})]})},cR=({isOpen:n,onClose:e})=>{const{colors:t}=qi();return n?g.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:g.jsxs("div",{className:`${t.componentBg} p-6 rounded-xl shadow-2xl border ${t.border} w-full max-w-2xl max-h-[80vh] flex flex-col relative`,onClick:i=>i.stopPropagation(),children:[g.jsx("button",{onClick:e,className:`absolute top-4 right-4 ${t.textSecondary} hover:${t.textPrimary} transition-colors`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),g.jsx("h2",{className:`text-xl sm:text-2xl font-bold ${t.accentColor} mb-4 pr-8`,children:" "}),g.jsx("div",{className:"flex-grow overflow-y-auto min-h-0 scrollbar-thin pr-2",children:g.jsxs("ul",{className:`space-y-4 ${t.textSecondary}`,children:[g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" :"})," /   ,   ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" :"})," /  AI ( )   ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:"AI :"})," Gemini  OpenRouter API Key   / . (Gemini  Gemini  )"]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:"API  :"}),"  ",g.jsx("strong",{children:"API Key "}),"  ",g.jsx("strong",{children:" "}),"   Google      ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" :"}),"       ",g.jsx("strong",{children:""}),"  . /   ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" / :"}),"  /   (:  ) ,       .   &     . (:    AI   ",g.jsx("strong",{children:""}),")"]})]})]})}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{onClick:e,className:`${t.accentBg} hover:opacity-90 ${t.buttonText} px-6 py-2 rounded-lg font-semibold transition-colors`,children:""})})]})}):null},Qp="smartcalendar:tourSeen",fR=[{target:"chat-input",title:" ",description:" AI ,     ."},{target:"ai-schedule-toggle",title:"AI  ",description:"        ."},{target:"calendar-event",title:" ",description:"    AI  ."},{target:"view-week",title:" ",description:"        ."},{target:"calendar-more",title:"",description:"    +N      .",arrowOffset:{y:-16}},{target:"calendar-event",title:" ()",description:" &     ."},{target:"filter-button",title:"",description:"/ (/AI)    ."},{target:"api-settings-button",title:"",description:"Provider , API Key , /    ."}],dR=({onOpenUsage:n})=>{const{apiKey:e,openRouterApiKey:t,aiProviderPreference:i,openRouterModel:l,setApiKey:o,setOpenRouterApiKey:s,setAiProviderPreference:u,setOpenRouterModel:c,clearApiKey:f,clearOpenRouterApiKey:d}=_d(),{theme:m,setTheme:h,colors:p}=qi(),[x,S]=A.useState(!1);return g.jsxs("header",{className:`flex justify-between items-center p-4 ${p.headerBg} border-b ${p.border}`,children:[g.jsx("h1",{className:`text-xl font-bold ${p.accentColor}`,children:"ON  "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`flex rounded-lg p-1 border ${p.border} mr-2`,children:["dark","light","beige"].map(_=>g.jsx("button",{onClick:()=>h(_),className:`w-6 h-6 rounded-md flex items-center justify-center transition-colors mx-0.5
                 ${m===_?"ring-2 ring-offset-1 ring-cyan-500":"hover:opacity-80"}
                 ${_==="dark"?"bg-slate-800":_==="light"?"bg-white border border-gray-300":"bg-[#e4dcc0]"}
               `,title:`${_} theme`},_))}),g.jsx("button",{onClick:n,className:`${p.accentBg} hover:opacity-90 ${p.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors mr-2`,children:""}),g.jsxs("div",{className:`hidden sm:block text-xs ${p.textSecondary}`,children:["Provider: ",i==="auto"?"":i==="gemini"?"Gemini":"OpenRouter","  Key: ",e||t?"":""]}),g.jsxs("div",{className:`hidden lg:block text-xs ${p.textSecondary}`,children:["Gemini: ",e?"":"","  OpenRouter: ",t?"":""]}),g.jsx("button",{onClick:()=>S(!0),"data-tour":"api-settings-button",className:`bg-slate-700 hover:bg-slate-600 ${p.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:"API Key "})]}),g.jsx(sR,{isOpen:x,onClose:()=>S(!1),geminiApiKey:e,openRouterApiKey:t,aiProviderPreference:i,openRouterModel:l,onSaveGemini:o,onSaveOpenRouter:s,onSaveAiProviderPreference:u,onSaveOpenRouterModel:c,onClearGemini:f,onClearOpenRouter:d})]})},hR=()=>{const[n,e]=A.useState(!1),[t,i]=A.useState(!1),{colors:l}=qi();return A.useEffect(()=>{localStorage.getItem(Qp)==="1"||i(!0)},[]),g.jsxs("div",{className:`h-screen flex flex-col ${l.mainBg} antialiased overflow-hidden`,children:[g.jsx(dR,{onOpenUsage:()=>e(!0)}),g.jsx(cR,{isOpen:n,onClose:()=>e(!1)}),g.jsx(uR,{isOpen:t,steps:fR,onClose:({dismissed:o})=>{i(!1),localStorage.setItem(Qp,"1")}}),!t&&g.jsx("button",{type:"button",onClick:()=>i(!0),className:`fixed left-4 bottom-4 z-[150] w-11 h-11 rounded-full ${l.accentBg} hover:opacity-90 ${l.buttonText} font-bold shadow-xl`,"aria-label":"  ",children:"?"}),g.jsx("main",{className:"flex-grow p-4 sm:p-6 md:p-8 flex flex-col min-h-0",children:g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 sm:gap-6 w-full max-w-screen-2xl mx-auto flex-grow min-h-0",children:[g.jsx("div",{className:"md:w-[75%] w-full order-1 md:order-1 flex flex-col min-h-0",children:g.jsx("div",{className:"w-full flex-grow min-h-0 flex flex-col",children:g.jsx(zN,{scheduleText:tR,manualContextText:Kp})})}),g.jsx("div",{className:"md:w-[25%] w-full order-2 md:order-2 flex flex-col min-h-0",children:g.jsx(eR,{manualContextText:Kp})})]})})]})},mR=()=>g.jsx(oS,{children:g.jsx(hR,{})}),H0=document.getElementById("root");if(!H0)throw new Error("Could not find root element to mount to");const pR=iS.createRoot(H0);pR.render(g.jsx(_x.StrictMode,{children:g.jsx(EN,{children:g.jsx(mR,{})})}));
