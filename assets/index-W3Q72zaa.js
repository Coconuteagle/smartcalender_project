var ex=Object.defineProperty;var Id=n=>{throw TypeError(n)};var tx=(n,e,t)=>e in n?ex(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ve=(n,e,t)=>tx(n,typeof e!="symbol"?e+"":e,t),nx=(n,e,t)=>e.has(n)||Id("Cannot "+t);var Ud=(n,e,t)=>e.has(n)?Id("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t);var ko=(n,e,t)=>(nx(n,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=t(l);fetch(l.href,o)}})();function Wm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jm={exports:{}},Mr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix=Symbol.for("react.transitional.element"),lx=Symbol.for("react.fragment");function eg(n,e,t){var i=null;if(t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),"key"in e){t={};for(var l in e)l!=="key"&&(t[l]=e[l])}else t=e;return e=t.ref,{$$typeof:ix,type:n,key:i,ref:e!==void 0?e:null,props:t}}Mr.Fragment=lx;Mr.jsx=eg;Mr.jsxs=eg;jm.exports=Mr;var g=jm.exports,tg={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=Symbol.for("react.transitional.element"),ox=Symbol.for("react.portal"),sx=Symbol.for("react.fragment"),ax=Symbol.for("react.strict_mode"),rx=Symbol.for("react.profiler"),ux=Symbol.for("react.consumer"),cx=Symbol.for("react.context"),fx=Symbol.for("react.forward_ref"),dx=Symbol.for("react.suspense"),hx=Symbol.for("react.memo"),ng=Symbol.for("react.lazy"),Ld=Symbol.iterator;function px(n){return n===null||typeof n!="object"?null:(n=Ld&&n[Ld]||n["@@iterator"],typeof n=="function"?n:null)}var ig={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lg=Object.assign,og={};function To(n,e,t){this.props=n,this.context=e,this.refs=og,this.updater=t||ig}To.prototype.isReactComponent={};To.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};To.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function sg(){}sg.prototype=To.prototype;function df(n,e,t){this.props=n,this.context=e,this.refs=og,this.updater=t||ig}var hf=df.prototype=new sg;hf.constructor=df;lg(hf,To.prototype);hf.isPureReactComponent=!0;var Od=Array.isArray,Ye={H:null,A:null,T:null,S:null,V:null},ag=Object.prototype.hasOwnProperty;function pf(n,e,t,i,l,o){return t=o.ref,{$$typeof:ff,type:n,key:e,ref:t!==void 0?t:null,props:o}}function mx(n,e){return pf(n.type,e,void 0,void 0,void 0,n.props)}function mf(n){return typeof n=="object"&&n!==null&&n.$$typeof===ff}function gx(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Vd=/\/+/g;function nu(n,e){return typeof n=="object"&&n!==null&&n.key!=null?gx(""+n.key):e.toString(36)}function $d(){}function yx(n){switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:switch(typeof n.status=="string"?n.then($d,$d):(n.status="pending",n.then(function(e){n.status==="pending"&&(n.status="fulfilled",n.value=e)},function(e){n.status==="pending"&&(n.status="rejected",n.reason=e)})),n.status){case"fulfilled":return n.value;case"rejected":throw n.reason}}throw n}function bl(n,e,t,i,l){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"bigint":case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case ff:case ox:s=!0;break;case ng:return s=n._init,bl(s(n._payload),e,t,i,l)}}if(s)return l=l(n),s=i===""?"."+nu(n,0):i,Od(l)?(t="",s!=null&&(t=s.replace(Vd,"$&/")+"/"),bl(l,e,t,"",function(f){return f})):l!=null&&(mf(l)&&(l=mx(l,t+(l.key==null||n&&n.key===l.key?"":(""+l.key).replace(Vd,"$&/")+"/")+s)),e.push(l)),1;s=0;var u=i===""?".":i+":";if(Od(n))for(var c=0;c<n.length;c++)i=n[c],o=u+nu(i,c),s+=bl(i,e,t,o,l);else if(c=px(n),typeof c=="function")for(n=c.call(n),c=0;!(i=n.next()).done;)i=i.value,o=u+nu(i,c++),s+=bl(i,e,t,o,l);else if(o==="object"){if(typeof n.then=="function")return bl(yx(n),e,t,i,l);throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function ta(n,e,t){if(n==null)return n;var i=[],l=0;return bl(n,i,"","",function(o){return e.call(t,o,l++)}),i}function vx(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Bd=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function xx(){}re.Children={map:ta,forEach:function(n,e,t){ta(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ta(n,function(){e++}),e},toArray:function(n){return ta(n,function(e){return e})||[]},only:function(n){if(!mf(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};re.Component=To;re.Fragment=sx;re.Profiler=rx;re.PureComponent=df;re.StrictMode=ax;re.Suspense=dx;re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ye;re.__COMPILER_RUNTIME={__proto__:null,c:function(n){return Ye.H.useMemoCache(n)}};re.cache=function(n){return function(){return n.apply(null,arguments)}};re.cloneElement=function(n,e,t){if(n==null)throw Error("The argument must be a React element, but you passed "+n+".");var i=lg({},n.props),l=n.key,o=void 0;if(e!=null)for(s in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(l=""+e.key),e)!ag.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=t;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}return pf(n.type,l,void 0,void 0,o,i)};re.createContext=function(n){return n={$$typeof:cx,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider=n,n.Consumer={$$typeof:ux,_context:n},n};re.createElement=function(n,e,t){var i,l={},o=null;if(e!=null)for(i in e.key!==void 0&&(o=""+e.key),e)ag.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=e[i]);var s=arguments.length-2;if(s===1)l.children=t;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];l.children=u}if(n&&n.defaultProps)for(i in s=n.defaultProps,s)l[i]===void 0&&(l[i]=s[i]);return pf(n,o,void 0,void 0,null,l)};re.createRef=function(){return{current:null}};re.forwardRef=function(n){return{$$typeof:fx,render:n}};re.isValidElement=mf;re.lazy=function(n){return{$$typeof:ng,_payload:{_status:-1,_result:n},_init:vx}};re.memo=function(n,e){return{$$typeof:hx,type:n,compare:e===void 0?null:e}};re.startTransition=function(n){var e=Ye.T,t={};Ye.T=t;try{var i=n(),l=Ye.S;l!==null&&l(t,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(xx,Bd)}catch(o){Bd(o)}finally{Ye.T=e}};re.unstable_useCacheRefresh=function(){return Ye.H.useCacheRefresh()};re.use=function(n){return Ye.H.use(n)};re.useActionState=function(n,e,t){return Ye.H.useActionState(n,e,t)};re.useCallback=function(n,e){return Ye.H.useCallback(n,e)};re.useContext=function(n){return Ye.H.useContext(n)};re.useDebugValue=function(){};re.useDeferredValue=function(n,e){return Ye.H.useDeferredValue(n,e)};re.useEffect=function(n,e,t){var i=Ye.H;if(typeof t=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(n,e)};re.useId=function(){return Ye.H.useId()};re.useImperativeHandle=function(n,e,t){return Ye.H.useImperativeHandle(n,e,t)};re.useInsertionEffect=function(n,e){return Ye.H.useInsertionEffect(n,e)};re.useLayoutEffect=function(n,e){return Ye.H.useLayoutEffect(n,e)};re.useMemo=function(n,e){return Ye.H.useMemo(n,e)};re.useOptimistic=function(n,e){return Ye.H.useOptimistic(n,e)};re.useReducer=function(n,e,t){return Ye.H.useReducer(n,e,t)};re.useRef=function(n){return Ye.H.useRef(n)};re.useState=function(n){return Ye.H.useState(n)};re.useSyncExternalStore=function(n,e,t){return Ye.H.useSyncExternalStore(n,e,t)};re.useTransition=function(){return Ye.H.useTransition()};re.version="19.1.0";tg.exports=re;var A=tg.exports;const Tx=Wm(A);var rg={exports:{}},Nr={},ug={exports:{}},cg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,le){var ie=O.length;O.push(le);e:for(;0<ie;){var ke=ie-1>>>1,Oe=O[ke];if(0<l(Oe,le))O[ke]=le,O[ie]=Oe,ie=ke;else break e}}function t(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var le=O[0],ie=O.pop();if(ie!==le){O[0]=ie;e:for(var ke=0,Oe=O.length,Ke=Oe>>>1;ke<Ke;){var Rt=2*(ke+1)-1,I=O[Rt],Y=Rt+1,F=O[Y];if(0>l(I,ie))Y<Oe&&0>l(F,I)?(O[ke]=F,O[Y]=ie,ke=Y):(O[ke]=I,O[Rt]=ie,ke=Rt);else if(Y<Oe&&0>l(F,ie))O[ke]=F,O[Y]=ie,ke=Y;else break e}}return le}function l(O,le){var ie=O.sortIndex-le.sortIndex;return ie!==0?ie:O.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();n.unstable_now=function(){return s.now()-u}}var c=[],f=[],d=1,p=null,h=3,m=!1,x=!1,S=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(O){for(var le=t(f);le!==null;){if(le.callback===null)i(f);else if(le.startTime<=O)i(f),le.sortIndex=le.expirationTime,e(c,le);else break;le=t(f)}}function b(O){if(S=!1,C(O),!x)if(t(c)!==null)x=!0,w||(w=!0,Se());else{var le=t(f);le!==null&&wt(b,le.startTime-O)}}var w=!1,M=-1,R=5,P=-1;function L(){return _?!0:!(n.unstable_now()-P<R)}function ce(){if(_=!1,w){var O=n.unstable_now();P=O;var le=!0;try{e:{x=!1,S&&(S=!1,v(M),M=-1),m=!0;var ie=h;try{t:{for(C(O),p=t(c);p!==null&&!(p.expirationTime>O&&L());){var ke=p.callback;if(typeof ke=="function"){p.callback=null,h=p.priorityLevel;var Oe=ke(p.expirationTime<=O);if(O=n.unstable_now(),typeof Oe=="function"){p.callback=Oe,C(O),le=!0;break t}p===t(c)&&i(c),C(O)}else i(c);p=t(c)}if(p!==null)le=!0;else{var Ke=t(f);Ke!==null&&wt(b,Ke.startTime-O),le=!1}}break e}finally{p=null,h=ie,m=!1}le=void 0}}finally{le?Se():w=!1}}}var Se;if(typeof T=="function")Se=function(){T(ce)};else if(typeof MessageChannel<"u"){var tn=new MessageChannel,dt=tn.port2;tn.port1.onmessage=ce,Se=function(){dt.postMessage(null)}}else Se=function(){y(ce,0)};function wt(O,le){M=y(function(){O(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_next=function(O){switch(h){case 1:case 2:case 3:var le=3;break;default:le=h}var ie=h;h=le;try{return O()}finally{h=ie}},n.unstable_requestPaint=function(){_=!0},n.unstable_runWithPriority=function(O,le){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ie=h;h=O;try{return le()}finally{h=ie}},n.unstable_scheduleCallback=function(O,le,ie){var ke=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ke+ie:ke):ie=ke,O){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ie+Oe,O={id:d++,callback:le,priorityLevel:O,startTime:ie,expirationTime:Oe,sortIndex:-1},ie>ke?(O.sortIndex=ie,e(f,O),t(c)===null&&O===t(f)&&(S?(v(M),M=-1):S=!0,wt(b,ie-ke))):(O.sortIndex=Oe,e(c,O),x||m||(x=!0,w||(w=!0,Se()))),O},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(O){var le=h;return function(){var ie=h;h=le;try{return O.apply(this,arguments)}finally{h=ie}}}})(cg);ug.exports=cg;var Sx=ug.exports,fg={exports:{}},Vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx=A;function dg(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function hi(){}var Ut={d:{f:hi,r:function(){throw Error(dg(522))},D:hi,C:hi,L:hi,m:hi,X:hi,S:hi,M:hi},p:0,findDOMNode:null},_x=Symbol.for("react.portal");function Ex(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_x,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}var Xo=Cx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function wr(n,e){if(n==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ut;Vt.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(dg(299));return Ex(n,e,null,t)};Vt.flushSync=function(n){var e=Xo.T,t=Ut.p;try{if(Xo.T=null,Ut.p=2,n)return n()}finally{Xo.T=e,Ut.p=t,Ut.d.f()}};Vt.preconnect=function(n,e){typeof n=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Ut.d.C(n,e))};Vt.prefetchDNS=function(n){typeof n=="string"&&Ut.d.D(n)};Vt.preinit=function(n,e){if(typeof n=="string"&&e&&typeof e.as=="string"){var t=e.as,i=wr(t,e.crossOrigin),l=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;t==="style"?Ut.d.S(n,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:o}):t==="script"&&Ut.d.X(n,{crossOrigin:i,integrity:l,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Vt.preinitModule=function(n,e){if(typeof n=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var t=wr(e.as,e.crossOrigin);Ut.d.M(n,{crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Ut.d.M(n)};Vt.preload=function(n,e){if(typeof n=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var t=e.as,i=wr(t,e.crossOrigin);Ut.d.L(n,t,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Vt.preloadModule=function(n,e){if(typeof n=="string")if(e){var t=wr(e.as,e.crossOrigin);Ut.d.m(n,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Ut.d.m(n)};Vt.requestFormReset=function(n){Ut.d.r(n)};Vt.unstable_batchedUpdates=function(n,e){return n(e)};Vt.useFormState=function(n,e,t){return Xo.H.useFormState(n,e,t)};Vt.useFormStatus=function(){return Xo.H.useHostTransitionStatus()};Vt.version="19.1.0";function hg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hg)}catch(n){console.error(n)}}hg(),fg.exports=Vt;var Ax=fg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ft=Sx,pg=A,bx=Ax;function N(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function mg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ks(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function gg(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Pd(n){if(ks(n)!==n)throw Error(N(188))}function Mx(n){var e=n.alternate;if(!e){if(e=ks(n),e===null)throw Error(N(188));return e!==n?null:n}for(var t=n,i=e;;){var l=t.return;if(l===null)break;var o=l.alternate;if(o===null){if(i=l.return,i!==null){t=i;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===t)return Pd(l),n;if(o===i)return Pd(l),e;o=o.sibling}throw Error(N(188))}if(t.return!==i.return)t=l,i=o;else{for(var s=!1,u=l.child;u;){if(u===t){s=!0,t=l,i=o;break}if(u===i){s=!0,i=l,t=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===t){s=!0,t=o,i=l;break}if(u===i){s=!0,i=o,t=l;break}u=u.sibling}if(!s)throw Error(N(189))}}if(t.alternate!==i)throw Error(N(190))}if(t.tag!==3)throw Error(N(188));return t.stateNode.current===t?n:e}function yg(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n;for(n=n.child;n!==null;){if(e=yg(n),e!==null)return e;n=n.sibling}return null}var Ge=Object.assign,Nx=Symbol.for("react.element"),na=Symbol.for("react.transitional.element"),Ho=Symbol.for("react.portal"),Dl=Symbol.for("react.fragment"),vg=Symbol.for("react.strict_mode"),Ku=Symbol.for("react.profiler"),wx=Symbol.for("react.provider"),xg=Symbol.for("react.consumer"),Yn=Symbol.for("react.context"),gf=Symbol.for("react.forward_ref"),Ju=Symbol.for("react.suspense"),Xu=Symbol.for("react.suspense_list"),yf=Symbol.for("react.memo"),gi=Symbol.for("react.lazy"),Qu=Symbol.for("react.activity"),Rx=Symbol.for("react.memo_cache_sentinel"),zd=Symbol.iterator;function Io(n){return n===null||typeof n!="object"?null:(n=zd&&n[zd]||n["@@iterator"],typeof n=="function"?n:null)}var Dx=Symbol.for("react.client.reference");function Wu(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Dx?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Dl:return"Fragment";case Ku:return"Profiler";case vg:return"StrictMode";case Ju:return"Suspense";case Xu:return"SuspenseList";case Qu:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case Ho:return"Portal";case Yn:return(n.displayName||"Context")+".Provider";case xg:return(n._context.displayName||"Context")+".Consumer";case gf:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case yf:return e=n.displayName||null,e!==null?e:Wu(n.type)||"Memo";case gi:e=n._payload,n=n._init;try{return Wu(n(e))}catch{}}return null}var Fo=Array.isArray,Q=pg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee=bx.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ji={pending:!1,data:null,method:null,action:null},ju=[],kl=-1;function Vn(n){return{current:n}}function vt(n){0>kl||(n.current=ju[kl],ju[kl]=null,kl--)}function Ze(n,e){kl++,ju[kl]=n.current,n.current=e}var kn=Vn(null),gs=Vn(null),Mi=Vn(null),Va=Vn(null);function $a(n,e){switch(Ze(Mi,e),Ze(gs,n),Ze(kn,null),e.nodeType){case 9:case 11:n=(n=e.documentElement)&&(n=n.namespaceURI)?Yh(n):0;break;default:if(n=e.tagName,e=e.namespaceURI)e=Yh(e),n=Ov(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}vt(kn),Ze(kn,n)}function no(){vt(kn),vt(gs),vt(Mi)}function ec(n){n.memoizedState!==null&&Ze(Va,n);var e=kn.current,t=Ov(e,n.type);e!==t&&(Ze(gs,n),Ze(kn,t))}function Ba(n){gs.current===n&&(vt(kn),vt(gs)),Va.current===n&&(vt(Va),bs._currentValue=ji)}var tc=Object.prototype.hasOwnProperty,vf=ft.unstable_scheduleCallback,iu=ft.unstable_cancelCallback,kx=ft.unstable_shouldYield,Ix=ft.unstable_requestPaint,In=ft.unstable_now,Ux=ft.unstable_getCurrentPriorityLevel,Tg=ft.unstable_ImmediatePriority,Sg=ft.unstable_UserBlockingPriority,Pa=ft.unstable_NormalPriority,Lx=ft.unstable_LowPriority,Cg=ft.unstable_IdlePriority,Ox=ft.log,Vx=ft.unstable_setDisableYieldValue,Is=null,Xt=null;function _i(n){if(typeof Ox=="function"&&Vx(n),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Is,n)}catch{}}var Qt=Math.clz32?Math.clz32:Px,$x=Math.log,Bx=Math.LN2;function Px(n){return n>>>=0,n===0?32:31-($x(n)/Bx|0)|0}var ia=256,la=4194304;function Ji(n){var e=n&42;if(e!==0)return e;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Rr(n,e,t){var i=n.pendingLanes;if(i===0)return 0;var l=0,o=n.suspendedLanes,s=n.pingedLanes;n=n.warmLanes;var u=i&134217727;return u!==0?(i=u&~o,i!==0?l=Ji(i):(s&=u,s!==0?l=Ji(s):t||(t=u&~n,t!==0&&(l=Ji(t))))):(u=i&~o,u!==0?l=Ji(u):s!==0?l=Ji(s):t||(t=i&~n,t!==0&&(l=Ji(t)))),l===0?0:e!==0&&e!==l&&!(e&o)&&(o=l&-l,t=e&-e,o>=t||o===32&&(t&4194048)!==0)?e:l}function Us(n,e){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&e)===0}function zx(n,e){switch(n){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _g(){var n=ia;return ia<<=1,!(ia&4194048)&&(ia=256),n}function Eg(){var n=la;return la<<=1,!(la&62914560)&&(la=4194304),n}function lu(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ls(n,e){n.pendingLanes|=e,e!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Gx(n,e,t,i,l,o){var s=n.pendingLanes;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=t,n.entangledLanes&=t,n.errorRecoveryDisabledLanes&=t,n.shellSuspendCounter=0;var u=n.entanglements,c=n.expirationTimes,f=n.hiddenUpdates;for(t=s&~t;0<t;){var d=31-Qt(t),p=1<<d;u[d]=0,c[d]=-1;var h=f[d];if(h!==null)for(f[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}t&=~p}i!==0&&Ag(n,i,0),o!==0&&l===0&&n.tag!==0&&(n.suspendedLanes|=o&~(s&~e))}function Ag(n,e,t){n.pendingLanes|=e,n.suspendedLanes&=~e;var i=31-Qt(e);n.entangledLanes|=e,n.entanglements[i]=n.entanglements[i]|1073741824|t&4194090}function bg(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Qt(t),l=1<<i;l&e|n[i]&e&&(n[i]|=e),t&=~l}}function xf(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Tf(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function Mg(){var n=Ee.p;return n!==0?n:(n=window.event,n===void 0?32:Yv(n.type))}function qx(n,e){var t=Ee.p;try{return Ee.p=n,e()}finally{Ee.p=t}}var Pi=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Pi,qt="__reactProps$"+Pi,So="__reactContainer$"+Pi,nc="__reactEvents$"+Pi,Hx="__reactListeners$"+Pi,Fx="__reactHandles$"+Pi,Gd="__reactResources$"+Pi,Os="__reactMarker$"+Pi;function Sf(n){delete n[Mt],delete n[qt],delete n[nc],delete n[Hx],delete n[Fx]}function Il(n){var e=n[Mt];if(e)return e;for(var t=n.parentNode;t;){if(e=t[So]||t[Mt]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Jh(n);n!==null;){if(t=n[Mt])return t;n=Jh(n)}return e}n=t,t=n.parentNode}return null}function Co(n){if(n=n[Mt]||n[So]){var e=n.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return n}return null}function Yo(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n.stateNode;throw Error(N(33))}function Yl(n){var e=n[Gd];return e||(e=n[Gd]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function gt(n){n[Os]=!0}var Ng=new Set,wg={};function pl(n,e){io(n,e),io(n+"Capture",e)}function io(n,e){for(wg[n]=e,n=0;n<e.length;n++)Ng.add(e[n])}var Yx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qd={},Hd={};function Zx(n){return tc.call(Hd,n)?!0:tc.call(qd,n)?!1:Yx.test(n)?Hd[n]=!0:(qd[n]=!0,!1)}function Sa(n,e,t){if(Zx(e))if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":n.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){n.removeAttribute(e);return}}n.setAttribute(e,""+t)}}function oa(n,e,t){if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(e);return}n.setAttribute(e,""+t)}}function Gn(n,e,t,i){if(i===null)n.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(t);return}n.setAttributeNS(e,t,""+i)}}var ou,Fd;function Ml(n){if(ou===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);ou=e&&e[1]||"",Fd=-1<t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ou+n+Fd}var su=!1;function au(n,e){if(!n||su)return"";su=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(m){var h=m}Reflect.construct(n,[],p)}else{try{p.call()}catch(m){h=m}n.call(p.prototype)}}else{try{throw Error()}catch(m){h=m}(p=n())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),s=o[0],u=o[1];if(s&&u){var c=s.split(`
`),f=u.split(`
`);for(l=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;l<f.length&&!f[l].includes("DetermineComponentFrameRoot");)l++;if(i===c.length||l===f.length)for(i=c.length-1,l=f.length-1;1<=i&&0<=l&&c[i]!==f[l];)l--;for(;1<=i&&0<=l;i--,l--)if(c[i]!==f[l]){if(i!==1||l!==1)do if(i--,l--,0>l||c[i]!==f[l]){var d=`
`+c[i].replace(" at new "," at ");return n.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",n.displayName)),d}while(1<=i&&0<=l);break}}}finally{su=!1,Error.prepareStackTrace=t}return(t=n?n.displayName||n.name:"")?Ml(t):""}function Kx(n){switch(n.tag){case 26:case 27:case 5:return Ml(n.type);case 16:return Ml("Lazy");case 13:return Ml("Suspense");case 19:return Ml("SuspenseList");case 0:case 15:return au(n.type,!1);case 11:return au(n.type.render,!1);case 1:return au(n.type,!0);case 31:return Ml("Activity");default:return""}}function Yd(n){try{var e="";do e+=Kx(n),n=n.return;while(n);return e}catch(t){return`
Error generating stack: `+t.message+`
`+t.stack}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Rg(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jx(n){var e=Rg(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var l=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return l.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function za(n){n._valueTracker||(n._valueTracker=Jx(n))}function Dg(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=Rg(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Ga(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Xx=/[\n"\\]/g;function un(n){return n.replace(Xx,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ic(n,e,t,i,l,o,s,u){n.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?n.type=s:n.removeAttribute("type"),e!=null?s==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+sn(e)):n.value!==""+sn(e)&&(n.value=""+sn(e)):s!=="submit"&&s!=="reset"||n.removeAttribute("value"),e!=null?lc(n,s,sn(e)):t!=null?lc(n,s,sn(t)):i!=null&&n.removeAttribute("value"),l==null&&o!=null&&(n.defaultChecked=!!o),l!=null&&(n.checked=l&&typeof l!="function"&&typeof l!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?n.name=""+sn(u):n.removeAttribute("name")}function kg(n,e,t,i,l,o,s,u){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(n.type=o),e!=null||t!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;t=t!=null?""+sn(t):"",e=e!=null?""+sn(e):t,u||e===n.value||(n.value=e),n.defaultValue=e}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,n.checked=u?n.checked:!!i,n.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(n.name=s)}function lc(n,e,t){e==="number"&&Ga(n.ownerDocument)===n||n.defaultValue===""+t||(n.defaultValue=""+t)}function Zl(n,e,t,i){if(n=n.options,e){e={};for(var l=0;l<t.length;l++)e["$"+t[l]]=!0;for(t=0;t<n.length;t++)l=e.hasOwnProperty("$"+n[t].value),n[t].selected!==l&&(n[t].selected=l),l&&i&&(n[t].defaultSelected=!0)}else{for(t=""+sn(t),e=null,l=0;l<n.length;l++){if(n[l].value===t){n[l].selected=!0,i&&(n[l].defaultSelected=!0);return}e!==null||n[l].disabled||(e=n[l])}e!==null&&(e.selected=!0)}}function Ig(n,e,t){if(e!=null&&(e=""+sn(e),e!==n.value&&(n.value=e),t==null)){n.defaultValue!==e&&(n.defaultValue=e);return}n.defaultValue=t!=null?""+sn(t):""}function Ug(n,e,t,i){if(e==null){if(i!=null){if(t!=null)throw Error(N(92));if(Fo(i)){if(1<i.length)throw Error(N(93));i=i[0]}t=i}t==null&&(t=""),e=t}t=sn(e),n.defaultValue=t,i=n.textContent,i===t&&i!==""&&i!==null&&(n.value=i)}function lo(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Qx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zd(n,e,t){var i=e.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?i?n.setProperty(e,""):e==="float"?n.cssFloat="":n[e]="":i?n.setProperty(e,t):typeof t!="number"||t===0||Qx.has(e)?e==="float"?n.cssFloat=t:n[e]=(""+t).trim():n[e]=t+"px"}function Lg(n,e,t){if(e!=null&&typeof e!="object")throw Error(N(62));if(n=n.style,t!=null){for(var i in t)!t.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="");for(var l in e)i=e[l],e.hasOwnProperty(l)&&t[l]!==i&&Zd(n,l,i)}else for(var o in e)e.hasOwnProperty(o)&&Zd(n,o,e[o])}function Cf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(n){return jx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var oc=null;function _f(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ul=null,Kl=null;function Kd(n){var e=Co(n);if(e&&(n=e.stateNode)){var t=n[qt]||null;e:switch(n=e.stateNode,e.type){case"input":if(ic(n,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+un(""+e)+'"][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var l=i[qt]||null;if(!l)throw Error(N(90));ic(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<t.length;e++)i=t[e],i.form===n.form&&Dg(i)}break e;case"textarea":Ig(n,t.value,t.defaultValue);break e;case"select":e=t.value,e!=null&&Zl(n,!!t.multiple,e,!1)}}}var ru=!1;function Og(n,e,t){if(ru)return n(e,t);ru=!0;try{var i=n(e);return i}finally{if(ru=!1,(Ul!==null||Kl!==null)&&(Pr(),Ul&&(e=Ul,n=Kl,Kl=Ul=null,Kd(e),n)))for(e=0;e<n.length;e++)Kd(n[e])}}function ys(n,e){var t=n.stateNode;if(t===null)return null;var i=t[qt]||null;if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(N(231,e,typeof t));return t}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sc=!1;if(ei)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){sc=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{sc=!1}var Ei=null,Ef=null,_a=null;function Vg(){if(_a)return _a;var n,e=Ef,t=e.length,i,l="value"in Ei?Ei.value:Ei.textContent,o=l.length;for(n=0;n<t&&e[n]===l[n];n++);var s=t-n;for(i=1;i<=s&&e[t-i]===l[o-i];i++);return _a=l.slice(n,1<i?1-i:void 0)}function Ea(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function sa(){return!0}function Jd(){return!1}function Ht(n){function e(t,i,l,o,s){this._reactName=t,this._targetInst=l,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?sa:Jd,this.isPropagationStopped=Jd,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),e}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dr=Ht(ml),Vs=Ge({},ml,{view:0,detail:0}),eT=Ht(Vs),uu,cu,Lo,kr=Ge({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Af,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Lo&&(Lo&&n.type==="mousemove"?(uu=n.screenX-Lo.screenX,cu=n.screenY-Lo.screenY):cu=uu=0,Lo=n),uu)},movementY:function(n){return"movementY"in n?n.movementY:cu}}),Xd=Ht(kr),tT=Ge({},kr,{dataTransfer:0}),nT=Ht(tT),iT=Ge({},Vs,{relatedTarget:0}),fu=Ht(iT),lT=Ge({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),oT=Ht(lT),sT=Ge({},ml,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),aT=Ht(sT),rT=Ge({},ml,{data:0}),Qd=Ht(rT),uT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dT(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=fT[n])?!!e[n]:!1}function Af(){return dT}var hT=Ge({},Vs,{key:function(n){if(n.key){var e=uT[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Ea(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?cT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Af,charCode:function(n){return n.type==="keypress"?Ea(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ea(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),pT=Ht(hT),mT=Ge({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wd=Ht(mT),gT=Ge({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Af}),yT=Ht(gT),vT=Ge({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),xT=Ht(vT),TT=Ge({},kr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ST=Ht(TT),CT=Ge({},ml,{newState:0,oldState:0}),_T=Ht(CT),ET=[9,13,27,32],bf=ei&&"CompositionEvent"in window,Qo=null;ei&&"documentMode"in document&&(Qo=document.documentMode);var AT=ei&&"TextEvent"in window&&!Qo,$g=ei&&(!bf||Qo&&8<Qo&&11>=Qo),jd=" ",eh=!1;function Bg(n,e){switch(n){case"keyup":return ET.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ll=!1;function bT(n,e){switch(n){case"compositionend":return Pg(e);case"keypress":return e.which!==32?null:(eh=!0,jd);case"textInput":return n=e.data,n===jd&&eh?null:n;default:return null}}function MT(n,e){if(Ll)return n==="compositionend"||!bf&&Bg(n,e)?(n=Vg(),_a=Ef=Ei=null,Ll=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $g&&e.locale!=="ko"?null:e.data;default:return null}}var NT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function th(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!NT[n.type]:e==="textarea"}function zg(n,e,t,i){Ul?Kl?Kl.push(i):Kl=[i]:Ul=i,e=sr(e,"onChange"),0<e.length&&(t=new Dr("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Wo=null,vs=null;function wT(n){Iv(n,0)}function Ir(n){var e=Yo(n);if(Dg(e))return n}function nh(n,e){if(n==="change")return e}var Gg=!1;if(ei){var du;if(ei){var hu="oninput"in document;if(!hu){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),hu=typeof ih.oninput=="function"}du=hu}else du=!1;Gg=du&&(!document.documentMode||9<document.documentMode)}function lh(){Wo&&(Wo.detachEvent("onpropertychange",qg),vs=Wo=null)}function qg(n){if(n.propertyName==="value"&&Ir(vs)){var e=[];zg(e,vs,n,_f(n)),Og(wT,e)}}function RT(n,e,t){n==="focusin"?(lh(),Wo=e,vs=t,Wo.attachEvent("onpropertychange",qg)):n==="focusout"&&lh()}function DT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ir(vs)}function kT(n,e){if(n==="click")return Ir(e)}function IT(n,e){if(n==="input"||n==="change")return Ir(e)}function UT(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var en=typeof Object.is=="function"?Object.is:UT;function xs(n,e){if(en(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var l=t[i];if(!tc.call(e,l)||!en(n[l],e[l]))return!1}return!0}function oh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function sh(n,e){var t=oh(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=oh(t)}}function Hg(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Hg(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Fg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var e=Ga(n.document);e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ga(n.document)}return e}function Mf(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var LT=ei&&"documentMode"in document&&11>=document.documentMode,Ol=null,ac=null,jo=null,rc=!1;function ah(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;rc||Ol==null||Ol!==Ga(i)||(i=Ol,"selectionStart"in i&&Mf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),jo&&xs(jo,i)||(jo=i,i=sr(ac,"onSelect"),0<i.length&&(e=new Dr("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Ol)))}function Yi(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Vl={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},pu={},Yg={};ei&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function gl(n){if(pu[n])return pu[n];if(!Vl[n])return n;var e=Vl[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Yg)return pu[n]=e[t];return n}var Zg=gl("animationend"),Kg=gl("animationiteration"),Jg=gl("animationstart"),OT=gl("transitionrun"),VT=gl("transitionstart"),$T=gl("transitioncancel"),Xg=gl("transitionend"),Qg=new Map,uc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uc.push("scrollEnd");function Tn(n,e){Qg.set(n,e),pl(e,[n])}var rh=new WeakMap;function cn(n,e){if(typeof n=="object"&&n!==null){var t=rh.get(n);return t!==void 0?t:(e={value:n,source:e,stack:Yd(e)},rh.set(n,e),e)}return{value:n,source:e,stack:Yd(e)}}var on=[],$l=0,Nf=0;function Ur(){for(var n=$l,e=Nf=$l=0;e<n;){var t=on[e];on[e++]=null;var i=on[e];on[e++]=null;var l=on[e];on[e++]=null;var o=on[e];if(on[e++]=null,i!==null&&l!==null){var s=i.pending;s===null?l.next=l:(l.next=s.next,s.next=l),i.pending=l}o!==0&&Wg(t,l,o)}}function Lr(n,e,t,i){on[$l++]=n,on[$l++]=e,on[$l++]=t,on[$l++]=i,Nf|=i,n.lanes|=i,n=n.alternate,n!==null&&(n.lanes|=i)}function wf(n,e,t,i){return Lr(n,e,t,i),qa(n)}function _o(n,e){return Lr(n,null,null,e),qa(n)}function Wg(n,e,t){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t);for(var l=!1,o=n.return;o!==null;)o.childLanes|=t,i=o.alternate,i!==null&&(i.childLanes|=t),o.tag===22&&(n=o.stateNode,n===null||n._visibility&1||(l=!0)),n=o,o=o.return;return n.tag===3?(o=n.stateNode,l&&e!==null&&(l=31-Qt(t),n=o.hiddenUpdates,i=n[l],i===null?n[l]=[e]:i.push(e),e.lane=t|536870912),o):null}function qa(n){if(50<us)throw us=0,Rc=null,Error(N(185));for(var e=n.return;e!==null;)n=e,e=n.return;return n.tag===3?n.stateNode:null}var Bl={};function BT(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(n,e,t,i){return new BT(n,e,t,i)}function Rf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wn(n,e){var t=n.alternate;return t===null?(t=Jt(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&65011712,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t.refCleanup=n.refCleanup,t}function jg(n,e){n.flags&=65011714;var t=n.alternate;return t===null?(n.childLanes=0,n.lanes=e,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.type=t.type,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n}function Aa(n,e,t,i,l,o){var s=0;if(i=n,typeof n=="function")Rf(n)&&(s=1);else if(typeof n=="string")s=z1(n,t,kn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Qu:return n=Jt(31,t,e,l),n.elementType=Qu,n.lanes=o,n;case Dl:return el(t.children,l,o,e);case vg:s=8,l|=24;break;case Ku:return n=Jt(12,t,e,l|2),n.elementType=Ku,n.lanes=o,n;case Ju:return n=Jt(13,t,e,l),n.elementType=Ju,n.lanes=o,n;case Xu:return n=Jt(19,t,e,l),n.elementType=Xu,n.lanes=o,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case wx:case Yn:s=10;break e;case xg:s=9;break e;case gf:s=11;break e;case yf:s=14;break e;case gi:s=16,i=null;break e}s=29,t=Error(N(130,n===null?"null":typeof n,"")),i=null}return e=Jt(s,t,e,l),e.elementType=n,e.type=i,e.lanes=o,e}function el(n,e,t,i){return n=Jt(7,n,i,e),n.lanes=t,n}function mu(n,e,t){return n=Jt(6,n,null,e),n.lanes=t,n}function gu(n,e,t){return e=Jt(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}var Pl=[],zl=0,Ha=null,Fa=0,an=[],rn=0,tl=null,Zn=1,Kn="";function Xi(n,e){Pl[zl++]=Fa,Pl[zl++]=Ha,Ha=n,Fa=e}function ey(n,e,t){an[rn++]=Zn,an[rn++]=Kn,an[rn++]=tl,tl=n;var i=Zn;n=Kn;var l=32-Qt(i)-1;i&=~(1<<l),t+=1;var o=32-Qt(e)+l;if(30<o){var s=l-l%5;o=(i&(1<<s)-1).toString(32),i>>=s,l-=s,Zn=1<<32-Qt(e)+l|t<<l|i,Kn=o+n}else Zn=1<<o|t<<l|i,Kn=n}function Df(n){n.return!==null&&(Xi(n,1),ey(n,1,0))}function kf(n){for(;n===Ha;)Ha=Pl[--zl],Pl[zl]=null,Fa=Pl[--zl],Pl[zl]=null;for(;n===tl;)tl=an[--rn],an[rn]=null,Kn=an[--rn],an[rn]=null,Zn=an[--rn],an[rn]=null}var It=null,et=null,_e=!1,nl=null,bn=!1,cc=Error(N(519));function sl(n){var e=Error(N(418,""));throw Ts(cn(e,n)),cc}function uh(n){var e=n.stateNode,t=n.type,i=n.memoizedProps;switch(e[Mt]=n,e[qt]=i,t){case"dialog":de("cancel",e),de("close",e);break;case"iframe":case"object":case"embed":de("load",e);break;case"video":case"audio":for(t=0;t<_s.length;t++)de(_s[t],e);break;case"source":de("error",e);break;case"img":case"image":case"link":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"input":de("invalid",e),kg(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),za(e);break;case"select":de("invalid",e);break;case"textarea":de("invalid",e),Ug(e,i.value,i.defaultValue,i.children),za(e)}t=i.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||e.textContent===""+t||i.suppressHydrationWarning===!0||Lv(e.textContent,t)?(i.popover!=null&&(de("beforetoggle",e),de("toggle",e)),i.onScroll!=null&&de("scroll",e),i.onScrollEnd!=null&&de("scrollend",e),i.onClick!=null&&(e.onclick=qr),e=!0):e=!1,e||sl(n)}function ch(n){for(It=n.return;It;)switch(It.tag){case 5:case 13:bn=!1;return;case 27:case 3:bn=!0;return;default:It=It.return}}function Oo(n){if(n!==It)return!1;if(!_e)return ch(n),_e=!0,!1;var e=n.tag,t;if((t=e!==3&&e!==27)&&((t=e===5)&&(t=n.type,t=!(t!=="form"&&t!=="button")||Oc(n.type,n.memoizedProps)),t=!t),t&&et&&sl(n),ch(n),e===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(N(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8)if(t=n.data,t==="/$"){if(e===0){et=vn(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++;n=n.nextSibling}et=null}}else e===27?(e=et,zi(n.type)?(n=Bc,Bc=null,et=n):et=e):et=It?vn(n.stateNode.nextSibling):null;return!0}function $s(){et=It=null,_e=!1}function fh(){var n=nl;return n!==null&&(Gt===null?Gt=n:Gt.push.apply(Gt,n),nl=null),n}function Ts(n){nl===null?nl=[n]:nl.push(n)}var fc=Vn(null),yl=null,Jn=null;function xi(n,e,t){Ze(fc,e._currentValue),e._currentValue=t}function jn(n){n._currentValue=fc.current,vt(fc)}function dc(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function hc(n,e,t,i){var l=n.child;for(l!==null&&(l.return=n);l!==null;){var o=l.dependencies;if(o!==null){var s=l.child;o=o.firstContext;e:for(;o!==null;){var u=o;o=l;for(var c=0;c<e.length;c++)if(u.context===e[c]){o.lanes|=t,u=o.alternate,u!==null&&(u.lanes|=t),dc(o.return,t,n),i||(s=null);break e}o=u.next}}else if(l.tag===18){if(s=l.return,s===null)throw Error(N(341));s.lanes|=t,o=s.alternate,o!==null&&(o.lanes|=t),dc(s,t,n),s=null}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===n){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}}function Bs(n,e,t,i){n=null;for(var l=e,o=!1;l!==null;){if(!o){if(l.flags&524288)o=!0;else if(l.flags&262144)break}if(l.tag===10){var s=l.alternate;if(s===null)throw Error(N(387));if(s=s.memoizedProps,s!==null){var u=l.type;en(l.pendingProps.value,s.value)||(n!==null?n.push(u):n=[u])}}else if(l===Va.current){if(s=l.alternate,s===null)throw Error(N(387));s.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(n!==null?n.push(bs):n=[bs])}l=l.return}n!==null&&hc(e,n,t,i),e.flags|=262144}function Ya(n){for(n=n.firstContext;n!==null;){if(!en(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function al(n){yl=n,Jn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Nt(n){return ty(yl,n)}function aa(n,e){return yl===null&&al(n),ty(n,e)}function ty(n,e){var t=e._currentValue;if(e={context:e,memoizedValue:t,next:null},Jn===null){if(n===null)throw Error(N(308));Jn=e,n.dependencies={lanes:0,firstContext:e},n.flags|=524288}else Jn=Jn.next=e;return t}var PT=typeof AbortController<"u"?AbortController:function(){var n=[],e=this.signal={aborted:!1,addEventListener:function(t,i){n.push(i)}};this.abort=function(){e.aborted=!0,n.forEach(function(t){return t()})}},zT=ft.unstable_scheduleCallback,GT=ft.unstable_NormalPriority,ut={$$typeof:Yn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new PT,data:new Map,refCount:0}}function Ps(n){n.refCount--,n.refCount===0&&zT(GT,function(){n.controller.abort()})}var es=null,pc=0,oo=0,Jl=null;function qT(n,e){if(es===null){var t=es=[];pc=0,oo=nd(),Jl={status:"pending",value:void 0,then:function(i){t.push(i)}}}return pc++,e.then(dh,dh),e}function dh(){if(--pc===0&&es!==null){Jl!==null&&(Jl.status="fulfilled");var n=es;es=null,oo=0,Jl=null;for(var e=0;e<n.length;e++)(0,n[e])()}}function HT(n,e){var t=[],i={status:"pending",value:null,reason:null,then:function(l){t.push(l)}};return n.then(function(){i.status="fulfilled",i.value=e;for(var l=0;l<t.length;l++)(0,t[l])(e)},function(l){for(i.status="rejected",i.reason=l,l=0;l<t.length;l++)(0,t[l])(void 0)}),i}var hh=Q.S;Q.S=function(n,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&qT(n,e),hh!==null&&hh(n,e)};var il=Vn(null);function Uf(){var n=il.current;return n!==null?n:$e.pooledCache}function ba(n,e){e===null?Ze(il,il.current):Ze(il,e.pool)}function ny(){var n=Uf();return n===null?null:{parent:ut._currentValue,pool:n}}var zs=Error(N(460)),iy=Error(N(474)),Or=Error(N(542)),mc={then:function(){}};function ph(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ra(){}function ly(n,e,t){switch(t=n[t],t===void 0?n.push(e):t!==e&&(e.then(ra,ra),e=t),e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,gh(n),n;default:if(typeof e.status=="string")e.then(ra,ra);else{if(n=$e,n!==null&&100<n.shellSuspendCounter)throw Error(N(482));n=e,n.status="pending",n.then(function(i){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=i}},function(i){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,gh(n),n}throw ts=e,zs}}var ts=null;function mh(){if(ts===null)throw Error(N(459));var n=ts;return ts=null,n}function gh(n){if(n===zs||n===Or)throw Error(N(483))}var yi=!1;function Lf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gc(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ni(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function wi(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ne&2){var l=i.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),i.pending=e,e=qa(n),Wg(n,null,t),e}return Lr(n,i,e,t),qa(n)}function ns(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194048)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,bg(n,t)}}function yu(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var l=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};o===null?l=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?l=o=e:o=o.next=e}else l=o=e;t={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}var yc=!1;function is(){if(yc){var n=Jl;if(n!==null)throw n}}function ls(n,e,t,i){yc=!1;var l=n.updateQueue;yi=!1;var o=l.firstBaseUpdate,s=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var c=u,f=c.next;c.next=null,s===null?o=f:s.next=f,s=c;var d=n.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==s&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(o!==null){var p=l.baseState;s=0,d=f=c=null,u=o;do{var h=u.lane&-536870913,m=h!==u.lane;if(m?(ve&h)===h:(i&h)===h){h!==0&&h===oo&&(yc=!0),d!==null&&(d=d.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var x=n,S=u;h=e;var _=t;switch(S.tag){case 1:if(x=S.payload,typeof x=="function"){p=x.call(_,p,h);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,h=typeof x=="function"?x.call(_,p,h):x,h==null)break e;p=Ge({},p,h);break e;case 2:yi=!0}}h=u.callback,h!==null&&(n.flags|=64,m&&(n.flags|=8192),m=l.callbacks,m===null?l.callbacks=[h]:m.push(h))}else m={lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=m,c=p):d=d.next=m,s|=h;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;m=u,u=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);d===null&&(c=p),l.baseState=c,l.firstBaseUpdate=f,l.lastBaseUpdate=d,o===null&&(l.shared.lanes=0),$i|=s,n.lanes=s,n.memoizedState=p}}function oy(n,e){if(typeof n!="function")throw Error(N(191,n));n.call(e)}function sy(n,e){var t=n.callbacks;if(t!==null)for(n.callbacks=null,n=0;n<t.length;n++)oy(t[n],e)}var so=Vn(null),Za=Vn(0);function yh(n,e){n=ii,Ze(Za,n),Ze(so,e),ii=n|e.baseLanes}function vc(){Ze(Za,ii),Ze(so,so.current)}function Of(){ii=Za.current,vt(so),vt(Za)}var Oi=0,ue=null,Re=null,at=null,Ka=!1,Xl=!1,rl=!1,Ja=0,Ss=0,Ql=null,FT=0;function lt(){throw Error(N(321))}function Vf(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!en(n[t],e[t]))return!1;return!0}function $f(n,e,t,i,l,o){return Oi=o,ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Q.H=n===null||n.memoizedState===null?Vy:$y,rl=!1,o=t(i,l),rl=!1,Xl&&(o=ry(e,t,i,l)),ay(n),o}function ay(n){Q.H=Xa;var e=Re!==null&&Re.next!==null;if(Oi=0,at=Re=ue=null,Ka=!1,Ss=0,Ql=null,e)throw Error(N(300));n===null||yt||(n=n.dependencies,n!==null&&Ya(n)&&(yt=!0))}function ry(n,e,t,i){ue=n;var l=0;do{if(Xl&&(Ql=null),Ss=0,Xl=!1,25<=l)throw Error(N(301));if(l+=1,at=Re=null,n.updateQueue!=null){var o=n.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}Q.H=WT,o=e(t,i)}while(Xl);return o}function YT(){var n=Q.H,e=n.useState()[0];return e=typeof e.then=="function"?Gs(e):e,n=n.useState()[0],(Re!==null?Re.memoizedState:null)!==n&&(ue.flags|=1024),e}function Bf(){var n=Ja!==0;return Ja=0,n}function Pf(n,e,t){e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~t}function zf(n){if(Ka){for(n=n.memoizedState;n!==null;){var e=n.queue;e!==null&&(e.pending=null),n=n.next}Ka=!1}Oi=0,at=Re=ue=null,Xl=!1,Ss=Ja=0,Ql=null}function Pt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?ue.memoizedState=at=n:at=at.next=n,at}function rt(){if(Re===null){var n=ue.alternate;n=n!==null?n.memoizedState:null}else n=Re.next;var e=at===null?ue.memoizedState:at.next;if(e!==null)at=e,Re=n;else{if(n===null)throw ue.alternate===null?Error(N(467)):Error(N(310));Re=n,n={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},at===null?ue.memoizedState=at=n:at=at.next=n}return at}function Gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gs(n){var e=Ss;return Ss+=1,Ql===null&&(Ql=[]),n=ly(Ql,n,e),e=ue,(at===null?e.memoizedState:at.next)===null&&(e=e.alternate,Q.H=e===null||e.memoizedState===null?Vy:$y),n}function Vr(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Gs(n);if(n.$$typeof===Yn)return Nt(n)}throw Error(N(438,String(n)))}function qf(n){var e=null,t=ue.updateQueue;if(t!==null&&(e=t.memoCache),e==null){var i=ue.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),t===null&&(t=Gf(),ue.updateQueue=t),t.memoCache=e,t=e.data[e.index],t===void 0)for(t=e.data[e.index]=Array(n),i=0;i<n;i++)t[i]=Rx;return e.index++,t}function ti(n,e){return typeof e=="function"?e(n):e}function Ma(n){var e=rt();return Hf(e,Re,n)}function Hf(n,e,t){var i=n.queue;if(i===null)throw Error(N(311));i.lastRenderedReducer=t;var l=n.baseQueue,o=i.pending;if(o!==null){if(l!==null){var s=l.next;l.next=o.next,o.next=s}e.baseQueue=l=o,i.pending=null}if(o=n.baseState,l===null)n.memoizedState=o;else{e=l.next;var u=s=null,c=null,f=e,d=!1;do{var p=f.lane&-536870913;if(p!==f.lane?(ve&p)===p:(Oi&p)===p){var h=f.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),p===oo&&(d=!0);else if((Oi&h)===h){f=f.next,h===oo&&(d=!0);continue}else p={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=p,s=o):c=c.next=p,ue.lanes|=h,$i|=h;p=f.action,rl&&t(o,p),o=f.hasEagerState?f.eagerState:t(o,p)}else h={lane:p,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=h,s=o):c=c.next=h,ue.lanes|=p,$i|=p;f=f.next}while(f!==null&&f!==e);if(c===null?s=o:c.next=u,!en(o,n.memoizedState)&&(yt=!0,d&&(t=Jl,t!==null)))throw t;n.memoizedState=o,n.baseState=s,n.baseQueue=c,i.lastRenderedState=o}return l===null&&(i.lanes=0),[n.memoizedState,i.dispatch]}function vu(n){var e=rt(),t=e.queue;if(t===null)throw Error(N(311));t.lastRenderedReducer=n;var i=t.dispatch,l=t.pending,o=e.memoizedState;if(l!==null){t.pending=null;var s=l=l.next;do o=n(o,s.action),s=s.next;while(s!==l);en(o,e.memoizedState)||(yt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,i]}function uy(n,e,t){var i=ue,l=rt(),o=_e;if(o){if(t===void 0)throw Error(N(407));t=t()}else t=e();var s=!en((Re||l).memoizedState,t);s&&(l.memoizedState=t,yt=!0),l=l.queue;var u=dy.bind(null,i,l,n);if(qs(2048,8,u,[n]),l.getSnapshot!==e||s||at!==null&&at.memoizedState.tag&1){if(i.flags|=2048,ao(9,$r(),fy.bind(null,i,l,t,e),null),$e===null)throw Error(N(349));o||Oi&124||cy(i,e,t)}return t}function cy(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ue.updateQueue,e===null?(e=Gf(),ue.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function fy(n,e,t,i){e.value=t,e.getSnapshot=i,hy(e)&&py(n)}function dy(n,e,t){return t(function(){hy(e)&&py(n)})}function hy(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!en(n,t)}catch{return!0}}function py(n){var e=_o(n,2);e!==null&&jt(e,n,2)}function xc(n){var e=Pt();if(typeof n=="function"){var t=n;if(n=t(),rl){_i(!0);try{t()}finally{_i(!1)}}}return e.memoizedState=e.baseState=n,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:n},e}function my(n,e,t,i){return n.baseState=t,Hf(n,Re,typeof i=="function"?i:ti)}function ZT(n,e,t,i,l){if(Br(n))throw Error(N(485));if(n=e.action,n!==null){var o={payload:l,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){o.listeners.push(s)}};Q.T!==null?t(!0):o.isTransition=!1,i(o),t=e.pending,t===null?(o.next=e.pending=o,gy(e,o)):(o.next=t.next,e.pending=t.next=o)}}function gy(n,e){var t=e.action,i=e.payload,l=n.state;if(e.isTransition){var o=Q.T,s={};Q.T=s;try{var u=t(l,i),c=Q.S;c!==null&&c(s,u),vh(n,e,u)}catch(f){Tc(n,e,f)}finally{Q.T=o}}else try{o=t(l,i),vh(n,e,o)}catch(f){Tc(n,e,f)}}function vh(n,e,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(i){xh(n,e,i)},function(i){return Tc(n,e,i)}):xh(n,e,t)}function xh(n,e,t){e.status="fulfilled",e.value=t,yy(e),n.state=t,e=n.pending,e!==null&&(t=e.next,t===e?n.pending=null:(t=t.next,e.next=t,gy(n,t)))}function Tc(n,e,t){var i=n.pending;if(n.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=t,yy(e),e=e.next;while(e!==i)}n.action=null}function yy(n){n=n.listeners;for(var e=0;e<n.length;e++)(0,n[e])()}function vy(n,e){return e}function Th(n,e){if(_e){var t=$e.formState;if(t!==null){e:{var i=ue;if(_e){if(et){t:{for(var l=et,o=bn;l.nodeType!==8;){if(!o){l=null;break t}if(l=vn(l.nextSibling),l===null){l=null;break t}}o=l.data,l=o==="F!"||o==="F"?l:null}if(l){et=vn(l.nextSibling),i=l.data==="F!";break e}}sl(i)}i=!1}i&&(e=t[0])}}return t=Pt(),t.memoizedState=t.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:e},t.queue=i,t=Uy.bind(null,ue,i),i.dispatch=t,i=xc(!1),o=Kf.bind(null,ue,!1,i.queue),i=Pt(),l={state:e,dispatch:null,action:n,pending:null},i.queue=l,t=ZT.bind(null,ue,l,o,t),l.dispatch=t,i.memoizedState=n,[e,t,!1]}function Sh(n){var e=rt();return xy(e,Re,n)}function xy(n,e,t){if(e=Hf(n,e,vy)[0],n=Ma(ti)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Gs(e)}catch(s){throw s===zs?Or:s}else i=e;e=rt();var l=e.queue,o=l.dispatch;return t!==e.memoizedState&&(ue.flags|=2048,ao(9,$r(),KT.bind(null,l,t),null)),[i,o,n]}function KT(n,e){n.action=e}function Ch(n){var e=rt(),t=Re;if(t!==null)return xy(e,t,n);rt(),e=e.memoizedState,t=rt();var i=t.queue.dispatch;return t.memoizedState=n,[e,i,!1]}function ao(n,e,t,i){return n={tag:n,create:t,deps:i,inst:e,next:null},e=ue.updateQueue,e===null&&(e=Gf(),ue.updateQueue=e),t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n),n}function $r(){return{destroy:void 0,resource:void 0}}function Ty(){return rt().memoizedState}function Na(n,e,t,i){var l=Pt();i=i===void 0?null:i,ue.flags|=n,l.memoizedState=ao(1|e,$r(),t,i)}function qs(n,e,t,i){var l=rt();i=i===void 0?null:i;var o=l.memoizedState.inst;Re!==null&&i!==null&&Vf(i,Re.memoizedState.deps)?l.memoizedState=ao(e,o,t,i):(ue.flags|=n,l.memoizedState=ao(1|e,o,t,i))}function _h(n,e){Na(8390656,8,n,e)}function Sy(n,e){qs(2048,8,n,e)}function Cy(n,e){return qs(4,2,n,e)}function _y(n,e){return qs(4,4,n,e)}function Ey(n,e){if(typeof e=="function"){n=n();var t=e(n);return function(){typeof t=="function"?t():e(null)}}if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Ay(n,e,t){t=t!=null?t.concat([n]):null,qs(4,4,Ey.bind(null,e,n),t)}function Ff(){}function by(n,e){var t=rt();e=e===void 0?null:e;var i=t.memoizedState;return e!==null&&Vf(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function My(n,e){var t=rt();e=e===void 0?null:e;var i=t.memoizedState;if(e!==null&&Vf(e,i[1]))return i[0];if(i=n(),rl){_i(!0);try{n()}finally{_i(!1)}}return t.memoizedState=[i,e],i}function Yf(n,e,t){return t===void 0||Oi&1073741824?n.memoizedState=e:(n.memoizedState=t,n=yv(),ue.lanes|=n,$i|=n,t)}function Ny(n,e,t,i){return en(t,e)?t:so.current!==null?(n=Yf(n,t,i),en(n,e)||(yt=!0),n):Oi&42?(n=yv(),ue.lanes|=n,$i|=n,e):(yt=!0,n.memoizedState=t)}function wy(n,e,t,i,l){var o=Ee.p;Ee.p=o!==0&&8>o?o:8;var s=Q.T,u={};Q.T=u,Kf(n,!1,e,t);try{var c=l(),f=Q.S;if(f!==null&&f(u,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=HT(c,i);os(n,e,d,Wt(n))}else os(n,e,i,Wt(n))}catch(p){os(n,e,{then:function(){},status:"rejected",reason:p},Wt())}finally{Ee.p=o,Q.T=s}}function JT(){}function Sc(n,e,t,i){if(n.tag!==5)throw Error(N(476));var l=Ry(n).queue;wy(n,l,e,ji,t===null?JT:function(){return Dy(n),t(i)})}function Ry(n){var e=n.memoizedState;if(e!==null)return e;e={memoizedState:ji,baseState:ji,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:ji},next:null};var t={};return e.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:t},next:null},n.memoizedState=e,n=n.alternate,n!==null&&(n.memoizedState=e),e}function Dy(n){var e=Ry(n).next.queue;os(n,e,{},Wt())}function Zf(){return Nt(bs)}function ky(){return rt().memoizedState}function Iy(){return rt().memoizedState}function XT(n){for(var e=n.return;e!==null;){switch(e.tag){case 24:case 3:var t=Wt();n=Ni(t);var i=wi(e,n,t);i!==null&&(jt(i,e,t),ns(i,e,t)),e={cache:If()},n.payload=e;return}e=e.return}}function QT(n,e,t){var i=Wt();t={lane:i,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},Br(n)?Ly(e,t):(t=wf(n,e,t,i),t!==null&&(jt(t,n,i),Oy(t,e,i)))}function Uy(n,e,t){var i=Wt();os(n,e,t,i)}function os(n,e,t,i){var l={lane:i,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if(Br(n))Ly(e,l);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,u=o(s,t);if(l.hasEagerState=!0,l.eagerState=u,en(u,s))return Lr(n,e,l,0),$e===null&&Ur(),!1}catch{}finally{}if(t=wf(n,e,l,i),t!==null)return jt(t,n,i),Oy(t,e,i),!0}return!1}function Kf(n,e,t,i){if(i={lane:2,revertLane:nd(),action:i,hasEagerState:!1,eagerState:null,next:null},Br(n)){if(e)throw Error(N(479))}else e=wf(n,t,i,2),e!==null&&jt(e,n,2)}function Br(n){var e=n.alternate;return n===ue||e!==null&&e===ue}function Ly(n,e){Xl=Ka=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Oy(n,e,t){if(t&4194048){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,bg(n,t)}}var Xa={readContext:Nt,use:Vr,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt},Vy={readContext:Nt,use:Vr,useCallback:function(n,e){return Pt().memoizedState=[n,e===void 0?null:e],n},useContext:Nt,useEffect:_h,useImperativeHandle:function(n,e,t){t=t!=null?t.concat([n]):null,Na(4194308,4,Ey.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Na(4194308,4,n,e)},useInsertionEffect:function(n,e){Na(4,2,n,e)},useMemo:function(n,e){var t=Pt();e=e===void 0?null:e;var i=n();if(rl){_i(!0);try{n()}finally{_i(!1)}}return t.memoizedState=[i,e],i},useReducer:function(n,e,t){var i=Pt();if(t!==void 0){var l=t(e);if(rl){_i(!0);try{t(e)}finally{_i(!1)}}}else l=e;return i.memoizedState=i.baseState=l,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:l},i.queue=n,n=n.dispatch=QT.bind(null,ue,n),[i.memoizedState,n]},useRef:function(n){var e=Pt();return n={current:n},e.memoizedState=n},useState:function(n){n=xc(n);var e=n.queue,t=Uy.bind(null,ue,e);return e.dispatch=t,[n.memoizedState,t]},useDebugValue:Ff,useDeferredValue:function(n,e){var t=Pt();return Yf(t,n,e)},useTransition:function(){var n=xc(!1);return n=wy.bind(null,ue,n.queue,!0,!1),Pt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,e,t){var i=ue,l=Pt();if(_e){if(t===void 0)throw Error(N(407));t=t()}else{if(t=e(),$e===null)throw Error(N(349));ve&124||cy(i,e,t)}l.memoizedState=t;var o={value:t,getSnapshot:e};return l.queue=o,_h(dy.bind(null,i,o,n),[n]),i.flags|=2048,ao(9,$r(),fy.bind(null,i,o,t,e),null),t},useId:function(){var n=Pt(),e=$e.identifierPrefix;if(_e){var t=Kn,i=Zn;t=(i&~(1<<32-Qt(i)-1)).toString(32)+t,e=""+e+"R"+t,t=Ja++,0<t&&(e+="H"+t.toString(32)),e+=""}else t=FT++,e=""+e+"r"+t.toString(32)+"";return n.memoizedState=e},useHostTransitionStatus:Zf,useFormState:Th,useActionState:Th,useOptimistic:function(n){var e=Pt();e.memoizedState=e.baseState=n;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=t,e=Kf.bind(null,ue,!0,t),t.dispatch=e,[n,e]},useMemoCache:qf,useCacheRefresh:function(){return Pt().memoizedState=XT.bind(null,ue)}},$y={readContext:Nt,use:Vr,useCallback:by,useContext:Nt,useEffect:Sy,useImperativeHandle:Ay,useInsertionEffect:Cy,useLayoutEffect:_y,useMemo:My,useReducer:Ma,useRef:Ty,useState:function(){return Ma(ti)},useDebugValue:Ff,useDeferredValue:function(n,e){var t=rt();return Ny(t,Re.memoizedState,n,e)},useTransition:function(){var n=Ma(ti)[0],e=rt().memoizedState;return[typeof n=="boolean"?n:Gs(n),e]},useSyncExternalStore:uy,useId:ky,useHostTransitionStatus:Zf,useFormState:Sh,useActionState:Sh,useOptimistic:function(n,e){var t=rt();return my(t,Re,n,e)},useMemoCache:qf,useCacheRefresh:Iy},WT={readContext:Nt,use:Vr,useCallback:by,useContext:Nt,useEffect:Sy,useImperativeHandle:Ay,useInsertionEffect:Cy,useLayoutEffect:_y,useMemo:My,useReducer:vu,useRef:Ty,useState:function(){return vu(ti)},useDebugValue:Ff,useDeferredValue:function(n,e){var t=rt();return Re===null?Yf(t,n,e):Ny(t,Re.memoizedState,n,e)},useTransition:function(){var n=vu(ti)[0],e=rt().memoizedState;return[typeof n=="boolean"?n:Gs(n),e]},useSyncExternalStore:uy,useId:ky,useHostTransitionStatus:Zf,useFormState:Ch,useActionState:Ch,useOptimistic:function(n,e){var t=rt();return Re!==null?my(t,Re,n,e):(t.baseState=n,[n,t.queue.dispatch])},useMemoCache:qf,useCacheRefresh:Iy},Wl=null,Cs=0;function ua(n){var e=Cs;return Cs+=1,Wl===null&&(Wl=[]),ly(Wl,n,e)}function Vo(n,e){e=e.props.ref,n.ref=e!==void 0?e:null}function ca(n,e){throw e.$$typeof===Nx?Error(N(525)):(n=Object.prototype.toString.call(e),Error(N(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)))}function Eh(n){var e=n._init;return e(n._payload)}function By(n){function e(y,v){if(n){var T=y.deletions;T===null?(y.deletions=[v],y.flags|=16):T.push(v)}}function t(y,v){if(!n)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function i(y){for(var v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function l(y,v){return y=Wn(y,v),y.index=0,y.sibling=null,y}function o(y,v,T){return y.index=T,n?(T=y.alternate,T!==null?(T=T.index,T<v?(y.flags|=67108866,v):T):(y.flags|=67108866,v)):(y.flags|=1048576,v)}function s(y){return n&&y.alternate===null&&(y.flags|=67108866),y}function u(y,v,T,C){return v===null||v.tag!==6?(v=mu(T,y.mode,C),v.return=y,v):(v=l(v,T),v.return=y,v)}function c(y,v,T,C){var b=T.type;return b===Dl?d(y,v,T.props.children,C,T.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===gi&&Eh(b)===v.type)?(v=l(v,T.props),Vo(v,T),v.return=y,v):(v=Aa(T.type,T.key,T.props,null,y.mode,C),Vo(v,T),v.return=y,v)}function f(y,v,T,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=gu(T,y.mode,C),v.return=y,v):(v=l(v,T.children||[]),v.return=y,v)}function d(y,v,T,C,b){return v===null||v.tag!==7?(v=el(T,y.mode,C,b),v.return=y,v):(v=l(v,T),v.return=y,v)}function p(y,v,T){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=mu(""+v,y.mode,T),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case na:return T=Aa(v.type,v.key,v.props,null,y.mode,T),Vo(T,v),T.return=y,T;case Ho:return v=gu(v,y.mode,T),v.return=y,v;case gi:var C=v._init;return v=C(v._payload),p(y,v,T)}if(Fo(v)||Io(v))return v=el(v,y.mode,T,null),v.return=y,v;if(typeof v.then=="function")return p(y,ua(v),T);if(v.$$typeof===Yn)return p(y,aa(y,v),T);ca(y,v)}return null}function h(y,v,T,C){var b=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return b!==null?null:u(y,v,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case na:return T.key===b?c(y,v,T,C):null;case Ho:return T.key===b?f(y,v,T,C):null;case gi:return b=T._init,T=b(T._payload),h(y,v,T,C)}if(Fo(T)||Io(T))return b!==null?null:d(y,v,T,C,null);if(typeof T.then=="function")return h(y,v,ua(T),C);if(T.$$typeof===Yn)return h(y,v,aa(y,T),C);ca(y,T)}return null}function m(y,v,T,C,b){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return y=y.get(T)||null,u(v,y,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case na:return y=y.get(C.key===null?T:C.key)||null,c(v,y,C,b);case Ho:return y=y.get(C.key===null?T:C.key)||null,f(v,y,C,b);case gi:var w=C._init;return C=w(C._payload),m(y,v,T,C,b)}if(Fo(C)||Io(C))return y=y.get(T)||null,d(v,y,C,b,null);if(typeof C.then=="function")return m(y,v,T,ua(C),b);if(C.$$typeof===Yn)return m(y,v,T,aa(v,C),b);ca(v,C)}return null}function x(y,v,T,C){for(var b=null,w=null,M=v,R=v=0,P=null;M!==null&&R<T.length;R++){M.index>R?(P=M,M=null):P=M.sibling;var L=h(y,M,T[R],C);if(L===null){M===null&&(M=P);break}n&&M&&L.alternate===null&&e(y,M),v=o(L,v,R),w===null?b=L:w.sibling=L,w=L,M=P}if(R===T.length)return t(y,M),_e&&Xi(y,R),b;if(M===null){for(;R<T.length;R++)M=p(y,T[R],C),M!==null&&(v=o(M,v,R),w===null?b=M:w.sibling=M,w=M);return _e&&Xi(y,R),b}for(M=i(M);R<T.length;R++)P=m(M,y,R,T[R],C),P!==null&&(n&&P.alternate!==null&&M.delete(P.key===null?R:P.key),v=o(P,v,R),w===null?b=P:w.sibling=P,w=P);return n&&M.forEach(function(ce){return e(y,ce)}),_e&&Xi(y,R),b}function S(y,v,T,C){if(T==null)throw Error(N(151));for(var b=null,w=null,M=v,R=v=0,P=null,L=T.next();M!==null&&!L.done;R++,L=T.next()){M.index>R?(P=M,M=null):P=M.sibling;var ce=h(y,M,L.value,C);if(ce===null){M===null&&(M=P);break}n&&M&&ce.alternate===null&&e(y,M),v=o(ce,v,R),w===null?b=ce:w.sibling=ce,w=ce,M=P}if(L.done)return t(y,M),_e&&Xi(y,R),b;if(M===null){for(;!L.done;R++,L=T.next())L=p(y,L.value,C),L!==null&&(v=o(L,v,R),w===null?b=L:w.sibling=L,w=L);return _e&&Xi(y,R),b}for(M=i(M);!L.done;R++,L=T.next())L=m(M,y,R,L.value,C),L!==null&&(n&&L.alternate!==null&&M.delete(L.key===null?R:L.key),v=o(L,v,R),w===null?b=L:w.sibling=L,w=L);return n&&M.forEach(function(Se){return e(y,Se)}),_e&&Xi(y,R),b}function _(y,v,T,C){if(typeof T=="object"&&T!==null&&T.type===Dl&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case na:e:{for(var b=T.key;v!==null;){if(v.key===b){if(b=T.type,b===Dl){if(v.tag===7){t(y,v.sibling),C=l(v,T.props.children),C.return=y,y=C;break e}}else if(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===gi&&Eh(b)===v.type){t(y,v.sibling),C=l(v,T.props),Vo(C,T),C.return=y,y=C;break e}t(y,v);break}else e(y,v);v=v.sibling}T.type===Dl?(C=el(T.props.children,y.mode,C,T.key),C.return=y,y=C):(C=Aa(T.type,T.key,T.props,null,y.mode,C),Vo(C,T),C.return=y,y=C)}return s(y);case Ho:e:{for(b=T.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){t(y,v.sibling),C=l(v,T.children||[]),C.return=y,y=C;break e}else{t(y,v);break}else e(y,v);v=v.sibling}C=gu(T,y.mode,C),C.return=y,y=C}return s(y);case gi:return b=T._init,T=b(T._payload),_(y,v,T,C)}if(Fo(T))return x(y,v,T,C);if(Io(T)){if(b=Io(T),typeof b!="function")throw Error(N(150));return T=b.call(T),S(y,v,T,C)}if(typeof T.then=="function")return _(y,v,ua(T),C);if(T.$$typeof===Yn)return _(y,v,aa(y,T),C);ca(y,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,v!==null&&v.tag===6?(t(y,v.sibling),C=l(v,T),C.return=y,y=C):(t(y,v),C=mu(T,y.mode,C),C.return=y,y=C),s(y)):t(y,v)}return function(y,v,T,C){try{Cs=0;var b=_(y,v,T,C);return Wl=null,b}catch(M){if(M===zs||M===Or)throw M;var w=Jt(29,M,null,y.mode);return w.lanes=C,w.return=y,w}finally{}}}var ro=By(!0),Py=By(!1),dn=Vn(null),Un=null;function Ti(n){var e=n.alternate;Ze(ct,ct.current&1),Ze(dn,n),Un===null&&(e===null||so.current!==null||e.memoizedState!==null)&&(Un=n)}function zy(n){if(n.tag===22){if(Ze(ct,ct.current),Ze(dn,n),Un===null){var e=n.alternate;e!==null&&e.memoizedState!==null&&(Un=n)}}else Si()}function Si(){Ze(ct,ct.current),Ze(dn,dn.current)}function Xn(n){vt(dn),Un===n&&(Un=null),vt(ct)}var ct=Vn(0);function Qa(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||$c(t)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function xu(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Ge({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Cc={enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Wt(),l=Ni(i);l.payload=e,t!=null&&(l.callback=t),e=wi(n,l,i),e!==null&&(jt(e,n,i),ns(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Wt(),l=Ni(i);l.tag=1,l.payload=e,t!=null&&(l.callback=t),e=wi(n,l,i),e!==null&&(jt(e,n,i),ns(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Wt(),i=Ni(t);i.tag=2,e!=null&&(i.callback=e),e=wi(n,i,t),e!==null&&(jt(e,n,t),ns(e,n,t))}};function Ah(n,e,t,i,l,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!xs(t,i)||!xs(l,o):!0}function bh(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Cc.enqueueReplaceState(e,e.state,null)}function ul(n,e){var t=e;if("ref"in e){t={};for(var i in e)i!=="ref"&&(t[i]=e[i])}if(n=n.defaultProps){t===e&&(t=Ge({},t));for(var l in n)t[l]===void 0&&(t[l]=n[l])}return t}var Wa=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Gy(n){Wa(n)}function qy(n){console.error(n)}function Hy(n){Wa(n)}function ja(n,e){try{var t=n.onUncaughtError;t(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Mh(n,e,t){try{var i=n.onCaughtError;i(t.value,{componentStack:t.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function _c(n,e,t){return t=Ni(t),t.tag=3,t.payload={element:null},t.callback=function(){ja(n,e)},t}function Fy(n){return n=Ni(n),n.tag=3,n}function Yy(n,e,t,i){var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var o=i.value;n.payload=function(){return l(o)},n.callback=function(){Mh(e,t,i)}}var s=t.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mh(e,t,i),typeof l!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var u=i.stack;this.componentDidCatch(i.value,{componentStack:u!==null?u:""})})}function jT(n,e,t,i,l){if(t.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=t.alternate,e!==null&&Bs(e,t,l,!0),t=dn.current,t!==null){switch(t.tag){case 13:return Un===null?Dc():t.alternate===null&&tt===0&&(tt=3),t.flags&=-257,t.flags|=65536,t.lanes=l,i===mc?t.flags|=16384:(e=t.updateQueue,e===null?t.updateQueue=new Set([i]):e.add(i),Ru(n,i,l)),!1;case 22:return t.flags|=65536,i===mc?t.flags|=16384:(e=t.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},t.updateQueue=e):(t=e.retryQueue,t===null?e.retryQueue=new Set([i]):t.add(i)),Ru(n,i,l)),!1}throw Error(N(435,t.tag))}return Ru(n,i,l),Dc(),!1}if(_e)return e=dn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=l,i!==cc&&(n=Error(N(422),{cause:i}),Ts(cn(n,t)))):(i!==cc&&(e=Error(N(423),{cause:i}),Ts(cn(e,t))),n=n.current.alternate,n.flags|=65536,l&=-l,n.lanes|=l,i=cn(i,t),l=_c(n.stateNode,i,l),yu(n,l),tt!==4&&(tt=2)),!1;var o=Error(N(520),{cause:i});if(o=cn(o,t),rs===null?rs=[o]:rs.push(o),tt!==4&&(tt=2),e===null)return!0;i=cn(i,t),t=e;do{switch(t.tag){case 3:return t.flags|=65536,n=l&-l,t.lanes|=n,n=_c(t.stateNode,i,n),yu(t,n),!1;case 1:if(e=t.type,o=t.stateNode,(t.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))))return t.flags|=65536,l&=-l,t.lanes|=l,l=Fy(l),Yy(l,n,t,i),yu(t,l),!1}t=t.return}while(t!==null);return!1}var Zy=Error(N(461)),yt=!1;function Tt(n,e,t,i){e.child=n===null?Py(e,null,t,i):ro(e,n.child,t,i)}function Nh(n,e,t,i,l){t=t.render;var o=e.ref;if("ref"in i){var s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}else s=i;return al(e),i=$f(n,e,t,s,o,l),u=Bf(),n!==null&&!yt?(Pf(n,e,l),ni(n,e,l)):(_e&&u&&Df(e),e.flags|=1,Tt(n,e,i,l),e.child)}function wh(n,e,t,i,l){if(n===null){var o=t.type;return typeof o=="function"&&!Rf(o)&&o.defaultProps===void 0&&t.compare===null?(e.tag=15,e.type=o,Ky(n,e,o,i,l)):(n=Aa(t.type,null,i,e,e.mode,l),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!Jf(n,l)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:xs,t(s,i)&&n.ref===e.ref)return ni(n,e,l)}return e.flags|=1,n=Wn(o,i),n.ref=e.ref,n.return=e,e.child=n}function Ky(n,e,t,i,l){if(n!==null){var o=n.memoizedProps;if(xs(o,i)&&n.ref===e.ref)if(yt=!1,e.pendingProps=i=o,Jf(n,l))n.flags&131072&&(yt=!0);else return e.lanes=n.lanes,ni(n,e,l)}return Ec(n,e,t,i,l)}function Jy(n,e,t){var i=e.pendingProps,l=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=o!==null?o.baseLanes|t:t,n!==null){for(l=e.child=n.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;e.childLanes=o&~i}else e.childLanes=0,e.child=null;return Rh(n,e,i,t)}if(t&536870912)e.memoizedState={baseLanes:0,cachePool:null},n!==null&&ba(e,o!==null?o.cachePool:null),o!==null?yh(e,o):vc(),zy(e);else return e.lanes=e.childLanes=536870912,Rh(n,e,o!==null?o.baseLanes|t:t,t)}else o!==null?(ba(e,o.cachePool),yh(e,o),Si(),e.memoizedState=null):(n!==null&&ba(e,null),vc(),Si());return Tt(n,e,l,t),e.child}function Rh(n,e,t,i){var l=Uf();return l=l===null?null:{parent:ut._currentValue,pool:l},e.memoizedState={baseLanes:t,cachePool:l},n!==null&&ba(e,null),vc(),zy(e),n!==null&&Bs(n,e,i,!0),null}function wa(n,e){var t=e.ref;if(t===null)n!==null&&n.ref!==null&&(e.flags|=4194816);else{if(typeof t!="function"&&typeof t!="object")throw Error(N(284));(n===null||n.ref!==t)&&(e.flags|=4194816)}}function Ec(n,e,t,i,l){return al(e),t=$f(n,e,t,i,void 0,l),i=Bf(),n!==null&&!yt?(Pf(n,e,l),ni(n,e,l)):(_e&&i&&Df(e),e.flags|=1,Tt(n,e,t,l),e.child)}function Dh(n,e,t,i,l,o){return al(e),e.updateQueue=null,t=ry(e,i,t,l),ay(n),i=Bf(),n!==null&&!yt?(Pf(n,e,o),ni(n,e,o)):(_e&&i&&Df(e),e.flags|=1,Tt(n,e,t,o),e.child)}function kh(n,e,t,i,l){if(al(e),e.stateNode===null){var o=Bl,s=t.contextType;typeof s=="object"&&s!==null&&(o=Nt(s)),o=new t(i,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Cc,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=i,o.state=e.memoizedState,o.refs={},Lf(e),s=t.contextType,o.context=typeof s=="object"&&s!==null?Nt(s):Bl,o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(xu(e,t,s,i),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&Cc.enqueueReplaceState(o,o.state,null),ls(e,i,o,l),is(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(n===null){o=e.stateNode;var u=e.memoizedProps,c=ul(t,u);o.props=c;var f=o.context,d=t.contextType;s=Bl,typeof d=="object"&&d!==null&&(s=Nt(d));var p=t.getDerivedStateFromProps;d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function",u=e.pendingProps!==u,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u||f!==s)&&bh(e,o,i,s),yi=!1;var h=e.memoizedState;o.state=h,ls(e,i,o,l),is(),f=e.memoizedState,u||h!==f||yi?(typeof p=="function"&&(xu(e,t,p,i),f=e.memoizedState),(c=yi||Ah(e,t,c,i,h,f,s))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),o.props=i,o.state=f,o.context=s,i=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,gc(n,e),s=e.memoizedProps,d=ul(t,s),o.props=d,p=e.pendingProps,h=o.context,f=t.contextType,c=Bl,typeof f=="object"&&f!==null&&(c=Nt(f)),u=t.getDerivedStateFromProps,(f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==p||h!==c)&&bh(e,o,i,c),yi=!1,h=e.memoizedState,o.state=h,ls(e,i,o,l),is();var m=e.memoizedState;s!==p||h!==m||yi||n!==null&&n.dependencies!==null&&Ya(n.dependencies)?(typeof u=="function"&&(xu(e,t,u,i),m=e.memoizedState),(d=yi||Ah(e,t,d,i,h,m,c)||n!==null&&n.dependencies!==null&&Ya(n.dependencies))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),o.props=i,o.state=m,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),i=!1)}return o=i,wa(n,e),i=(e.flags&128)!==0,o||i?(o=e.stateNode,t=i&&typeof t.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,n!==null&&i?(e.child=ro(e,n.child,null,l),e.child=ro(e,null,t,l)):Tt(n,e,t,l),e.memoizedState=o.state,n=e.child):n=ni(n,e,l),n}function Ih(n,e,t,i){return $s(),e.flags|=256,Tt(n,e,t,i),e.child}var Tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Su(n){return{baseLanes:n,cachePool:ny()}}function Cu(n,e,t){return n=n!==null?n.childLanes&~t:0,e&&(n|=fn),n}function Xy(n,e,t){var i=e.pendingProps,l=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=n!==null&&n.memoizedState===null?!1:(ct.current&2)!==0),s&&(l=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,n===null){if(_e){if(l?Ti(e):Si(),_e){var u=et,c;if(c=u){e:{for(c=u,u=bn;c.nodeType!==8;){if(!u){u=null;break e}if(c=vn(c.nextSibling),c===null){u=null;break e}}u=c}u!==null?(e.memoizedState={dehydrated:u,treeContext:tl!==null?{id:Zn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},c=Jt(18,null,null,0),c.stateNode=u,c.return=e,e.child=c,It=e,et=null,c=!0):c=!1}c||sl(e)}if(u=e.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return $c(u)?e.lanes=32:e.lanes=536870912,null;Xn(e)}return u=i.children,i=i.fallback,l?(Si(),l=e.mode,u=er({mode:"hidden",children:u},l),i=el(i,l,t,null),u.return=e,i.return=e,u.sibling=i,e.child=u,l=e.child,l.memoizedState=Su(t),l.childLanes=Cu(n,s,t),e.memoizedState=Tu,i):(Ti(e),Ac(e,u))}if(c=n.memoizedState,c!==null&&(u=c.dehydrated,u!==null)){if(o)e.flags&256?(Ti(e),e.flags&=-257,e=_u(n,e,t)):e.memoizedState!==null?(Si(),e.child=n.child,e.flags|=128,e=null):(Si(),l=i.fallback,u=e.mode,i=er({mode:"visible",children:i.children},u),l=el(l,u,t,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,ro(e,n.child,null,t),i=e.child,i.memoizedState=Su(t),i.childLanes=Cu(n,s,t),e.memoizedState=Tu,e=l);else if(Ti(e),$c(u)){if(s=u.nextSibling&&u.nextSibling.dataset,s)var f=s.dgst;s=f,i=Error(N(419)),i.stack="",i.digest=s,Ts({value:i,source:null,stack:null}),e=_u(n,e,t)}else if(yt||Bs(n,e,t,!1),s=(t&n.childLanes)!==0,yt||s){if(s=$e,s!==null&&(i=t&-t,i=i&42?1:xf(i),i=i&(s.suspendedLanes|t)?0:i,i!==0&&i!==c.retryLane))throw c.retryLane=i,_o(n,i),jt(s,n,i),Zy;u.data==="$?"||Dc(),e=_u(n,e,t)}else u.data==="$?"?(e.flags|=192,e.child=n.child,e=null):(n=c.treeContext,et=vn(u.nextSibling),It=e,_e=!0,nl=null,bn=!1,n!==null&&(an[rn++]=Zn,an[rn++]=Kn,an[rn++]=tl,Zn=n.id,Kn=n.overflow,tl=e),e=Ac(e,i.children),e.flags|=4096);return e}return l?(Si(),l=i.fallback,u=e.mode,c=n.child,f=c.sibling,i=Wn(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?l=Wn(f,l):(l=el(l,u,t,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,i=l,l=e.child,u=n.child.memoizedState,u===null?u=Su(t):(c=u.cachePool,c!==null?(f=ut._currentValue,c=c.parent!==f?{parent:f,pool:f}:c):c=ny(),u={baseLanes:u.baseLanes|t,cachePool:c}),l.memoizedState=u,l.childLanes=Cu(n,s,t),e.memoizedState=Tu,i):(Ti(e),t=n.child,n=t.sibling,t=Wn(t,{mode:"visible",children:i.children}),t.return=e,t.sibling=null,n!==null&&(s=e.deletions,s===null?(e.deletions=[n],e.flags|=16):s.push(n)),e.child=t,e.memoizedState=null,t)}function Ac(n,e){return e=er({mode:"visible",children:e},n.mode),e.return=n,n.child=e}function er(n,e){return n=Jt(22,n,null,e),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function _u(n,e,t){return ro(e,n.child,null,t),n=Ac(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Uh(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),dc(n.return,e,t)}function Eu(n,e,t,i,l){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:l}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=t,o.tailMode=l)}function Qy(n,e,t){var i=e.pendingProps,l=i.revealOrder,o=i.tail;if(Tt(n,e,i.children,t),i=ct.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Uh(n,t,e);else if(n.tag===19)Uh(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}switch(Ze(ct,i),l){case"forwards":for(t=e.child,l=null;t!==null;)n=t.alternate,n!==null&&Qa(n)===null&&(l=t),t=t.sibling;t=l,t===null?(l=e.child,e.child=null):(l=t.sibling,t.sibling=null),Eu(e,!1,l,t,o);break;case"backwards":for(t=null,l=e.child,e.child=null;l!==null;){if(n=l.alternate,n!==null&&Qa(n)===null){e.child=l;break}n=l.sibling,l.sibling=t,t=l,l=n}Eu(e,!0,t,null,o);break;case"together":Eu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ni(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),$i|=e.lanes,!(t&e.childLanes))if(n!==null){if(Bs(n,e,t,!1),(t&e.childLanes)===0)return null}else return null;if(n!==null&&e.child!==n.child)throw Error(N(153));if(e.child!==null){for(n=e.child,t=Wn(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Wn(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Jf(n,e){return n.lanes&e?!0:(n=n.dependencies,!!(n!==null&&Ya(n)))}function e1(n,e,t){switch(e.tag){case 3:$a(e,e.stateNode.containerInfo),xi(e,ut,n.memoizedState.cache),$s();break;case 27:case 5:ec(e);break;case 4:$a(e,e.stateNode.containerInfo);break;case 10:xi(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Ti(e),e.flags|=128,null):t&e.child.childLanes?Xy(n,e,t):(Ti(e),n=ni(n,e,t),n!==null?n.sibling:null);Ti(e);break;case 19:var l=(n.flags&128)!==0;if(i=(t&e.childLanes)!==0,i||(Bs(n,e,t,!1),i=(t&e.childLanes)!==0),l){if(i)return Qy(n,e,t);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ze(ct,ct.current),i)break;return null;case 22:case 23:return e.lanes=0,Jy(n,e,t);case 24:xi(e,ut,n.memoizedState.cache)}return ni(n,e,t)}function Wy(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps)yt=!0;else{if(!Jf(n,t)&&!(e.flags&128))return yt=!1,e1(n,e,t);yt=!!(n.flags&131072)}else yt=!1,_e&&e.flags&1048576&&ey(e,Fa,e.index);switch(e.lanes=0,e.tag){case 16:e:{n=e.pendingProps;var i=e.elementType,l=i._init;if(i=l(i._payload),e.type=i,typeof i=="function")Rf(i)?(n=ul(i,n),e.tag=1,e=kh(null,e,i,n,t)):(e.tag=0,e=Ec(null,e,i,n,t));else{if(i!=null){if(l=i.$$typeof,l===gf){e.tag=11,e=Nh(null,e,i,n,t);break e}else if(l===yf){e.tag=14,e=wh(null,e,i,n,t);break e}}throw e=Wu(i)||i,Error(N(306,e,""))}}return e;case 0:return Ec(n,e,e.type,e.pendingProps,t);case 1:return i=e.type,l=ul(i,e.pendingProps),kh(n,e,i,l,t);case 3:e:{if($a(e,e.stateNode.containerInfo),n===null)throw Error(N(387));i=e.pendingProps;var o=e.memoizedState;l=o.element,gc(n,e),ls(e,i,null,t);var s=e.memoizedState;if(i=s.cache,xi(e,ut,i),i!==o.cache&&hc(e,[ut],t,!0),is(),i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=Ih(n,e,i,t);break e}else if(i!==l){l=cn(Error(N(424)),e),Ts(l),e=Ih(n,e,i,t);break e}else{switch(n=e.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(et=vn(n.firstChild),It=e,_e=!0,nl=null,bn=!0,t=Py(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling}else{if($s(),i===l){e=ni(n,e,t);break e}Tt(n,e,i,t)}e=e.child}return e;case 26:return wa(n,e),n===null?(t=Qh(e.type,null,e.pendingProps,null))?e.memoizedState=t:_e||(t=e.type,n=e.pendingProps,i=ar(Mi.current).createElement(t),i[Mt]=e,i[qt]=n,Ct(i,t,n),gt(i),e.stateNode=i):e.memoizedState=Qh(e.type,n.memoizedProps,e.pendingProps,n.memoizedState),null;case 27:return ec(e),n===null&&_e&&(i=e.stateNode=$v(e.type,e.pendingProps,Mi.current),It=e,bn=!0,l=et,zi(e.type)?(Bc=l,et=vn(i.firstChild)):et=l),Tt(n,e,e.pendingProps.children,t),wa(n,e),n===null&&(e.flags|=4194304),e.child;case 5:return n===null&&_e&&((l=i=et)&&(i=N1(i,e.type,e.pendingProps,bn),i!==null?(e.stateNode=i,It=e,et=vn(i.firstChild),bn=!1,l=!0):l=!1),l||sl(e)),ec(e),l=e.type,o=e.pendingProps,s=n!==null?n.memoizedProps:null,i=o.children,Oc(l,o)?i=null:s!==null&&Oc(l,s)&&(e.flags|=32),e.memoizedState!==null&&(l=$f(n,e,YT,null,null,t),bs._currentValue=l),wa(n,e),Tt(n,e,i,t),e.child;case 6:return n===null&&_e&&((n=t=et)&&(t=w1(t,e.pendingProps,bn),t!==null?(e.stateNode=t,It=e,et=null,n=!0):n=!1),n||sl(e)),null;case 13:return Xy(n,e,t);case 4:return $a(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=ro(e,null,i,t):Tt(n,e,i,t),e.child;case 11:return Nh(n,e,e.type,e.pendingProps,t);case 7:return Tt(n,e,e.pendingProps,t),e.child;case 8:return Tt(n,e,e.pendingProps.children,t),e.child;case 12:return Tt(n,e,e.pendingProps.children,t),e.child;case 10:return i=e.pendingProps,xi(e,e.type,i.value),Tt(n,e,i.children,t),e.child;case 9:return l=e.type._context,i=e.pendingProps.children,al(e),l=Nt(l),i=i(l),e.flags|=1,Tt(n,e,i,t),e.child;case 14:return wh(n,e,e.type,e.pendingProps,t);case 15:return Ky(n,e,e.type,e.pendingProps,t);case 19:return Qy(n,e,t);case 31:return i=e.pendingProps,t=e.mode,i={mode:i.mode,children:i.children},n===null?(t=er(i,t),t.ref=e.ref,e.child=t,t.return=e,e=t):(t=Wn(n.child,i),t.ref=e.ref,e.child=t,t.return=e,e=t),e;case 22:return Jy(n,e,t);case 24:return al(e),i=Nt(ut),n===null?(l=Uf(),l===null&&(l=$e,o=If(),l.pooledCache=o,o.refCount++,o!==null&&(l.pooledCacheLanes|=t),l=o),e.memoizedState={parent:i,cache:l},Lf(e),xi(e,ut,l)):(n.lanes&t&&(gc(n,e),ls(e,null,null,t),is()),l=n.memoizedState,o=e.memoizedState,l.parent!==i?(l={parent:i,cache:i},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),xi(e,ut,i)):(i=o.cache,xi(e,ut,i),i!==l.cache&&hc(e,[ut],t,!0))),Tt(n,e,e.pendingProps.children,t),e.child;case 29:throw e.pendingProps}throw Error(N(156,e.tag))}function qn(n){n.flags|=4}function Lh(n,e){if(e.type!=="stylesheet"||e.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!zv(e)){if(e=dn.current,e!==null&&((ve&4194048)===ve?Un!==null:(ve&62914560)!==ve&&!(ve&536870912)||e!==Un))throw ts=mc,iy;n.flags|=8192}}function fa(n,e){e!==null&&(n.flags|=4),n.flags&16384&&(e=n.tag!==22?Eg():536870912,n.lanes|=e,uo|=e)}function $o(n,e){if(!_e)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Qe(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var l=n.child;l!==null;)t|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=n,l=l.sibling;else for(l=n.child;l!==null;)t|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=n,l=l.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function t1(n,e,t){var i=e.pendingProps;switch(kf(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return Qe(e),null;case 3:return t=e.stateNode,i=null,n!==null&&(i=n.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),jn(ut),no(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(n===null||n.child===null)&&(Oo(e)?qn(e):n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fh())),Qe(e),null;case 26:return t=e.memoizedState,n===null?(qn(e),t!==null?(Qe(e),Lh(e,t)):(Qe(e),e.flags&=-16777217)):t?t!==n.memoizedState?(qn(e),Qe(e),Lh(e,t)):(Qe(e),e.flags&=-16777217):(n.memoizedProps!==i&&qn(e),Qe(e),e.flags&=-16777217),null;case 27:Ba(e),t=Mi.current;var l=e.type;if(n!==null&&e.stateNode!=null)n.memoizedProps!==i&&qn(e);else{if(!i){if(e.stateNode===null)throw Error(N(166));return Qe(e),null}n=kn.current,Oo(e)?uh(e):(n=$v(l,i,t),e.stateNode=n,qn(e))}return Qe(e),null;case 5:if(Ba(e),t=e.type,n!==null&&e.stateNode!=null)n.memoizedProps!==i&&qn(e);else{if(!i){if(e.stateNode===null)throw Error(N(166));return Qe(e),null}if(n=kn.current,Oo(e))uh(e);else{switch(l=ar(Mi.current),n){case 1:n=l.createElementNS("http://www.w3.org/2000/svg",t);break;case 2:n=l.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;default:switch(t){case"svg":n=l.createElementNS("http://www.w3.org/2000/svg",t);break;case"math":n=l.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;case"script":n=l.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof i.is=="string"?l.createElement("select",{is:i.is}):l.createElement("select"),i.multiple?n.multiple=!0:i.size&&(n.size=i.size);break;default:n=typeof i.is=="string"?l.createElement(t,{is:i.is}):l.createElement(t)}}n[Mt]=e,n[qt]=i;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=n;e:switch(Ct(n,t,i),t){case"button":case"input":case"select":case"textarea":n=!!i.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&qn(e)}}return Qe(e),e.flags&=-16777217,null;case 6:if(n&&e.stateNode!=null)n.memoizedProps!==i&&qn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(N(166));if(n=Mi.current,Oo(e)){if(n=e.stateNode,t=e.memoizedProps,i=null,l=It,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}n[Mt]=e,n=!!(n.nodeValue===t||i!==null&&i.suppressHydrationWarning===!0||Lv(n.nodeValue,t)),n||sl(e)}else n=ar(n).createTextNode(i),n[Mt]=e,e.stateNode=n}return Qe(e),null;case 13:if(i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(l=Oo(e),i!==null&&i.dehydrated!==null){if(n===null){if(!l)throw Error(N(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(N(317));l[Mt]=e}else $s(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),l=!1}else l=fh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(Xn(e),e):(Xn(e),null)}if(Xn(e),e.flags&128)return e.lanes=t,e;if(t=i!==null,n=n!==null&&n.memoizedState!==null,t){i=e.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool);var o=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==l&&(i.flags|=2048)}return t!==n&&t&&(e.child.flags|=8192),fa(e,e.updateQueue),Qe(e),null;case 4:return no(),n===null&&id(e.stateNode.containerInfo),Qe(e),null;case 10:return jn(e.type),Qe(e),null;case 19:if(vt(ct),l=e.memoizedState,l===null)return Qe(e),null;if(i=(e.flags&128)!==0,o=l.rendering,o===null)if(i)$o(l,!1);else{if(tt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Qa(n),o!==null){for(e.flags|=128,$o(l,!1),n=o.updateQueue,e.updateQueue=n,fa(e,n),e.subtreeFlags=0,n=t,t=e.child;t!==null;)jg(t,n),t=t.sibling;return Ze(ct,ct.current&1|2),e.child}n=n.sibling}l.tail!==null&&In()>nr&&(e.flags|=128,i=!0,$o(l,!1),e.lanes=4194304)}else{if(!i)if(n=Qa(o),n!==null){if(e.flags|=128,i=!0,n=n.updateQueue,e.updateQueue=n,fa(e,n),$o(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!_e)return Qe(e),null}else 2*In()-l.renderingStartTime>nr&&t!==536870912&&(e.flags|=128,i=!0,$o(l,!1),e.lanes=4194304);l.isBackwards?(o.sibling=e.child,e.child=o):(n=l.last,n!==null?n.sibling=o:e.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=In(),e.sibling=null,n=ct.current,Ze(ct,i?n&1|2:n&1),e):(Qe(e),null);case 22:case 23:return Xn(e),Of(),i=e.memoizedState!==null,n!==null?n.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?t&536870912&&!(e.flags&128)&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),t=e.updateQueue,t!==null&&fa(e,t.retryQueue),t=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==t&&(e.flags|=2048),n!==null&&vt(il),null;case 24:return t=null,n!==null&&(t=n.memoizedState.cache),e.memoizedState.cache!==t&&(e.flags|=2048),jn(ut),Qe(e),null;case 25:return null;case 30:return null}throw Error(N(156,e.tag))}function n1(n,e){switch(kf(e),e.tag){case 1:return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return jn(ut),no(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 26:case 27:case 5:return Ba(e),null;case 13:if(Xn(e),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(N(340));$s()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return vt(ct),null;case 4:return no(),null;case 10:return jn(e.type),null;case 22:case 23:return Xn(e),Of(),n!==null&&vt(il),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 24:return jn(ut),null;case 25:return null;default:return null}}function jy(n,e){switch(kf(e),e.tag){case 3:jn(ut),no();break;case 26:case 27:case 5:Ba(e);break;case 4:no();break;case 13:Xn(e);break;case 19:vt(ct);break;case 10:jn(e.type);break;case 22:case 23:Xn(e),Of(),n!==null&&vt(il);break;case 24:jn(ut)}}function Hs(n,e){try{var t=e.updateQueue,i=t!==null?t.lastEffect:null;if(i!==null){var l=i.next;t=l;do{if((t.tag&n)===n){i=void 0;var o=t.create,s=t.inst;i=o(),s.destroy=i}t=t.next}while(t!==l)}}catch(u){Le(e,e.return,u)}}function Vi(n,e,t){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var o=l.next;i=o;do{if((i.tag&n)===n){var s=i.inst,u=s.destroy;if(u!==void 0){s.destroy=void 0,l=e;var c=t,f=u;try{f()}catch(d){Le(l,c,d)}}}i=i.next}while(i!==o)}}catch(d){Le(e,e.return,d)}}function ev(n){var e=n.updateQueue;if(e!==null){var t=n.stateNode;try{sy(e,t)}catch(i){Le(n,n.return,i)}}}function tv(n,e,t){t.props=ul(n.type,n.memoizedProps),t.state=n.memoizedState;try{t.componentWillUnmount()}catch(i){Le(n,e,i)}}function ss(n,e){try{var t=n.ref;if(t!==null){switch(n.tag){case 26:case 27:case 5:var i=n.stateNode;break;case 30:i=n.stateNode;break;default:i=n.stateNode}typeof t=="function"?n.refCleanup=t(i):t.current=i}}catch(l){Le(n,e,l)}}function Mn(n,e){var t=n.ref,i=n.refCleanup;if(t!==null)if(typeof i=="function")try{i()}catch(l){Le(n,e,l)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(l){Le(n,e,l)}else t.current=null}function nv(n){var e=n.type,t=n.memoizedProps,i=n.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":t.autoFocus&&i.focus();break e;case"img":t.src?i.src=t.src:t.srcSet&&(i.srcset=t.srcSet)}}catch(l){Le(n,n.return,l)}}function Au(n,e,t){try{var i=n.stateNode;_1(i,n.type,t,e),i[qt]=e}catch(l){Le(n,n.return,l)}}function iv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&zi(n.type)||n.tag===4}function bu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||iv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&zi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bc(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t).insertBefore(n,e):(e=t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,e.appendChild(n),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=qr));else if(i!==4&&(i===27&&zi(n.type)&&(t=n.stateNode,e=null),n=n.child,n!==null))for(bc(n,e,t),n=n.sibling;n!==null;)bc(n,e,t),n=n.sibling}function tr(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(i===27&&zi(n.type)&&(t=n.stateNode),n=n.child,n!==null))for(tr(n,e,t),n=n.sibling;n!==null;)tr(n,e,t),n=n.sibling}function lv(n){var e=n.stateNode,t=n.memoizedProps;try{for(var i=n.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);Ct(e,i,t),e[Mt]=n,e[qt]=t}catch(o){Le(n,n.return,o)}}var Fn=!1,ot=!1,Mu=!1,Oh=typeof WeakSet=="function"?WeakSet:Set,mt=null;function i1(n,e){if(n=n.containerInfo,Uc=fr,n=Fg(n),Mf(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var l=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,u=-1,c=-1,f=0,d=0,p=n,h=null;t:for(;;){for(var m;p!==t||l!==0&&p.nodeType!==3||(u=s+l),p!==o||i!==0&&p.nodeType!==3||(c=s+i),p.nodeType===3&&(s+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===n)break t;if(h===t&&++f===l&&(u=s),h===o&&++d===i&&(c=s),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}t=u===-1||c===-1?null:{start:u,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Lc={focusedElem:n,selectionRange:t},fr=!1,mt=e;mt!==null;)if(e=mt,n=e.child,(e.subtreeFlags&1024)!==0&&n!==null)n.return=e,mt=n;else for(;mt!==null;){switch(e=mt,o=e.alternate,n=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&o!==null){n=void 0,t=e,l=o.memoizedProps,o=o.memoizedState,i=t.stateNode;try{var x=ul(t.type,l,t.elementType===t.type);n=i.getSnapshotBeforeUpdate(x,o),i.__reactInternalSnapshotBeforeUpdate=n}catch(S){Le(t,t.return,S)}}break;case 3:if(n&1024){if(n=e.stateNode.containerInfo,t=n.nodeType,t===9)Vc(n);else if(t===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Vc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(N(163))}if(n=e.sibling,n!==null){n.return=e.return,mt=n;break}mt=e.return}}function ov(n,e,t){var i=t.flags;switch(t.tag){case 0:case 11:case 15:pi(n,t),i&4&&Hs(5,t);break;case 1:if(pi(n,t),i&4)if(n=t.stateNode,e===null)try{n.componentDidMount()}catch(s){Le(t,t.return,s)}else{var l=ul(t.type,e.memoizedProps);e=e.memoizedState;try{n.componentDidUpdate(l,e,n.__reactInternalSnapshotBeforeUpdate)}catch(s){Le(t,t.return,s)}}i&64&&ev(t),i&512&&ss(t,t.return);break;case 3:if(pi(n,t),i&64&&(n=t.updateQueue,n!==null)){if(e=null,t.child!==null)switch(t.child.tag){case 27:case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}try{sy(n,e)}catch(s){Le(t,t.return,s)}}break;case 27:e===null&&i&4&&lv(t);case 26:case 5:pi(n,t),e===null&&i&4&&nv(t),i&512&&ss(t,t.return);break;case 12:pi(n,t);break;case 13:pi(n,t),i&4&&rv(n,t),i&64&&(n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(t=d1.bind(null,t),R1(n,t))));break;case 22:if(i=t.memoizedState!==null||Fn,!i){e=e!==null&&e.memoizedState!==null||ot,l=Fn;var o=ot;Fn=i,(ot=e)&&!o?mi(n,t,(t.subtreeFlags&8772)!==0):pi(n,t),Fn=l,ot=o}break;case 30:break;default:pi(n,t)}}function sv(n){var e=n.alternate;e!==null&&(n.alternate=null,sv(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&Sf(e)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Fe=null,zt=!1;function Hn(n,e,t){for(t=t.child;t!==null;)av(n,e,t),t=t.sibling}function av(n,e,t){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Is,t)}catch{}switch(t.tag){case 26:ot||Mn(t,e),Hn(n,e,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:ot||Mn(t,e);var i=Fe,l=zt;zi(t.type)&&(Fe=t.stateNode,zt=!1),Hn(n,e,t),cs(t.stateNode),Fe=i,zt=l;break;case 5:ot||Mn(t,e);case 6:if(i=Fe,l=zt,Fe=null,Hn(n,e,t),Fe=i,zt=l,Fe!==null)if(zt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(t.stateNode)}catch(o){Le(t,e,o)}else try{Fe.removeChild(t.stateNode)}catch(o){Le(t,e,o)}break;case 18:Fe!==null&&(zt?(n=Fe,Kh(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.stateNode),ws(n)):Kh(Fe,t.stateNode));break;case 4:i=Fe,l=zt,Fe=t.stateNode.containerInfo,zt=!0,Hn(n,e,t),Fe=i,zt=l;break;case 0:case 11:case 14:case 15:ot||Vi(2,t,e),ot||Vi(4,t,e),Hn(n,e,t);break;case 1:ot||(Mn(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"&&tv(t,e,i)),Hn(n,e,t);break;case 21:Hn(n,e,t);break;case 22:ot=(i=ot)||t.memoizedState!==null,Hn(n,e,t),ot=i;break;default:Hn(n,e,t)}}function rv(n,e){if(e.memoizedState===null&&(n=e.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ws(n)}catch(t){Le(e,e.return,t)}}function l1(n){switch(n.tag){case 13:case 19:var e=n.stateNode;return e===null&&(e=n.stateNode=new Oh),e;case 22:return n=n.stateNode,e=n._retryCache,e===null&&(e=n._retryCache=new Oh),e;default:throw Error(N(435,n.tag))}}function Nu(n,e){var t=l1(n);e.forEach(function(i){var l=h1.bind(null,n,i);t.has(i)||(t.add(i),i.then(l,l))})}function Ft(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var l=t[i],o=n,s=e,u=s;e:for(;u!==null;){switch(u.tag){case 27:if(zi(u.type)){Fe=u.stateNode,zt=!1;break e}break;case 5:Fe=u.stateNode,zt=!1;break e;case 3:case 4:Fe=u.stateNode.containerInfo,zt=!0;break e}u=u.return}if(Fe===null)throw Error(N(160));av(o,s,l),Fe=null,zt=!1,o=l.alternate,o!==null&&(o.return=null),l.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)uv(e,n),e=e.sibling}var gn=null;function uv(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ft(e,n),Yt(n),i&4&&(Vi(3,n,n.return),Hs(3,n),Vi(5,n,n.return));break;case 1:Ft(e,n),Yt(n),i&512&&(ot||t===null||Mn(t,t.return)),i&64&&Fn&&(n=n.updateQueue,n!==null&&(i=n.callbacks,i!==null&&(t=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=t===null?i:t.concat(i))));break;case 26:var l=gn;if(Ft(e,n),Yt(n),i&512&&(ot||t===null||Mn(t,t.return)),i&4){var o=t!==null?t.memoizedState:null;if(i=n.memoizedState,t===null)if(i===null)if(n.stateNode===null){e:{i=n.type,t=n.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":o=l.getElementsByTagName("title")[0],(!o||o[Os]||o[Mt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=l.createElement(i),l.head.insertBefore(o,l.querySelector("head > title"))),Ct(o,i,t),o[Mt]=n,gt(o),i=o;break e;case"link":var s=jh("link","href",l).get(i+(t.href||""));if(s){for(var u=0;u<s.length;u++)if(o=s[u],o.getAttribute("href")===(t.href==null||t.href===""?null:t.href)&&o.getAttribute("rel")===(t.rel==null?null:t.rel)&&o.getAttribute("title")===(t.title==null?null:t.title)&&o.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){s.splice(u,1);break t}}o=l.createElement(i),Ct(o,i,t),l.head.appendChild(o);break;case"meta":if(s=jh("meta","content",l).get(i+(t.content||""))){for(u=0;u<s.length;u++)if(o=s[u],o.getAttribute("content")===(t.content==null?null:""+t.content)&&o.getAttribute("name")===(t.name==null?null:t.name)&&o.getAttribute("property")===(t.property==null?null:t.property)&&o.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&o.getAttribute("charset")===(t.charSet==null?null:t.charSet)){s.splice(u,1);break t}}o=l.createElement(i),Ct(o,i,t),l.head.appendChild(o);break;default:throw Error(N(468,i))}o[Mt]=n,gt(o),i=o}n.stateNode=i}else ep(l,n.type,n.stateNode);else n.stateNode=Wh(l,i,n.memoizedProps);else o!==i?(o===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):o.count--,i===null?ep(l,n.type,n.stateNode):Wh(l,i,n.memoizedProps)):i===null&&n.stateNode!==null&&Au(n,n.memoizedProps,t.memoizedProps)}break;case 27:Ft(e,n),Yt(n),i&512&&(ot||t===null||Mn(t,t.return)),t!==null&&i&4&&Au(n,n.memoizedProps,t.memoizedProps);break;case 5:if(Ft(e,n),Yt(n),i&512&&(ot||t===null||Mn(t,t.return)),n.flags&32){l=n.stateNode;try{lo(l,"")}catch(m){Le(n,n.return,m)}}i&4&&n.stateNode!=null&&(l=n.memoizedProps,Au(n,l,t!==null?t.memoizedProps:l)),i&1024&&(Mu=!0);break;case 6:if(Ft(e,n),Yt(n),i&4){if(n.stateNode===null)throw Error(N(162));i=n.memoizedProps,t=n.stateNode;try{t.nodeValue=i}catch(m){Le(n,n.return,m)}}break;case 3:if(ka=null,l=gn,gn=rr(e.containerInfo),Ft(e,n),gn=l,Yt(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{ws(e.containerInfo)}catch(m){Le(n,n.return,m)}Mu&&(Mu=!1,cv(n));break;case 4:i=gn,gn=rr(n.stateNode.containerInfo),Ft(e,n),Yt(n),gn=i;break;case 12:Ft(e,n),Yt(n);break;case 13:Ft(e,n),Yt(n),n.child.flags&8192&&n.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(ed=In()),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,Nu(n,i)));break;case 22:l=n.memoizedState!==null;var c=t!==null&&t.memoizedState!==null,f=Fn,d=ot;if(Fn=f||l,ot=d||c,Ft(e,n),ot=d,Fn=f,Yt(n),i&8192)e:for(e=n.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(t===null||c||Fn||ot||Qi(n)),t=null,e=n;;){if(e.tag===5||e.tag===26){if(t===null){c=t=e;try{if(o=c.stateNode,l)s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{u=c.stateNode;var p=c.memoizedProps.style,h=p!=null&&p.hasOwnProperty("display")?p.display:null;u.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){Le(c,c.return,m)}}}else if(e.tag===6){if(t===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(m){Le(c,c.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===n)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;t===e&&(t=null),e=e.return}t===e&&(t=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=n.updateQueue,i!==null&&(t=i.retryQueue,t!==null&&(i.retryQueue=null,Nu(n,t))));break;case 19:Ft(e,n),Yt(n),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,Nu(n,i)));break;case 30:break;case 21:break;default:Ft(e,n),Yt(n)}}function Yt(n){var e=n.flags;if(e&2){try{for(var t,i=n.return;i!==null;){if(iv(i)){t=i;break}i=i.return}if(t==null)throw Error(N(160));switch(t.tag){case 27:var l=t.stateNode,o=bu(n);tr(n,o,l);break;case 5:var s=t.stateNode;t.flags&32&&(lo(s,""),t.flags&=-33);var u=bu(n);tr(n,u,s);break;case 3:case 4:var c=t.stateNode.containerInfo,f=bu(n);bc(n,f,c);break;default:throw Error(N(161))}}catch(d){Le(n,n.return,d)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function cv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var e=n;cv(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),n=n.sibling}}function pi(n,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)ov(n,e.alternate,e),e=e.sibling}function Qi(n){for(n=n.child;n!==null;){var e=n;switch(e.tag){case 0:case 11:case 14:case 15:Vi(4,e,e.return),Qi(e);break;case 1:Mn(e,e.return);var t=e.stateNode;typeof t.componentWillUnmount=="function"&&tv(e,e.return,t),Qi(e);break;case 27:cs(e.stateNode);case 26:case 5:Mn(e,e.return),Qi(e);break;case 22:e.memoizedState===null&&Qi(e);break;case 30:Qi(e);break;default:Qi(e)}n=n.sibling}}function mi(n,e,t){for(t=t&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,l=n,o=e,s=o.flags;switch(o.tag){case 0:case 11:case 15:mi(l,o,t),Hs(4,o);break;case 1:if(mi(l,o,t),i=o,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(f){Le(i,i.return,f)}if(i=o,l=i.updateQueue,l!==null){var u=i.stateNode;try{var c=l.shared.hiddenCallbacks;if(c!==null)for(l.shared.hiddenCallbacks=null,l=0;l<c.length;l++)oy(c[l],u)}catch(f){Le(i,i.return,f)}}t&&s&64&&ev(o),ss(o,o.return);break;case 27:lv(o);case 26:case 5:mi(l,o,t),t&&i===null&&s&4&&nv(o),ss(o,o.return);break;case 12:mi(l,o,t);break;case 13:mi(l,o,t),t&&s&4&&rv(l,o);break;case 22:o.memoizedState===null&&mi(l,o,t),ss(o,o.return);break;case 30:break;default:mi(l,o,t)}e=e.sibling}}function Xf(n,e){var t=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==t&&(n!=null&&n.refCount++,t!=null&&Ps(t))}function Qf(n,e){n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&Ps(n))}function An(n,e,t,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fv(n,e,t,i),e=e.sibling}function fv(n,e,t,i){var l=e.flags;switch(e.tag){case 0:case 11:case 15:An(n,e,t,i),l&2048&&Hs(9,e);break;case 1:An(n,e,t,i);break;case 3:An(n,e,t,i),l&2048&&(n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&Ps(n)));break;case 12:if(l&2048){An(n,e,t,i),n=e.stateNode;try{var o=e.memoizedProps,s=o.id,u=o.onPostCommit;typeof u=="function"&&u(s,e.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(c){Le(e,e.return,c)}}else An(n,e,t,i);break;case 13:An(n,e,t,i);break;case 23:break;case 22:o=e.stateNode,s=e.alternate,e.memoizedState!==null?o._visibility&2?An(n,e,t,i):as(n,e):o._visibility&2?An(n,e,t,i):(o._visibility|=2,Nl(n,e,t,i,(e.subtreeFlags&10256)!==0)),l&2048&&Xf(s,e);break;case 24:An(n,e,t,i),l&2048&&Qf(e.alternate,e);break;default:An(n,e,t,i)}}function Nl(n,e,t,i,l){for(l=l&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=n,s=e,u=t,c=i,f=s.flags;switch(s.tag){case 0:case 11:case 15:Nl(o,s,u,c,l),Hs(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?Nl(o,s,u,c,l):as(o,s):(d._visibility|=2,Nl(o,s,u,c,l)),l&&f&2048&&Xf(s.alternate,s);break;case 24:Nl(o,s,u,c,l),l&&f&2048&&Qf(s.alternate,s);break;default:Nl(o,s,u,c,l)}e=e.sibling}}function as(n,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var t=n,i=e,l=i.flags;switch(i.tag){case 22:as(t,i),l&2048&&Xf(i.alternate,i);break;case 24:as(t,i),l&2048&&Qf(i.alternate,i);break;default:as(t,i)}e=e.sibling}}var Zo=8192;function Cl(n){if(n.subtreeFlags&Zo)for(n=n.child;n!==null;)dv(n),n=n.sibling}function dv(n){switch(n.tag){case 26:Cl(n),n.flags&Zo&&n.memoizedState!==null&&q1(gn,n.memoizedState,n.memoizedProps);break;case 5:Cl(n);break;case 3:case 4:var e=gn;gn=rr(n.stateNode.containerInfo),Cl(n),gn=e;break;case 22:n.memoizedState===null&&(e=n.alternate,e!==null&&e.memoizedState!==null?(e=Zo,Zo=16777216,Cl(n),Zo=e):Cl(n));break;default:Cl(n)}}function hv(n){var e=n.alternate;if(e!==null&&(n=e.child,n!==null)){e.child=null;do e=n.sibling,n.sibling=null,n=e;while(n!==null)}}function Bo(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var i=e[t];mt=i,mv(i,n)}hv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)pv(n),n=n.sibling}function pv(n){switch(n.tag){case 0:case 11:case 15:Bo(n),n.flags&2048&&Vi(9,n,n.return);break;case 3:Bo(n);break;case 12:Bo(n);break;case 22:var e=n.stateNode;n.memoizedState!==null&&e._visibility&2&&(n.return===null||n.return.tag!==13)?(e._visibility&=-3,Ra(n)):Bo(n);break;default:Bo(n)}}function Ra(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var i=e[t];mt=i,mv(i,n)}hv(n)}for(n=n.child;n!==null;){switch(e=n,e.tag){case 0:case 11:case 15:Vi(8,e,e.return),Ra(e);break;case 22:t=e.stateNode,t._visibility&2&&(t._visibility&=-3,Ra(e));break;default:Ra(e)}n=n.sibling}}function mv(n,e){for(;mt!==null;){var t=mt;switch(t.tag){case 0:case 11:case 15:Vi(8,t,e);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var i=t.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ps(t.memoizedState.cache)}if(i=t.child,i!==null)i.return=t,mt=i;else e:for(t=n;mt!==null;){i=mt;var l=i.sibling,o=i.return;if(sv(i),i===t){mt=null;break e}if(l!==null){l.return=o,mt=l;break e}mt=o}}}var o1={getCacheForType:function(n){var e=Nt(ut),t=e.data.get(n);return t===void 0&&(t=n(),e.data.set(n,t)),t}},s1=typeof WeakMap=="function"?WeakMap:Map,Ne=0,$e=null,he=null,ve=0,Me=0,Zt=null,Ai=!1,Eo=!1,Wf=!1,ii=0,tt=0,$i=0,ll=0,jf=0,fn=0,uo=0,rs=null,Gt=null,Mc=!1,ed=0,nr=1/0,ir=null,Ri=null,St=0,Di=null,co=null,jl=0,Nc=0,wc=null,gv=null,us=0,Rc=null;function Wt(){if(Ne&2&&ve!==0)return ve&-ve;if(Q.T!==null){var n=oo;return n!==0?n:nd()}return Mg()}function yv(){fn===0&&(fn=!(ve&536870912)||_e?_g():536870912);var n=dn.current;return n!==null&&(n.flags|=32),fn}function jt(n,e,t){(n===$e&&(Me===2||Me===9)||n.cancelPendingCommit!==null)&&(fo(n,0),bi(n,ve,fn,!1)),Ls(n,t),(!(Ne&2)||n!==$e)&&(n===$e&&(!(Ne&2)&&(ll|=t),tt===4&&bi(n,ve,fn,!1)),$n(n))}function vv(n,e,t){if(Ne&6)throw Error(N(327));var i=!t&&(e&124)===0&&(e&n.expiredLanes)===0||Us(n,e),l=i?u1(n,e):wu(n,e,!0),o=i;do{if(l===0){Eo&&!i&&bi(n,e,0,!1);break}else{if(t=n.current.alternate,o&&!a1(t)){l=wu(n,e,!1),o=!1;continue}if(l===2){if(o=e,n.errorRecoveryDisabledLanes&o)var s=0;else s=n.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var u=n;l=rs;var c=u.current.memoizedState.isDehydrated;if(c&&(fo(u,s).flags|=256),s=wu(u,s,!1),s!==2){if(Wf&&!c){u.errorRecoveryDisabledLanes|=o,ll|=o,l=4;break e}o=Gt,Gt=l,o!==null&&(Gt===null?Gt=o:Gt.push.apply(Gt,o))}l=s}if(o=!1,l!==2)continue}}if(l===1){fo(n,0),bi(n,e,0,!0);break}e:{switch(i=n,o=l,o){case 0:case 1:throw Error(N(345));case 4:if((e&4194048)!==e)break;case 6:bi(i,e,fn,!Ai);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(N(329))}if((e&62914560)===e&&(l=ed+300-In(),10<l)){if(bi(i,e,fn,!Ai),Rr(i,0,!0)!==0)break e;i.timeoutHandle=Vv(Vh.bind(null,i,t,Gt,ir,Mc,e,fn,ll,uo,Ai,o,2,-0,0),l);break e}Vh(i,t,Gt,ir,Mc,e,fn,ll,uo,Ai,o,0,-0,0)}}break}while(!0);$n(n)}function Vh(n,e,t,i,l,o,s,u,c,f,d,p,h,m){if(n.timeoutHandle=-1,p=e.subtreeFlags,(p&8192||(p&16785408)===16785408)&&(As={stylesheets:null,count:0,unsuspend:G1},dv(e),p=H1(),p!==null)){n.cancelPendingCommit=p(Bh.bind(null,n,e,o,t,i,l,s,u,c,d,1,h,m)),bi(n,o,s,!f);return}Bh(n,e,o,t,i,l,s,u,c)}function a1(n){for(var e=n;;){var t=e.tag;if((t===0||t===11||t===15)&&e.flags&16384&&(t=e.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var i=0;i<t.length;i++){var l=t[i],o=l.getSnapshot;l=l.value;try{if(!en(o(),l))return!1}catch{return!1}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bi(n,e,t,i){e&=~jf,e&=~ll,n.suspendedLanes|=e,n.pingedLanes&=~e,i&&(n.warmLanes|=e),i=n.expirationTimes;for(var l=e;0<l;){var o=31-Qt(l),s=1<<o;i[o]=-1,l&=~s}t!==0&&Ag(n,t,e)}function Pr(){return Ne&6?!0:(Fs(0),!1)}function td(){if(he!==null){if(Me===0)var n=he.return;else n=he,Jn=yl=null,zf(n),Wl=null,Cs=0,n=he;for(;n!==null;)jy(n.alternate,n),n=n.return;he=null}}function fo(n,e){var t=n.timeoutHandle;t!==-1&&(n.timeoutHandle=-1,A1(t)),t=n.cancelPendingCommit,t!==null&&(n.cancelPendingCommit=null,t()),td(),$e=n,he=t=Wn(n.current,null),ve=e,Me=0,Zt=null,Ai=!1,Eo=Us(n,e),Wf=!1,uo=fn=jf=ll=$i=tt=0,Gt=rs=null,Mc=!1,e&8&&(e|=e&32);var i=n.entangledLanes;if(i!==0)for(n=n.entanglements,i&=e;0<i;){var l=31-Qt(i),o=1<<l;e|=n[l],i&=~o}return ii=e,Ur(),t}function xv(n,e){ue=null,Q.H=Xa,e===zs||e===Or?(e=mh(),Me=3):e===iy?(e=mh(),Me=4):Me=e===Zy?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Zt=e,he===null&&(tt=1,ja(n,cn(e,n.current)))}function Tv(){var n=Q.H;return Q.H=Xa,n===null?Xa:n}function Sv(){var n=Q.A;return Q.A=o1,n}function Dc(){tt=4,Ai||(ve&4194048)!==ve&&dn.current!==null||(Eo=!0),!($i&134217727)&&!(ll&134217727)||$e===null||bi($e,ve,fn,!1)}function wu(n,e,t){var i=Ne;Ne|=2;var l=Tv(),o=Sv();($e!==n||ve!==e)&&(ir=null,fo(n,e)),e=!1;var s=tt;e:do try{if(Me!==0&&he!==null){var u=he,c=Zt;switch(Me){case 8:td(),s=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(e=!0);var f=Me;if(Me=0,Zt=null,Gl(n,u,c,f),t&&Eo){s=0;break e}break;default:f=Me,Me=0,Zt=null,Gl(n,u,c,f)}}r1(),s=tt;break}catch(d){xv(n,d)}while(!0);return e&&n.shellSuspendCounter++,Jn=yl=null,Ne=i,Q.H=l,Q.A=o,he===null&&($e=null,ve=0,Ur()),s}function r1(){for(;he!==null;)Cv(he)}function u1(n,e){var t=Ne;Ne|=2;var i=Tv(),l=Sv();$e!==n||ve!==e?(ir=null,nr=In()+500,fo(n,e)):Eo=Us(n,e);e:do try{if(Me!==0&&he!==null){e=he;var o=Zt;t:switch(Me){case 1:Me=0,Zt=null,Gl(n,e,o,1);break;case 2:case 9:if(ph(o)){Me=0,Zt=null,$h(e);break}e=function(){Me!==2&&Me!==9||$e!==n||(Me=7),$n(n)},o.then(e,e);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:ph(o)?(Me=0,Zt=null,$h(e)):(Me=0,Zt=null,Gl(n,e,o,7));break;case 5:var s=null;switch(he.tag){case 26:s=he.memoizedState;case 5:case 27:var u=he;if(!s||zv(s)){Me=0,Zt=null;var c=u.sibling;if(c!==null)he=c;else{var f=u.return;f!==null?(he=f,zr(f)):he=null}break t}}Me=0,Zt=null,Gl(n,e,o,5);break;case 6:Me=0,Zt=null,Gl(n,e,o,6);break;case 8:td(),tt=6;break e;default:throw Error(N(462))}}c1();break}catch(d){xv(n,d)}while(!0);return Jn=yl=null,Q.H=i,Q.A=l,Ne=t,he!==null?0:($e=null,ve=0,Ur(),tt)}function c1(){for(;he!==null&&!kx();)Cv(he)}function Cv(n){var e=Wy(n.alternate,n,ii);n.memoizedProps=n.pendingProps,e===null?zr(n):he=e}function $h(n){var e=n,t=e.alternate;switch(e.tag){case 15:case 0:e=Dh(t,e,e.pendingProps,e.type,void 0,ve);break;case 11:e=Dh(t,e,e.pendingProps,e.type.render,e.ref,ve);break;case 5:zf(e);default:jy(t,e),e=he=jg(e,ii),e=Wy(t,e,ii)}n.memoizedProps=n.pendingProps,e===null?zr(n):he=e}function Gl(n,e,t,i){Jn=yl=null,zf(e),Wl=null,Cs=0;var l=e.return;try{if(jT(n,l,e,t,ve)){tt=1,ja(n,cn(t,n.current)),he=null;return}}catch(o){if(l!==null)throw he=l,o;tt=1,ja(n,cn(t,n.current)),he=null;return}e.flags&32768?(_e||i===1?n=!0:Eo||ve&536870912?n=!1:(Ai=n=!0,(i===2||i===9||i===3||i===6)&&(i=dn.current,i!==null&&i.tag===13&&(i.flags|=16384))),_v(e,n)):zr(e)}function zr(n){var e=n;do{if(e.flags&32768){_v(e,Ai);return}n=e.return;var t=t1(e.alternate,e,ii);if(t!==null){he=t;return}if(e=e.sibling,e!==null){he=e;return}he=e=n}while(e!==null);tt===0&&(tt=5)}function _v(n,e){do{var t=n1(n.alternate,n);if(t!==null){t.flags&=32767,he=t;return}if(t=n.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!e&&(n=n.sibling,n!==null)){he=n;return}he=n=t}while(n!==null);tt=6,he=null}function Bh(n,e,t,i,l,o,s,u,c){n.cancelPendingCommit=null;do Gr();while(St!==0);if(Ne&6)throw Error(N(327));if(e!==null){if(e===n.current)throw Error(N(177));if(o=e.lanes|e.childLanes,o|=Nf,Gx(n,t,o,s,u,c),n===$e&&(he=$e=null,ve=0),co=e,Di=n,jl=t,Nc=o,wc=l,gv=i,e.subtreeFlags&10256||e.flags&10256?(n.callbackNode=null,n.callbackPriority=0,p1(Pa,function(){return Nv(),null})):(n.callbackNode=null,n.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=Q.T,Q.T=null,l=Ee.p,Ee.p=2,s=Ne,Ne|=4;try{i1(n,e,t)}finally{Ne=s,Ee.p=l,Q.T=i}}St=1,Ev(),Av(),bv()}}function Ev(){if(St===1){St=0;var n=Di,e=co,t=(e.flags&13878)!==0;if(e.subtreeFlags&13878||t){t=Q.T,Q.T=null;var i=Ee.p;Ee.p=2;var l=Ne;Ne|=4;try{uv(e,n);var o=Lc,s=Fg(n.containerInfo),u=o.focusedElem,c=o.selectionRange;if(s!==u&&u&&u.ownerDocument&&Hg(u.ownerDocument.documentElement,u)){if(c!==null&&Mf(u)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in u)u.selectionStart=f,u.selectionEnd=Math.min(d,u.value.length);else{var p=u.ownerDocument||document,h=p&&p.defaultView||window;if(h.getSelection){var m=h.getSelection(),x=u.textContent.length,S=Math.min(c.start,x),_=c.end===void 0?S:Math.min(c.end,x);!m.extend&&S>_&&(s=_,_=S,S=s);var y=sh(u,S),v=sh(u,_);if(y&&v&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==v.node||m.focusOffset!==v.offset)){var T=p.createRange();T.setStart(y.node,y.offset),m.removeAllRanges(),S>_?(m.addRange(T),m.extend(v.node,v.offset)):(T.setEnd(v.node,v.offset),m.addRange(T))}}}}for(p=[],m=u;m=m.parentNode;)m.nodeType===1&&p.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<p.length;u++){var C=p[u];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}fr=!!Uc,Lc=Uc=null}finally{Ne=l,Ee.p=i,Q.T=t}}n.current=e,St=2}}function Av(){if(St===2){St=0;var n=Di,e=co,t=(e.flags&8772)!==0;if(e.subtreeFlags&8772||t){t=Q.T,Q.T=null;var i=Ee.p;Ee.p=2;var l=Ne;Ne|=4;try{ov(n,e.alternate,e)}finally{Ne=l,Ee.p=i,Q.T=t}}St=3}}function bv(){if(St===4||St===3){St=0,Ix();var n=Di,e=co,t=jl,i=gv;e.subtreeFlags&10256||e.flags&10256?St=5:(St=0,co=Di=null,Mv(n,n.pendingLanes));var l=n.pendingLanes;if(l===0&&(Ri=null),Tf(t),e=e.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Is,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=Q.T,l=Ee.p,Ee.p=2,Q.T=null;try{for(var o=n.onRecoverableError,s=0;s<i.length;s++){var u=i[s];o(u.value,{componentStack:u.stack})}}finally{Q.T=e,Ee.p=l}}jl&3&&Gr(),$n(n),l=n.pendingLanes,t&4194090&&l&42?n===Rc?us++:(us=0,Rc=n):us=0,Fs(0)}}function Mv(n,e){(n.pooledCacheLanes&=e)===0&&(e=n.pooledCache,e!=null&&(n.pooledCache=null,Ps(e)))}function Gr(n){return Ev(),Av(),bv(),Nv()}function Nv(){if(St!==5)return!1;var n=Di,e=Nc;Nc=0;var t=Tf(jl),i=Q.T,l=Ee.p;try{Ee.p=32>t?32:t,Q.T=null,t=wc,wc=null;var o=Di,s=jl;if(St=0,co=Di=null,jl=0,Ne&6)throw Error(N(331));var u=Ne;if(Ne|=4,pv(o.current),fv(o,o.current,s,t),Ne=u,Fs(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Is,o)}catch{}return!0}finally{Ee.p=l,Q.T=i,Mv(n,e)}}function Ph(n,e,t){e=cn(t,e),e=_c(n.stateNode,e,2),n=wi(n,e,2),n!==null&&(Ls(n,2),$n(n))}function Le(n,e,t){if(n.tag===3)Ph(n,n,t);else for(;e!==null;){if(e.tag===3){Ph(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ri===null||!Ri.has(i))){n=cn(t,n),t=Fy(2),i=wi(e,t,2),i!==null&&(Yy(t,i,e,n),Ls(i,2),$n(i));break}}e=e.return}}function Ru(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new s1;var l=new Set;i.set(e,l)}else l=i.get(e),l===void 0&&(l=new Set,i.set(e,l));l.has(t)||(Wf=!0,l.add(t),n=f1.bind(null,n,e,t),e.then(n,n))}function f1(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),n.pingedLanes|=n.suspendedLanes&t,n.warmLanes&=~t,$e===n&&(ve&t)===t&&(tt===4||tt===3&&(ve&62914560)===ve&&300>In()-ed?!(Ne&2)&&fo(n,0):jf|=t,uo===ve&&(uo=0)),$n(n)}function wv(n,e){e===0&&(e=Eg()),n=_o(n,e),n!==null&&(Ls(n,e),$n(n))}function d1(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),wv(n,t)}function h1(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,l=n.memoizedState;l!==null&&(t=l.retryLane);break;case 19:i=n.stateNode;break;case 22:i=n.stateNode._retryCache;break;default:throw Error(N(314))}i!==null&&i.delete(e),wv(n,t)}function p1(n,e){return vf(n,e)}var lr=null,wl=null,kc=!1,or=!1,Du=!1,ol=0;function $n(n){n!==wl&&n.next===null&&(wl===null?lr=wl=n:wl=wl.next=n),or=!0,kc||(kc=!0,g1())}function Fs(n,e){if(!Du&&or){Du=!0;do for(var t=!1,i=lr;i!==null;){if(n!==0){var l=i.pendingLanes;if(l===0)var o=0;else{var s=i.suspendedLanes,u=i.pingedLanes;o=(1<<31-Qt(42|n)+1)-1,o&=l&~(s&~u),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(t=!0,zh(i,o))}else o=ve,o=Rr(i,i===$e?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(o&3)||Us(i,o)||(t=!0,zh(i,o));i=i.next}while(t);Du=!1}}function m1(){Rv()}function Rv(){or=kc=!1;var n=0;ol!==0&&(E1()&&(n=ol),ol=0);for(var e=In(),t=null,i=lr;i!==null;){var l=i.next,o=Dv(i,e);o===0?(i.next=null,t===null?lr=l:t.next=l,l===null&&(wl=t)):(t=i,(n!==0||o&3)&&(or=!0)),i=l}Fs(n)}function Dv(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,l=n.expirationTimes,o=n.pendingLanes&-62914561;0<o;){var s=31-Qt(o),u=1<<s,c=l[s];c===-1?(!(u&t)||u&i)&&(l[s]=zx(u,e)):c<=e&&(n.expiredLanes|=u),o&=~u}if(e=$e,t=ve,t=Rr(n,n===e?t:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i=n.callbackNode,t===0||n===e&&(Me===2||Me===9)||n.cancelPendingCommit!==null)return i!==null&&i!==null&&iu(i),n.callbackNode=null,n.callbackPriority=0;if(!(t&3)||Us(n,t)){if(e=t&-t,e===n.callbackPriority)return e;switch(i!==null&&iu(i),Tf(t)){case 2:case 8:t=Sg;break;case 32:t=Pa;break;case 268435456:t=Cg;break;default:t=Pa}return i=kv.bind(null,n),t=vf(t,i),n.callbackPriority=e,n.callbackNode=t,e}return i!==null&&i!==null&&iu(i),n.callbackPriority=2,n.callbackNode=null,2}function kv(n,e){if(St!==0&&St!==5)return n.callbackNode=null,n.callbackPriority=0,null;var t=n.callbackNode;if(Gr()&&n.callbackNode!==t)return null;var i=ve;return i=Rr(n,n===$e?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i===0?null:(vv(n,i,e),Dv(n,In()),n.callbackNode!=null&&n.callbackNode===t?kv.bind(null,n):null)}function zh(n,e){if(Gr())return null;vv(n,e,!0)}function g1(){b1(function(){Ne&6?vf(Tg,m1):Rv()})}function nd(){return ol===0&&(ol=_g()),ol}function Gh(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ca(""+n)}function qh(n,e){var t=e.ownerDocument.createElement("input");return t.name=e.name,t.value=e.value,n.id&&t.setAttribute("form",n.id),e.parentNode.insertBefore(t,e),n=new FormData(n),t.parentNode.removeChild(t),n}function y1(n,e,t,i,l){if(e==="submit"&&t&&t.stateNode===l){var o=Gh((l[qt]||null).action),s=i.submitter;s&&(e=(e=s[qt]||null)?Gh(e.formAction):s.getAttribute("formAction"),e!==null&&(o=e,s=null));var u=new Dr("action","action",null,i,l);n.push({event:u,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ol!==0){var c=s?qh(l,s):new FormData(l);Sc(t,{pending:!0,data:c,method:l.method,action:o},null,c)}}else typeof o=="function"&&(u.preventDefault(),c=s?qh(l,s):new FormData(l),Sc(t,{pending:!0,data:c,method:l.method,action:o},o,c))},currentTarget:l}]})}}for(var ku=0;ku<uc.length;ku++){var Iu=uc[ku],v1=Iu.toLowerCase(),x1=Iu[0].toUpperCase()+Iu.slice(1);Tn(v1,"on"+x1)}Tn(Zg,"onAnimationEnd");Tn(Kg,"onAnimationIteration");Tn(Jg,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(OT,"onTransitionRun");Tn(VT,"onTransitionStart");Tn($T,"onTransitionCancel");Tn(Xg,"onTransitionEnd");io("onMouseEnter",["mouseout","mouseover"]);io("onMouseLeave",["mouseout","mouseover"]);io("onPointerEnter",["pointerout","pointerover"]);io("onPointerLeave",["pointerout","pointerover"]);pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pl("onBeforeInput",["compositionend","keypress","textInput","paste"]);pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_s));function Iv(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],l=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var u=i[s],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){Wa(d)}l.currentTarget=null,o=c}else for(s=0;s<i.length;s++){if(u=i[s],c=u.instance,f=u.currentTarget,u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){Wa(d)}l.currentTarget=null,o=c}}}}function de(n,e){var t=e[nc];t===void 0&&(t=e[nc]=new Set);var i=n+"__bubble";t.has(i)||(Uv(e,n,2,!1),t.add(i))}function Uu(n,e,t){var i=0;e&&(i|=4),Uv(t,n,i,e)}var da="_reactListening"+Math.random().toString(36).slice(2);function id(n){if(!n[da]){n[da]=!0,Ng.forEach(function(t){t!=="selectionchange"&&(T1.has(t)||Uu(t,!1,n),Uu(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[da]||(e[da]=!0,Uu("selectionchange",!1,e))}}function Uv(n,e,t,i){switch(Yv(e)){case 2:var l=Z1;break;case 8:l=K1;break;default:l=ad}t=l.bind(null,e,t,n),l=void 0,!sc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),i?l!==void 0?n.addEventListener(e,t,{capture:!0,passive:l}):n.addEventListener(e,t,!0):l!==void 0?n.addEventListener(e,t,{passive:l}):n.addEventListener(e,t,!1)}function Lu(n,e,t,i,l){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var u=i.stateNode.containerInfo;if(u===l)break;if(s===4)for(s=i.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===l)return;s=s.return}for(;u!==null;){if(s=Il(u),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){i=o=s;continue e}u=u.parentNode}}i=i.return}Og(function(){var f=o,d=_f(t),p=[];e:{var h=Qg.get(n);if(h!==void 0){var m=Dr,x=n;switch(n){case"keypress":if(Ea(t)===0)break e;case"keydown":case"keyup":m=pT;break;case"focusin":x="focus",m=fu;break;case"focusout":x="blur",m=fu;break;case"beforeblur":case"afterblur":m=fu;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=nT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=yT;break;case Zg:case Kg:case Jg:m=oT;break;case Xg:m=xT;break;case"scroll":case"scrollend":m=eT;break;case"wheel":m=ST;break;case"copy":case"cut":case"paste":m=aT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Wd;break;case"toggle":case"beforetoggle":m=_T}var S=(e&4)!==0,_=!S&&(n==="scroll"||n==="scrollend"),y=S?h!==null?h+"Capture":null:h;S=[];for(var v=f,T;v!==null;){var C=v;if(T=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||T===null||y===null||(C=ys(v,y),C!=null&&S.push(Es(v,C,T))),_)break;v=v.return}0<S.length&&(h=new m(h,x,null,t,d),p.push({event:h,listeners:S}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",h&&t!==oc&&(x=t.relatedTarget||t.fromElement)&&(Il(x)||x[So]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=t.relatedTarget||t.toElement,m=f,x=x?Il(x):null,x!==null&&(_=ks(x),S=x.tag,x!==_||S!==5&&S!==27&&S!==6)&&(x=null)):(m=null,x=f),m!==x)){if(S=Xd,C="onMouseLeave",y="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(S=Wd,C="onPointerLeave",y="onPointerEnter",v="pointer"),_=m==null?h:Yo(m),T=x==null?h:Yo(x),h=new S(C,v+"leave",m,t,d),h.target=_,h.relatedTarget=T,C=null,Il(d)===f&&(S=new S(y,v+"enter",x,t,d),S.target=T,S.relatedTarget=_,C=S),_=C,m&&x)t:{for(S=m,y=x,v=0,T=S;T;T=_l(T))v++;for(T=0,C=y;C;C=_l(C))T++;for(;0<v-T;)S=_l(S),v--;for(;0<T-v;)y=_l(y),T--;for(;v--;){if(S===y||y!==null&&S===y.alternate)break t;S=_l(S),y=_l(y)}S=null}else S=null;m!==null&&Hh(p,h,m,S,!1),x!==null&&_!==null&&Hh(p,_,x,S,!0)}}e:{if(h=f?Yo(f):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var b=nh;else if(th(h))if(Gg)b=IT;else{b=DT;var w=RT}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?f&&Cf(f.elementType)&&(b=nh):b=kT;if(b&&(b=b(n,f))){zg(p,b,t,d);break e}w&&w(n,h,f),n==="focusout"&&f&&h.type==="number"&&f.memoizedProps.value!=null&&lc(h,"number",h.value)}switch(w=f?Yo(f):window,n){case"focusin":(th(w)||w.contentEditable==="true")&&(Ol=w,ac=f,jo=null);break;case"focusout":jo=ac=Ol=null;break;case"mousedown":rc=!0;break;case"contextmenu":case"mouseup":case"dragend":rc=!1,ah(p,t,d);break;case"selectionchange":if(LT)break;case"keydown":case"keyup":ah(p,t,d)}var M;if(bf)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ll?Bg(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&($g&&t.locale!=="ko"&&(Ll||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ll&&(M=Vg()):(Ei=d,Ef="value"in Ei?Ei.value:Ei.textContent,Ll=!0)),w=sr(f,R),0<w.length&&(R=new Qd(R,n,null,t,d),p.push({event:R,listeners:w}),M?R.data=M:(M=Pg(t),M!==null&&(R.data=M)))),(M=AT?bT(n,t):MT(n,t))&&(R=sr(f,"onBeforeInput"),0<R.length&&(w=new Qd("onBeforeInput","beforeinput",null,t,d),p.push({event:w,listeners:R}),w.data=M)),y1(p,n,f,t,d)}Iv(p,e)})}function Es(n,e,t){return{instance:n,listener:e,currentTarget:t}}function sr(n,e){for(var t=e+"Capture",i=[];n!==null;){var l=n,o=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||o===null||(l=ys(n,t),l!=null&&i.unshift(Es(n,l,o)),l=ys(n,e),l!=null&&i.push(Es(n,l,o))),n.tag===3)return i;n=n.return}return[]}function _l(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Hh(n,e,t,i,l){for(var o=e._reactName,s=[];t!==null&&t!==i;){var u=t,c=u.alternate,f=u.stateNode;if(u=u.tag,c!==null&&c===i)break;u!==5&&u!==26&&u!==27||f===null||(c=f,l?(f=ys(t,o),f!=null&&s.unshift(Es(t,f,c))):l||(f=ys(t,o),f!=null&&s.push(Es(t,f,c)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var S1=/\r\n?/g,C1=/\u0000|\uFFFD/g;function Fh(n){return(typeof n=="string"?n:""+n).replace(S1,`
`).replace(C1,"")}function Lv(n,e){return e=Fh(e),Fh(n)===e}function qr(){}function we(n,e,t,i,l,o){switch(t){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||lo(n,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&lo(n,""+i);break;case"className":oa(n,"class",i);break;case"tabIndex":oa(n,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":oa(n,t,i);break;case"style":Lg(n,i,o);break;case"data":if(e!=="object"){oa(n,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||t!=="href")){n.removeAttribute(t);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(t);break}i=Ca(""+i),n.setAttribute(t,i);break;case"action":case"formAction":if(typeof i=="function"){n.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(t==="formAction"?(e!=="input"&&we(n,e,"name",l.name,l,null),we(n,e,"formEncType",l.formEncType,l,null),we(n,e,"formMethod",l.formMethod,l,null),we(n,e,"formTarget",l.formTarget,l,null)):(we(n,e,"encType",l.encType,l,null),we(n,e,"method",l.method,l,null),we(n,e,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(t);break}i=Ca(""+i),n.setAttribute(t,i);break;case"onClick":i!=null&&(n.onclick=qr);break;case"onScroll":i!=null&&de("scroll",n);break;case"onScrollEnd":i!=null&&de("scrollend",n);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(t=i.__html,t!=null){if(l.children!=null)throw Error(N(60));n.innerHTML=t}}break;case"multiple":n.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":n.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){n.removeAttribute("xlink:href");break}t=Ca(""+i),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,""+i):n.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,""):n.removeAttribute(t);break;case"capture":case"download":i===!0?n.setAttribute(t,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,i):n.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?n.setAttribute(t,i):n.removeAttribute(t);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?n.removeAttribute(t):n.setAttribute(t,i);break;case"popover":de("beforetoggle",n),de("toggle",n),Sa(n,"popover",i);break;case"xlinkActuate":Gn(n,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Gn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Gn(n,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Gn(n,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Gn(n,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Gn(n,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Gn(n,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Gn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Gn(n,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Sa(n,"is",i);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=Wx.get(t)||t,Sa(n,t,i))}}function Ic(n,e,t,i,l,o){switch(t){case"style":Lg(n,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(N(61));if(t=i.__html,t!=null){if(l.children!=null)throw Error(N(60));n.innerHTML=t}}break;case"children":typeof i=="string"?lo(n,i):(typeof i=="number"||typeof i=="bigint")&&lo(n,""+i);break;case"onScroll":i!=null&&de("scroll",n);break;case"onScrollEnd":i!=null&&de("scrollend",n);break;case"onClick":i!=null&&(n.onclick=qr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wg.hasOwnProperty(t))e:{if(t[0]==="o"&&t[1]==="n"&&(l=t.endsWith("Capture"),e=t.slice(2,l?t.length-7:void 0),o=n[qt]||null,o=o!=null?o[t]:null,typeof o=="function"&&n.removeEventListener(e,o,l),typeof i=="function")){typeof o!="function"&&o!==null&&(t in n?n[t]=null:n.hasAttribute(t)&&n.removeAttribute(t)),n.addEventListener(e,i,l);break e}t in n?n[t]=i:i===!0?n.setAttribute(t,""):Sa(n,t,i)}}}function Ct(n,e,t){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",n),de("load",n);var i=!1,l=!1,o;for(o in t)if(t.hasOwnProperty(o)){var s=t[o];if(s!=null)switch(o){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(N(137,e));default:we(n,e,o,s,t,null)}}l&&we(n,e,"srcSet",t.srcSet,t,null),i&&we(n,e,"src",t.src,t,null);return;case"input":de("invalid",n);var u=o=s=l=null,c=null,f=null;for(i in t)if(t.hasOwnProperty(i)){var d=t[i];if(d!=null)switch(i){case"name":l=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":o=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(N(137,e));break;default:we(n,e,i,d,t,null)}}kg(n,o,u,c,f,s,l,!1),za(n);return;case"select":de("invalid",n),i=s=o=null;for(l in t)if(t.hasOwnProperty(l)&&(u=t[l],u!=null))switch(l){case"value":o=u;break;case"defaultValue":s=u;break;case"multiple":i=u;default:we(n,e,l,u,t,null)}e=o,t=s,n.multiple=!!i,e!=null?Zl(n,!!i,e,!1):t!=null&&Zl(n,!!i,t,!0);return;case"textarea":de("invalid",n),o=l=i=null;for(s in t)if(t.hasOwnProperty(s)&&(u=t[s],u!=null))switch(s){case"value":i=u;break;case"defaultValue":l=u;break;case"children":o=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(N(91));break;default:we(n,e,s,u,t,null)}Ug(n,i,l,o),za(n);return;case"option":for(c in t)if(t.hasOwnProperty(c)&&(i=t[c],i!=null))switch(c){case"selected":n.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:we(n,e,c,i,t,null)}return;case"dialog":de("beforetoggle",n),de("toggle",n),de("cancel",n),de("close",n);break;case"iframe":case"object":de("load",n);break;case"video":case"audio":for(i=0;i<_s.length;i++)de(_s[i],n);break;case"image":de("error",n),de("load",n);break;case"details":de("toggle",n);break;case"embed":case"source":case"link":de("error",n),de("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in t)if(t.hasOwnProperty(f)&&(i=t[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(N(137,e));default:we(n,e,f,i,t,null)}return;default:if(Cf(e)){for(d in t)t.hasOwnProperty(d)&&(i=t[d],i!==void 0&&Ic(n,e,d,i,t,void 0));return}}for(u in t)t.hasOwnProperty(u)&&(i=t[u],i!=null&&we(n,e,u,i,t,null))}function _1(n,e,t,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,o=null,s=null,u=null,c=null,f=null,d=null;for(m in t){var p=t[m];if(t.hasOwnProperty(m)&&p!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=p;default:i.hasOwnProperty(m)||we(n,e,m,null,i,p)}}for(var h in i){var m=i[h];if(p=t[h],i.hasOwnProperty(h)&&(m!=null||p!=null))switch(h){case"type":o=m;break;case"name":l=m;break;case"checked":f=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":u=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(N(137,e));break;default:m!==p&&we(n,e,h,m,i,p)}}ic(n,s,u,c,f,d,o,l);return;case"select":m=s=u=h=null;for(o in t)if(c=t[o],t.hasOwnProperty(o)&&c!=null)switch(o){case"value":break;case"multiple":m=c;default:i.hasOwnProperty(o)||we(n,e,o,null,i,c)}for(l in i)if(o=i[l],c=t[l],i.hasOwnProperty(l)&&(o!=null||c!=null))switch(l){case"value":h=o;break;case"defaultValue":u=o;break;case"multiple":s=o;default:o!==c&&we(n,e,l,o,i,c)}e=u,t=s,i=m,h!=null?Zl(n,!!t,h,!1):!!i!=!!t&&(e!=null?Zl(n,!!t,e,!0):Zl(n,!!t,t?[]:"",!1));return;case"textarea":m=h=null;for(u in t)if(l=t[u],t.hasOwnProperty(u)&&l!=null&&!i.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:we(n,e,u,null,i,l)}for(s in i)if(l=i[s],o=t[s],i.hasOwnProperty(s)&&(l!=null||o!=null))switch(s){case"value":h=l;break;case"defaultValue":m=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(N(91));break;default:l!==o&&we(n,e,s,l,i,o)}Ig(n,h,m);return;case"option":for(var x in t)if(h=t[x],t.hasOwnProperty(x)&&h!=null&&!i.hasOwnProperty(x))switch(x){case"selected":n.selected=!1;break;default:we(n,e,x,null,i,h)}for(c in i)if(h=i[c],m=t[c],i.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:we(n,e,c,h,i,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in t)h=t[S],t.hasOwnProperty(S)&&h!=null&&!i.hasOwnProperty(S)&&we(n,e,S,null,i,h);for(f in i)if(h=i[f],m=t[f],i.hasOwnProperty(f)&&h!==m&&(h!=null||m!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(N(137,e));break;default:we(n,e,f,h,i,m)}return;default:if(Cf(e)){for(var _ in t)h=t[_],t.hasOwnProperty(_)&&h!==void 0&&!i.hasOwnProperty(_)&&Ic(n,e,_,void 0,i,h);for(d in i)h=i[d],m=t[d],!i.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||Ic(n,e,d,h,i,m);return}}for(var y in t)h=t[y],t.hasOwnProperty(y)&&h!=null&&!i.hasOwnProperty(y)&&we(n,e,y,null,i,h);for(p in i)h=i[p],m=t[p],!i.hasOwnProperty(p)||h===m||h==null&&m==null||we(n,e,p,h,i,m)}var Uc=null,Lc=null;function ar(n){return n.nodeType===9?n:n.ownerDocument}function Yh(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ov(n,e){if(n===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&e==="foreignObject"?0:n}function Oc(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ou=null;function E1(){var n=window.event;return n&&n.type==="popstate"?n===Ou?!1:(Ou=n,!0):(Ou=null,!1)}var Vv=typeof setTimeout=="function"?setTimeout:void 0,A1=typeof clearTimeout=="function"?clearTimeout:void 0,Zh=typeof Promise=="function"?Promise:void 0,b1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zh<"u"?function(n){return Zh.resolve(null).then(n).catch(M1)}:Vv;function M1(n){setTimeout(function(){throw n})}function zi(n){return n==="head"}function Kh(n,e){var t=e,i=0,l=0;do{var o=t.nextSibling;if(n.removeChild(t),o&&o.nodeType===8)if(t=o.data,t==="/$"){if(0<i&&8>i){t=i;var s=n.ownerDocument;if(t&1&&cs(s.documentElement),t&2&&cs(s.body),t&4)for(t=s.head,cs(t),s=t.firstChild;s;){var u=s.nextSibling,c=s.nodeName;s[Os]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||t.removeChild(s),s=u}}if(l===0){n.removeChild(o),ws(e);return}l--}else t==="$"||t==="$?"||t==="$!"?l++:i=t.charCodeAt(0)-48;else i=0;t=o}while(t);ws(e)}function Vc(n){var e=n.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var t=e;switch(e=e.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":Vc(t),Sf(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}n.removeChild(t)}}function N1(n,e,t,i){for(;n.nodeType===1;){var l=t;if(n.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(i){if(!n[Os])switch(e){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(o=n.getAttribute("rel"),o==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(o!==l.rel||n.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||n.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||n.getAttribute("title")!==(l.title==null?null:l.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(o=n.getAttribute("src"),(o!==(l.src==null?null:l.src)||n.getAttribute("type")!==(l.type==null?null:l.type)||n.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&o&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(e==="input"&&n.type==="hidden"){var o=l.name==null?null:""+l.name;if(l.type==="hidden"&&n.getAttribute("name")===o)return n}else return n;if(n=vn(n.nextSibling),n===null)break}return null}function w1(n,e,t){if(e==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!t||(n=vn(n.nextSibling),n===null))return null;return n}function $c(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function R1(n,e){var t=n.ownerDocument;if(n.data!=="$?"||t.readyState==="complete")e();else{var i=function(){e(),t.removeEventListener("DOMContentLoaded",i)};t.addEventListener("DOMContentLoaded",i),n._reactRetry=i}}function vn(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return n}var Bc=null;function Jh(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}function $v(n,e,t){switch(e=ar(t),n){case"html":if(n=e.documentElement,!n)throw Error(N(452));return n;case"head":if(n=e.head,!n)throw Error(N(453));return n;case"body":if(n=e.body,!n)throw Error(N(454));return n;default:throw Error(N(451))}}function cs(n){for(var e=n.attributes;e.length;)n.removeAttributeNode(e[0]);Sf(n)}var hn=new Map,Xh=new Set;function rr(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var si=Ee.d;Ee.d={f:D1,r:k1,D:I1,C:U1,L:L1,m:O1,X:$1,S:V1,M:B1};function D1(){var n=si.f(),e=Pr();return n||e}function k1(n){var e=Co(n);e!==null&&e.tag===5&&e.type==="form"?Dy(e):si.r(n)}var Ao=typeof document>"u"?null:document;function Bv(n,e,t){var i=Ao;if(i&&typeof e=="string"&&e){var l=un(e);l='link[rel="'+n+'"][href="'+l+'"]',typeof t=="string"&&(l+='[crossorigin="'+t+'"]'),Xh.has(l)||(Xh.add(l),n={rel:n,crossOrigin:t,href:e},i.querySelector(l)===null&&(e=i.createElement("link"),Ct(e,"link",n),gt(e),i.head.appendChild(e)))}}function I1(n){si.D(n),Bv("dns-prefetch",n,null)}function U1(n,e){si.C(n,e),Bv("preconnect",n,e)}function L1(n,e,t){si.L(n,e,t);var i=Ao;if(i&&n&&e){var l='link[rel="preload"][as="'+un(e)+'"]';e==="image"&&t&&t.imageSrcSet?(l+='[imagesrcset="'+un(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(l+='[imagesizes="'+un(t.imageSizes)+'"]')):l+='[href="'+un(n)+'"]';var o=l;switch(e){case"style":o=ho(n);break;case"script":o=bo(n)}hn.has(o)||(n=Ge({rel:"preload",href:e==="image"&&t&&t.imageSrcSet?void 0:n,as:e},t),hn.set(o,n),i.querySelector(l)!==null||e==="style"&&i.querySelector(Ys(o))||e==="script"&&i.querySelector(Zs(o))||(e=i.createElement("link"),Ct(e,"link",n),gt(e),i.head.appendChild(e)))}}function O1(n,e){si.m(n,e);var t=Ao;if(t&&n){var i=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+un(i)+'"][href="'+un(n)+'"]',o=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=bo(n)}if(!hn.has(o)&&(n=Ge({rel:"modulepreload",href:n},e),hn.set(o,n),t.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(Zs(o)))return}i=t.createElement("link"),Ct(i,"link",n),gt(i),t.head.appendChild(i)}}}function V1(n,e,t){si.S(n,e,t);var i=Ao;if(i&&n){var l=Yl(i).hoistableStyles,o=ho(n);e=e||"default";var s=l.get(o);if(!s){var u={loading:0,preload:null};if(s=i.querySelector(Ys(o)))u.loading=5;else{n=Ge({rel:"stylesheet",href:n,"data-precedence":e},t),(t=hn.get(o))&&ld(n,t);var c=s=i.createElement("link");gt(c),Ct(c,"link",n),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){u.loading|=1}),c.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Da(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:u},l.set(o,s)}}}function $1(n,e){si.X(n,e);var t=Ao;if(t&&n){var i=Yl(t).hoistableScripts,l=bo(n),o=i.get(l);o||(o=t.querySelector(Zs(l)),o||(n=Ge({src:n,async:!0},e),(e=hn.get(l))&&od(n,e),o=t.createElement("script"),gt(o),Ct(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function B1(n,e){si.M(n,e);var t=Ao;if(t&&n){var i=Yl(t).hoistableScripts,l=bo(n),o=i.get(l);o||(o=t.querySelector(Zs(l)),o||(n=Ge({src:n,async:!0,type:"module"},e),(e=hn.get(l))&&od(n,e),o=t.createElement("script"),gt(o),Ct(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function Qh(n,e,t,i){var l=(l=Mi.current)?rr(l):null;if(!l)throw Error(N(446));switch(n){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(e=ho(t.href),t=Yl(l).hoistableStyles,i=t.get(e),i||(i={type:"style",instance:null,count:0,state:null},t.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){n=ho(t.href);var o=Yl(l).hoistableStyles,s=o.get(n);if(s||(l=l.ownerDocument||l,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(n,s),(o=l.querySelector(Ys(n)))&&!o._p&&(s.instance=o,s.state.loading=5),hn.has(n)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},hn.set(n,t),o||P1(l,n,t,s.state))),e&&i===null)throw Error(N(528,""));return s}if(e&&i!==null)throw Error(N(529,""));return null;case"script":return e=t.async,t=t.src,typeof t=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=bo(t),t=Yl(l).hoistableScripts,i=t.get(e),i||(i={type:"script",instance:null,count:0,state:null},t.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(N(444,n))}}function ho(n){return'href="'+un(n)+'"'}function Ys(n){return'link[rel="stylesheet"]['+n+"]"}function Pv(n){return Ge({},n,{"data-precedence":n.precedence,precedence:null})}function P1(n,e,t,i){n.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=n.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Ct(e,"link",t),gt(e),n.head.appendChild(e))}function bo(n){return'[src="'+un(n)+'"]'}function Zs(n){return"script[async]"+n}function Wh(n,e,t){if(e.count++,e.instance===null)switch(e.type){case"style":var i=n.querySelector('style[data-href~="'+un(t.href)+'"]');if(i)return e.instance=i,gt(i),i;var l=Ge({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return i=(n.ownerDocument||n).createElement("style"),gt(i),Ct(i,"style",l),Da(i,t.precedence,n),e.instance=i;case"stylesheet":l=ho(t.href);var o=n.querySelector(Ys(l));if(o)return e.state.loading|=4,e.instance=o,gt(o),o;i=Pv(t),(l=hn.get(l))&&ld(i,l),o=(n.ownerDocument||n).createElement("link"),gt(o);var s=o;return s._p=new Promise(function(u,c){s.onload=u,s.onerror=c}),Ct(o,"link",i),e.state.loading|=4,Da(o,t.precedence,n),e.instance=o;case"script":return o=bo(t.src),(l=n.querySelector(Zs(o)))?(e.instance=l,gt(l),l):(i=t,(l=hn.get(o))&&(i=Ge({},t),od(i,l)),n=n.ownerDocument||n,l=n.createElement("script"),gt(l),Ct(l,"link",i),n.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(N(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Da(i,t.precedence,n));return e.instance}function Da(n,e,t){for(var i=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,o=l,s=0;s<i.length;s++){var u=i[s];if(u.dataset.precedence===e)o=u;else if(o!==l)break}o?o.parentNode.insertBefore(n,o.nextSibling):(e=t.nodeType===9?t.head:t,e.insertBefore(n,e.firstChild))}function ld(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.title==null&&(n.title=e.title)}function od(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.integrity==null&&(n.integrity=e.integrity)}var ka=null;function jh(n,e,t){if(ka===null){var i=new Map,l=ka=new Map;l.set(t,i)}else l=ka,i=l.get(t),i||(i=new Map,l.set(t,i));if(i.has(n))return i;for(i.set(n,null),t=t.getElementsByTagName(n),l=0;l<t.length;l++){var o=t[l];if(!(o[Os]||o[Mt]||n==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var s=o.getAttribute(e)||"";s=n+s;var u=i.get(s);u?u.push(o):i.set(s,[o])}}return i}function ep(n,e,t){n=n.ownerDocument||n,n.head.insertBefore(t,e==="title"?n.querySelector("head > title"):null)}function z1(n,e,t){if(t===1||e.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return n=e.disabled,typeof e.precedence=="string"&&n==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function zv(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var As=null;function G1(){}function q1(n,e,t){if(As===null)throw Error(N(475));var i=As;if(e.type==="stylesheet"&&(typeof t.media!="string"||matchMedia(t.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var l=ho(t.href),o=n.querySelector(Ys(l));if(o){n=o._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(i.count++,i=ur.bind(i),n.then(i,i)),e.state.loading|=4,e.instance=o,gt(o);return}o=n.ownerDocument||n,t=Pv(t),(l=hn.get(l))&&ld(t,l),o=o.createElement("link"),gt(o);var s=o;s._p=new Promise(function(u,c){s.onload=u,s.onerror=c}),Ct(o,"link",t),e.instance=o}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,n),(n=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=ur.bind(i),n.addEventListener("load",e),n.addEventListener("error",e))}}function H1(){if(As===null)throw Error(N(475));var n=As;return n.stylesheets&&n.count===0&&Pc(n,n.stylesheets),0<n.count?function(e){var t=setTimeout(function(){if(n.stylesheets&&Pc(n,n.stylesheets),n.unsuspend){var i=n.unsuspend;n.unsuspend=null,i()}},6e4);return n.unsuspend=e,function(){n.unsuspend=null,clearTimeout(t)}}:null}function ur(){if(this.count--,this.count===0){if(this.stylesheets)Pc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var cr=null;function Pc(n,e){n.stylesheets=null,n.unsuspend!==null&&(n.count++,cr=new Map,e.forEach(F1,n),cr=null,ur.call(n))}function F1(n,e){if(!(e.state.loading&4)){var t=cr.get(n);if(t)var i=t.get(null);else{t=new Map,cr.set(n,t);for(var l=n.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<l.length;o++){var s=l[o];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(t.set(s.dataset.precedence,s),i=s)}i&&t.set(null,i)}l=e.instance,s=l.getAttribute("data-precedence"),o=t.get(s)||i,o===i&&t.set(null,l),t.set(s,l),this.count++,i=ur.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),o?o.parentNode.insertBefore(l,o.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(l,n.firstChild)),e.state.loading|=4}}var bs={$$typeof:Yn,Provider:null,Consumer:null,_currentValue:ji,_currentValue2:ji,_threadCount:0};function Y1(n,e,t,i,l,o,s,u){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lu(0),this.hiddenUpdates=lu(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Gv(n,e,t,i,l,o,s,u,c,f,d,p){return n=new Y1(n,e,t,s,u,c,f,p),e=1,o===!0&&(e|=24),o=Jt(3,null,null,e),n.current=o,o.stateNode=n,e=If(),e.refCount++,n.pooledCache=e,e.refCount++,o.memoizedState={element:i,isDehydrated:t,cache:e},Lf(o),n}function qv(n){return n?(n=Bl,n):Bl}function Hv(n,e,t,i,l,o){l=qv(l),i.context===null?i.context=l:i.pendingContext=l,i=Ni(e),i.payload={element:t},o=o===void 0?null:o,o!==null&&(i.callback=o),t=wi(n,i,e),t!==null&&(jt(t,n,e),ns(t,n,e))}function tp(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function sd(n,e){tp(n,e),(n=n.alternate)&&tp(n,e)}function Fv(n){if(n.tag===13){var e=_o(n,67108864);e!==null&&jt(e,n,67108864),sd(n,67108864)}}var fr=!0;function Z1(n,e,t,i){var l=Q.T;Q.T=null;var o=Ee.p;try{Ee.p=2,ad(n,e,t,i)}finally{Ee.p=o,Q.T=l}}function K1(n,e,t,i){var l=Q.T;Q.T=null;var o=Ee.p;try{Ee.p=8,ad(n,e,t,i)}finally{Ee.p=o,Q.T=l}}function ad(n,e,t,i){if(fr){var l=zc(i);if(l===null)Lu(n,e,i,dr,t),np(n,i);else if(X1(l,n,e,t,i))i.stopPropagation();else if(np(n,i),e&4&&-1<J1.indexOf(n)){for(;l!==null;){var o=Co(l);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var s=Ji(o.pendingLanes);if(s!==0){var u=o;for(u.pendingLanes|=2,u.entangledLanes|=2;s;){var c=1<<31-Qt(s);u.entanglements[1]|=c,s&=~c}$n(o),!(Ne&6)&&(nr=In()+500,Fs(0))}}break;case 13:u=_o(o,2),u!==null&&jt(u,o,2),Pr(),sd(o,2)}if(o=zc(i),o===null&&Lu(n,e,i,dr,t),o===l)break;l=o}l!==null&&i.stopPropagation()}else Lu(n,e,i,null,t)}}function zc(n){return n=_f(n),rd(n)}var dr=null;function rd(n){if(dr=null,n=Il(n),n!==null){var e=ks(n);if(e===null)n=null;else{var t=e.tag;if(t===13){if(n=gg(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null)}}return dr=n,null}function Yv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ux()){case Tg:return 2;case Sg:return 8;case Pa:case Lx:return 32;case Cg:return 268435456;default:return 32}default:return 32}}var Gc=!1,ki=null,Ii=null,Ui=null,Ms=new Map,Ns=new Map,Ci=[],J1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function np(n,e){switch(n){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Ms.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(e.pointerId)}}function Po(n,e,t,i,l,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:o,targetContainers:[l]},e!==null&&(e=Co(e),e!==null&&Fv(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),n)}function X1(n,e,t,i,l){switch(e){case"focusin":return ki=Po(ki,n,e,t,i,l),!0;case"dragenter":return Ii=Po(Ii,n,e,t,i,l),!0;case"mouseover":return Ui=Po(Ui,n,e,t,i,l),!0;case"pointerover":var o=l.pointerId;return Ms.set(o,Po(Ms.get(o)||null,n,e,t,i,l)),!0;case"gotpointercapture":return o=l.pointerId,Ns.set(o,Po(Ns.get(o)||null,n,e,t,i,l)),!0}return!1}function Zv(n){var e=Il(n.target);if(e!==null){var t=ks(e);if(t!==null){if(e=t.tag,e===13){if(e=gg(t),e!==null){n.blockedOn=e,qx(n.priority,function(){if(t.tag===13){var i=Wt();i=xf(i);var l=_o(t,i);l!==null&&jt(l,t,i),sd(t,i)}});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ia(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=zc(n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);oc=i,t.target.dispatchEvent(i),oc=null}else return e=Co(t),e!==null&&Fv(e),n.blockedOn=t,!1;e.shift()}return!0}function ip(n,e,t){Ia(n)&&t.delete(e)}function Q1(){Gc=!1,ki!==null&&Ia(ki)&&(ki=null),Ii!==null&&Ia(Ii)&&(Ii=null),Ui!==null&&Ia(Ui)&&(Ui=null),Ms.forEach(ip),Ns.forEach(ip)}function ha(n,e){n.blockedOn===e&&(n.blockedOn=null,Gc||(Gc=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,Q1)))}var pa=null;function lp(n){pa!==n&&(pa=n,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,function(){pa===n&&(pa=null);for(var e=0;e<n.length;e+=3){var t=n[e],i=n[e+1],l=n[e+2];if(typeof i!="function"){if(rd(i||t)===null)continue;break}var o=Co(t);o!==null&&(n.splice(e,3),e-=3,Sc(o,{pending:!0,data:l,method:t.method,action:i},i,l))}}))}function ws(n){function e(c){return ha(c,n)}ki!==null&&ha(ki,n),Ii!==null&&ha(Ii,n),Ui!==null&&ha(Ui,n),Ms.forEach(e),Ns.forEach(e);for(var t=0;t<Ci.length;t++){var i=Ci[t];i.blockedOn===n&&(i.blockedOn=null)}for(;0<Ci.length&&(t=Ci[0],t.blockedOn===null);)Zv(t),t.blockedOn===null&&Ci.shift();if(t=(n.ownerDocument||n).$$reactFormReplay,t!=null)for(i=0;i<t.length;i+=3){var l=t[i],o=t[i+1],s=l[qt]||null;if(typeof o=="function")s||lp(t);else if(s){var u=null;if(o&&o.hasAttribute("formAction")){if(l=o,s=o[qt]||null)u=s.formAction;else if(rd(l)!==null)continue}else u=s.action;typeof u=="function"?t[i+1]=u:(t.splice(i,3),i-=3),lp(t)}}}function ud(n){this._internalRoot=n}Hr.prototype.render=ud.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(N(409));var t=e.current,i=Wt();Hv(t,i,n,e,null,null)};Hr.prototype.unmount=ud.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Hv(n.current,2,null,n,null,null),Pr(),e[So]=null}};function Hr(n){this._internalRoot=n}Hr.prototype.unstable_scheduleHydration=function(n){if(n){var e=Mg();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ci.length&&e!==0&&e<Ci[t].priority;t++);Ci.splice(t,0,n),t===0&&Zv(n)}};var op=pg.version;if(op!=="19.1.0")throw Error(N(527,op,"19.1.0"));Ee.findDOMNode=function(n){var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(N(188)):(n=Object.keys(n).join(","),Error(N(268,n)));return n=Mx(e),n=n!==null?yg(n):null,n=n===null?null:n.stateNode,n};var W1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{Is=ma.inject(W1),Xt=ma}catch{}}Nr.createRoot=function(n,e){if(!mg(n))throw Error(N(299));var t=!1,i="",l=Gy,o=qy,s=Hy,u=null;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(u=e.unstable_transitionCallbacks)),e=Gv(n,1,!1,null,null,t,i,l,o,s,u,null),n[So]=e.current,id(n),new ud(e)};Nr.hydrateRoot=function(n,e,t){if(!mg(n))throw Error(N(299));var i=!1,l="",o=Gy,s=qy,u=Hy,c=null,f=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(c=t.unstable_transitionCallbacks),t.formState!==void 0&&(f=t.formState)),e=Gv(n,1,!0,e,t??null,i,l,o,s,u,c,f),e.context=qv(null),t=e.current,i=Wt(),i=xf(i),l=Ni(i),l.callback=null,wi(t,l,i),t=i,e.current.lanes=t,Ls(e,t),$n(e),n[So]=e.current,id(n),new Hr(e)};Nr.version="19.1.0";function Kv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kv)}catch(n){console.error(n)}}Kv(),rg.exports=Nr;var j1=rg.exports;const eS=Wm(j1),Vu=["1","2","3","4","5","6","7","8","9","10","11","12"],Jv=["","","","","","",""],bt=["","","","","","","","","","","","",""],Qn="",Mo="smartcalendar:userEvents",Fr="smartcalendar:builtinEventOverrides",hr="smartcalendar:userEventsUpdated",qc="smartcalendar:builtinEventOverridesUpdated",sp=2029,Xv=A.createContext(void 0),ap="smartcalendar:theme",tS={mainBg:"bg-main",headerBg:"bg-secondary",componentBg:"bg-secondary",inputBg:"bg-tertiary",border:"border-border-primary",textPrimary:"text-text-primary",textSecondary:"text-text-secondary",accentColor:"text-accent-text",accentBg:"bg-accent-primary",activeTabBg:"bg-accent-primary",buttonBg:"bg-tertiary",buttonText:"text-white",hoverEffect:"hover:bg-tertiary/60",eventUserBg:"bg-accent-primary/20",eventBuiltinBg:"bg-tertiary/60",eventBuiltinBorder:"border-border-secondary",placeholderColor:"placeholder:text-text-tertiary",scrollbarThumb:""},nS=({children:n})=>{const[e,t]=A.useState(()=>{const l=(localStorage.getItem(ap)??"").trim();return l==="light"||l==="beige"||l==="dark"?l:"beige"});A.useEffect(()=>{localStorage.setItem(ap,e),document.documentElement.setAttribute("data-theme",e)},[e]),A.useEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[]);const i=A.useMemo(()=>({theme:e,setTheme:t,colors:tS}),[e]);return g.jsx(Xv.Provider,{value:i,children:n})},Gi=()=>{const n=A.useContext(Xv);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},$u=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},iS=({currentDate:n,events:e,onEventClick:t,onDateClick:i,onDragStart:l,onDragEnd:o,onDrop:s})=>{const{colors:u}=Gi(),c=new Date(n),f=c.getDay();c.setDate(n.getDate()-f);const d=Array.from({length:7},(h,m)=>{const x=new Date(c);return x.setDate(c.getDate()+m),x}),p=$u(new Date);return g.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[g.jsx("div",{className:`grid grid-cols-7 border-b ${u.border} ${u.componentBg}/80 flex-shrink-0`,children:d.map((h,m)=>{const x=$u(h),S=x===p;return g.jsxs("div",{className:`p-3 text-center border-r ${u.border} last:border-r-0 ${S?`${u.accentBg}/20`:""}`,children:[g.jsx("div",{className:`text-xs ${u.textSecondary} font-medium mb-1`,children:Jv[m]}),g.jsx("div",{className:`text-lg font-bold ${S?u.accentColor:u.textPrimary}`,children:h.getDate()})]},x)})}),g.jsx("div",{className:"flex-grow grid grid-cols-7 min-h-0 overflow-hidden",children:d.map(h=>{const m=$u(h),x=e.filter(_=>_.date===m),S=m===p;return g.jsx("div",{className:`border-r ${u.border} last:border-r-0 p-2 overflow-y-auto scrollbar-thin ${u.hoverEffect} transition-colors h-full ${S?`${u.accentBg}/10`:""}`,onClick:()=>i(m),onDragOver:_=>{_.preventDefault(),_.dataTransfer.dropEffect="move"},onDrop:_=>s&&s(_,m),children:g.jsx("div",{className:"space-y-2",children:x.map(_=>g.jsx("div",{"data-tour":"calendar-event",draggable:!!l,onDragStart:y=>l==null?void 0:l(y,_.id),onDragEnd:o,className:`px-2 py-1.5 rounded-md text-sm cursor-grab active:cursor-grabbing shadow-sm border transition-shadow truncate font-medium ${_.kind==="user"?"bg-accent-primary text-white border-transparent hover:opacity-90":"bg-tertiary text-text-primary border-transparent hover:opacity-90"}`,onClick:y=>{y.stopPropagation(),t(_)},title:_.title,children:g.jsx("div",{className:"font-medium truncate",children:_.title})},_.id))})},m)})})]})};var Te;(function(n){n.assertEqual=l=>{};function e(l){}n.assertIs=e;function t(l){throw new Error}n.assertNever=t,n.arrayToEnum=l=>{const o={};for(const s of l)o[s]=s;return o},n.getValidEnumValues=l=>{const o=n.objectKeys(l).filter(u=>typeof l[l[u]]!="number"),s={};for(const u of o)s[u]=l[u];return n.objectValues(s)},n.objectValues=l=>n.objectKeys(l).map(function(o){return l[o]}),n.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const o=[];for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&o.push(s);return o},n.find=(l,o)=>{for(const s of l)if(o(s))return s},n.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function i(l,o=" | "){return l.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}n.joinValues=i,n.jsonStringifyReplacer=(l,o)=>typeof o=="bigint"?o.toString():o})(Te||(Te={}));var rp;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(rp||(rp={}));const G=Te.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vi=n=>{switch(typeof n){case"undefined":return G.undefined;case"string":return G.string;case"number":return Number.isNaN(n)?G.nan:G.number;case"boolean":return G.boolean;case"function":return G.function;case"bigint":return G.bigint;case"symbol":return G.symbol;case"object":return Array.isArray(n)?G.array:n===null?G.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?G.promise:typeof Map<"u"&&n instanceof Map?G.map:typeof Set<"u"&&n instanceof Set?G.set:typeof Date<"u"&&n instanceof Date?G.date:G.object;default:return G.unknown}},k=Te.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class li extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},i={_errors:[]},l=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(l);else if(s.code==="invalid_return_type")l(s.returnTypeError);else if(s.code==="invalid_arguments")l(s.argumentsError);else if(s.path.length===0)i._errors.push(t(s));else{let u=i,c=0;for(;c<s.path.length;){const f=s.path[c];c===s.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(t(s))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return l(this),i}static assert(e){if(!(e instanceof li))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Te.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const l of this.issues)l.path.length>0?(t[l.path[0]]=t[l.path[0]]||[],t[l.path[0]].push(e(l))):i.push(e(l));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}li.create=n=>new li(n);const Hc=(n,e)=>{let t;switch(n.code){case k.invalid_type:n.received===G.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case k.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Te.jsonStringifyReplacer)}`;break;case k.unrecognized_keys:t=`Unrecognized key(s) in object: ${Te.joinValues(n.keys,", ")}`;break;case k.invalid_union:t="Invalid input";break;case k.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Te.joinValues(n.options)}`;break;case k.invalid_enum_value:t=`Invalid enum value. Expected ${Te.joinValues(n.options)}, received '${n.received}'`;break;case k.invalid_arguments:t="Invalid function arguments";break;case k.invalid_return_type:t="Invalid function return type";break;case k.invalid_date:t="Invalid date";break;case k.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Te.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case k.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case k.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case k.custom:t="Invalid input";break;case k.invalid_intersection_types:t="Intersection results could not be merged";break;case k.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case k.not_finite:t="Number must be finite";break;default:t=e.defaultError,Te.assertNever(n)}return{message:t}};let lS=Hc;function oS(){return lS}const sS=n=>{const{data:e,path:t,errorMaps:i,issueData:l}=n,o=[...t,...l.path||[]],s={...l,path:o};if(l.message!==void 0)return{...l,path:o,message:l.message};let u="";const c=i.filter(f=>!!f).slice().reverse();for(const f of c)u=f(s,{data:e,defaultError:u}).message;return{...l,path:o,message:u}};function B(n,e){const t=oS(),i=sS({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Hc?void 0:Hc].filter(l=>!!l)});n.common.issues.push(i)}class Ot{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const l of t){if(l.status==="aborted")return ne;l.status==="dirty"&&e.dirty(),i.push(l.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const l of t){const o=await l.key,s=await l.value;i.push({key:o,value:s})}return Ot.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const l of t){const{key:o,value:s}=l;if(o.status==="aborted"||s.status==="aborted")return ne;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||l.alwaysSet)&&(i[o.value]=s.value)}return{status:e.value,value:i}}}const ne=Object.freeze({status:"aborted"}),Ko=n=>({status:"dirty",value:n}),pn=n=>({status:"valid",value:n}),up=n=>n.status==="aborted",cp=n=>n.status==="dirty",po=n=>n.status==="valid",pr=n=>typeof Promise<"u"&&n instanceof Promise;var q;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(q||(q={}));class On{constructor(e,t,i,l){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fp=(n,e)=>{if(po(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new li(n.common.issues);return this._error=t,this._error}}};function ae(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:l}=n;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:(s,u)=>{const{message:c}=n;return s.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??i??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:c??t??u.defaultError}},description:l}}class ge{get description(){return this._def.description}_getType(e){return vi(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:vi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ot,ctx:{common:e.parent.common,data:e.data,parsedType:vi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(pr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vi(e)},l=this._parseSync({data:e,path:i.path,parent:i});return fp(i,l)}"~validate"(e){var i,l;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vi(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:t});return po(o)?{value:o.value}:{issues:t.common.issues}}catch(o){(l=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(o=>po(o)?{value:o.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vi(e)},l=this._parse({data:e,path:i.path,parent:i}),o=await(pr(l)?l:Promise.resolve(l));return fp(i,o)}refine(e,t){const i=l=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(l):t;return this._refinement((l,o)=>{const s=e(l),u=()=>o.addIssue({code:k.custom,...i(l)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(e,t){return this._refinement((i,l)=>e(i)?!0:(l.addIssue(typeof t=="function"?t(i,l):t),!1))}_refinement(e){return new yo({schema:this,typeName:te.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Li.create(this,this._def)}nullable(){return vo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ln.create(this)}promise(){return xr.create(this,this._def)}or(e){return gr.create([this,e],this._def)}and(e){return yr.create(this,e,this._def)}transform(e){return new yo({...ae(this._def),schema:this,typeName:te.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Kc({...ae(this._def),innerType:this,defaultValue:t,typeName:te.ZodDefault})}brand(){return new wS({typeName:te.ZodBranded,type:this,...ae(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Jc({...ae(this._def),innerType:this,catchValue:t,typeName:te.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return cd.create(this,e)}readonly(){return Xc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const aS=/^c[^\s-]{8,}$/i,rS=/^[0-9a-z]+$/,uS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fS=/^[a-z0-9_-]{21}$/i,dS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,hS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,pS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,mS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Bu;const gS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,vS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,xS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,TS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,SS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Qv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",CS=new RegExp(`^${Qv}$`);function Wv(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function _S(n){return new RegExp(`^${Wv(n)}$`)}function ES(n){let e=`${Qv}T${Wv(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function AS(n,e){return!!((e==="v4"||!e)&&gS.test(n)||(e==="v6"||!e)&&vS.test(n))}function bS(n,e){if(!dS.test(n))return!1;try{const[t]=n.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),l=JSON.parse(atob(i));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||e&&l.alg!==e)}catch{return!1}}function MS(n,e){return!!((e==="v4"||!e)&&yS.test(n)||(e==="v6"||!e)&&xS.test(n))}class Nn extends ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==G.string){const o=this._getOrReturnCtx(e);return B(o,{code:k.invalid_type,expected:G.string,received:o.parsedType}),ne}const i=new Ot;let l;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(l=this._getOrReturnCtx(e,l),B(l,{code:k.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(l=this._getOrReturnCtx(e,l),B(l,{code:k.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,u=e.data.length<o.value;(s||u)&&(l=this._getOrReturnCtx(e,l),s?B(l,{code:k.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&B(l,{code:k.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")pS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"email",code:k.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")Bu||(Bu=new RegExp(mS,"u")),Bu.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"emoji",code:k.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")cS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"uuid",code:k.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")fS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"nanoid",code:k.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")aS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"cuid",code:k.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")rS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"cuid2",code:k.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")uS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"ulid",code:k.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),B(l,{validation:"url",code:k.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"regex",code:k.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(l=this._getOrReturnCtx(e,l),B(l,{code:k.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(l=this._getOrReturnCtx(e,l),B(l,{code:k.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(l=this._getOrReturnCtx(e,l),B(l,{code:k.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?ES(o).test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{code:k.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?CS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{code:k.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?_S(o).test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{code:k.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?hS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"duration",code:k.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?AS(e.data,o.version)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"ip",code:k.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?bS(e.data,o.alg)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"jwt",code:k.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?MS(e.data,o.version)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"cidr",code:k.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?TS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"base64",code:k.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?SS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"base64url",code:k.invalid_string,message:o.message}),i.dirty()):Te.assertNever(o);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(l=>e.test(l),{validation:t,code:k.invalid_string,...q.errToObj(i)})}_addCheck(e){return new Nn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...q.errToObj(e)})}url(e){return this._addCheck({kind:"url",...q.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...q.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...q.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...q.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...q.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...q.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...q.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...q.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...q.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...q.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...q.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...q.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...q.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...q.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...q.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...q.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...q.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...q.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...q.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...q.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...q.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...q.errToObj(t)})}nonempty(e){return this.min(1,q.errToObj(e))}trim(){return new Nn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Nn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Nn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Nn.create=n=>new Nn({checks:[],typeName:te.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...ae(n)});function NS(n,e){const t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,l=t>i?t:i,o=Number.parseInt(n.toFixed(l).replace(".","")),s=Number.parseInt(e.toFixed(l).replace(".",""));return o%s/10**l}class cl extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==G.number){const o=this._getOrReturnCtx(e);return B(o,{code:k.invalid_type,expected:G.number,received:o.parsedType}),ne}let i;const l=new Ot;for(const o of this._def.checks)o.kind==="int"?Te.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{code:k.invalid_type,expected:"integer",received:"float",message:o.message}),l.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),B(i,{code:k.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),B(i,{code:k.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="multipleOf"?NS(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),B(i,{code:k.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{code:k.not_finite,message:o.message}),l.dirty()):Te.assertNever(o);return{status:l.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,q.toString(t))}gt(e,t){return this.setLimit("min",e,!1,q.toString(t))}lte(e,t){return this.setLimit("max",e,!0,q.toString(t))}lt(e,t){return this.setLimit("max",e,!1,q.toString(t))}setLimit(e,t,i,l){return new cl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:q.toString(l)}]})}_addCheck(e){return new cl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:q.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:q.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:q.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:q.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:q.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:q.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Te.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}cl.create=n=>new cl({checks:[],typeName:te.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ae(n)});class fl extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==G.bigint)return this._getInvalidInput(e);let i;const l=new Ot;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),B(i,{code:k.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),B(i,{code:k.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),B(i,{code:k.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):Te.assertNever(o);return{status:l.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return B(t,{code:k.invalid_type,expected:G.bigint,received:t.parsedType}),ne}gte(e,t){return this.setLimit("min",e,!0,q.toString(t))}gt(e,t){return this.setLimit("min",e,!1,q.toString(t))}lte(e,t){return this.setLimit("max",e,!0,q.toString(t))}lt(e,t){return this.setLimit("max",e,!1,q.toString(t))}setLimit(e,t,i,l){return new fl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:q.toString(l)}]})}_addCheck(e){return new fl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:q.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:q.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:q.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:q.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:q.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}fl.create=n=>new fl({checks:[],typeName:te.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...ae(n)});class mr extends ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==G.boolean){const i=this._getOrReturnCtx(e);return B(i,{code:k.invalid_type,expected:G.boolean,received:i.parsedType}),ne}return pn(e.data)}}mr.create=n=>new mr({typeName:te.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ae(n)});class mo extends ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==G.date){const o=this._getOrReturnCtx(e);return B(o,{code:k.invalid_type,expected:G.date,received:o.parsedType}),ne}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return B(o,{code:k.invalid_date}),ne}const i=new Ot;let l;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(l=this._getOrReturnCtx(e,l),B(l,{code:k.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(l=this._getOrReturnCtx(e,l),B(l,{code:k.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):Te.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new mo({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:q.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:q.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}mo.create=n=>new mo({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:te.ZodDate,...ae(n)});class dp extends ge{_parse(e){if(this._getType(e)!==G.symbol){const i=this._getOrReturnCtx(e);return B(i,{code:k.invalid_type,expected:G.symbol,received:i.parsedType}),ne}return pn(e.data)}}dp.create=n=>new dp({typeName:te.ZodSymbol,...ae(n)});class hp extends ge{_parse(e){if(this._getType(e)!==G.undefined){const i=this._getOrReturnCtx(e);return B(i,{code:k.invalid_type,expected:G.undefined,received:i.parsedType}),ne}return pn(e.data)}}hp.create=n=>new hp({typeName:te.ZodUndefined,...ae(n)});class pp extends ge{_parse(e){if(this._getType(e)!==G.null){const i=this._getOrReturnCtx(e);return B(i,{code:k.invalid_type,expected:G.null,received:i.parsedType}),ne}return pn(e.data)}}pp.create=n=>new pp({typeName:te.ZodNull,...ae(n)});class mp extends ge{constructor(){super(...arguments),this._any=!0}_parse(e){return pn(e.data)}}mp.create=n=>new mp({typeName:te.ZodAny,...ae(n)});class Fc extends ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pn(e.data)}}Fc.create=n=>new Fc({typeName:te.ZodUnknown,...ae(n)});class Bi extends ge{_parse(e){const t=this._getOrReturnCtx(e);return B(t,{code:k.invalid_type,expected:G.never,received:t.parsedType}),ne}}Bi.create=n=>new Bi({typeName:te.ZodNever,...ae(n)});class gp extends ge{_parse(e){if(this._getType(e)!==G.undefined){const i=this._getOrReturnCtx(e);return B(i,{code:k.invalid_type,expected:G.void,received:i.parsedType}),ne}return pn(e.data)}}gp.create=n=>new gp({typeName:te.ZodVoid,...ae(n)});class Ln extends ge{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),l=this._def;if(t.parsedType!==G.array)return B(t,{code:k.invalid_type,expected:G.array,received:t.parsedType}),ne;if(l.exactLength!==null){const s=t.data.length>l.exactLength.value,u=t.data.length<l.exactLength.value;(s||u)&&(B(t,{code:s?k.too_big:k.too_small,minimum:u?l.exactLength.value:void 0,maximum:s?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),i.dirty())}if(l.minLength!==null&&t.data.length<l.minLength.value&&(B(t,{code:k.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),i.dirty()),l.maxLength!==null&&t.data.length>l.maxLength.value&&(B(t,{code:k.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((s,u)=>l.type._parseAsync(new On(t,s,t.path,u)))).then(s=>Ot.mergeArray(i,s));const o=[...t.data].map((s,u)=>l.type._parseSync(new On(t,s,t.path,u)));return Ot.mergeArray(i,o)}get element(){return this._def.type}min(e,t){return new Ln({...this._def,minLength:{value:e,message:q.toString(t)}})}max(e,t){return new Ln({...this._def,maxLength:{value:e,message:q.toString(t)}})}length(e,t){return new Ln({...this._def,exactLength:{value:e,message:q.toString(t)}})}nonempty(e){return this.min(1,e)}}Ln.create=(n,e)=>new Ln({type:n,minLength:null,maxLength:null,exactLength:null,typeName:te.ZodArray,...ae(e)});function Rl(n){if(n instanceof st){const e={};for(const t in n.shape){const i=n.shape[t];e[t]=Li.create(Rl(i))}return new st({...n._def,shape:()=>e})}else return n instanceof Ln?new Ln({...n._def,type:Rl(n.element)}):n instanceof Li?Li.create(Rl(n.unwrap())):n instanceof vo?vo.create(Rl(n.unwrap())):n instanceof dl?dl.create(n.items.map(e=>Rl(e))):n}class st extends ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Te.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==G.object){const f=this._getOrReturnCtx(e);return B(f,{code:k.invalid_type,expected:G.object,received:f.parsedType}),ne}const{status:i,ctx:l}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof Bi&&this._def.unknownKeys==="strip"))for(const f in l.data)s.includes(f)||u.push(f);const c=[];for(const f of s){const d=o[f],p=l.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new On(l,p,l.path,f)),alwaysSet:f in l.data})}if(this._def.catchall instanceof Bi){const f=this._def.unknownKeys;if(f==="passthrough")for(const d of u)c.push({key:{status:"valid",value:d},value:{status:"valid",value:l.data[d]}});else if(f==="strict")u.length>0&&(B(l,{code:k.unrecognized_keys,keys:u}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const d of u){const p=l.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new On(l,p,l.path,d)),alwaysSet:d in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const f=[];for(const d of c){const p=await d.key,h=await d.value;f.push({key:p,value:h,alwaysSet:d.alwaysSet})}return f}).then(f=>Ot.mergeObjectSync(i,f)):Ot.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return q.errToObj,new st({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var o,s;const l=((s=(o=this._def).errorMap)==null?void 0:s.call(o,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:q.errToObj(e).message??l}:{message:l}}}:{}})}strip(){return new st({...this._def,unknownKeys:"strip"})}passthrough(){return new st({...this._def,unknownKeys:"passthrough"})}extend(e){return new st({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new st({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:te.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new st({...this._def,catchall:e})}pick(e){const t={};for(const i of Te.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new st({...this._def,shape:()=>t})}omit(e){const t={};for(const i of Te.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new st({...this._def,shape:()=>t})}deepPartial(){return Rl(this)}partial(e){const t={};for(const i of Te.objectKeys(this.shape)){const l=this.shape[i];e&&!e[i]?t[i]=l:t[i]=l.optional()}return new st({...this._def,shape:()=>t})}required(e){const t={};for(const i of Te.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof Li;)o=o._def.innerType;t[i]=o}return new st({...this._def,shape:()=>t})}keyof(){return jv(Te.objectKeys(this.shape))}}st.create=(n,e)=>new st({shape:()=>n,unknownKeys:"strip",catchall:Bi.create(),typeName:te.ZodObject,...ae(e)});st.strictCreate=(n,e)=>new st({shape:()=>n,unknownKeys:"strict",catchall:Bi.create(),typeName:te.ZodObject,...ae(e)});st.lazycreate=(n,e)=>new st({shape:n,unknownKeys:"strip",catchall:Bi.create(),typeName:te.ZodObject,...ae(e)});class gr extends ge{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function l(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const s=o.map(u=>new li(u.ctx.common.issues));return B(t,{code:k.invalid_union,unionErrors:s}),ne}if(t.common.async)return Promise.all(i.map(async o=>{const s={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:s}),ctx:s}})).then(l);{let o;const s=[];for(const c of i){const f={...t,common:{...t.common,issues:[]},parent:null},d=c._parseSync({data:t.data,path:t.path,parent:f});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:f}),f.common.issues.length&&s.push(f.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const u=s.map(c=>new li(c));return B(t,{code:k.invalid_union,unionErrors:u}),ne}}get options(){return this._def.options}}gr.create=(n,e)=>new gr({options:n,typeName:te.ZodUnion,...ae(e)});function Yc(n,e){const t=vi(n),i=vi(e);if(n===e)return{valid:!0,data:n};if(t===G.object&&i===G.object){const l=Te.objectKeys(e),o=Te.objectKeys(n).filter(u=>l.indexOf(u)!==-1),s={...n,...e};for(const u of o){const c=Yc(n[u],e[u]);if(!c.valid)return{valid:!1};s[u]=c.data}return{valid:!0,data:s}}else if(t===G.array&&i===G.array){if(n.length!==e.length)return{valid:!1};const l=[];for(let o=0;o<n.length;o++){const s=n[o],u=e[o],c=Yc(s,u);if(!c.valid)return{valid:!1};l.push(c.data)}return{valid:!0,data:l}}else return t===G.date&&i===G.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class yr extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),l=(o,s)=>{if(up(o)||up(s))return ne;const u=Yc(o.value,s.value);return u.valid?((cp(o)||cp(s))&&t.dirty(),{status:t.value,value:u.data}):(B(i,{code:k.invalid_intersection_types}),ne)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,s])=>l(o,s)):l(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}yr.create=(n,e,t)=>new yr({left:n,right:e,typeName:te.ZodIntersection,...ae(t)});class dl extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.array)return B(i,{code:k.invalid_type,expected:G.array,received:i.parsedType}),ne;if(i.data.length<this._def.items.length)return B(i,{code:k.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ne;!this._def.rest&&i.data.length>this._def.items.length&&(B(i,{code:k.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...i.data].map((s,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new On(i,s,i.path,u)):null}).filter(s=>!!s);return i.common.async?Promise.all(o).then(s=>Ot.mergeArray(t,s)):Ot.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new dl({...this._def,rest:e})}}dl.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new dl({items:n,typeName:te.ZodTuple,rest:null,...ae(e)})};class vr extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.object)return B(i,{code:k.invalid_type,expected:G.object,received:i.parsedType}),ne;const l=[],o=this._def.keyType,s=this._def.valueType;for(const u in i.data)l.push({key:o._parse(new On(i,u,i.path,u)),value:s._parse(new On(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?Ot.mergeObjectAsync(t,l):Ot.mergeObjectSync(t,l)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof ge?new vr({keyType:e,valueType:t,typeName:te.ZodRecord,...ae(i)}):new vr({keyType:Nn.create(),valueType:e,typeName:te.ZodRecord,...ae(t)})}}class yp extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.map)return B(i,{code:k.invalid_type,expected:G.map,received:i.parsedType}),ne;const l=this._def.keyType,o=this._def.valueType,s=[...i.data.entries()].map(([u,c],f)=>({key:l._parse(new On(i,u,i.path,[f,"key"])),value:o._parse(new On(i,c,i.path,[f,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of s){const f=await c.key,d=await c.value;if(f.status==="aborted"||d.status==="aborted")return ne;(f.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(f.value,d.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const c of s){const f=c.key,d=c.value;if(f.status==="aborted"||d.status==="aborted")return ne;(f.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(f.value,d.value)}return{status:t.value,value:u}}}}yp.create=(n,e,t)=>new yp({valueType:e,keyType:n,typeName:te.ZodMap,...ae(t)});class Rs extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.set)return B(i,{code:k.invalid_type,expected:G.set,received:i.parsedType}),ne;const l=this._def;l.minSize!==null&&i.data.size<l.minSize.value&&(B(i,{code:k.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),t.dirty()),l.maxSize!==null&&i.data.size>l.maxSize.value&&(B(i,{code:k.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),t.dirty());const o=this._def.valueType;function s(c){const f=new Set;for(const d of c){if(d.status==="aborted")return ne;d.status==="dirty"&&t.dirty(),f.add(d.value)}return{status:t.value,value:f}}const u=[...i.data.values()].map((c,f)=>o._parse(new On(i,c,i.path,f)));return i.common.async?Promise.all(u).then(c=>s(c)):s(u)}min(e,t){return new Rs({...this._def,minSize:{value:e,message:q.toString(t)}})}max(e,t){return new Rs({...this._def,maxSize:{value:e,message:q.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Rs.create=(n,e)=>new Rs({valueType:n,minSize:null,maxSize:null,typeName:te.ZodSet,...ae(e)});class Zc extends ge{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Zc.create=(n,e)=>new Zc({getter:n,typeName:te.ZodLazy,...ae(e)});class vp extends ge{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return B(t,{received:t.data,code:k.invalid_literal,expected:this._def.value}),ne}return{status:"valid",value:e.data}}get value(){return this._def.value}}vp.create=(n,e)=>new vp({value:n,typeName:te.ZodLiteral,...ae(e)});function jv(n,e){return new go({values:n,typeName:te.ZodEnum,...ae(e)})}class go extends ge{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return B(t,{expected:Te.joinValues(i),received:t.parsedType,code:k.invalid_type}),ne}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return B(t,{received:t.data,code:k.invalid_enum_value,options:i}),ne}return pn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return go.create(e,{...this._def,...t})}exclude(e,t=this._def){return go.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}go.create=jv;class xp extends ge{_parse(e){const t=Te.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==G.string&&i.parsedType!==G.number){const l=Te.objectValues(t);return B(i,{expected:Te.joinValues(l),received:i.parsedType,code:k.invalid_type}),ne}if(this._cache||(this._cache=new Set(Te.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const l=Te.objectValues(t);return B(i,{received:i.data,code:k.invalid_enum_value,options:l}),ne}return pn(e.data)}get enum(){return this._def.values}}xp.create=(n,e)=>new xp({values:n,typeName:te.ZodNativeEnum,...ae(e)});class xr extends ge{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==G.promise&&t.common.async===!1)return B(t,{code:k.invalid_type,expected:G.promise,received:t.parsedType}),ne;const i=t.parsedType===G.promise?t.data:Promise.resolve(t.data);return pn(i.then(l=>this._def.type.parseAsync(l,{path:t.path,errorMap:t.common.contextualErrorMap})))}}xr.create=(n,e)=>new xr({type:n,typeName:te.ZodPromise,...ae(e)});class yo extends ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===te.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),l=this._def.effect||null,o={addIssue:s=>{B(i,s),s.fatal?t.abort():t.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),l.type==="preprocess"){const s=l.transform(i.data,o);if(i.common.async)return Promise.resolve(s).then(async u=>{if(t.value==="aborted")return ne;const c=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return c.status==="aborted"?ne:c.status==="dirty"||t.value==="dirty"?Ko(c.value):c});{if(t.value==="aborted")return ne;const u=this._def.schema._parseSync({data:s,path:i.path,parent:i});return u.status==="aborted"?ne:u.status==="dirty"||t.value==="dirty"?Ko(u.value):u}}if(l.type==="refinement"){const s=u=>{const c=l.refinement(u,o);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?ne:(u.status==="dirty"&&t.dirty(),s(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?ne:(u.status==="dirty"&&t.dirty(),s(u.value).then(()=>({status:t.value,value:u.value}))))}if(l.type==="transform")if(i.common.async===!1){const s=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!po(s))return ne;const u=l.transform(s.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(s=>po(s)?Promise.resolve(l.transform(s.value,o)).then(u=>({status:t.value,value:u})):ne);Te.assertNever(l)}}yo.create=(n,e,t)=>new yo({schema:n,typeName:te.ZodEffects,effect:e,...ae(t)});yo.createWithPreprocess=(n,e,t)=>new yo({schema:e,effect:{type:"preprocess",transform:n},typeName:te.ZodEffects,...ae(t)});class Li extends ge{_parse(e){return this._getType(e)===G.undefined?pn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Li.create=(n,e)=>new Li({innerType:n,typeName:te.ZodOptional,...ae(e)});class vo extends ge{_parse(e){return this._getType(e)===G.null?pn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vo.create=(n,e)=>new vo({innerType:n,typeName:te.ZodNullable,...ae(e)});class Kc extends ge{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===G.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Kc.create=(n,e)=>new Kc({innerType:n,typeName:te.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ae(e)});class Jc extends ge{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},l=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return pr(l)?l.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new li(i.common.issues)},input:i.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new li(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Jc.create=(n,e)=>new Jc({innerType:n,typeName:te.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ae(e)});class Tp extends ge{_parse(e){if(this._getType(e)!==G.nan){const i=this._getOrReturnCtx(e);return B(i,{code:k.invalid_type,expected:G.nan,received:i.parsedType}),ne}return{status:"valid",value:e.data}}}Tp.create=n=>new Tp({typeName:te.ZodNaN,...ae(n)});class wS extends ge{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class cd extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?ne:o.status==="dirty"?(t.dirty(),Ko(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const l=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?ne:l.status==="dirty"?(t.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:i.path,parent:i})}}static create(e,t){return new cd({in:e,out:t,typeName:te.ZodPipeline})}}class Xc extends ge{_parse(e){const t=this._def.innerType._parse(e),i=l=>(po(l)&&(l.value=Object.freeze(l.value)),l);return pr(t)?t.then(l=>i(l)):i(t)}unwrap(){return this._def.innerType}}Xc.create=(n,e)=>new Xc({innerType:n,typeName:te.ZodReadonly,...ae(e)});var te;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(te||(te={}));const Zi=Nn.create,Sp=cl.create;fl.create;const RS=mr.create;mo.create;const Cp=Fc.create;Bi.create;const Jo=Ln.create,DS=st.create,kS=gr.create;yr.create;dl.create;const IS=vr.create,US=Zc.create,LS=go.create;xr.create;Li.create;vo.create;const El={string:n=>Nn.create({...n,coerce:!0}),number:n=>cl.create({...n,coerce:!0}),boolean:n=>mr.create({...n,coerce:!0}),bigint:n=>fl.create({...n,coerce:!0}),date:n=>mo.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let OS,VS;function $S(){return{geminiUrl:OS,vertexUrl:VS}}function BS(n,e,t){var i,l,o;if(!(!((i=n.httpOptions)===null||i===void 0)&&i.baseUrl)){const s=$S();return n.vertexai?(l=s.vertexUrl)!==null&&l!==void 0?l:e:(o=s.geminiUrl)!==null&&o!==void 0?o:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class No{}function X(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const o=e[l];return o!=null?String(o):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function r(n,e,t){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(t))for(let f=0;f<c.length;f++){const d=c[f];r(d,e.slice(o+1),t[f])}else for(const f of c)r(f,e.slice(o+1),t)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];r(c[0],e.slice(o+1),t);return}(!n[s]||typeof n[s]!="object")&&(n[s]={}),n=n[s]}const i=e[e.length-1],l=n[i];if(l!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===l)return;if(typeof l=="object"&&typeof t=="object"&&l!==null&&t!==null)Object.assign(l,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else n[i]=t}function a(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const i=e[t];if(i.endsWith("[]")){const l=i.slice(0,-2);if(l in n){const o=n[l];return Array.isArray(o)?o.map(s=>a(s,e.slice(t+1))):void 0}else return}else n=n[i]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _p;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(_p||(_p={}));var Ep;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Ep||(Ep={}));var wn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(wn||(wn={}));var Ap;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Ap||(Ap={}));var bp;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(bp||(bp={}));var Mp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Mp||(Mp={}));var Np;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Np||(Np={}));var wp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(wp||(wp={}));var Rp;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Rp||(Rp={}));var Dp;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Dp||(Dp={}));var kp;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(kp||(kp={}));var Ip;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Ip||(Ip={}));var Up;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Up||(Up={}));var Tr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Tr||(Tr={}));var Lp;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Lp||(Lp={}));var Qc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Qc||(Qc={}));var Op;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Op||(Op={}));var Vp;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Vp||(Vp={}));var $p;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})($p||($p={}));var Bp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Bp||(Bp={}));var Pp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Pp||(Pp={}));var zp;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(zp||(zp={}));var Gp;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Gp||(Gp={}));var qp;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(qp||(qp={}));var Hp;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(Hp||(Hp={}));var Fp;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Fp||(Fp={}));var Yp;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Yp||(Yp={}));var Zp;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Zp||(Zp={}));var Kp;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Kp||(Kp={}));var Jp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Jp||(Jp={}));var Xp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Xp||(Xp={}));var Qp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Qp||(Qp={}));var Wp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Wp||(Wp={}));var jp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(jp||(jp={}));var em;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(em||(em={}));var tm;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(tm||(tm={}));var nm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(nm||(nm={}));var im;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(im||(im={}));var ql;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(ql||(ql={}));class zo{get text(){var e,t,i,l,o,s,u,c;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const p=[];for(const h of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[m,x]of Object.entries(h))m!=="text"&&m!=="thought"&&(x!==null||x!==void 0)&&p.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,f+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,t,i,l,o,s,u,c;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const p of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,m]of Object.entries(p))h!=="inlineData"&&(m!==null||m!==void 0)&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,t,i,l,o,s,u,c;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,i,l,o,s,u,c,f;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,i,l,o,s,u,c,f;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class lm{}class om{}class PS{}class zS{}class sm{}class am{}class rm{}class GS{}class um{}class cm{}class fm{}class qS{}class Wc{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class HS{}class FS{}class YS{get text(){var e,t,i;let l="",o=!1;const s=[];for(const u of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,l+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?l:void 0}get data(){var e,t,i;let l="";const o=[];for(const s of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(l+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class ZS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Be(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function e0(n,e){const t=Be(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function t0(n,e){return Array.isArray(e)?e.map(t=>Sr(n,t)):[Sr(n,e)]}function Sr(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function KS(n,e){const t=Sr(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function JS(n,e){const t=Sr(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function dm(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function n0(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>dm(n,t)):[dm(n,e)]}function jc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function hm(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function pm(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Lt(n,e){if(e==null)throw new Error("ContentUnion is required");return jc(e)?e:{role:"user",parts:n0(n,e)}}function i0(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=Lt(n,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=Lt(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Lt(n,t)):[Lt(n,e)]}function xn(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(hm(e)||pm(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Lt(n,e)]}const t=[],i=[],l=jc(e[0]);for(const o of e){const s=jc(o);if(s!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(o);else{if(hm(o)||pm(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return l||t.push({role:"user",parts:n0(n,i)}),t}const XS=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),mm=LS(["string","number","integer","object","array","boolean","null"]),QS=kS([mm,Jo(mm)]);function WS(n=!0){const e=US(()=>{const t=DS({type:QS.optional(),format:Zi().optional(),title:Zi().optional(),description:Zi().optional(),default:Cp().optional(),items:e.optional(),minItems:El.string().optional(),maxItems:El.string().optional(),enum:Jo(Cp()).optional(),properties:IS(Zi(),e).optional(),required:Jo(Zi()).optional(),minProperties:El.string().optional(),maxProperties:El.string().optional(),propertyOrdering:Jo(Zi()).optional(),minimum:Sp().optional(),maximum:Sp().optional(),minLength:El.string().optional(),maxLength:El.string().optional(),pattern:Zi().optional(),anyOf:Jo(e).optional(),additionalProperties:RS().optional()});return n?t.strict():t});return e}function jS(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(wn).includes(t[0].toUpperCase())?t[0].toUpperCase():wn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(wn).includes(i.toUpperCase())?i.toUpperCase():wn.TYPE_UNSPECIFIED})}}function eo(n){const e={},t=["items"],i=["anyOf"],l=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=n.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,n=o[1]):o[1].type==="null"&&(e.nullable=!0,n=o[0])),n.type instanceof Array&&jS(n.type,e);for(const[s,u]of Object.entries(n))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(wn).includes(u.toUpperCase())?u.toUpperCase():wn.TYPE_UNSPECIFIED}else if(t.includes(s))e[s]=eo(u);else if(i.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(eo(f))}e[s]=c}else if(l.includes(s)){const c={};for(const[f,d]of Object.entries(u))c[f]=eo(d);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function Cr(n,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=WS().parse(e);return eo(t)}else return eo(e)}function l0(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function fd(n,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Ks(n,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=Cr(n,t.parameters)),t.response&&(t.response=Cr(n,t.response));return e}function Js(n,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function eC(n,e,t,i=1){const l=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:l?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:l?`${t}/${e}`:e}function qi(n,e){if(typeof e!="string")throw new Error("name must be a string");return eC(n,e,"cachedContents")}function o0(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ai(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function tC(n){return n!=null&&typeof n=="object"&&"name"in n}function nC(n){return n!=null&&typeof n=="object"&&"video"in n}function iC(n){return n!=null&&typeof n=="object"&&"uri"in n}function s0(n,e){var t;let i;if(tC(e)&&(i=e.name),!(iC(e)&&(i=e.uri,i===void 0))&&!(nC(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const o=i.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${i}`);i=o[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function a0(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function r0(n,e){for(const t of["models","tunedModels","publisherModels"])if(lC(e,t))return e[t];return[]}function lC(n,e){return n!==null&&typeof n=="object"&&e in n}function oC(n,e={}){const t=n,i={name:t.name,description:t.description,parameters:eo(Yr(t.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function sC(n,e={}){const t=[],i=new Set;for(const l of n){const o=l.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const s=oC(l,e);s.functionDeclarations&&t.push(...s.functionDeclarations)}return{functionDeclarations:t}}function aC(n){const e=[];for(const t of n)e.push(Yr(t));return e}function rC(n){const e={};for(const[t,i]of Object.entries(n)){const l=i;e[t]=Yr(l)}return e}function Yr(n){const e=new Set(["items"]),t=new Set(["anyOf"]),i=new Set(["properties"]),l={};for(const[o,s]of Object.entries(n))if(e.has(o))l[o]=Yr(s);else if(t.has(o))l[o]=aC(s);else if(i.has(o))l[o]=rC(s);else if(o==="type"){const u=s.toUpperCase();l[o]=Object.values(wn).includes(u)?u:wn.TYPE_UNSPECIFIED}else XS.has(o)&&(l[o]=s);return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uC(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function cC(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function fC(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function dC(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],uC(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],cC(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],fC(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function gm(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>dC(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function hC(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function pC(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function mC(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],pC(n,i)),t}function gC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function yC(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],gC(n,i)),t}function vC(){return{}}function xC(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>hC(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],mC(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],yC(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],vC());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function TC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function SC(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function CC(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],SC(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function _C(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],TC(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],CC(n,l)),t}function EC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);t!==void 0&&o!=null&&r(t,["expireTime"],o);const s=a(e,["displayName"]);t!==void 0&&s!=null&&r(t,["displayName"],s);const u=a(e,["contents"]);if(t!==void 0&&u!=null){let p=xn(n,u);Array.isArray(p)&&(p=p.map(h=>gm(n,h))),r(t,["contents"],p)}const c=a(e,["systemInstruction"]);t!==void 0&&c!=null&&r(t,["systemInstruction"],gm(n,Lt(n,c)));const f=a(e,["tools"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>xC(n,h))),r(t,["tools"],p)}const d=a(e,["toolConfig"]);if(t!==void 0&&d!=null&&r(t,["toolConfig"],_C(n,d)),a(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function AC(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["model"],e0(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],EC(n,l,t)),t}function bC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],qi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function MC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],qi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function NC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);return t!==void 0&&o!=null&&r(t,["expireTime"],o),i}function wC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],qi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],NC(n,l,t)),t}function RC(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),i}function DC(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],RC(n,i,t)),t}function kC(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function IC(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function UC(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function LC(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],kC(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],IC(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],UC(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function ym(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>LC(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function OC(n,e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(e,["description"]);i!=null&&r(t,["description"],i);const l=a(e,["name"]);l!=null&&r(t,["name"],l);const o=a(e,["parameters"]);o!=null&&r(t,["parameters"],o);const s=a(e,["response"]);return s!=null&&r(t,["response"],s),t}function VC(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function $C(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],VC(n,i)),t}function BC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function PC(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],BC(n,i)),t}function zC(){return{}}function GC(n,e){const t={},i=a(e,["apiKeyString"]);return i!=null&&r(t,["apiKeyString"],i),t}function qC(n,e){const t={},i=a(e,["apiKeyConfig"]);i!=null&&r(t,["apiKeyConfig"],GC(n,i));const l=a(e,["authType"]);l!=null&&r(t,["authType"],l);const o=a(e,["googleServiceAccountConfig"]);o!=null&&r(t,["googleServiceAccountConfig"],o);const s=a(e,["httpBasicAuthConfig"]);s!=null&&r(t,["httpBasicAuthConfig"],s);const u=a(e,["oauthConfig"]);u!=null&&r(t,["oauthConfig"],u);const c=a(e,["oidcConfig"]);return c!=null&&r(t,["oidcConfig"],c),t}function HC(n,e){const t={},i=a(e,["authConfig"]);return i!=null&&r(t,["authConfig"],qC(n,i)),t}function FC(){return{}}function YC(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>OC(n,h))),r(t,["functionDeclarations"],p)}const l=a(e,["retrieval"]);l!=null&&r(t,["retrieval"],l);const o=a(e,["googleSearch"]);o!=null&&r(t,["googleSearch"],$C(n,o));const s=a(e,["googleSearchRetrieval"]);s!=null&&r(t,["googleSearchRetrieval"],PC(n,s)),a(e,["enterpriseWebSearch"])!=null&&r(t,["enterpriseWebSearch"],zC());const c=a(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],HC(n,c)),a(e,["urlContext"])!=null&&r(t,["urlContext"],FC());const d=a(e,["codeExecution"]);return d!=null&&r(t,["codeExecution"],d),t}function ZC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function KC(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function JC(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],KC(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function XC(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],ZC(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],JC(n,l)),t}function QC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);t!==void 0&&o!=null&&r(t,["expireTime"],o);const s=a(e,["displayName"]);t!==void 0&&s!=null&&r(t,["displayName"],s);const u=a(e,["contents"]);if(t!==void 0&&u!=null){let h=xn(n,u);Array.isArray(h)&&(h=h.map(m=>ym(n,m))),r(t,["contents"],h)}const c=a(e,["systemInstruction"]);t!==void 0&&c!=null&&r(t,["systemInstruction"],ym(n,Lt(n,c)));const f=a(e,["tools"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>YC(n,m))),r(t,["tools"],h)}const d=a(e,["toolConfig"]);t!==void 0&&d!=null&&r(t,["toolConfig"],XC(n,d));const p=a(e,["kmsKeyName"]);return t!==void 0&&p!=null&&r(t,["encryption_spec","kmsKeyName"],p),i}function WC(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["model"],e0(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],QC(n,l,t)),t}function jC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],qi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function e_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],qi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function t_(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);return t!==void 0&&o!=null&&r(t,["expireTime"],o),i}function n_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],qi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],t_(n,l,t)),t}function i_(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),i}function l_(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],i_(n,i,t)),t}function Ua(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["model"]);o!=null&&r(t,["model"],o);const s=a(e,["createTime"]);s!=null&&r(t,["createTime"],s);const u=a(e,["updateTime"]);u!=null&&r(t,["updateTime"],u);const c=a(e,["expireTime"]);c!=null&&r(t,["expireTime"],c);const f=a(e,["usageMetadata"]);return f!=null&&r(t,["usageMetadata"],f),t}function o_(){return{}}function s_(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Ua(n,s))),r(t,["cachedContents"],o)}return t}function La(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["model"]);o!=null&&r(t,["model"],o);const s=a(e,["createTime"]);s!=null&&r(t,["createTime"],s);const u=a(e,["updateTime"]);u!=null&&r(t,["updateTime"],u);const c=a(e,["expireTime"]);c!=null&&r(t,["expireTime"],c);const f=a(e,["usageMetadata"]);return f!=null&&r(t,["usageMetadata"],f),t}function a_(){return{}}function r_(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>La(n,s))),r(t,["cachedContents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xo;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(xo||(xo={}));class Zr{constructor(e,t,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,l)}init(e,t,i){var l,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};i?typeof i=="object"?s=Object.assign({},i):s=i:s={config:{}},s.config&&(s.config.pageToken=t.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(l=s.config)===null||l===void 0?void 0:l.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class u_ extends No{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Zr(xo.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=WC(this.apiClient,e);return u=X("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>La(this.apiClient,d))}else{const f=AC(this.apiClient,e);return u=X("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Ua(this.apiClient,d))}}async get(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=jC(this.apiClient,e);return u=X("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>La(this.apiClient,d))}else{const f=bC(this.apiClient,e);return u=X("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Ua(this.apiClient,d))}}async delete(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=e_(this.apiClient,e);return u=X("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(()=>{const d=a_(),p=new cm;return Object.assign(p,d),p})}else{const f=MC(this.apiClient,e);return u=X("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(()=>{const d=o_(),p=new cm;return Object.assign(p,d),p})}}async update(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=n_(this.apiClient,e);return u=X("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>La(this.apiClient,d))}else{const f=wC(this.apiClient,e);return u=X("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Ua(this.apiClient,d))}}async listInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=l_(this.apiClient,e);return u=X("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=r_(this.apiClient,d),h=new fm;return Object.assign(h,p),h})}else{const f=DC(this.apiClient,e);return u=X("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=s_(this.apiClient,d),h=new fm;return Object.assign(h,p),h})}}}function vm(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ze(n){return this instanceof ze?(this.v=n,this):new ze(n)}function to(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),l[Symbol.asyncIterator]=function(){return this},l;function s(m){return function(x){return Promise.resolve(x).then(m,p)}}function u(m,x){i[m]&&(l[m]=function(S){return new Promise(function(_,y){o.push([m,S,_,y])>1||c(m,S)})},x&&(l[m]=x(l[m])))}function c(m,x){try{f(i[m](x))}catch(S){h(o[0][3],S)}}function f(m){m.value instanceof ze?Promise.resolve(m.value.v).then(d,p):h(o[0][2],m)}function d(m){c("next",m)}function p(m){c("throw",m)}function h(m,x){m(x),o.shift(),o.length&&c(o[0][0],o[0][1])}}function fs(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vm=="function"?vm(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(u,c){s=n[o](s),l(u,c,s.done,s.value)})}}function l(o,s,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c_(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:u0(t)}function u0(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function f_(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function xm(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const l=[];let o=!0;for(;i<t&&n[i].role==="model";)l.push(n[i]),o&&!u0(n[i])&&(o=!1),i++;o?e.push(...l):e.pop()}return e}class d_{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new h_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class h_{constructor(e,t,i,l={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=l,this.history=o,this.sendPromise=Promise.resolve(),f_(o)}async sendMessage(e){var t;await this.sendPromise;const i=Lt(this.apiClient,e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,s,u;const c=await l,f=(s=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,d=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];d!=null&&(h=(u=d.slice(p))!==null&&u!==void 0?u:[]);const m=f?[f]:[];this.recordHistory(i,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var t;await this.sendPromise;const i=Lt(this.apiClient,e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const o=await l;return this.processStreamResponse(o,i)}getHistory(e=!1){const t=e?xm(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,l;return to(this,arguments,function*(){var s,u,c,f;const d=[];try{for(var p=!0,h=fs(e),m;m=yield ze(h.next()),s=m.done,!s;p=!0){f=m.value,p=!1;const x=f;if(c_(x)){const S=(l=(i=x.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content;S!==void 0&&d.push(S)}yield yield ze(x)}}catch(x){u={error:x}}finally{try{!p&&!s&&(c=h.return)&&(yield ze(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(t,d)})}recordHistory(e,t,i){let l=[];t.length>0&&t.every(o=>o.role!==void 0)?l=t:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...xm(i)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p_(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),i}function m_(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],p_(n,i,t)),t}function g_(n,e){const t={},i=a(e,["details"]);i!=null&&r(t,["details"],i);const l=a(e,["message"]);l!=null&&r(t,["message"],l);const o=a(e,["code"]);return o!=null&&r(t,["code"],o),t}function y_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["mimeType"]);o!=null&&r(t,["mimeType"],o);const s=a(e,["sizeBytes"]);s!=null&&r(t,["sizeBytes"],s);const u=a(e,["createTime"]);u!=null&&r(t,["createTime"],u);const c=a(e,["expirationTime"]);c!=null&&r(t,["expirationTime"],c);const f=a(e,["updateTime"]);f!=null&&r(t,["updateTime"],f);const d=a(e,["sha256Hash"]);d!=null&&r(t,["sha256Hash"],d);const p=a(e,["uri"]);p!=null&&r(t,["uri"],p);const h=a(e,["downloadUri"]);h!=null&&r(t,["downloadUri"],h);const m=a(e,["state"]);m!=null&&r(t,["state"],m);const x=a(e,["source"]);x!=null&&r(t,["source"],x);const S=a(e,["videoMetadata"]);S!=null&&r(t,["videoMetadata"],S);const _=a(e,["error"]);return _!=null&&r(t,["error"],g_(n,_)),t}function v_(n,e){const t={},i=a(e,["file"]);i!=null&&r(t,["file"],y_(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function x_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","file"],s0(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function T_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","file"],s0(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function S_(n,e){const t={},i=a(e,["details"]);i!=null&&r(t,["details"],i);const l=a(e,["message"]);l!=null&&r(t,["message"],l);const o=a(e,["code"]);return o!=null&&r(t,["code"],o),t}function ef(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["mimeType"]);o!=null&&r(t,["mimeType"],o);const s=a(e,["sizeBytes"]);s!=null&&r(t,["sizeBytes"],s);const u=a(e,["createTime"]);u!=null&&r(t,["createTime"],u);const c=a(e,["expirationTime"]);c!=null&&r(t,["expirationTime"],c);const f=a(e,["updateTime"]);f!=null&&r(t,["updateTime"],f);const d=a(e,["sha256Hash"]);d!=null&&r(t,["sha256Hash"],d);const p=a(e,["uri"]);p!=null&&r(t,["uri"],p);const h=a(e,["downloadUri"]);h!=null&&r(t,["downloadUri"],h);const m=a(e,["state"]);m!=null&&r(t,["state"],m);const x=a(e,["source"]);x!=null&&r(t,["source"],x);const S=a(e,["videoMetadata"]);S!=null&&r(t,["videoMetadata"],S);const _=a(e,["error"]);return _!=null&&r(t,["error"],S_(n,_)),t}function C_(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["files"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>ef(n,s))),r(t,["files"],o)}return t}function __(){return{}}function E_(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A_ extends No{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Zr(xo.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>ef(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=m_(this.apiClient,e);return o=X("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=C_(this.apiClient,c),d=new qS;return Object.assign(d,f),d})}}async createInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=v_(this.apiClient,e);return o=X("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=__(),f=new HS;return Object.assign(f,c),f})}}async get(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=x_(this.apiClient,e);return o=X("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>ef(this.apiClient,c))}}async delete(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=T_(this.apiClient,e);return o=X("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=E_(),f=new FS;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b_(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function M_(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function c0(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],b_(n,i)),t}function N_(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],M_(n,i)),t}function w_(n,e){const t={},i=a(e,["speaker"]);i!=null&&r(t,["speaker"],i);const l=a(e,["voiceConfig"]);return l!=null&&r(t,["voiceConfig"],c0(n,l)),t}function R_(n,e){const t={},i=a(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>w_(n,o))),r(t,["speakerVoiceConfigs"],l)}return t}function D_(n,e){const t={},i=a(e,["voiceConfig"]);i!=null&&r(t,["voiceConfig"],c0(n,i));const l=a(e,["multiSpeakerVoiceConfig"]);l!=null&&r(t,["multiSpeakerVoiceConfig"],R_(n,l));const o=a(e,["languageCode"]);return o!=null&&r(t,["languageCode"],o),t}function k_(n,e){const t={},i=a(e,["voiceConfig"]);if(i!=null&&r(t,["voiceConfig"],N_(n,i)),a(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function I_(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function U_(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function L_(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function O_(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function V_(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function $_(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function B_(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],I_(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],L_(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],V_(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function P_(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],U_(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],O_(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],$_(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function z_(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>B_(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function G_(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>P_(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function q_(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function H_(n,e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(e,["description"]);i!=null&&r(t,["description"],i);const l=a(e,["name"]);l!=null&&r(t,["name"],l);const o=a(e,["parameters"]);o!=null&&r(t,["parameters"],o);const s=a(e,["response"]);return s!=null&&r(t,["response"],s),t}function F_(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function Y_(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function Z_(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],F_(n,i)),t}function K_(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],Y_(n,i)),t}function J_(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function X_(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function Q_(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],J_(n,i)),t}function W_(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],X_(n,i)),t}function j_(){return{}}function eE(n,e){const t={},i=a(e,["apiKeyString"]);return i!=null&&r(t,["apiKeyString"],i),t}function tE(n,e){const t={},i=a(e,["apiKeyConfig"]);i!=null&&r(t,["apiKeyConfig"],eE(n,i));const l=a(e,["authType"]);l!=null&&r(t,["authType"],l);const o=a(e,["googleServiceAccountConfig"]);o!=null&&r(t,["googleServiceAccountConfig"],o);const s=a(e,["httpBasicAuthConfig"]);s!=null&&r(t,["httpBasicAuthConfig"],s);const u=a(e,["oauthConfig"]);u!=null&&r(t,["oauthConfig"],u);const c=a(e,["oidcConfig"]);return c!=null&&r(t,["oidcConfig"],c),t}function nE(n,e){const t={},i=a(e,["authConfig"]);return i!=null&&r(t,["authConfig"],tE(n,i)),t}function iE(){return{}}function lE(){return{}}function oE(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>q_(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],Z_(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],Q_(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],iE());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function sE(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>H_(n,h))),r(t,["functionDeclarations"],p)}const l=a(e,["retrieval"]);l!=null&&r(t,["retrieval"],l);const o=a(e,["googleSearch"]);o!=null&&r(t,["googleSearch"],K_(n,o));const s=a(e,["googleSearchRetrieval"]);s!=null&&r(t,["googleSearchRetrieval"],W_(n,s)),a(e,["enterpriseWebSearch"])!=null&&r(t,["enterpriseWebSearch"],j_());const c=a(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],nE(n,c)),a(e,["urlContext"])!=null&&r(t,["urlContext"],lE());const d=a(e,["codeExecution"]);return d!=null&&r(t,["codeExecution"],d),t}function aE(n,e){const t={},i=a(e,["handle"]);if(i!=null&&r(t,["handle"],i),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function rE(n,e){const t={},i=a(e,["handle"]);i!=null&&r(t,["handle"],i);const l=a(e,["transparent"]);return l!=null&&r(t,["transparent"],l),t}function Tm(){return{}}function Sm(){return{}}function uE(n,e){const t={},i=a(e,["disabled"]);i!=null&&r(t,["disabled"],i);const l=a(e,["startOfSpeechSensitivity"]);l!=null&&r(t,["startOfSpeechSensitivity"],l);const o=a(e,["endOfSpeechSensitivity"]);o!=null&&r(t,["endOfSpeechSensitivity"],o);const s=a(e,["prefixPaddingMs"]);s!=null&&r(t,["prefixPaddingMs"],s);const u=a(e,["silenceDurationMs"]);return u!=null&&r(t,["silenceDurationMs"],u),t}function cE(n,e){const t={},i=a(e,["disabled"]);i!=null&&r(t,["disabled"],i);const l=a(e,["startOfSpeechSensitivity"]);l!=null&&r(t,["startOfSpeechSensitivity"],l);const o=a(e,["endOfSpeechSensitivity"]);o!=null&&r(t,["endOfSpeechSensitivity"],o);const s=a(e,["prefixPaddingMs"]);s!=null&&r(t,["prefixPaddingMs"],s);const u=a(e,["silenceDurationMs"]);return u!=null&&r(t,["silenceDurationMs"],u),t}function fE(n,e){const t={},i=a(e,["automaticActivityDetection"]);i!=null&&r(t,["automaticActivityDetection"],uE(n,i));const l=a(e,["activityHandling"]);l!=null&&r(t,["activityHandling"],l);const o=a(e,["turnCoverage"]);return o!=null&&r(t,["turnCoverage"],o),t}function dE(n,e){const t={},i=a(e,["automaticActivityDetection"]);i!=null&&r(t,["automaticActivityDetection"],cE(n,i));const l=a(e,["activityHandling"]);l!=null&&r(t,["activityHandling"],l);const o=a(e,["turnCoverage"]);return o!=null&&r(t,["turnCoverage"],o),t}function hE(n,e){const t={},i=a(e,["targetTokens"]);return i!=null&&r(t,["targetTokens"],i),t}function pE(n,e){const t={},i=a(e,["targetTokens"]);return i!=null&&r(t,["targetTokens"],i),t}function mE(n,e){const t={},i=a(e,["triggerTokens"]);i!=null&&r(t,["triggerTokens"],i);const l=a(e,["slidingWindow"]);return l!=null&&r(t,["slidingWindow"],hE(n,l)),t}function gE(n,e){const t={},i=a(e,["triggerTokens"]);i!=null&&r(t,["triggerTokens"],i);const l=a(e,["slidingWindow"]);return l!=null&&r(t,["slidingWindow"],pE(n,l)),t}function yE(n,e){const t={},i=a(e,["proactiveAudio"]);return i!=null&&r(t,["proactiveAudio"],i),t}function vE(n,e){const t={},i=a(e,["proactiveAudio"]);return i!=null&&r(t,["proactiveAudio"],i),t}function xE(n,e,t){const i={},l=a(e,["generationConfig"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig"],l);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const s=a(e,["temperature"]);t!==void 0&&s!=null&&r(t,["setup","generationConfig","temperature"],s);const u=a(e,["topP"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topP"],u);const c=a(e,["topK"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","maxOutputTokens"],f);const d=a(e,["mediaResolution"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","mediaResolution"],d);const p=a(e,["seed"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","seed"],p);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","speechConfig"],D_(n,fd(n,h)));const m=a(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],m);const x=a(e,["systemInstruction"]);t!==void 0&&x!=null&&r(t,["setup","systemInstruction"],z_(n,Lt(n,x)));const S=a(e,["tools"]);if(t!==void 0&&S!=null){let w=Js(n,S);Array.isArray(w)&&(w=w.map(M=>oE(n,Ks(n,M)))),r(t,["setup","tools"],w)}const _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],aE(n,_));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],Tm());const v=a(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&r(t,["setup","outputAudioTranscription"],Tm());const T=a(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&r(t,["setup","realtimeInputConfig"],fE(n,T));const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&r(t,["setup","contextWindowCompression"],mE(n,C));const b=a(e,["proactivity"]);return t!==void 0&&b!=null&&r(t,["setup","proactivity"],yE(n,b)),i}function TE(n,e,t){const i={},l=a(e,["generationConfig"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig"],l);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const s=a(e,["temperature"]);t!==void 0&&s!=null&&r(t,["setup","generationConfig","temperature"],s);const u=a(e,["topP"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topP"],u);const c=a(e,["topK"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","maxOutputTokens"],f);const d=a(e,["mediaResolution"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","mediaResolution"],d);const p=a(e,["seed"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","seed"],p);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","speechConfig"],k_(n,fd(n,h)));const m=a(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],m);const x=a(e,["systemInstruction"]);t!==void 0&&x!=null&&r(t,["setup","systemInstruction"],G_(n,Lt(n,x)));const S=a(e,["tools"]);if(t!==void 0&&S!=null){let w=Js(n,S);Array.isArray(w)&&(w=w.map(M=>sE(n,Ks(n,M)))),r(t,["setup","tools"],w)}const _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],rE(n,_));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],Sm());const v=a(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&r(t,["setup","outputAudioTranscription"],Sm());const T=a(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&r(t,["setup","realtimeInputConfig"],dE(n,T));const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&r(t,["setup","contextWindowCompression"],gE(n,C));const b=a(e,["proactivity"]);return t!==void 0&&b!=null&&r(t,["setup","proactivity"],vE(n,b)),i}function SE(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["setup","model"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],xE(n,l,t)),t}function CE(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["setup","model"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],TE(n,l,t)),t}function _E(){return{}}function EE(){return{}}function AE(){return{}}function bE(){return{}}function ME(n,e){const t={},i=a(e,["media"]);i!=null&&r(t,["mediaChunks"],t0(n,i));const l=a(e,["audio"]);l!=null&&r(t,["audio"],JS(n,l));const o=a(e,["audioStreamEnd"]);o!=null&&r(t,["audioStreamEnd"],o);const s=a(e,["video"]);s!=null&&r(t,["video"],KS(n,s));const u=a(e,["text"]);return u!=null&&r(t,["text"],u),a(e,["activityStart"])!=null&&r(t,["activityStart"],_E()),a(e,["activityEnd"])!=null&&r(t,["activityEnd"],AE()),t}function NE(n,e){const t={},i=a(e,["media"]);if(i!=null&&r(t,["mediaChunks"],t0(n,i)),a(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=a(e,["audioStreamEnd"]);if(l!=null&&r(t,["audioStreamEnd"],l),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(a(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return a(e,["activityStart"])!=null&&r(t,["activityStart"],EE()),a(e,["activityEnd"])!=null&&r(t,["activityEnd"],bE()),t}function f0(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["weight"]);return l!=null&&r(t,["weight"],l),t}function wE(n,e){const t={},i=a(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>f0(n,o))),r(t,["weightedPrompts"],l)}return t}function d0(n,e){const t={},i=a(e,["temperature"]);i!=null&&r(t,["temperature"],i);const l=a(e,["topK"]);l!=null&&r(t,["topK"],l);const o=a(e,["seed"]);o!=null&&r(t,["seed"],o);const s=a(e,["guidance"]);s!=null&&r(t,["guidance"],s);const u=a(e,["bpm"]);u!=null&&r(t,["bpm"],u);const c=a(e,["density"]);c!=null&&r(t,["density"],c);const f=a(e,["brightness"]);f!=null&&r(t,["brightness"],f);const d=a(e,["scale"]);d!=null&&r(t,["scale"],d);const p=a(e,["muteBass"]);p!=null&&r(t,["muteBass"],p);const h=a(e,["muteDrums"]);h!=null&&r(t,["muteDrums"],h);const m=a(e,["onlyBassAndDrums"]);return m!=null&&r(t,["onlyBassAndDrums"],m),t}function RE(n,e){const t={},i=a(e,["musicGenerationConfig"]);return i!=null&&r(t,["musicGenerationConfig"],d0(n,i)),t}function h0(n,e){const t={},i=a(e,["model"]);return i!=null&&r(t,["model"],i),t}function p0(n,e){const t={},i=a(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>f0(n,o))),r(t,["weightedPrompts"],l)}return t}function tf(n,e){const t={},i=a(e,["setup"]);i!=null&&r(t,["setup"],h0(n,i));const l=a(e,["clientContent"]);l!=null&&r(t,["clientContent"],p0(n,l));const o=a(e,["musicGenerationConfig"]);o!=null&&r(t,["musicGenerationConfig"],d0(n,o));const s=a(e,["playbackControl"]);return s!=null&&r(t,["playbackControl"],s),t}function DE(){return{}}function kE(){return{}}function IE(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function UE(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function LE(n,e){const t={},i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function OE(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function VE(n,e){const t={},i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function $E(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function BE(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],IE(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],LE(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],VE(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function PE(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],UE(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],OE(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],$E(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function zE(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>BE(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function GE(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>PE(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function Cm(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["finished"]);return l!=null&&r(t,["finished"],l),t}function _m(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["finished"]);return l!=null&&r(t,["finished"],l),t}function qE(n,e){const t={},i=a(e,["retrievedUrl"]);i!=null&&r(t,["retrievedUrl"],i);const l=a(e,["urlRetrievalStatus"]);return l!=null&&r(t,["urlRetrievalStatus"],l),t}function HE(n,e){const t={},i=a(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>qE(n,o))),r(t,["urlMetadata"],l)}return t}function FE(n,e){const t={},i=a(e,["modelTurn"]);i!=null&&r(t,["modelTurn"],zE(n,i));const l=a(e,["turnComplete"]);l!=null&&r(t,["turnComplete"],l);const o=a(e,["interrupted"]);o!=null&&r(t,["interrupted"],o);const s=a(e,["groundingMetadata"]);s!=null&&r(t,["groundingMetadata"],s);const u=a(e,["generationComplete"]);u!=null&&r(t,["generationComplete"],u);const c=a(e,["inputTranscription"]);c!=null&&r(t,["inputTranscription"],Cm(n,c));const f=a(e,["outputTranscription"]);f!=null&&r(t,["outputTranscription"],Cm(n,f));const d=a(e,["urlContextMetadata"]);return d!=null&&r(t,["urlContextMetadata"],HE(n,d)),t}function YE(n,e){const t={},i=a(e,["modelTurn"]);i!=null&&r(t,["modelTurn"],GE(n,i));const l=a(e,["turnComplete"]);l!=null&&r(t,["turnComplete"],l);const o=a(e,["interrupted"]);o!=null&&r(t,["interrupted"],o);const s=a(e,["groundingMetadata"]);s!=null&&r(t,["groundingMetadata"],s);const u=a(e,["generationComplete"]);u!=null&&r(t,["generationComplete"],u);const c=a(e,["inputTranscription"]);c!=null&&r(t,["inputTranscription"],_m(n,c));const f=a(e,["outputTranscription"]);return f!=null&&r(t,["outputTranscription"],_m(n,f)),t}function ZE(n,e){const t={},i=a(e,["id"]);i!=null&&r(t,["id"],i);const l=a(e,["args"]);l!=null&&r(t,["args"],l);const o=a(e,["name"]);return o!=null&&r(t,["name"],o),t}function KE(n,e){const t={},i=a(e,["args"]);i!=null&&r(t,["args"],i);const l=a(e,["name"]);return l!=null&&r(t,["name"],l),t}function JE(n,e){const t={},i=a(e,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>ZE(n,o))),r(t,["functionCalls"],l)}return t}function XE(n,e){const t={},i=a(e,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>KE(n,o))),r(t,["functionCalls"],l)}return t}function QE(n,e){const t={},i=a(e,["ids"]);return i!=null&&r(t,["ids"],i),t}function WE(n,e){const t={},i=a(e,["ids"]);return i!=null&&r(t,["ids"],i),t}function ga(n,e){const t={},i=a(e,["modality"]);i!=null&&r(t,["modality"],i);const l=a(e,["tokenCount"]);return l!=null&&r(t,["tokenCount"],l),t}function ya(n,e){const t={},i=a(e,["modality"]);i!=null&&r(t,["modality"],i);const l=a(e,["tokenCount"]);return l!=null&&r(t,["tokenCount"],l),t}function jE(n,e){const t={},i=a(e,["promptTokenCount"]);i!=null&&r(t,["promptTokenCount"],i);const l=a(e,["cachedContentTokenCount"]);l!=null&&r(t,["cachedContentTokenCount"],l);const o=a(e,["responseTokenCount"]);o!=null&&r(t,["responseTokenCount"],o);const s=a(e,["toolUsePromptTokenCount"]);s!=null&&r(t,["toolUsePromptTokenCount"],s);const u=a(e,["thoughtsTokenCount"]);u!=null&&r(t,["thoughtsTokenCount"],u);const c=a(e,["totalTokenCount"]);c!=null&&r(t,["totalTokenCount"],c);const f=a(e,["promptTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(x=>ga(n,x))),r(t,["promptTokensDetails"],m)}const d=a(e,["cacheTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(x=>ga(n,x))),r(t,["cacheTokensDetails"],m)}const p=a(e,["responseTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(x=>ga(n,x))),r(t,["responseTokensDetails"],m)}const h=a(e,["toolUsePromptTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(x=>ga(n,x))),r(t,["toolUsePromptTokensDetails"],m)}return t}function eA(n,e){const t={},i=a(e,["promptTokenCount"]);i!=null&&r(t,["promptTokenCount"],i);const l=a(e,["cachedContentTokenCount"]);l!=null&&r(t,["cachedContentTokenCount"],l);const o=a(e,["candidatesTokenCount"]);o!=null&&r(t,["responseTokenCount"],o);const s=a(e,["toolUsePromptTokenCount"]);s!=null&&r(t,["toolUsePromptTokenCount"],s);const u=a(e,["thoughtsTokenCount"]);u!=null&&r(t,["thoughtsTokenCount"],u);const c=a(e,["totalTokenCount"]);c!=null&&r(t,["totalTokenCount"],c);const f=a(e,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(S=>ya(n,S))),r(t,["promptTokensDetails"],x)}const d=a(e,["cacheTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(S=>ya(n,S))),r(t,["cacheTokensDetails"],x)}const p=a(e,["candidatesTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>ya(n,S))),r(t,["responseTokensDetails"],x)}const h=a(e,["toolUsePromptTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(S=>ya(n,S))),r(t,["toolUsePromptTokensDetails"],x)}const m=a(e,["trafficType"]);return m!=null&&r(t,["trafficType"],m),t}function tA(n,e){const t={},i=a(e,["timeLeft"]);return i!=null&&r(t,["timeLeft"],i),t}function nA(n,e){const t={},i=a(e,["timeLeft"]);return i!=null&&r(t,["timeLeft"],i),t}function iA(n,e){const t={},i=a(e,["newHandle"]);i!=null&&r(t,["newHandle"],i);const l=a(e,["resumable"]);l!=null&&r(t,["resumable"],l);const o=a(e,["lastConsumedClientMessageIndex"]);return o!=null&&r(t,["lastConsumedClientMessageIndex"],o),t}function lA(n,e){const t={},i=a(e,["newHandle"]);i!=null&&r(t,["newHandle"],i);const l=a(e,["resumable"]);l!=null&&r(t,["resumable"],l);const o=a(e,["lastConsumedClientMessageIndex"]);return o!=null&&r(t,["lastConsumedClientMessageIndex"],o),t}function oA(n,e){const t={};a(e,["setupComplete"])!=null&&r(t,["setupComplete"],DE());const l=a(e,["serverContent"]);l!=null&&r(t,["serverContent"],FE(n,l));const o=a(e,["toolCall"]);o!=null&&r(t,["toolCall"],JE(n,o));const s=a(e,["toolCallCancellation"]);s!=null&&r(t,["toolCallCancellation"],QE(n,s));const u=a(e,["usageMetadata"]);u!=null&&r(t,["usageMetadata"],jE(n,u));const c=a(e,["goAway"]);c!=null&&r(t,["goAway"],tA(n,c));const f=a(e,["sessionResumptionUpdate"]);return f!=null&&r(t,["sessionResumptionUpdate"],iA(n,f)),t}function sA(n,e){const t={};a(e,["setupComplete"])!=null&&r(t,["setupComplete"],kE());const l=a(e,["serverContent"]);l!=null&&r(t,["serverContent"],YE(n,l));const o=a(e,["toolCall"]);o!=null&&r(t,["toolCall"],XE(n,o));const s=a(e,["toolCallCancellation"]);s!=null&&r(t,["toolCallCancellation"],WE(n,s));const u=a(e,["usageMetadata"]);u!=null&&r(t,["usageMetadata"],eA(n,u));const c=a(e,["goAway"]);c!=null&&r(t,["goAway"],nA(n,c));const f=a(e,["sessionResumptionUpdate"]);return f!=null&&r(t,["sessionResumptionUpdate"],lA(n,f)),t}function aA(){return{}}function rA(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["weight"]);return l!=null&&r(t,["weight"],l),t}function uA(n,e){const t={},i=a(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>rA(n,o))),r(t,["weightedPrompts"],l)}return t}function cA(n,e){const t={},i=a(e,["temperature"]);i!=null&&r(t,["temperature"],i);const l=a(e,["topK"]);l!=null&&r(t,["topK"],l);const o=a(e,["seed"]);o!=null&&r(t,["seed"],o);const s=a(e,["guidance"]);s!=null&&r(t,["guidance"],s);const u=a(e,["bpm"]);u!=null&&r(t,["bpm"],u);const c=a(e,["density"]);c!=null&&r(t,["density"],c);const f=a(e,["brightness"]);f!=null&&r(t,["brightness"],f);const d=a(e,["scale"]);d!=null&&r(t,["scale"],d);const p=a(e,["muteBass"]);p!=null&&r(t,["muteBass"],p);const h=a(e,["muteDrums"]);h!=null&&r(t,["muteDrums"],h);const m=a(e,["onlyBassAndDrums"]);return m!=null&&r(t,["onlyBassAndDrums"],m),t}function fA(n,e){const t={},i=a(e,["clientContent"]);i!=null&&r(t,["clientContent"],uA(n,i));const l=a(e,["musicGenerationConfig"]);return l!=null&&r(t,["musicGenerationConfig"],cA(n,l)),t}function dA(n,e){const t={},i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);l!=null&&r(t,["mimeType"],l);const o=a(e,["sourceMetadata"]);return o!=null&&r(t,["sourceMetadata"],fA(n,o)),t}function hA(n,e){const t={},i=a(e,["audioChunks"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>dA(n,o))),r(t,["audioChunks"],l)}return t}function pA(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["filteredReason"]);return l!=null&&r(t,["filteredReason"],l),t}function mA(n,e){const t={};a(e,["setupComplete"])!=null&&r(t,["setupComplete"],aA());const l=a(e,["serverContent"]);l!=null&&r(t,["serverContent"],hA(n,l));const o=a(e,["filteredPrompt"]);return o!=null&&r(t,["filteredPrompt"],pA(n,o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gA(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function yA(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function vA(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function xA(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],gA(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],yA(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],vA(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function Kr(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>xA(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function TA(n,e){const t={},i=a(e,["anyOf"]);i!=null&&r(t,["anyOf"],i);const l=a(e,["default"]);l!=null&&r(t,["default"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["enum"]);s!=null&&r(t,["enum"],s);const u=a(e,["example"]);u!=null&&r(t,["example"],u);const c=a(e,["format"]);c!=null&&r(t,["format"],c);const f=a(e,["items"]);f!=null&&r(t,["items"],f);const d=a(e,["maxItems"]);d!=null&&r(t,["maxItems"],d);const p=a(e,["maxLength"]);p!=null&&r(t,["maxLength"],p);const h=a(e,["maxProperties"]);h!=null&&r(t,["maxProperties"],h);const m=a(e,["maximum"]);m!=null&&r(t,["maximum"],m);const x=a(e,["minItems"]);x!=null&&r(t,["minItems"],x);const S=a(e,["minLength"]);S!=null&&r(t,["minLength"],S);const _=a(e,["minProperties"]);_!=null&&r(t,["minProperties"],_);const y=a(e,["minimum"]);y!=null&&r(t,["minimum"],y);const v=a(e,["nullable"]);v!=null&&r(t,["nullable"],v);const T=a(e,["pattern"]);T!=null&&r(t,["pattern"],T);const C=a(e,["properties"]);C!=null&&r(t,["properties"],C);const b=a(e,["propertyOrdering"]);b!=null&&r(t,["propertyOrdering"],b);const w=a(e,["required"]);w!=null&&r(t,["required"],w);const M=a(e,["title"]);M!=null&&r(t,["title"],M);const R=a(e,["type"]);return R!=null&&r(t,["type"],R),t}function SA(n,e){const t={};if(a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(e,["category"]);i!=null&&r(t,["category"],i);const l=a(e,["threshold"]);return l!=null&&r(t,["threshold"],l),t}function CA(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function _A(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function EA(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],_A(n,i)),t}function AA(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function bA(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],AA(n,i)),t}function MA(){return{}}function NA(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>CA(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],EA(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],bA(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],MA());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function wA(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function RA(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function DA(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],RA(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function kA(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],wA(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],DA(n,l)),t}function IA(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function m0(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],IA(n,i)),t}function UA(n,e){const t={},i=a(e,["speaker"]);i!=null&&r(t,["speaker"],i);const l=a(e,["voiceConfig"]);return l!=null&&r(t,["voiceConfig"],m0(n,l)),t}function LA(n,e){const t={},i=a(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>UA(n,o))),r(t,["speakerVoiceConfigs"],l)}return t}function OA(n,e){const t={},i=a(e,["voiceConfig"]);i!=null&&r(t,["voiceConfig"],m0(n,i));const l=a(e,["multiSpeakerVoiceConfig"]);l!=null&&r(t,["multiSpeakerVoiceConfig"],LA(n,l));const o=a(e,["languageCode"]);return o!=null&&r(t,["languageCode"],o),t}function VA(n,e){const t={},i=a(e,["includeThoughts"]);i!=null&&r(t,["includeThoughts"],i);const l=a(e,["thinkingBudget"]);return l!=null&&r(t,["thinkingBudget"],l),t}function $A(n,e,t){const i={},l=a(e,["systemInstruction"]);t!==void 0&&l!=null&&r(t,["systemInstruction"],Kr(n,Lt(n,l)));const o=a(e,["temperature"]);o!=null&&r(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&r(i,["topP"],s);const u=a(e,["topK"]);u!=null&&r(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&r(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&r(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const p=a(e,["responseLogprobs"]);p!=null&&r(i,["responseLogprobs"],p);const h=a(e,["logprobs"]);h!=null&&r(i,["logprobs"],h);const m=a(e,["presencePenalty"]);m!=null&&r(i,["presencePenalty"],m);const x=a(e,["frequencyPenalty"]);x!=null&&r(i,["frequencyPenalty"],x);const S=a(e,["seed"]);S!=null&&r(i,["seed"],S);const _=a(e,["responseMimeType"]);_!=null&&r(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);if(y!=null&&r(i,["responseSchema"],TA(n,Cr(n,y))),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(e,["safetySettings"]);if(t!==void 0&&v!=null){let L=v;Array.isArray(L)&&(L=L.map(ce=>SA(n,ce))),r(t,["safetySettings"],L)}const T=a(e,["tools"]);if(t!==void 0&&T!=null){let L=Js(n,T);Array.isArray(L)&&(L=L.map(ce=>NA(n,Ks(n,ce)))),r(t,["tools"],L)}const C=a(e,["toolConfig"]);if(t!==void 0&&C!=null&&r(t,["toolConfig"],kA(n,C)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=a(e,["cachedContent"]);t!==void 0&&b!=null&&r(t,["cachedContent"],qi(n,b));const w=a(e,["responseModalities"]);w!=null&&r(i,["responseModalities"],w);const M=a(e,["mediaResolution"]);M!=null&&r(i,["mediaResolution"],M);const R=a(e,["speechConfig"]);if(R!=null&&r(i,["speechConfig"],OA(n,l0(n,R))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=a(e,["thinkingConfig"]);return P!=null&&r(i,["thinkingConfig"],VA(n,P)),i}function Em(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Kr(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["generationConfig"],$A(n,o,t)),t}function BA(n,e,t){const i={},l=a(e,["taskType"]);t!==void 0&&l!=null&&r(t,["requests[]","taskType"],l);const o=a(e,["title"]);t!==void 0&&o!=null&&r(t,["requests[]","title"],o);const s=a(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&r(t,["requests[]","outputDimensionality"],s),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function PA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["contents"]);l!=null&&r(t,["requests[]","content"],i0(n,l));const o=a(e,["config"]);o!=null&&r(t,["config"],BA(n,o,t));const s=a(e,["model"]);return s!==void 0&&r(t,["requests[]","model"],Be(n,s)),t}function zA(n,e,t){const i={};if(a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=a(e,["numberOfImages"]);t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l);const o=a(e,["aspectRatio"]);t!==void 0&&o!=null&&r(t,["parameters","aspectRatio"],o);const s=a(e,["guidanceScale"]);if(t!==void 0&&s!=null&&r(t,["parameters","guidanceScale"],s),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=a(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&r(t,["parameters","safetySetting"],u);const c=a(e,["personGeneration"]);t!==void 0&&c!=null&&r(t,["parameters","personGeneration"],c);const f=a(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&r(t,["parameters","includeSafetyAttributes"],f);const d=a(e,["includeRaiReason"]);t!==void 0&&d!=null&&r(t,["parameters","includeRaiReason"],d);const p=a(e,["language"]);t!==void 0&&p!=null&&r(t,["parameters","language"],p);const h=a(e,["outputMimeType"]);t!==void 0&&h!=null&&r(t,["parameters","outputOptions","mimeType"],h);const m=a(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&r(t,["parameters","outputOptions","compressionQuality"],m),a(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function GA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&r(t,["config"],zA(n,o,t)),t}function qA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function HA(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);t!==void 0&&s!=null&&r(t,["_query","filter"],s);const u=a(e,["queryBase"]);return t!==void 0&&u!=null&&r(t,["_url","models_url"],a0(n,u)),i}function FA(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],HA(n,i,t)),t}function YA(n,e,t){const i={},l=a(e,["displayName"]);t!==void 0&&l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);t!==void 0&&o!=null&&r(t,["description"],o);const s=a(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&r(t,["defaultCheckpointId"],s),i}function ZA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],YA(n,l,t)),t}function KA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function JA(n,e){const t={};if(a(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function XA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Kr(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["config"],JA(n,o)),t}function QA(n,e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=a(e,["imageBytes"]);i!=null&&r(t,["bytesBase64Encoded"],ai(n,i));const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function WA(n,e,t){const i={},l=a(e,["numberOfVideos"]);if(t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l),a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=a(e,["durationSeconds"]);if(t!==void 0&&o!=null&&r(t,["parameters","durationSeconds"],o),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=a(e,["aspectRatio"]);if(t!==void 0&&s!=null&&r(t,["parameters","aspectRatio"],s),a(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=a(e,["personGeneration"]);if(t!==void 0&&u!=null&&r(t,["parameters","personGeneration"],u),a(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=a(e,["negativePrompt"]);t!==void 0&&c!=null&&r(t,["parameters","negativePrompt"],c);const f=a(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&r(t,["parameters","enhancePrompt"],f),a(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return i}function jA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["image"]);if(o!=null&&r(t,["instances[0]","image"],QA(n,o)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=a(e,["config"]);return s!=null&&r(t,["config"],WA(n,s,t)),t}function eb(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function tb(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function nb(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function ib(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],eb(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],tb(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],nb(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function wo(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ib(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function lb(n,e){const t={},i=a(e,["anyOf"]);i!=null&&r(t,["anyOf"],i);const l=a(e,["default"]);l!=null&&r(t,["default"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["enum"]);s!=null&&r(t,["enum"],s);const u=a(e,["example"]);u!=null&&r(t,["example"],u);const c=a(e,["format"]);c!=null&&r(t,["format"],c);const f=a(e,["items"]);f!=null&&r(t,["items"],f);const d=a(e,["maxItems"]);d!=null&&r(t,["maxItems"],d);const p=a(e,["maxLength"]);p!=null&&r(t,["maxLength"],p);const h=a(e,["maxProperties"]);h!=null&&r(t,["maxProperties"],h);const m=a(e,["maximum"]);m!=null&&r(t,["maximum"],m);const x=a(e,["minItems"]);x!=null&&r(t,["minItems"],x);const S=a(e,["minLength"]);S!=null&&r(t,["minLength"],S);const _=a(e,["minProperties"]);_!=null&&r(t,["minProperties"],_);const y=a(e,["minimum"]);y!=null&&r(t,["minimum"],y);const v=a(e,["nullable"]);v!=null&&r(t,["nullable"],v);const T=a(e,["pattern"]);T!=null&&r(t,["pattern"],T);const C=a(e,["properties"]);C!=null&&r(t,["properties"],C);const b=a(e,["propertyOrdering"]);b!=null&&r(t,["propertyOrdering"],b);const w=a(e,["required"]);w!=null&&r(t,["required"],w);const M=a(e,["title"]);M!=null&&r(t,["title"],M);const R=a(e,["type"]);return R!=null&&r(t,["type"],R),t}function ob(n,e){const t={},i=a(e,["featureSelectionPreference"]);return i!=null&&r(t,["featureSelectionPreference"],i),t}function sb(n,e){const t={},i=a(e,["method"]);i!=null&&r(t,["method"],i);const l=a(e,["category"]);l!=null&&r(t,["category"],l);const o=a(e,["threshold"]);return o!=null&&r(t,["threshold"],o),t}function ab(n,e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(e,["description"]);i!=null&&r(t,["description"],i);const l=a(e,["name"]);l!=null&&r(t,["name"],l);const o=a(e,["parameters"]);o!=null&&r(t,["parameters"],o);const s=a(e,["response"]);return s!=null&&r(t,["response"],s),t}function rb(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function ub(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],rb(n,i)),t}function cb(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function fb(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],cb(n,i)),t}function db(){return{}}function hb(n,e){const t={},i=a(e,["apiKeyString"]);return i!=null&&r(t,["apiKeyString"],i),t}function pb(n,e){const t={},i=a(e,["apiKeyConfig"]);i!=null&&r(t,["apiKeyConfig"],hb(n,i));const l=a(e,["authType"]);l!=null&&r(t,["authType"],l);const o=a(e,["googleServiceAccountConfig"]);o!=null&&r(t,["googleServiceAccountConfig"],o);const s=a(e,["httpBasicAuthConfig"]);s!=null&&r(t,["httpBasicAuthConfig"],s);const u=a(e,["oauthConfig"]);u!=null&&r(t,["oauthConfig"],u);const c=a(e,["oidcConfig"]);return c!=null&&r(t,["oidcConfig"],c),t}function mb(n,e){const t={},i=a(e,["authConfig"]);return i!=null&&r(t,["authConfig"],pb(n,i)),t}function gb(){return{}}function g0(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(h=>ab(n,h))),r(t,["functionDeclarations"],p)}const l=a(e,["retrieval"]);l!=null&&r(t,["retrieval"],l);const o=a(e,["googleSearch"]);o!=null&&r(t,["googleSearch"],ub(n,o));const s=a(e,["googleSearchRetrieval"]);s!=null&&r(t,["googleSearchRetrieval"],fb(n,s)),a(e,["enterpriseWebSearch"])!=null&&r(t,["enterpriseWebSearch"],db());const c=a(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],mb(n,c)),a(e,["urlContext"])!=null&&r(t,["urlContext"],gb());const d=a(e,["codeExecution"]);return d!=null&&r(t,["codeExecution"],d),t}function yb(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function vb(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function xb(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],vb(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function Tb(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],yb(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],xb(n,l)),t}function Sb(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function Cb(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],Sb(n,i)),t}function _b(n,e){const t={},i=a(e,["voiceConfig"]);if(i!=null&&r(t,["voiceConfig"],Cb(n,i)),a(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function Eb(n,e){const t={},i=a(e,["includeThoughts"]);i!=null&&r(t,["includeThoughts"],i);const l=a(e,["thinkingBudget"]);return l!=null&&r(t,["thinkingBudget"],l),t}function Ab(n,e,t){const i={},l=a(e,["systemInstruction"]);t!==void 0&&l!=null&&r(t,["systemInstruction"],wo(n,Lt(n,l)));const o=a(e,["temperature"]);o!=null&&r(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&r(i,["topP"],s);const u=a(e,["topK"]);u!=null&&r(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&r(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&r(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const p=a(e,["responseLogprobs"]);p!=null&&r(i,["responseLogprobs"],p);const h=a(e,["logprobs"]);h!=null&&r(i,["logprobs"],h);const m=a(e,["presencePenalty"]);m!=null&&r(i,["presencePenalty"],m);const x=a(e,["frequencyPenalty"]);x!=null&&r(i,["frequencyPenalty"],x);const S=a(e,["seed"]);S!=null&&r(i,["seed"],S);const _=a(e,["responseMimeType"]);_!=null&&r(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);y!=null&&r(i,["responseSchema"],lb(n,Cr(n,y)));const v=a(e,["routingConfig"]);v!=null&&r(i,["routingConfig"],v);const T=a(e,["modelSelectionConfig"]);T!=null&&r(i,["modelConfig"],ob(n,T));const C=a(e,["safetySettings"]);if(t!==void 0&&C!=null){let dt=C;Array.isArray(dt)&&(dt=dt.map(wt=>sb(n,wt))),r(t,["safetySettings"],dt)}const b=a(e,["tools"]);if(t!==void 0&&b!=null){let dt=Js(n,b);Array.isArray(dt)&&(dt=dt.map(wt=>g0(n,Ks(n,wt)))),r(t,["tools"],dt)}const w=a(e,["toolConfig"]);t!==void 0&&w!=null&&r(t,["toolConfig"],Tb(n,w));const M=a(e,["labels"]);t!==void 0&&M!=null&&r(t,["labels"],M);const R=a(e,["cachedContent"]);t!==void 0&&R!=null&&r(t,["cachedContent"],qi(n,R));const P=a(e,["responseModalities"]);P!=null&&r(i,["responseModalities"],P);const L=a(e,["mediaResolution"]);L!=null&&r(i,["mediaResolution"],L);const ce=a(e,["speechConfig"]);ce!=null&&r(i,["speechConfig"],_b(n,l0(n,ce)));const Se=a(e,["audioTimestamp"]);Se!=null&&r(i,["audioTimestamp"],Se);const tn=a(e,["thinkingConfig"]);return tn!=null&&r(i,["thinkingConfig"],Eb(n,tn)),i}function Am(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>wo(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["generationConfig"],Ab(n,o,t)),t}function bb(n,e,t){const i={},l=a(e,["taskType"]);t!==void 0&&l!=null&&r(t,["instances[]","task_type"],l);const o=a(e,["title"]);t!==void 0&&o!=null&&r(t,["instances[]","title"],o);const s=a(e,["outputDimensionality"]);t!==void 0&&s!=null&&r(t,["parameters","outputDimensionality"],s);const u=a(e,["mimeType"]);t!==void 0&&u!=null&&r(t,["instances[]","mimeType"],u);const c=a(e,["autoTruncate"]);return t!==void 0&&c!=null&&r(t,["parameters","autoTruncate"],c),i}function Mb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["contents"]);l!=null&&r(t,["instances[]","content"],i0(n,l));const o=a(e,["config"]);return o!=null&&r(t,["config"],bb(n,o,t)),t}function Nb(n,e,t){const i={},l=a(e,["outputGcsUri"]);t!==void 0&&l!=null&&r(t,["parameters","storageUri"],l);const o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&r(t,["parameters","negativePrompt"],o);const s=a(e,["numberOfImages"]);t!==void 0&&s!=null&&r(t,["parameters","sampleCount"],s);const u=a(e,["aspectRatio"]);t!==void 0&&u!=null&&r(t,["parameters","aspectRatio"],u);const c=a(e,["guidanceScale"]);t!==void 0&&c!=null&&r(t,["parameters","guidanceScale"],c);const f=a(e,["seed"]);t!==void 0&&f!=null&&r(t,["parameters","seed"],f);const d=a(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&r(t,["parameters","safetySetting"],d);const p=a(e,["personGeneration"]);t!==void 0&&p!=null&&r(t,["parameters","personGeneration"],p);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&r(t,["parameters","includeSafetyAttributes"],h);const m=a(e,["includeRaiReason"]);t!==void 0&&m!=null&&r(t,["parameters","includeRaiReason"],m);const x=a(e,["language"]);t!==void 0&&x!=null&&r(t,["parameters","language"],x);const S=a(e,["outputMimeType"]);t!==void 0&&S!=null&&r(t,["parameters","outputOptions","mimeType"],S);const _=a(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&r(t,["parameters","outputOptions","compressionQuality"],_);const y=a(e,["addWatermark"]);t!==void 0&&y!=null&&r(t,["parameters","addWatermark"],y);const v=a(e,["enhancePrompt"]);return t!==void 0&&v!=null&&r(t,["parameters","enhancePrompt"],v),i}function wb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&r(t,["config"],Nb(n,o,t)),t}function Jr(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["gcsUri"],i);const l=a(e,["imageBytes"]);l!=null&&r(t,["bytesBase64Encoded"],ai(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function Rb(n,e){const t={},i=a(e,["maskMode"]);i!=null&&r(t,["maskMode"],i);const l=a(e,["segmentationClasses"]);l!=null&&r(t,["maskClasses"],l);const o=a(e,["maskDilation"]);return o!=null&&r(t,["dilation"],o),t}function Db(n,e){const t={},i=a(e,["controlType"]);i!=null&&r(t,["controlType"],i);const l=a(e,["enableControlImageComputation"]);return l!=null&&r(t,["computeControl"],l),t}function kb(n,e){const t={},i=a(e,["styleDescription"]);return i!=null&&r(t,["styleDescription"],i),t}function Ib(n,e){const t={},i=a(e,["subjectType"]);i!=null&&r(t,["subjectType"],i);const l=a(e,["subjectDescription"]);return l!=null&&r(t,["subjectDescription"],l),t}function Ub(n,e){const t={},i=a(e,["referenceImage"]);i!=null&&r(t,["referenceImage"],Jr(n,i));const l=a(e,["referenceId"]);l!=null&&r(t,["referenceId"],l);const o=a(e,["referenceType"]);o!=null&&r(t,["referenceType"],o);const s=a(e,["maskImageConfig"]);s!=null&&r(t,["maskImageConfig"],Rb(n,s));const u=a(e,["controlImageConfig"]);u!=null&&r(t,["controlImageConfig"],Db(n,u));const c=a(e,["styleImageConfig"]);c!=null&&r(t,["styleImageConfig"],kb(n,c));const f=a(e,["subjectImageConfig"]);return f!=null&&r(t,["subjectImageConfig"],Ib(n,f)),t}function Lb(n,e,t){const i={},l=a(e,["outputGcsUri"]);t!==void 0&&l!=null&&r(t,["parameters","storageUri"],l);const o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&r(t,["parameters","negativePrompt"],o);const s=a(e,["numberOfImages"]);t!==void 0&&s!=null&&r(t,["parameters","sampleCount"],s);const u=a(e,["aspectRatio"]);t!==void 0&&u!=null&&r(t,["parameters","aspectRatio"],u);const c=a(e,["guidanceScale"]);t!==void 0&&c!=null&&r(t,["parameters","guidanceScale"],c);const f=a(e,["seed"]);t!==void 0&&f!=null&&r(t,["parameters","seed"],f);const d=a(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&r(t,["parameters","safetySetting"],d);const p=a(e,["personGeneration"]);t!==void 0&&p!=null&&r(t,["parameters","personGeneration"],p);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&r(t,["parameters","includeSafetyAttributes"],h);const m=a(e,["includeRaiReason"]);t!==void 0&&m!=null&&r(t,["parameters","includeRaiReason"],m);const x=a(e,["language"]);t!==void 0&&x!=null&&r(t,["parameters","language"],x);const S=a(e,["outputMimeType"]);t!==void 0&&S!=null&&r(t,["parameters","outputOptions","mimeType"],S);const _=a(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&r(t,["parameters","outputOptions","compressionQuality"],_);const y=a(e,["editMode"]);t!==void 0&&y!=null&&r(t,["parameters","editMode"],y);const v=a(e,["baseSteps"]);return t!==void 0&&v!=null&&r(t,["parameters","editConfig","baseSteps"],v),i}function Ob(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Ub(n,c))),r(t,["instances[0]","referenceImages"],u)}const s=a(e,["config"]);return s!=null&&r(t,["config"],Lb(n,s,t)),t}function Vb(n,e,t){const i={},l=a(e,["includeRaiReason"]);t!==void 0&&l!=null&&r(t,["parameters","includeRaiReason"],l);const o=a(e,["outputMimeType"]);t!==void 0&&o!=null&&r(t,["parameters","outputOptions","mimeType"],o);const s=a(e,["outputCompressionQuality"]);t!==void 0&&s!=null&&r(t,["parameters","outputOptions","compressionQuality"],s);const u=a(e,["numberOfImages"]);t!==void 0&&u!=null&&r(t,["parameters","sampleCount"],u);const c=a(e,["mode"]);return t!==void 0&&c!=null&&r(t,["parameters","mode"],c),i}function $b(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["image"]);l!=null&&r(t,["instances[0]","image"],Jr(n,l));const o=a(e,["upscaleFactor"]);o!=null&&r(t,["parameters","upscaleConfig","upscaleFactor"],o);const s=a(e,["config"]);return s!=null&&r(t,["config"],Vb(n,s,t)),t}function Bb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function Pb(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);t!==void 0&&s!=null&&r(t,["_query","filter"],s);const u=a(e,["queryBase"]);return t!==void 0&&u!=null&&r(t,["_url","models_url"],a0(n,u)),i}function zb(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],Pb(n,i,t)),t}function Gb(n,e,t){const i={},l=a(e,["displayName"]);t!==void 0&&l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);t!==void 0&&o!=null&&r(t,["description"],o);const s=a(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&r(t,["defaultCheckpointId"],s),i}function qb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],Gb(n,l,t)),t}function Hb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function Fb(n,e,t){const i={},l=a(e,["systemInstruction"]);t!==void 0&&l!=null&&r(t,["systemInstruction"],wo(n,Lt(n,l)));const o=a(e,["tools"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>g0(n,c))),r(t,["tools"],u)}const s=a(e,["generationConfig"]);return t!==void 0&&s!=null&&r(t,["generationConfig"],s),i}function Yb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>wo(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["config"],Fb(n,o,t)),t}function Zb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>wo(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["config"],o),t}function Kb(n,e){const t={},i=a(e,["uri"]);i!=null&&r(t,["gcsUri"],i);const l=a(e,["videoBytes"]);l!=null&&r(t,["bytesBase64Encoded"],ai(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function Jb(n,e,t){const i={},l=a(e,["numberOfVideos"]);t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l);const o=a(e,["outputGcsUri"]);t!==void 0&&o!=null&&r(t,["parameters","storageUri"],o);const s=a(e,["fps"]);t!==void 0&&s!=null&&r(t,["parameters","fps"],s);const u=a(e,["durationSeconds"]);t!==void 0&&u!=null&&r(t,["parameters","durationSeconds"],u);const c=a(e,["seed"]);t!==void 0&&c!=null&&r(t,["parameters","seed"],c);const f=a(e,["aspectRatio"]);t!==void 0&&f!=null&&r(t,["parameters","aspectRatio"],f);const d=a(e,["resolution"]);t!==void 0&&d!=null&&r(t,["parameters","resolution"],d);const p=a(e,["personGeneration"]);t!==void 0&&p!=null&&r(t,["parameters","personGeneration"],p);const h=a(e,["pubsubTopic"]);t!==void 0&&h!=null&&r(t,["parameters","pubsubTopic"],h);const m=a(e,["negativePrompt"]);t!==void 0&&m!=null&&r(t,["parameters","negativePrompt"],m);const x=a(e,["enhancePrompt"]);t!==void 0&&x!=null&&r(t,["parameters","enhancePrompt"],x);const S=a(e,["generateAudio"]);t!==void 0&&S!=null&&r(t,["parameters","generateAudio"],S);const _=a(e,["lastFrame"]);return t!==void 0&&_!=null&&r(t,["instances[0]","lastFrame"],Jr(n,_)),i}function Xb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],Be(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["image"]);o!=null&&r(t,["instances[0]","image"],Jr(n,o));const s=a(e,["video"]);s!=null&&r(t,["instances[0]","video"],Kb(n,s));const u=a(e,["config"]);return u!=null&&r(t,["config"],Jb(n,u,t)),t}function Qb(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function Wb(n,e){const t={},i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function jb(n,e){const t={},i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function e2(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],Qb(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],Wb(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],jb(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function t2(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>e2(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function n2(n,e){const t={},i=a(e,["citationSources"]);return i!=null&&r(t,["citations"],i),t}function i2(n,e){const t={},i=a(e,["retrievedUrl"]);i!=null&&r(t,["retrievedUrl"],i);const l=a(e,["urlRetrievalStatus"]);return l!=null&&r(t,["urlRetrievalStatus"],l),t}function l2(n,e){const t={},i=a(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>i2(n,o))),r(t,["urlMetadata"],l)}return t}function o2(n,e){const t={},i=a(e,["content"]);i!=null&&r(t,["content"],t2(n,i));const l=a(e,["citationMetadata"]);l!=null&&r(t,["citationMetadata"],n2(n,l));const o=a(e,["tokenCount"]);o!=null&&r(t,["tokenCount"],o);const s=a(e,["finishReason"]);s!=null&&r(t,["finishReason"],s);const u=a(e,["urlContextMetadata"]);u!=null&&r(t,["urlContextMetadata"],l2(n,u));const c=a(e,["avgLogprobs"]);c!=null&&r(t,["avgLogprobs"],c);const f=a(e,["groundingMetadata"]);f!=null&&r(t,["groundingMetadata"],f);const d=a(e,["index"]);d!=null&&r(t,["index"],d);const p=a(e,["logprobsResult"]);p!=null&&r(t,["logprobsResult"],p);const h=a(e,["safetyRatings"]);return h!=null&&r(t,["safetyRatings"],h),t}function bm(n,e){const t={},i=a(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>o2(n,c))),r(t,["candidates"],u)}const l=a(e,["modelVersion"]);l!=null&&r(t,["modelVersion"],l);const o=a(e,["promptFeedback"]);o!=null&&r(t,["promptFeedback"],o);const s=a(e,["usageMetadata"]);return s!=null&&r(t,["usageMetadata"],s),t}function s2(n,e){const t={},i=a(e,["values"]);return i!=null&&r(t,["values"],i),t}function a2(){return{}}function r2(n,e){const t={},i=a(e,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s2(n,s))),r(t,["embeddings"],o)}return a(e,["metadata"])!=null&&r(t,["metadata"],a2()),t}function u2(n,e){const t={},i=a(e,["bytesBase64Encoded"]);i!=null&&r(t,["imageBytes"],ai(n,i));const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function y0(n,e){const t={},i=a(e,["safetyAttributes","categories"]);i!=null&&r(t,["categories"],i);const l=a(e,["safetyAttributes","scores"]);l!=null&&r(t,["scores"],l);const o=a(e,["contentType"]);return o!=null&&r(t,["contentType"],o),t}function c2(n,e){const t={},i=a(e,["_self"]);i!=null&&r(t,["image"],u2(n,i));const l=a(e,["raiFilteredReason"]);l!=null&&r(t,["raiFilteredReason"],l);const o=a(e,["_self"]);return o!=null&&r(t,["safetyAttributes"],y0(n,o)),t}function f2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>c2(n,s))),r(t,["generatedImages"],o)}const l=a(e,["positivePromptSafetyAttributes"]);return l!=null&&r(t,["positivePromptSafetyAttributes"],y0(n,l)),t}function d2(n,e){const t={},i=a(e,["baseModel"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["createTime"]);l!=null&&r(t,["createTime"],l);const o=a(e,["updateTime"]);return o!=null&&r(t,["updateTime"],o),t}function nf(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["version"]);s!=null&&r(t,["version"],s);const u=a(e,["_self"]);u!=null&&r(t,["tunedModelInfo"],d2(n,u));const c=a(e,["inputTokenLimit"]);c!=null&&r(t,["inputTokenLimit"],c);const f=a(e,["outputTokenLimit"]);f!=null&&r(t,["outputTokenLimit"],f);const d=a(e,["supportedGenerationMethods"]);return d!=null&&r(t,["supportedActions"],d),t}function h2(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=r0(n,l);Array.isArray(o)&&(o=o.map(s=>nf(n,s))),r(t,["models"],o)}return t}function p2(){return{}}function m2(n,e){const t={},i=a(e,["totalTokens"]);i!=null&&r(t,["totalTokens"],i);const l=a(e,["cachedContentTokenCount"]);return l!=null&&r(t,["cachedContentTokenCount"],l),t}function g2(n,e){const t={},i=a(e,["video","uri"]);i!=null&&r(t,["uri"],i);const l=a(e,["video","encodedVideo"]);l!=null&&r(t,["videoBytes"],ai(n,l));const o=a(e,["encoding"]);return o!=null&&r(t,["mimeType"],o),t}function y2(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],g2(n,i)),t}function v2(n,e){const t={},i=a(e,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>y2(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function x2(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response","generateVideoResponse"]);return u!=null&&r(t,["response"],v2(n,u)),t}function T2(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function S2(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function C2(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function _2(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],T2(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],S2(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],C2(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function E2(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>_2(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function A2(n,e){const t={},i=a(e,["citations"]);return i!=null&&r(t,["citations"],i),t}function b2(n,e){const t={},i=a(e,["retrievedUrl"]);i!=null&&r(t,["retrievedUrl"],i);const l=a(e,["urlRetrievalStatus"]);return l!=null&&r(t,["urlRetrievalStatus"],l),t}function M2(n,e){const t={},i=a(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>b2(n,o))),r(t,["urlMetadata"],l)}return t}function N2(n,e){const t={},i=a(e,["content"]);i!=null&&r(t,["content"],E2(n,i));const l=a(e,["citationMetadata"]);l!=null&&r(t,["citationMetadata"],A2(n,l));const o=a(e,["finishMessage"]);o!=null&&r(t,["finishMessage"],o);const s=a(e,["finishReason"]);s!=null&&r(t,["finishReason"],s);const u=a(e,["urlContextMetadata"]);u!=null&&r(t,["urlContextMetadata"],M2(n,u));const c=a(e,["avgLogprobs"]);c!=null&&r(t,["avgLogprobs"],c);const f=a(e,["groundingMetadata"]);f!=null&&r(t,["groundingMetadata"],f);const d=a(e,["index"]);d!=null&&r(t,["index"],d);const p=a(e,["logprobsResult"]);p!=null&&r(t,["logprobsResult"],p);const h=a(e,["safetyRatings"]);return h!=null&&r(t,["safetyRatings"],h),t}function Mm(n,e){const t={},i=a(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>N2(n,d))),r(t,["candidates"],f)}const l=a(e,["createTime"]);l!=null&&r(t,["createTime"],l);const o=a(e,["responseId"]);o!=null&&r(t,["responseId"],o);const s=a(e,["modelVersion"]);s!=null&&r(t,["modelVersion"],s);const u=a(e,["promptFeedback"]);u!=null&&r(t,["promptFeedback"],u);const c=a(e,["usageMetadata"]);return c!=null&&r(t,["usageMetadata"],c),t}function w2(n,e){const t={},i=a(e,["truncated"]);i!=null&&r(t,["truncated"],i);const l=a(e,["token_count"]);return l!=null&&r(t,["tokenCount"],l),t}function R2(n,e){const t={},i=a(e,["values"]);i!=null&&r(t,["values"],i);const l=a(e,["statistics"]);return l!=null&&r(t,["statistics"],w2(n,l)),t}function D2(n,e){const t={},i=a(e,["billableCharacterCount"]);return i!=null&&r(t,["billableCharacterCount"],i),t}function k2(n,e){const t={},i=a(e,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>R2(n,s))),r(t,["embeddings"],o)}const l=a(e,["metadata"]);return l!=null&&r(t,["metadata"],D2(n,l)),t}function I2(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["gcsUri"],i);const l=a(e,["bytesBase64Encoded"]);l!=null&&r(t,["imageBytes"],ai(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function v0(n,e){const t={},i=a(e,["safetyAttributes","categories"]);i!=null&&r(t,["categories"],i);const l=a(e,["safetyAttributes","scores"]);l!=null&&r(t,["scores"],l);const o=a(e,["contentType"]);return o!=null&&r(t,["contentType"],o),t}function dd(n,e){const t={},i=a(e,["_self"]);i!=null&&r(t,["image"],I2(n,i));const l=a(e,["raiFilteredReason"]);l!=null&&r(t,["raiFilteredReason"],l);const o=a(e,["_self"]);o!=null&&r(t,["safetyAttributes"],v0(n,o));const s=a(e,["prompt"]);return s!=null&&r(t,["enhancedPrompt"],s),t}function U2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>dd(n,s))),r(t,["generatedImages"],o)}const l=a(e,["positivePromptSafetyAttributes"]);return l!=null&&r(t,["positivePromptSafetyAttributes"],v0(n,l)),t}function L2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>dd(n,o))),r(t,["generatedImages"],l)}return t}function O2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>dd(n,o))),r(t,["generatedImages"],l)}return t}function V2(n,e){const t={},i=a(e,["endpoint"]);i!=null&&r(t,["name"],i);const l=a(e,["deployedModelId"]);return l!=null&&r(t,["deployedModelId"],l),t}function $2(n,e){const t={},i=a(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["createTime"]);l!=null&&r(t,["createTime"],l);const o=a(e,["updateTime"]);return o!=null&&r(t,["updateTime"],o),t}function B2(n,e){const t={},i=a(e,["checkpointId"]);i!=null&&r(t,["checkpointId"],i);const l=a(e,["epoch"]);l!=null&&r(t,["epoch"],l);const o=a(e,["step"]);return o!=null&&r(t,["step"],o),t}function lf(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["versionId"]);s!=null&&r(t,["version"],s);const u=a(e,["deployedModels"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(m=>V2(n,m))),r(t,["endpoints"],h)}const c=a(e,["labels"]);c!=null&&r(t,["labels"],c);const f=a(e,["_self"]);f!=null&&r(t,["tunedModelInfo"],$2(n,f));const d=a(e,["defaultCheckpointId"]);d!=null&&r(t,["defaultCheckpointId"],d);const p=a(e,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(m=>B2(n,m))),r(t,["checkpoints"],h)}return t}function P2(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=r0(n,l);Array.isArray(o)&&(o=o.map(s=>lf(n,s))),r(t,["models"],o)}return t}function z2(){return{}}function G2(n,e){const t={},i=a(e,["totalTokens"]);return i!=null&&r(t,["totalTokens"],i),t}function q2(n,e){const t={},i=a(e,["tokensInfo"]);return i!=null&&r(t,["tokensInfo"],i),t}function H2(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["uri"],i);const l=a(e,["bytesBase64Encoded"]);l!=null&&r(t,["videoBytes"],ai(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function F2(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],H2(n,i)),t}function Y2(n,e){const t={},i=a(e,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>F2(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function Z2(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],Y2(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K2="Content-Type",J2="X-Server-Timeout",X2="User-Agent",of="x-goog-api-client",Q2="1.5.1",W2=`google-genai-sdk/${Q2}`,j2="v1beta1",eM="v1beta",Nm=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class x0 extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class sf extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class tM{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:j2,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:eM,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const l=[this.getRequestUrlInternal(t)];return i&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))l.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(l,o,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[l,o]of Object.entries(t))typeof o=="object"?i[l]=Object.assign(Object.assign({},i[l]),o):o!==void 0&&(i[l]=o);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(l,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const l=new AbortController,o=l.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>l.abort(),t.timeout),i&&i.addEventListener("abort",()=>{l.abort()}),e.signal=o}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async l=>(await wm(l),new Wc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async l=>(await wm(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var t;return to(this,arguments,function*(){const l=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield ze(l.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c);try{const p=JSON.parse(f);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),m=h.status,x=h.code,S=`got status: ${m}. ${JSON.stringify(p)}`;if(x>=400&&x<500)throw new x0(S);if(x>=500&&x<600)throw new sf(S)}}catch(p){const h=p;if(h.name==="ClientError"||h.name==="ServerError")throw p}s+=f;let d=s.match(Nm);for(;d;){const p=d[1];try{const h=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ze(new Wc(h)),s=s.slice(d[0].length),d=s.match(Nm)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{l.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=W2+" "+this.clientOptions.userAgentExtra;return e[X2]=t,e[of]=t,e[K2]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,l]of Object.entries(e.headers))t.append(i,l);e.timeout&&e.timeout>0&&t.append(J2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const l={};t!=null&&(l.mimeType=t.mimeType,l.name=t.name,l.displayName=t.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);l.sizeBytes=String(s.size);const u=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=u;const c=await this.fetchUploadUrl(l,t);return o.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let l={};t!=null&&t.httpOptions?l=t.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:X("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=s==null?void 0:s.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function wm(n){var e;if(n===void 0)throw new sf("response is undefined");if(!n.ok){const t=n.status,i=n.statusText;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const o=`got status: ${t} ${i}. ${JSON.stringify(l)}`;throw t>=400&&t<500?new x0(o):t>=500&&t<600?new sf(o):new Error(o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nM="mcp_used/unknown";function T0(n){for(const e of n)if(hd(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function S0(n){var e;const t=(e=n[of])!==null&&e!==void 0?e:"";n[of]=(t+` ${nM}`).trimStart()}function iM(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>hd(l)))!==null&&i!==void 0?i:!1}function lM(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>!hd(l)))!==null&&i!==void 0?i:!1}function hd(n){return n!==null&&typeof n=="object"&&n instanceof pd}function oM(n,e=100){return to(this,arguments,function*(){let i,l=0;for(;l<e;){const o=yield ze(n.listTools({cursor:i}));for(const s of o.tools)yield yield ze(s),l++;if(!o.nextCursor)break;i=o.nextCursor}})}class pd{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new pd(e,t)}async initialize(){var e,t,i,l;if(this.mcpTools.length>0)return;const o={},s=[];for(const d of this.mcpClients)try{for(var u=!0,c=(t=void 0,fs(oM(d))),f;f=await c.next(),e=f.done,!e;u=!0){l=f.value,u=!1;const p=l;s.push(p);const h=p.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(p){t={error:p}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(t)throw t.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),sC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await l.callTool({name:i.name,arguments:i.args},void 0,o);t.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sM(n,e,t){const i=new ZS;let l;t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data);const o=mA(n,l);Object.assign(i,o),e(i)}class aM{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=cM(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const d=new Promise(T=>{f=T}),p=e.callbacks,h=function(){f({})},m=this.apiClient,x={onopen:h,onmessage:T=>{sM(m,p.onmessage,T)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(T){},onclose:(i=p==null?void 0:p.onclose)!==null&&i!==void 0?i:function(T){}},S=this.webSocketFactory.create(c,uM(s),x);S.connect(),await d;const _=Be(this.apiClient,e.model),y=h0(this.apiClient,{model:_}),v=tf(this.apiClient,{setup:y});return S.send(JSON.stringify(v)),new rM(S,this.apiClient)}}class rM{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=wE(this.apiClient,e),i=p0(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=RE(this.apiClient,e),i=tf(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=tf(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(ql.PLAY)}pause(){this.sendPlaybackControl(ql.PAUSE)}stop(){this.sendPlaybackControl(ql.STOP)}resetContext(){this.sendPlaybackControl(ql.RESET_CONTEXT)}close(){this.conn.close()}}function uM(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function cM(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function dM(n,e,t){const i=new YS;let l;if(t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data),n.isVertexAI()){const o=sA(n,l);Object.assign(i,o)}else{const o=oA(n,l);Object.assign(i,o)}e(i)}class hM{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new aM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,l,o,s,u;const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const p=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&T0(e.config.tools)&&S0(p);const h=yM(p);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const P=this.apiClient.getApiKey();let L="BidiGenerateContent",ce="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),L="BidiGenerateContentConstrained",ce="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${L}?${ce}=${P}`}let m=()=>{};const x=new Promise(P=>{m=P}),S=e.callbacks,_=function(){var P;(P=S==null?void 0:S.onopen)===null||P===void 0||P.call(S),m({})},y=this.apiClient,v={onopen:_,onmessage:P=>{dM(y,S.onmessage,P)},onerror:(t=S==null?void 0:S.onerror)!==null&&t!==void 0?t:function(P){},onclose:(i=S==null?void 0:S.onclose)!==null&&i!==void 0?i:function(P){}},T=this.webSocketFactory.create(d,gM(h),v);T.connect(),await x;let C=Be(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const P=this.apiClient.getProject(),L=this.apiClient.getLocation();C=`projects/${P}/locations/${L}/`+C}let b={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Tr.AUDIO]}:e.config.responseModalities=[Tr.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],M=[];for(const P of w)if(this.isCallableTool(P)){const L=P;M.push(await L.tool())}else M.push(P);M.length>0&&(e.config.tools=M);const R={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?b=CE(this.apiClient,R):b=SE(this.apiClient,R),delete b.config,T.send(JSON.stringify(b)),new mM(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const pM={turnComplete:!0};class mM{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=xn(e,t.turns),e.isVertexAI()?i=i.map(l=>wo(e,l)):i=i.map(l=>Kr(e,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(fM)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},pM),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:NE(this.apiClient,e)}:t={realtimeInput:ME(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function gM(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function yM(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rm=10;function Dm(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const s of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Oa(s)){l=!0;break}if(!l)return!0;const o=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Oa(n){return"callTool"in n&&typeof n.callTool=="function"}function km(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vM extends No{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,l,o,s,u;const c=await this.processParamsForMcpUsage(t);if(!iM(t)||Dm(t.config))return await this.generateContentInternal(c);if(lM(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,d;const p=xn(this.apiClient,c.contents),h=(o=(l=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:Rm;let m=0;for(;m<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const x=f.candidates[0].content,S=[];for(const _ of(u=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Oa(_)){const v=await _.callTool(f.functionCalls);S.push(...v)}m++,d={role:"user",parts:S},c.contents=xn(this.apiClient,c.contents),c.contents.push(x),c.contents.push(d),km(c.config)&&(p.push(x),p.push(d))}return km(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async t=>{if(Dm(t.config)){const i=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var l;let o;const s=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((l=c==null?void 0:c.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:s.push(c);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o}:u={generatedImages:s},u}),this.list=async t=>{var i;const s={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Zr(xo.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const l={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(l)}}async processParamsForMcpUsage(e){var t,i,l;const o=(t=e.config)===null||t===void 0?void 0:t.tools;if(!o)return e;const s=await Promise.all(o.map(async c=>Oa(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&T0(e.config.tools)){const c=(l=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),S0(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var t,i,l;const o=new Map;for(const s of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Oa(s)){const u=s,c=await u.tool();for(const f of(l=c.functionDeclarations)!==null&&l!==void 0?l:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var t,i,l;const o=(l=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:Rm;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,d,p){var h,m;return to(this,arguments,function*(){for(var x,S,_,y;u<o;){s&&(u++,s=!1);const b=yield ze(f.processParamsForMcpUsage(p)),w=yield ze(f.generateContentStreamInternal(b)),M=[],R=[];try{for(var v=!0,T=(S=void 0,fs(w)),C;C=yield ze(T.next()),x=C.done,!x;v=!0){y=C.value,v=!1;const P=y;if(yield yield ze(P),P.candidates&&(!((h=P.candidates[0])===null||h===void 0)&&h.content)){R.push(P.candidates[0].content);for(const L of(m=P.candidates[0].content.parts)!==null&&m!==void 0?m:[])if(u<o&&L.functionCall){if(!L.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(L.functionCall.name)){const ce=yield ze(d.get(L.functionCall.name).callTool([L.functionCall]));M.push(...ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${L.functionCall.name}`)}}}}catch(P){S={error:P}}finally{try{!v&&!x&&(_=T.return)&&(yield ze(_.call(T)))}finally{if(S)throw S.error}}if(M.length>0){s=!0;const P=new zo;P.candidates=[{content:{role:"user",parts:M}}],yield yield ze(P);const L=[];L.push(...R),L.push({role:"user",parts:M});const ce=xn(f.apiClient,p.contents).concat(L);p.contents=ce}else break}})}(this,c,e)}async generateContentInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Am(this.apiClient,e);return u=X("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=Mm(this.apiClient,d),h=new zo;return Object.assign(h,p),h})}else{const f=Em(this.apiClient,e);return u=X("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=bm(this.apiClient,d),h=new zo;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Am(this.apiClient,e);u=X("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const d=this.apiClient;return s=d.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return to(this,arguments,function*(){var h,m,x,S;try{for(var _=!0,y=fs(p),v;v=yield ze(y.next()),h=v.done,!h;_=!0){S=v.value,_=!1;const C=Mm(d,yield ze(S.json())),b=new zo;Object.assign(b,C),yield yield ze(b)}}catch(T){m={error:T}}finally{try{!_&&!h&&(x=y.return)&&(yield ze(x.call(y)))}finally{if(m)throw m.error}}})})}else{const f=Em(this.apiClient,e);u=X("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const d=this.apiClient;return s=d.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return to(this,arguments,function*(){var h,m,x,S;try{for(var _=!0,y=fs(p),v;v=yield ze(y.next()),h=v.done,!h;_=!0){S=v.value,_=!1;const C=bm(d,yield ze(S.json())),b=new zo;Object.assign(b,C),yield yield ze(b)}}catch(T){m={error:T}}finally{try{!_&&!h&&(x=y.return)&&(yield ze(x.call(y)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Mb(this.apiClient,e);return u=X("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=k2(this.apiClient,d),h=new lm;return Object.assign(h,p),h})}else{const f=PA(this.apiClient,e);return u=X("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=r2(this.apiClient,d),h=new lm;return Object.assign(h,p),h})}}async generateImagesInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=wb(this.apiClient,e);return u=X("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=U2(this.apiClient,d),h=new om;return Object.assign(h,p),h})}else{const f=GA(this.apiClient,e);return u=X("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=f2(this.apiClient,d),h=new om;return Object.assign(h,p),h})}}async editImageInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Ob(this.apiClient,e);return o=X("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=L2(this.apiClient,c),d=new PS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=$b(this.apiClient,e);return o=X("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=O2(this.apiClient,c),d=new zS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Bb(this.apiClient,e);return u=X("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>lf(this.apiClient,d))}else{const f=qA(this.apiClient,e);return u=X("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>nf(this.apiClient,d))}}async listInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=zb(this.apiClient,e);return u=X("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=P2(this.apiClient,d),h=new sm;return Object.assign(h,p),h})}else{const f=FA(this.apiClient,e);return u=X("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=h2(this.apiClient,d),h=new sm;return Object.assign(h,p),h})}}async update(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=qb(this.apiClient,e);return u=X("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>lf(this.apiClient,d))}else{const f=ZA(this.apiClient,e);return u=X("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>nf(this.apiClient,d))}}async delete(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Hb(this.apiClient,e);return u=X("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(()=>{const d=z2(),p=new am;return Object.assign(p,d),p})}else{const f=KA(this.apiClient,e);return u=X("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(()=>{const d=p2(),p=new am;return Object.assign(p,d),p})}}async countTokens(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Yb(this.apiClient,e);return u=X("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=G2(this.apiClient,d),h=new rm;return Object.assign(h,p),h})}else{const f=XA(this.apiClient,e);return u=X("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=m2(this.apiClient,d),h=new rm;return Object.assign(h,p),h})}}async computeTokens(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Zb(this.apiClient,e);return o=X("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=q2(this.apiClient,c),d=new GS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Xb(this.apiClient,e);return u=X("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Z2(this.apiClient,d))}else{const f=jA(this.apiClient,e);return u=X("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>x2(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xM(n,e){const t={},i=a(e,["operationName"]);i!=null&&r(t,["_url","operationName"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function TM(n,e){const t={},i=a(e,["operationName"]);i!=null&&r(t,["_url","operationName"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function SM(n,e){const t={},i=a(e,["operationName"]);i!=null&&r(t,["operationName"],i);const l=a(e,["resourceName"]);l!=null&&r(t,["_url","resourceName"],l);const o=a(e,["config"]);return o!=null&&r(t,["config"],o),t}function CM(n,e){const t={},i=a(e,["video","uri"]);i!=null&&r(t,["uri"],i);const l=a(e,["video","encodedVideo"]);l!=null&&r(t,["videoBytes"],ai(n,l));const o=a(e,["encoding"]);return o!=null&&r(t,["mimeType"],o),t}function _M(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],CM(n,i)),t}function EM(n,e){const t={},i=a(e,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>_M(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function AM(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response","generateVideoResponse"]);return u!=null&&r(t,["response"],EM(n,u)),t}function bM(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["uri"],i);const l=a(e,["bytesBase64Encoded"]);l!=null&&r(t,["videoBytes"],ai(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function MM(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],bM(n,i)),t}function NM(n,e){const t={},i=a(e,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>MM(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function Im(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],NM(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wM extends No{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=t.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:l,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})}async getVideosOperationInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=TM(this.apiClient,e);return u=X("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Im(this.apiClient,d))}else{const f=xM(this.apiClient,e);return u=X("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>AM(this.apiClient,d))}}async fetchPredictVideosOperationInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=SM(this.apiClient,e);return o=X("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>Im(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RM(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function C0(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],RM(n,i)),t}function DM(n,e){const t={},i=a(e,["speaker"]);i!=null&&r(t,["speaker"],i);const l=a(e,["voiceConfig"]);return l!=null&&r(t,["voiceConfig"],C0(n,l)),t}function kM(n,e){const t={},i=a(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>DM(n,o))),r(t,["speakerVoiceConfigs"],l)}return t}function IM(n,e){const t={},i=a(e,["voiceConfig"]);i!=null&&r(t,["voiceConfig"],C0(n,i));const l=a(e,["multiSpeakerVoiceConfig"]);l!=null&&r(t,["multiSpeakerVoiceConfig"],kM(n,l));const o=a(e,["languageCode"]);return o!=null&&r(t,["languageCode"],o),t}function UM(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function LM(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function OM(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function VM(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],UM(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],LM(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],OM(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const p=a(e,["functionResponse"]);p!=null&&r(t,["functionResponse"],p);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function $M(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>VM(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function BM(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function PM(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function zM(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],PM(n,i)),t}function GM(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function qM(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],GM(n,i)),t}function HM(){return{}}function FM(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>BM(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],zM(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],qM(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],HM());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function YM(n,e){const t={},i=a(e,["handle"]);if(i!=null&&r(t,["handle"],i),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Um(){return{}}function ZM(n,e){const t={},i=a(e,["disabled"]);i!=null&&r(t,["disabled"],i);const l=a(e,["startOfSpeechSensitivity"]);l!=null&&r(t,["startOfSpeechSensitivity"],l);const o=a(e,["endOfSpeechSensitivity"]);o!=null&&r(t,["endOfSpeechSensitivity"],o);const s=a(e,["prefixPaddingMs"]);s!=null&&r(t,["prefixPaddingMs"],s);const u=a(e,["silenceDurationMs"]);return u!=null&&r(t,["silenceDurationMs"],u),t}function KM(n,e){const t={},i=a(e,["automaticActivityDetection"]);i!=null&&r(t,["automaticActivityDetection"],ZM(n,i));const l=a(e,["activityHandling"]);l!=null&&r(t,["activityHandling"],l);const o=a(e,["turnCoverage"]);return o!=null&&r(t,["turnCoverage"],o),t}function JM(n,e){const t={},i=a(e,["targetTokens"]);return i!=null&&r(t,["targetTokens"],i),t}function XM(n,e){const t={},i=a(e,["triggerTokens"]);i!=null&&r(t,["triggerTokens"],i);const l=a(e,["slidingWindow"]);return l!=null&&r(t,["slidingWindow"],JM(n,l)),t}function QM(n,e){const t={},i=a(e,["proactiveAudio"]);return i!=null&&r(t,["proactiveAudio"],i),t}function WM(n,e,t){const i={},l=a(e,["generationConfig"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig"],l);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const s=a(e,["temperature"]);t!==void 0&&s!=null&&r(t,["setup","generationConfig","temperature"],s);const u=a(e,["topP"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topP"],u);const c=a(e,["topK"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","maxOutputTokens"],f);const d=a(e,["mediaResolution"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","mediaResolution"],d);const p=a(e,["seed"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","seed"],p);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","speechConfig"],IM(n,fd(n,h)));const m=a(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],m);const x=a(e,["systemInstruction"]);t!==void 0&&x!=null&&r(t,["setup","systemInstruction"],$M(n,Lt(n,x)));const S=a(e,["tools"]);if(t!==void 0&&S!=null){let w=Js(n,S);Array.isArray(w)&&(w=w.map(M=>FM(n,Ks(n,M)))),r(t,["setup","tools"],w)}const _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],YM(n,_));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],Um());const v=a(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&r(t,["setup","outputAudioTranscription"],Um());const T=a(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&r(t,["setup","realtimeInputConfig"],KM(n,T));const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&r(t,["setup","contextWindowCompression"],XM(n,C));const b=a(e,["proactivity"]);return t!==void 0&&b!=null&&r(t,["setup","proactivity"],QM(n,b)),i}function jM(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["setup","model"],Be(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],WM(n,l,t)),t}function eN(n,e,t){const i={},l=a(e,["expireTime"]);t!==void 0&&l!=null&&r(t,["expireTime"],l);const o=a(e,["newSessionExpireTime"]);t!==void 0&&o!=null&&r(t,["newSessionExpireTime"],o);const s=a(e,["uses"]);t!==void 0&&s!=null&&r(t,["uses"],s);const u=a(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&r(t,["bidiGenerateContentSetup"],jM(n,u));const c=a(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&r(t,["fieldMask"],c),i}function tN(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],eN(n,i,t)),t}function nN(n,e){const t={},i=a(e,["name"]);return i!=null&&r(t,["name"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iN(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(o=>`${t}.${o}`);e.push(...l)}else e.push(t)}return e.join(",")}function lN(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(n.bidiGenerateContentSetup=o,t=o):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const l=n.fieldMask;if(t){const o=iN(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?n.fieldMask=o:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];l.length>0&&(u=l.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?n.fieldMask=l.join(","):delete n.fieldMask;return n}class oN extends No{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=tN(this.apiClient,e);o=X("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=lN(u,e.config);return l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>nN(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sN(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function aN(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);return t!==void 0&&s!=null&&r(t,["_query","filter"],s),i}function rN(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],aN(n,i,t)),t}function uN(n,e){const t={},i=a(e,["textInput"]);i!=null&&r(t,["textInput"],i);const l=a(e,["output"]);return l!=null&&r(t,["output"],l),t}function cN(n,e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=a(e,["examples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>uN(n,o))),r(t,["examples","examples"],l)}return t}function fN(n,e,t){const i={};if(a(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=a(e,["tunedModelDisplayName"]);if(t!==void 0&&l!=null&&r(t,["displayName"],l),a(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=a(e,["epochCount"]);t!==void 0&&o!=null&&r(t,["tuningTask","hyperparameters","epochCount"],o);const s=a(e,["learningRateMultiplier"]);if(s!=null&&r(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=a(e,["batchSize"]);t!==void 0&&u!=null&&r(t,["tuningTask","hyperparameters","batchSize"],u);const c=a(e,["learningRate"]);return t!==void 0&&c!=null&&r(t,["tuningTask","hyperparameters","learningRate"],c),i}function dN(n,e){const t={},i=a(e,["baseModel"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["trainingDataset"]);l!=null&&r(t,["tuningTask","trainingData"],cN(n,l));const o=a(e,["config"]);return o!=null&&r(t,["config"],fN(n,o,t)),t}function hN(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function pN(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);return t!==void 0&&s!=null&&r(t,["_query","filter"],s),i}function mN(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],pN(n,i,t)),t}function gN(n,e,t){const i={},l=a(e,["gcsUri"]);if(t!==void 0&&l!=null&&r(t,["supervisedTuningSpec","trainingDatasetUri"],l),a(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function yN(n,e){const t={},i=a(e,["gcsUri"]);return i!=null&&r(t,["validationDatasetUri"],i),t}function vN(n,e,t){const i={},l=a(e,["validationDataset"]);t!==void 0&&l!=null&&r(t,["supervisedTuningSpec"],yN(n,l));const o=a(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&r(t,["tunedModelDisplayName"],o);const s=a(e,["description"]);t!==void 0&&s!=null&&r(t,["description"],s);const u=a(e,["epochCount"]);t!==void 0&&u!=null&&r(t,["supervisedTuningSpec","hyperParameters","epochCount"],u);const c=a(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&r(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const f=a(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&r(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const d=a(e,["adapterSize"]);if(t!==void 0&&d!=null&&r(t,["supervisedTuningSpec","hyperParameters","adapterSize"],d),a(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function xN(n,e){const t={},i=a(e,["baseModel"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["trainingDataset"]);l!=null&&r(t,["supervisedTuningSpec","trainingDatasetUri"],gN(n,l,t));const o=a(e,["config"]);return o!=null&&r(t,["config"],vN(n,o,t)),t}function TN(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["model"],i);const l=a(e,["name"]);return l!=null&&r(t,["endpoint"],l),t}function _0(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["state"]);l!=null&&r(t,["state"],o0(n,l));const o=a(e,["createTime"]);o!=null&&r(t,["createTime"],o);const s=a(e,["tuningTask","startTime"]);s!=null&&r(t,["startTime"],s);const u=a(e,["tuningTask","completeTime"]);u!=null&&r(t,["endTime"],u);const c=a(e,["updateTime"]);c!=null&&r(t,["updateTime"],c);const f=a(e,["description"]);f!=null&&r(t,["description"],f);const d=a(e,["baseModel"]);d!=null&&r(t,["baseModel"],d);const p=a(e,["_self"]);p!=null&&r(t,["tunedModel"],TN(n,p));const h=a(e,["distillationSpec"]);h!=null&&r(t,["distillationSpec"],h);const m=a(e,["experiment"]);m!=null&&r(t,["experiment"],m);const x=a(e,["labels"]);x!=null&&r(t,["labels"],x);const S=a(e,["pipelineJob"]);S!=null&&r(t,["pipelineJob"],S);const _=a(e,["serviceAccount"]);_!=null&&r(t,["serviceAccount"],_);const y=a(e,["tunedModelDisplayName"]);return y!=null&&r(t,["tunedModelDisplayName"],y),t}function SN(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["tunedModels"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>_0(n,s))),r(t,["tuningJobs"],o)}return t}function CN(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);return s!=null&&r(t,["error"],s),t}function _N(n,e){const t={},i=a(e,["checkpointId"]);i!=null&&r(t,["checkpointId"],i);const l=a(e,["epoch"]);l!=null&&r(t,["epoch"],l);const o=a(e,["step"]);o!=null&&r(t,["step"],o);const s=a(e,["endpoint"]);return s!=null&&r(t,["endpoint"],s),t}function EN(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["model"],i);const l=a(e,["endpoint"]);l!=null&&r(t,["endpoint"],l);const o=a(e,["checkpoints"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>_N(n,u))),r(t,["checkpoints"],s)}return t}function af(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["state"]);l!=null&&r(t,["state"],o0(n,l));const o=a(e,["createTime"]);o!=null&&r(t,["createTime"],o);const s=a(e,["startTime"]);s!=null&&r(t,["startTime"],s);const u=a(e,["endTime"]);u!=null&&r(t,["endTime"],u);const c=a(e,["updateTime"]);c!=null&&r(t,["updateTime"],c);const f=a(e,["error"]);f!=null&&r(t,["error"],f);const d=a(e,["description"]);d!=null&&r(t,["description"],d);const p=a(e,["baseModel"]);p!=null&&r(t,["baseModel"],p);const h=a(e,["tunedModel"]);h!=null&&r(t,["tunedModel"],EN(n,h));const m=a(e,["supervisedTuningSpec"]);m!=null&&r(t,["supervisedTuningSpec"],m);const x=a(e,["tuningDataStats"]);x!=null&&r(t,["tuningDataStats"],x);const S=a(e,["encryptionSpec"]);S!=null&&r(t,["encryptionSpec"],S);const _=a(e,["partnerModelTuningSpec"]);_!=null&&r(t,["partnerModelTuningSpec"],_);const y=a(e,["distillationSpec"]);y!=null&&r(t,["distillationSpec"],y);const v=a(e,["experiment"]);v!=null&&r(t,["experiment"],v);const T=a(e,["labels"]);T!=null&&r(t,["labels"],T);const C=a(e,["pipelineJob"]);C!=null&&r(t,["pipelineJob"],C);const b=a(e,["serviceAccount"]);b!=null&&r(t,["serviceAccount"],b);const w=a(e,["tunedModelDisplayName"]);return w!=null&&r(t,["tunedModelDisplayName"],w),t}function AN(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["tuningJobs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>af(n,s))),r(t,["tuningJobs"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bN extends No{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Zr(xo.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const i=await this.tuneMldevInternal(t);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Qc.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=hN(this.apiClient,e);return u=X("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>af(this.apiClient,d))}else{const f=sN(this.apiClient,e);return u=X("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>_0(this.apiClient,d))}}async listInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=mN(this.apiClient,e);return u=X("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const p=AN(this.apiClient,d),h=new um;return Object.assign(h,p),h})}else{const f=rN(this.apiClient,e);return u=X("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const p=SN(this.apiClient,d),h=new um;return Object.assign(h,p),h})}}async tuneInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=xN(this.apiClient,e);return o=X("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>af(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dN(this.apiClient,e);return o=X("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>CN(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MN{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const NN=1024*1024*8,wN=3,RN=1e3,DN=2,Pu="x-goog-upload-status";async function kN(n,e,t){var i,l,o;let s=0,u=0,c=new Wc(new Response),f="upload";for(s=n.size;u<s;){const p=Math.min(NN,s-u),h=n.slice(u,u+p);u+p>=s&&(f+=", finalize");let m=0,x=RN;for(;m<wN&&(c=await t.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[Pu]));)m++,await UN(x),x=x*DN;if(u+=p,((l=c==null?void 0:c.headers)===null||l===void 0?void 0:l[Pu])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[Pu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function IN(n){return{size:n.size,type:n.type}}function UN(n){return new Promise(e=>setTimeout(e,n))}class LN{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kN(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await IN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ON{create(e,t,i){return new VN(e,t,i)}}class VN{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lm="x-goog-api-key";class $N{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Lm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Lm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BN="gl-node/";class E0{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=BS(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const l=new $N(this.apiKey);this.apiClient=new tM({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:BN+"web",uploader:new LN,downloader:new MN}),this.models=new vM(this.apiClient),this.live=new hM(this.apiClient,l,new ON),this.chats=new d_(this.models,this.apiClient),this.caches=new u_(this.apiClient),this.files=new A_(this.apiClient),this.operations=new wM(this.apiClient),this.authTokens=new oN(this.apiClient),this.tunings=new bN(this.apiClient)}}function md(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let vl=md();function A0(n){vl=n}const b0=/[&<>"']/,PN=new RegExp(b0.source,"g"),M0=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,zN=new RegExp(M0.source,"g"),GN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Om=n=>GN[n];function Kt(n,e){if(e){if(b0.test(n))return n.replace(PN,Om)}else if(M0.test(n))return n.replace(zN,Om);return n}const qN=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function HN(n){return n.replace(qN,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const FN=/(^|[^\[])\^/g;function De(n,e){let t=typeof n=="string"?n:n.source;e=e||"";const i={replace:(l,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(FN,"$1"),t=t.replace(l,s),i},getRegex:()=>new RegExp(t,e)};return i}function Vm(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const ds={exec:()=>null};function $m(n,e){const t=n.replace(/\|/g,(o,s,u)=>{let c=!1,f=s;for(;--f>=0&&u[f]==="\\";)c=!c;return c?"|":" |"}),i=t.split(/ \|/);let l=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;l<i.length;l++)i[l]=i[l].trim().replace(/\\\|/g,"|");return i}function Go(n,e,t){const i=n.length;if(i===0)return"";let l=0;for(;l<i&&n.charAt(i-l-1)===e;)l++;return n.slice(0,i-l)}function YN(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let i=0;i<n.length;i++)if(n[i]==="\\")i++;else if(n[i]===e[0])t++;else if(n[i]===e[1]&&(t--,t<0))return i;return-1}function Bm(n,e,t,i){const l=e.href,o=e.title?Kt(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const u={type:"link",raw:t,href:l,title:o,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,u}return{type:"image",raw:t,href:l,title:o,text:Kt(s)}}function ZN(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(l=>{const o=l.match(/^\s+/);if(o===null)return l;const[s]=o;return s.length>=i.length?l.slice(i.length):l}).join(`
`)}class _r{constructor(e){Ve(this,"options");Ve(this,"rules");Ve(this,"lexer");this.options=e||vl}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Go(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],l=ZN(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:l}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const l=Go(i,"#");(this.options.pedantic||!l||/ $/.test(l))&&(i=l.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Go(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let i=Go(t[0],`
`).split(`
`),l="",o="";const s=[];for(;i.length>0;){let u=!1;const c=[];let f;for(f=0;f<i.length;f++)if(/^ {0,3}>/.test(i[f]))c.push(i[f]),u=!0;else if(!u)c.push(i[f]);else break;i=i.slice(f);const d=c.join(`
`),p=d.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");l=l?`${l}
${d}`:d,o=o?`${o}
${p}`:p;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,s,!0),this.lexer.state.top=h,i.length===0)break;const m=s[s.length-1];if((m==null?void 0:m.type)==="code")break;if((m==null?void 0:m.type)==="blockquote"){const x=m,S=x.raw+`
`+i.join(`
`),_=this.blockquote(S);s[s.length-1]=_,l=l.substring(0,l.length-x.raw.length)+_.raw,o=o.substring(0,o.length-x.text.length)+_.text;break}else if((m==null?void 0:m.type)==="list"){const x=m,S=x.raw+`
`+i.join(`
`),_=this.list(S);s[s.length-1]=_,l=l.substring(0,l.length-m.raw.length)+_.raw,o=o.substring(0,o.length-x.raw.length)+_.raw,i=S.substring(s[s.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:s,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const l=i.length>1,o={type:"list",raw:"",ordered:l,start:l?+i.slice(0,-1):"",loose:!1,items:[]};i=l?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=l?i:"[*+-]");const s=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`);let u=!1;for(;e;){let c=!1,f="",d="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;f=t[0],e=e.substring(f.length);let p=t[2].split(`
`,1)[0].replace(/^\t+/,y=>" ".repeat(3*y.length)),h=e.split(`
`,1)[0],m=!p.trim(),x=0;if(this.options.pedantic?(x=2,d=p.trimStart()):m?x=t[1].length+1:(x=t[2].search(/[^ ]/),x=x>4?1:x,d=p.slice(x),x+=t[1].length),m&&/^ *$/.test(h)&&(f+=h+`
`,e=e.substring(h.length+1),c=!0),!c){const y=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),v=new RegExp(`^ {0,${Math.min(3,x-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),T=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:\`\`\`|~~~)`),C=new RegExp(`^ {0,${Math.min(3,x-1)}}#`);for(;e;){const b=e.split(`
`,1)[0];if(h=b,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),T.test(h)||C.test(h)||y.test(h)||v.test(e))break;if(h.search(/[^ ]/)>=x||!h.trim())d+=`
`+h.slice(x);else{if(m||p.search(/[^ ]/)>=4||T.test(p)||C.test(p)||v.test(p))break;d+=`
`+h}!m&&!h.trim()&&(m=!0),f+=b+`
`,e=e.substring(b.length+1),p=h.slice(x)}}o.loose||(u?o.loose=!0:/\n *\n *$/.test(f)&&(u=!0));let S=null,_;this.options.gfm&&(S=/^\[[ xX]\] /.exec(d),S&&(_=S[0]!=="[ ] ",d=d.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:f,task:!!S,checked:_,loose:!1,text:d,tokens:[]}),o.raw+=f}o.items[o.items.length-1].raw=o.items[o.items.length-1].raw.trimEnd(),o.items[o.items.length-1].text=o.items[o.items.length-1].text.trimEnd(),o.raw=o.raw.trimEnd();for(let c=0;c<o.items.length;c++)if(this.lexer.state.top=!1,o.items[c].tokens=this.lexer.blockTokens(o.items[c].text,[]),!o.loose){const f=o.items[c].tokens.filter(p=>p.type==="space"),d=f.length>0&&f.some(p=>/\n.*\n/.test(p.raw));o.loose=d}if(o.loose)for(let c=0;c<o.items.length;c++)o.items[c].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),l=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:l,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const i=$m(t[1]),l=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===l.length){for(const u of l)/^ *-+: *$/.test(u)?s.align.push("right"):/^ *:-+: *$/.test(u)?s.align.push("center"):/^ *:-+ *$/.test(u)?s.align.push("left"):s.align.push(null);for(let u=0;u<i.length;u++)s.header.push({text:i[u],tokens:this.lexer.inline(i[u]),header:!0,align:s.align[u]});for(const u of o)s.rows.push($m(u,s.header.length).map((c,f)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:s.align[f]})));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Kt(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const s=Go(i.slice(0,-1),"\\");if((i.length-s.length)%2===0)return}else{const s=YN(t[2],"()");if(s>-1){const c=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let l=t[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);s&&(l=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(i)?l=l.slice(1):l=l.slice(1,-1)),Bm(t,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const l=(i[2]||i[1]).replace(/\s+/g," "),o=t[l.toLowerCase()];if(!o){const s=i[0].charAt(0);return{type:"text",raw:s,text:s}}return Bm(i,o,i[0],this.lexer)}}emStrong(e,t,i=""){let l=this.rules.inline.emStrongLDelim.exec(e);if(!l||l[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(l[1]||l[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const s=[...l[0]].length-1;let u,c,f=s,d=0;const p=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,t=t.slice(-1*e.length+s);(l=p.exec(t))!=null;){if(u=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!u)continue;if(c=[...u].length,l[3]||l[4]){f+=c;continue}else if((l[5]||l[6])&&s%3&&!((s+c)%3)){d+=c;continue}if(f-=c,f>0)continue;c=Math.min(c,c+f+d);const h=[...l[0]][0].length,m=e.slice(0,s+l.index+h+c);if(Math.min(s,c)%2){const S=m.slice(1,-1);return{type:"em",raw:m,text:S,tokens:this.lexer.inlineTokens(S)}}const x=m.slice(2,-2);return{type:"strong",raw:m,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const l=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return l&&o&&(i=i.substring(1,i.length-1)),i=Kt(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let i,l;return t[2]==="@"?(i=Kt(t[1]),l="mailto:"+i):(i=Kt(t[1]),l=i),{type:"link",raw:t[0],text:i,href:l,tokens:[{type:"text",raw:i,text:i}]}}}url(e){var i;let t;if(t=this.rules.inline.url.exec(e)){let l,o;if(t[2]==="@")l=Kt(t[0]),o="mailto:"+l;else{let s;do s=t[0],t[0]=((i=this.rules.inline._backpedal.exec(t[0]))==null?void 0:i[0])??"";while(s!==t[0]);l=Kt(t[0]),t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:l,href:o,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let i;return this.lexer.state.inRawBlock?i=t[0]:i=Kt(t[0]),{type:"text",raw:t[0],text:i}}}}const KN=/^(?: *(?:\n|$))+/,JN=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,XN=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Xs=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,QN=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,N0=/(?:[*+-]|\d{1,9}[.)])/,w0=De(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,N0).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),gd=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,WN=/^[^\n]+/,yd=/(?!\s*\])(?:\\.|[^\[\]\\])+/,jN=De(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",yd).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ew=De(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,N0).getRegex(),Xr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",vd=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,tw=De("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",vd).replace("tag",Xr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),R0=De(gd).replace("hr",Xs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xr).getRegex(),nw=De(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",R0).getRegex(),xd={blockquote:nw,code:JN,def:jN,fences:XN,heading:QN,hr:Xs,html:tw,lheading:w0,list:ew,newline:KN,paragraph:R0,table:ds,text:WN},Pm=De("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Xs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xr).getRegex(),iw={...xd,table:Pm,paragraph:De(gd).replace("hr",Xs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Pm).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Xr).getRegex()},lw={...xd,html:De(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",vd).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ds,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:De(gd).replace("hr",Xs).replace("heading",` *#{1,6} *[^
]`).replace("lheading",w0).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},D0=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ow=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,k0=/^( {2,}|\\)\n(?!\s*$)/,sw=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Qs="\\p{P}\\p{S}",aw=De(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Qs).getRegex(),rw=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,uw=De(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Qs).getRegex(),cw=De("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Qs).getRegex(),fw=De("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Qs).getRegex(),dw=De(/\\([punct])/,"gu").replace(/punct/g,Qs).getRegex(),hw=De(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),pw=De(vd).replace("(?:-->|$)","-->").getRegex(),mw=De("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",pw).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Er=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,gw=De(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Er).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),I0=De(/^!?\[(label)\]\[(ref)\]/).replace("label",Er).replace("ref",yd).getRegex(),U0=De(/^!?\[(ref)\](?:\[\])?/).replace("ref",yd).getRegex(),yw=De("reflink|nolink(?!\\()","g").replace("reflink",I0).replace("nolink",U0).getRegex(),Td={_backpedal:ds,anyPunctuation:dw,autolink:hw,blockSkip:rw,br:k0,code:ow,del:ds,emStrongLDelim:uw,emStrongRDelimAst:cw,emStrongRDelimUnd:fw,escape:D0,link:gw,nolink:U0,punctuation:aw,reflink:I0,reflinkSearch:yw,tag:mw,text:sw,url:ds},vw={...Td,link:De(/^!?\[(label)\]\((.*?)\)/).replace("label",Er).getRegex(),reflink:De(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Er).getRegex()},rf={...Td,escape:De(D0).replace("])","~|])").getRegex(),url:De(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},xw={...rf,br:De(k0).replace("{2,}","*").getRegex(),text:De(rf.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},va={normal:xd,gfm:iw,pedantic:lw},qo={normal:Td,gfm:rf,breaks:xw,pedantic:vw};class Rn{constructor(e){Ve(this,"tokens");Ve(this,"options");Ve(this,"state");Ve(this,"tokenizer");Ve(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||vl,this.options.tokenizer=this.options.tokenizer||new _r,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:va.normal,inline:qo.normal};this.options.pedantic?(t.block=va.pedantic,t.inline=qo.pedantic):this.options.gfm&&(t.block=va.gfm,this.options.breaks?t.inline=qo.breaks:t.inline=qo.gfm),this.tokenizer.rules=t}static get rules(){return{block:va,inline:qo}}static lex(e,t){return new Rn(t).lex(e)}static lexInline(e,t){return new Rn(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],i=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(u,c,f)=>c+"    ".repeat(f.length));let l,o,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(l=u.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))){if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length),l.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+l.raw,o.text+=`
`+l.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+l.raw,o.text+=`
`+l.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let u=1/0;const c=e.slice(1);let f;this.options.extensions.startBlock.forEach(d=>{f=d.call({lexer:this},c),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(this.state.top&&(l=this.tokenizer.paragraph(s))){o=t[t.length-1],i&&(o==null?void 0:o.type)==="paragraph"?(o.raw+=`
`+l.raw,o.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(l),i=s.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length),o=t[t.length-1],o&&o.type==="text"?(o.raw+=`
`+l.raw,o.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(l);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,l,o,s=e,u,c,f;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)d.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,u.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(i=d.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),l=t[t.length-1],l&&i.type==="text"&&l.type==="text"?(l.raw+=i.raw,l.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),l=t[t.length-1],l&&i.type==="text"&&l.type==="text"?(l.raw+=i.raw,l.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,s,f)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const p=e.slice(1);let h;this.options.extensions.startInline.forEach(m=>{h=m.call({lexer:this},p),typeof h=="number"&&h>=0&&(d=Math.min(d,h))}),d<1/0&&d>=0&&(o=e.substring(0,d+1))}if(i=this.tokenizer.inlineText(o)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(f=i.raw.slice(-1)),c=!0,l=t[t.length-1],l&&l.type==="text"?(l.raw+=i.raw,l.text+=i.text):t.push(i);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}}class Ar{constructor(e){Ve(this,"options");Ve(this,"parser");this.options=e||vl}space(e){return""}code({text:e,lang:t,escaped:i}){var s;const l=(s=(t||"").match(/^\S*/))==null?void 0:s[0],o=e.replace(/\n$/,"")+`
`;return l?'<pre><code class="language-'+Kt(l)+'">'+(i?o:Kt(o,!0))+`</code></pre>
`:"<pre><code>"+(i?o:Kt(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,i=e.start;let l="";for(let u=0;u<e.items.length;u++){const c=e.items[u];l+=this.listitem(c)}const o=t?"ol":"ul",s=t&&i!==1?' start="'+i+'"':"";return"<"+o+s+`>
`+l+"</"+o+`>
`}listitem(e){let t="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" "}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",i="";for(let o=0;o<e.header.length;o++)i+=this.tablecell(e.header[o]);t+=this.tablerow({text:i});let l="";for(let o=0;o<e.rows.length;o++){const s=e.rows[o];i="";for(let u=0;u<s.length;u++)i+=this.tablecell(s[u]);l+=this.tablerow({text:i})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+l+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+t+`</${i}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:i}){const l=this.parser.parseInline(i),o=Vm(e);if(o===null)return l;e=o;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+l+"</a>",s}image({href:e,title:t,text:i}){const l=Vm(e);if(l===null)return i;e=l;let o=`<img src="${e}" alt="${i}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class Sd{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Dn{constructor(e){Ve(this,"options");Ve(this,"renderer");Ve(this,"textRenderer");this.options=e||vl,this.options.renderer=this.options.renderer||new Ar,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Sd}static parse(e,t){return new Dn(t).parse(e)}static parseInline(e,t){return new Dn(t).parseInline(e)}parse(e,t=!0){let i="";for(let l=0;l<e.length;l++){const o=e[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const u=o,c=this.options.extensions.renderers[u.type].call({parser:this},u);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){i+=c||"";continue}}const s=o;switch(s.type){case"space":{i+=this.renderer.space(s);continue}case"hr":{i+=this.renderer.hr(s);continue}case"heading":{i+=this.renderer.heading(s);continue}case"code":{i+=this.renderer.code(s);continue}case"table":{i+=this.renderer.table(s);continue}case"blockquote":{i+=this.renderer.blockquote(s);continue}case"list":{i+=this.renderer.list(s);continue}case"html":{i+=this.renderer.html(s);continue}case"paragraph":{i+=this.renderer.paragraph(s);continue}case"text":{let u=s,c=this.renderer.text(u);for(;l+1<e.length&&e[l+1].type==="text";)u=e[++l],c+=`
`+this.renderer.text(u);t?i+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c}]}):i+=c;continue}default:{const u='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let l=0;l<e.length;l++){const o=e[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=u||"";continue}}const s=o;switch(s.type){case"escape":{i+=t.text(s);break}case"html":{i+=t.html(s);break}case"link":{i+=t.link(s);break}case"image":{i+=t.image(s);break}case"strong":{i+=t.strong(s);break}case"em":{i+=t.em(s);break}case"codespan":{i+=t.codespan(s);break}case"br":{i+=t.br(s);break}case"del":{i+=t.del(s);break}case"text":{i+=t.text(s);break}default:{const u='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}}class hs{constructor(e){Ve(this,"options");this.options=e||vl}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}Ve(hs,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var oi,L0,uf,O0;class Tw{constructor(...e){Ud(this,oi);Ve(this,"defaults",md());Ve(this,"options",this.setOptions);Ve(this,"parse",ko(this,oi,uf).call(this,Rn.lex,Dn.parse));Ve(this,"parseInline",ko(this,oi,uf).call(this,Rn.lexInline,Dn.parseInline));Ve(this,"Parser",Dn);Ve(this,"Renderer",Ar);Ve(this,"TextRenderer",Sd);Ve(this,"Lexer",Rn);Ve(this,"Tokenizer",_r);Ve(this,"Hooks",hs);this.use(...e)}walkTokens(e,t){var l,o;let i=[];for(const s of e)switch(i=i.concat(t.call(this,s)),s.type){case"table":{const u=s;for(const c of u.header)i=i.concat(this.walkTokens(c.tokens,t));for(const c of u.rows)for(const f of c)i=i.concat(this.walkTokens(f.tokens,t));break}case"list":{const u=s;i=i.concat(this.walkTokens(u.items,t));break}default:{const u=s;(o=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&o[u.type]?this.defaults.extensions.childTokens[u.type].forEach(c=>{const f=u[c].flat(1/0);i=i.concat(this.walkTokens(f,t))}):u.tokens&&(i=i.concat(this.walkTokens(u.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const l={...i};if(l.async=this.defaults.async||l.async||!1,i.extensions&&(i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const s=t.renderers[o.name];s?t.renderers[o.name]=function(...u){let c=o.renderer.apply(this,u);return c===!1&&(c=s.apply(this,u)),c}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=t[o.level];s?s.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),l.extensions=t),i.renderer){const o=this.defaults.renderer||new Ar(this.defaults);for(const s in i.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const u=s;let c=i.renderer[u];i.useNewRenderer||(c=ko(this,oi,L0).call(this,c,u,o));const f=o[u];o[u]=(...d)=>{let p=c.apply(o,d);return p===!1&&(p=f.apply(o,d)),p||""}}l.renderer=o}if(i.tokenizer){const o=this.defaults.tokenizer||new _r(this.defaults);for(const s in i.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const u=s,c=i.tokenizer[u],f=o[u];o[u]=(...d)=>{let p=c.apply(o,d);return p===!1&&(p=f.apply(o,d)),p}}l.tokenizer=o}if(i.hooks){const o=this.defaults.hooks||new hs;for(const s in i.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;const u=s,c=i.hooks[u],f=o[u];hs.passThroughHooks.has(s)?o[u]=d=>{if(this.defaults.async)return Promise.resolve(c.call(o,d)).then(h=>f.call(o,h));const p=c.call(o,d);return f.call(o,p)}:o[u]=(...d)=>{let p=c.apply(o,d);return p===!1&&(p=f.apply(o,d)),p}}l.hooks=o}if(i.walkTokens){const o=this.defaults.walkTokens,s=i.walkTokens;l.walkTokens=function(u){let c=[];return c.push(s.call(this,u)),o&&(c=c.concat(o.call(this,u))),c}}this.defaults={...this.defaults,...l}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Rn.lex(e,t??this.defaults)}parser(e,t){return Dn.parse(e,t??this.defaults)}}oi=new WeakSet,L0=function(e,t,i){switch(t){case"heading":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,i.parser.parseInline(l.tokens),l.depth,HN(i.parser.parseInline(l.tokens,i.parser.textRenderer)))};case"code":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text,l.lang,!!l.escaped)};case"table":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);let o="",s="";for(let c=0;c<l.header.length;c++)s+=this.tablecell({text:l.header[c].text,tokens:l.header[c].tokens,header:!0,align:l.align[c]});o+=this.tablerow({text:s});let u="";for(let c=0;c<l.rows.length;c++){const f=l.rows[c];s="";for(let d=0;d<f.length;d++)s+=this.tablecell({text:f[d].text,tokens:f[d].tokens,header:!1,align:l.align[d]});u+=this.tablerow({text:s})}return e.call(this,o,u)};case"blockquote":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);const o=this.parser.parse(l.tokens);return e.call(this,o)};case"list":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);const o=l.ordered,s=l.start,u=l.loose;let c="";for(let f=0;f<l.items.length;f++){const d=l.items[f],p=d.checked,h=d.task;let m="";if(d.task){const x=this.checkbox({checked:!!p});u?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=x+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=x+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:x+" "}):m+=x+" "}m+=this.parser.parse(d.tokens,u),c+=this.listitem({type:"list_item",raw:m,text:m,task:h,checked:!!p,loose:u,tokens:d.tokens})}return e.call(this,c,o,s)};case"html":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text,l.block)};case"paragraph":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"escape":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)};case"link":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.href,l.title,this.parser.parseInline(l.tokens))};case"image":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.href,l.title,l.text)};case"strong":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"em":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"codespan":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)};case"del":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"text":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)}}return e},uf=function(e,t){return(i,l)=>{const o={...l},s={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const u=ko(this,oi,O0).call(this,!!s.silent,!!s.async);if(typeof i>"u"||i===null)return u(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return u(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(i):i).then(c=>e(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>t(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(u);try{s.hooks&&(i=s.hooks.preprocess(i));let c=e(i,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let f=t(c,s);return s.hooks&&(f=s.hooks.postprocess(f)),f}catch(c){return u(c)}}},O0=function(e,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const l="<p>An error occurred:</p><pre>"+Kt(i.message+"",!0)+"</pre>";return t?Promise.resolve(l):l}if(t)return Promise.reject(i);throw i}};const hl=new Tw;function Ae(n,e){return hl.parse(n,e)}Ae.options=Ae.setOptions=function(n){return hl.setOptions(n),Ae.defaults=hl.defaults,A0(Ae.defaults),Ae};Ae.getDefaults=md;Ae.defaults=vl;Ae.use=function(...n){return hl.use(...n),Ae.defaults=hl.defaults,A0(Ae.defaults),Ae};Ae.walkTokens=function(n,e){return hl.walkTokens(n,e)};Ae.parseInline=hl.parseInline;Ae.Parser=Dn;Ae.parser=Dn.parse;Ae.Renderer=Ar;Ae.TextRenderer=Sd;Ae.Lexer=Rn;Ae.lexer=Rn.lex;Ae.Tokenizer=_r;Ae.Hooks=hs;Ae.parse=Ae;Ae.options;Ae.setOptions;Ae.use;Ae.walkTokens;Ae.parseInline;Dn.parse;Rn.lex;const zu="smartcalendar:geminiApiKey",Gu="smartcalendar:openRouterApiKey",zm="smartcalendar:aiProviderPreference",qu="smartcalendar:openRouterModel",V0=A.createContext(void 0);function Sw({children:n}){const[e,t]=A.useState(()=>(localStorage.getItem(zu)??"").trim()),[i,l]=A.useState(()=>(localStorage.getItem(Gu)??"").trim()),[o,s]=A.useState(()=>{const _=(localStorage.getItem(zm)??"").trim();return _==="auto"||_==="gemini"||_==="openrouter"?_:"auto"}),[u,c]=A.useState(()=>(localStorage.getItem(qu)??"").trim()),f=A.useCallback(_=>{const y=_.trim();t(y),y?localStorage.setItem(zu,y):localStorage.removeItem(zu)},[]),d=A.useCallback(_=>{const y=_.trim();l(y),y?localStorage.setItem(Gu,y):localStorage.removeItem(Gu)},[]),p=A.useCallback(_=>{s(_),localStorage.setItem(zm,_)},[]),h=A.useCallback(_=>{const y=_.trim();c(y),y?localStorage.setItem(qu,y):localStorage.removeItem(qu)},[]),m=A.useCallback(()=>{f("")},[f]),x=A.useCallback(()=>{d("")},[d]),S=A.useMemo(()=>({apiKey:e,openRouterApiKey:i,aiProviderPreference:o,openRouterModel:u,setApiKey:f,setOpenRouterApiKey:d,setAiProviderPreference:p,setOpenRouterModel:h,clearApiKey:m,clearOpenRouterApiKey:x}),[e,i,o,u,f,d,p,h,m,x]);return g.jsx(V0.Provider,{value:S,children:n})}function Cd(){const n=A.useContext(V0);if(!n)throw new Error("useApiKey must be used within an ApiKeyProvider");return n}const Cw="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let $0=(n=21)=>{let e="",t=crypto.getRandomValues(new Uint8Array(n|=0));for(;n--;)e+=Cw[t[n]&63];return e};const _w="https://openrouter.ai/api/v1/chat/completions",Gm=["mistralai/mistral-7b-instruct:free","meta-llama/llama-3.2-3b-instruct:free","google/gemma-3-4b-it:free","openai/gpt-oss-20b:free"];async function cf({apiKey:n,messages:e,model:t,temperature:i=.2}){var s,u,c,f;const l=t?[t,...Gm]:[...Gm];let o=null;for(const d of l)try{const p=await fetch(_w,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"SmartCalendar"},body:JSON.stringify({model:d,messages:e,temperature:i})}),h=await p.text();if(!p.ok)try{const S=JSON.parse(h),_=(s=S==null?void 0:S.error)==null?void 0:s.message;throw new Error(_||`OpenRouter   (${p.status}) - model=${d}`)}catch{throw new Error(`OpenRouter   (${p.status}) - model=${d}`)}const m=JSON.parse(h),x=(f=(c=(u=m==null?void 0:m.choices)==null?void 0:u[0])==null?void 0:c.message)==null?void 0:f.content;if(!x||typeof x!="string")throw new Error("OpenRouter   .");return x}catch(p){o=p}throw o instanceof Error?o:new Error("OpenRouter  ")}const Ew=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-slate-400 group-hover:text-cyan-400 transition-colors",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),Aw=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-slate-400 group-hover:text-cyan-400 transition-colors",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})}),qm=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),bw=({className:n=""})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-5 h-5 ${n}`,children:g.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})}),Hm=({className:n=""})=>g.jsx("div",{className:`animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-cyan-500 ${n}`}),Mw=({className:n=""})=>g.jsx("div",{className:`h-4 w-4 rounded-full border-2 border-slate-500 ${n}`}),Nw=({className:n=""})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-4 h-4 ${n}`,children:g.jsx("path",{d:"M10 4.5a.75.75 0 01.75.75v4h4a.75.75 0 010 1.5h-4v4a.75.75 0 01-1.5 0v-4h-4a.75.75 0 010-1.5h4v-4A.75.75 0 0110 4.5z"})}),Hu=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},Fm=n=>{const[e,t,i]=n.split("-").map(Number);return{year:e,month:t,day:i}},ww=(n,e,t)=>{const i=String(n).padStart(4,"0"),l=String(e).padStart(2,"0"),o=String(t).padStart(2,"0");return`${i}-${l}-${o}`},_d=n=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n),Wi=n=>typeof n=="string"&&bt.includes(n),B0=n=>n==="manual"||n==="ai",Rw=()=>{try{const n=localStorage.getItem(Mo);if(!n)return[];const e=JSON.parse(n);return Array.isArray(e)?e.map(i=>{if(!i||typeof i!="object")return null;const l=i,o=l.id,s=l.date,u=l.title,c=l.category,f=l.source;if(typeof o!="string"||!_d(s)||typeof u!="string")return null;const d=Wi(c)?c:Qn,p=B0(f)?f:"manual";return{id:o,date:s,title:u,category:d,kind:"user",source:p}}).filter(i=>!!i):[]}catch{return[]}},Dw=n=>{try{const e=n.map(({id:t,date:i,title:l,category:o,source:s})=>({id:t,date:i,title:l,category:o,source:s}));localStorage.setItem(Mo,JSON.stringify(e))}catch{}},P0="smartcalendar:eventFilters",yn=["manual","ai"],kw=()=>{try{const n=localStorage.getItem(P0);if(!n)return{categories:[...bt],sources:[...yn]};const e=JSON.parse(n);if(!e||typeof e!="object"||Array.isArray(e))return{categories:[...bt],sources:[...yn]};const t=e,i=t.categories,l=t.sources,o=new Set;if(Array.isArray(i))for(const f of i)Wi(f)&&o.add(f);const s=new Set;if(Array.isArray(l))for(const f of l)B0(f)&&s.add(f);let u=[...bt];Array.isArray(i)&&(u=bt.filter(f=>o.has(f)),u.length===0&&i.length>0&&(u=[...bt]));let c=[...yn];return Array.isArray(l)&&(c=yn.filter(f=>s.has(f)),c.length===0&&l.length>0&&(c=[...yn])),{categories:u,sources:c}}catch{return{categories:[...bt],sources:[...yn]}}},Iw=n=>{try{localStorage.setItem(P0,JSON.stringify({categories:n.categories,sources:n.sources}))}catch{}},Uw=()=>{try{const n=localStorage.getItem(Fr);if(!n)return{};const e=JSON.parse(n);if(!e||typeof e!="object"||Array.isArray(e))return{};const t={};for(const[i,l]of Object.entries(e)){if(!l||typeof l!="object"||Array.isArray(l))continue;const o=l,s={};_d(o.date)&&(s.date=o.date),typeof o.title=="string"&&o.title.trim()&&(s.title=o.title.trim()),Wi(o.category)&&(s.category=o.category),(s.date||s.title||s.category)&&(t[i]=s)}return t}catch{return{}}},Lw=n=>{try{localStorage.setItem(Fr,JSON.stringify(n))}catch{}},xa=["  ...","    (Google Search)...","   K-   ...","   ...","   ...","     ..."],Ow=({scheduleText:n,manualContextText:e})=>{const{apiKey:t,openRouterApiKey:i,aiProviderPreference:l,openRouterModel:o}=Cd(),{colors:s,theme:u}=Gi(),[c,f]=A.useState(new Date),[d,p]=A.useState("month"),[h,m]=A.useState([]),[x,S]=A.useState({}),_=A.useMemo(()=>h.map(E=>{const D=x[E.id];return D?{...E,date:D.date??E.date,title:D.title??E.title,category:D.category??E.category}:E}),[h,x]),[y,v]=A.useState([]),T=A.useMemo(()=>[..._,...y],[_,y]),[{categories:C,sources:b}]=A.useState(()=>kw()),[w,M]=A.useState(C),[R,P]=A.useState(b),[L,ce]=A.useState(!1),Se=A.useRef(null);A.useEffect(()=>{Iw({categories:w,sources:R})},[w,R]),A.useEffect(()=>{if(!L)return;const E=D=>{const $=Se.current;$&&(D.target instanceof Node&&$.contains(D.target)||ce(!1))};return window.addEventListener("mousedown",E),()=>window.removeEventListener("mousedown",E)},[L]);const tn=A.useMemo(()=>new Set(w),[w]),dt=A.useMemo(()=>new Set(R),[R]),wt=A.useMemo(()=>{const E=new Set(w),D=new Set(R);return T.filter($=>E.has($.category)&&D.has($.source))},[T,w,R]),O=w.length===bt.length&&R.length===yn.length,le=()=>{if(O){M([]),P([]);return}M([...bt]),P([...yn])},ie=E=>{M(D=>{const $=new Set(D);return $.has(E)?$.delete(E):$.add(E),bt.filter(U=>$.has(U))})},ke=E=>{P(D=>{const $=new Set(D);return $.has(E)?$.delete(E):$.add(E),yn.filter(U=>$.has(U))})},Oe=()=>{M([...bt]),P([...yn])},[Ke,Rt]=A.useState(null),[I,Y]=A.useState({}),[F,V]=A.useState({}),[z,xe]=A.useState(!1),[Ie,Z]=A.useState(null),[j,oe]=A.useState(null),[H,me]=A.useState(0),qe=A.useRef(0),ht=A.useRef(0),[Je,be]=A.useState(!0),[Pe,pt]=A.useState(null),[Bn,nt]=A.useState(new Set),[mn,Sn]=A.useState(null),[Qr,Pn]=A.useState(null),Cn=A.useRef(!1),We=new Date,[nn,pe]=A.useState(!1),[Ue,Dt]=A.useState("create"),[He,kt]=A.useState(null),[_t,zn]=A.useState("user"),[xl,K]=A.useState(""),[ye,ln]=A.useState(Qn),[$t,Tl]=A.useState(We.getFullYear()),[Ro,Wr]=A.useState(We.getMonth()+1),[Do,Ws]=A.useState(We.getDate()),[Ed,ri]=A.useState(null),jr=A.useMemo(()=>{if(!t)return null;try{return new E0({apiKey:t})}catch(E){return console.error("Failed to initialize Gemini AI:",E),null}},[t]),ui=A.useMemo(()=>{const E=!!t,D=!!i;return l==="gemini"?E?"gemini":D?"openrouter":null:l==="openrouter"?D?"openrouter":E?"gemini":null:E?"gemini":D?"openrouter":null},[l,t,i]);A.useEffect(()=>{const E=()=>v(Rw());return E(),window.addEventListener(hr,E),()=>window.removeEventListener(hr,E)},[]),A.useEffect(()=>{Dw(y)},[y]),A.useEffect(()=>{const E=()=>S(Uw());return E(),window.addEventListener(qc,E),()=>window.removeEventListener(qc,E)},[]),A.useEffect(()=>{Lw(x)},[x]),A.useEffect(()=>{(D=>{be(!0),pt(null);const $=new Date().getFullYear(),U=sp,J=[];let Ce=1;if(!D||D.trim()===""){pt("   ."),m([]),be(!1);return}const W=D.split(`
`).filter(ee=>ee.trim()!=="");if(W.length===0){pt("    ."),m([]),be(!1);return}W.forEach((ee,je)=>{const it=ee.split(";").map(xt=>xt.replace(/[\s\u00A0\u200B\uFEFF]+/g," ").trim().normalize("NFC")).filter(xt=>xt!=="");if(it.length===3||it.length>=4){const xt=it[0],se=it[1],fe=it.length>=4?it[2].replace(/[\s\u00A0\u200B\uFEFF]+/g,"").trim().normalize("NFC"):null,Xe=it.length>=4?it.slice(3).join(";").trim():it.slice(2).join(";").trim(),Et=xt.match(/(\d+)/),At=se.match(/(\d+)/),_n=Wi(fe)?fe:Qn;if(Et&&At&&Xe){const En=parseInt(Et[1],10)-1,fi=parseInt(At[1],10);if(En>=0&&En<12&&fi>0&&fi<=31){const di=Xe.split(",").map(Bt=>Bt.trim()).filter(Bt=>Bt);for(let Bt=$;Bt<=U;Bt++)di.forEach(kd=>{const ea=new Date(Bt,En,fi);ea.getFullYear()===Bt&&ea.getMonth()===En&&ea.getDate()===fi&&J.push({id:`event-${Bt}-${En+1}-${fi}-${kd.substring(0,10).replace(/[^a-zA-Z0-9----]/g,"")}-${Ce++}`,date:Hu(ea),title:kd,kind:"builtin",category:_n,source:"manual"})})}else console.warn(`Invalid date components (month or day out of range) in schedule data on line ${je+1}: ${ee}`)}else console.warn(`Invalid format (month/day regex mismatch) in schedule data on line ${je+1}: ${ee}`)}else ee.trim()&&console.warn(`Skipping malformed line (expected 3 or 4 parts separated by ';') in schedule data on line ${je+1}: ${ee}`)}),m(J),W.length>0&&J.length===0&&pt("      .  (: 1 ; 1 ;   1 ; 1 ;  ; ) ."),be(!1)})(n)},[n]),A.useEffect(()=>{let E;if(z&&H<xa.length){const D=1300+Math.random()*1500;E=window.setTimeout(()=>{me($=>$+1)},D)}return()=>clearTimeout(E)},[z,H]);const Ad=E=>{f(D=>{const $=new Date(D);return $.setDate(1),$.setMonth($.getMonth()+E),$}),nt(new Set)},bd=E=>{f(D=>{const $=new Date(D);return $.setDate($.getDate()+E*7),$})},Hi=c.getFullYear(),Sl=c.getMonth(),H0=new Date(Hi,Sl+1,0).getDate(),F0=new Date(Hi,Sl,1).getDay(),eu=new Date,Md=A.useCallback(async E=>{var $,U,J;if(I[E.id])return;const D=qe.current+1;if(qe.current=D,ht.current=D,Z(E.id),xe(!0),me(0),oe(null),!ui){ht.current===D&&(oe("AI    . API   ."),xe(!1));return}if(ui==="gemini"&&!jr){ht.current===D&&(oe("AI    . Gemini  ."),xe(!1));return}try{const Ce=`    : '${E.title}'${E.category?` ( : ${E.category})`:""}.
 : ${E.date}

        (       ):
1. **/ **:        . (3-4 )
2. ****:          . **          ** .
    (: "1. [] ", "2.  ", "3.   ")
      :
        1.  / ,  YouTube
        2.    
        3.    
    K-/NEIS       .
3. ** **: (    )`;let W=Ce;e&&(W+=`

---    ---
${e}
---    ---`),W+=`

 Google      ,     . Markdown       .`;const ee=[];ee.push("      ."),ee.push("  ,      ."),ee.push(" ,       ."),e&&(ee.push("     //  ."),ee.push("---    ---"),ee.push(e),ee.push("---    ---"));const je=Ce+`

   .`;let it,xt;if(ui==="gemini"){const se=await jr.models.generateContent({model:"gemini-2.5-flash",contents:W,config:{thinkingConfig:{thinkingBudget:3e3},tools:[{googleSearch:{}}]}});it=se.text,xt=(J=(U=($=se.candidates)==null?void 0:$[0])==null?void 0:U.groundingMetadata)==null?void 0:J.groundingChunks}else it=await cf({apiKey:i,model:o.trim()||void 0,messages:[{role:"system",content:ee.join(`
`)},{role:"user",content:je}],temperature:.2}),xt=void 0;ht.current===D&&(it?Y(se=>({...se,[E.id]:it})):oe("AI    ."),xt&&xt.length>0?V(se=>({...se,[E.id]:xt})):ui==="openrouter"&&V(se=>{if(!se[E.id])return se;const fe={...se};return delete fe[E.id],fe}))}catch(Ce){console.error("Error generating event description:",Ce);let W="    .    .";if(Ce instanceof Error){const ee=Ce.message??"",je=ee.toLowerCase();ee.includes("API key not valid")?W="API   . .":ee.includes("OpenRouter")&&(ee.includes("401")||je.includes("unauthorized"))?W="OpenRouter API   . .":je.includes("quota")?W="API   .":je.includes("failed to fetch")||je.includes("network")?W="  .   .":ee.includes("OpenRouter")&&ee.includes("404")&&(W="OpenRouter   .      .")}ht.current===D&&oe(W)}finally{ht.current===D&&(xe(!1),me(xa.length))}},[ui,jr,i,o,I,e]),Nd=E=>{Rt(E),oe(null),Md(E)},Fi=A.useCallback(E=>{Y(D=>{if(!D[E])return D;const $={...D};return delete $[E],$}),V(D=>{if(!D[E])return D;const $={...D};return delete $[E],$})},[]),wd=A.useCallback((E,D)=>{if(!E||!_d(D))return;const $=y.find(J=>J.id===E);if($){if($.date===D)return;v(J=>J.map(Ce=>Ce.id===E?{...Ce,date:D}:Ce)),Fi(E),Rt(J=>J&&J.id===E?{...J,date:D}:J);return}const U=h.find(J=>J.id===E);U&&(U.date===D?S(J=>{const Ce=J[E];if(!Ce)return J;const W={...Ce};delete W.date;const ee={...J};return!W.date&&!W.title&&!W.category?delete ee[E]:ee[E]=W,ee}):S(J=>{const W={...J[E]??{}};W.date=D;const ee={...J};return ee[E]=W,ee}),Fi(E),Rt(J=>J&&J.id===E?{...J,date:D}:J))},[y,h,Fi]),tu=E=>{const{year:D,month:$,day:U}=Fm(E);!Number.isFinite(D)||!Number.isFinite($)||!Number.isFinite(U)||(Dt("create"),kt(null),zn("user"),K(""),ln(Qn),Tl(D),Wr($),Ws(U),ri(null),pe(!0))},Y0=E=>{const{year:D,month:$,day:U}=Fm(E.date);!Number.isFinite(D)||!Number.isFinite($)||!Number.isFinite(U)||(Dt("edit"),kt(E.id),zn(E.kind),K(E.title),ln(E.category??Qn),Tl(D),Wr($),Ws(U),ri(null),pe(!0))},ci=()=>{pe(!1),ri(null)},js=A.useMemo(()=>new Date($t,Ro,0).getDate(),[$t,Ro]);A.useEffect(()=>{Do>js&&Ws(js)},[Do,js]);const Z0=A.useMemo(()=>{const E=new Date().getFullYear(),D=Math.min(E,$t),$=Math.max(sp,E+2,$t);return Array.from({length:$-D+1},(U,J)=>D+J)},[$t]),K0=()=>{const E=xl.trim();if(!E){ri("  .");return}const D=ww($t,Ro,Do),$=new Date($t,Ro-1,Do);if(Number.isNaN($.getTime())||Hu($)!==D){ri("  .");return}if(Ue==="create"){const U=Wi(ye)?ye:null;if(!U){ri(" .");return}const J={id:`user-${$0(10)}`,date:D,title:E,category:U,kind:"user",source:"manual"};v(Ce=>[J,...Ce]),ci();return}if(!He){ri("   .");return}if(_t==="user"){const U=Wi(ye)?ye:null;if(!U){ri(" .");return}v(J=>J.map(Ce=>Ce.id===He?{...Ce,date:D,title:E,category:U}:Ce)),Fi(He),ci();return}S(U=>{const J=h.find(je=>je.id===He);if(!J)return U;const W={...U[He]??{}};D===J.date?delete W.date:W.date=D,E===J.title?delete W.title:W.title=E,Wi(ye)?W.category=ye:delete W.category;const ee={...U};return!W.date&&!W.title&&!W.category?delete ee[He]:ee[He]=W,ee}),Fi(He),ci()},Rd=()=>{if(He){if(_t==="builtin"){S(E=>{if(!E[He])return E;const $={...E};return delete $[He],$}),Fi(He),ci();return}v(E=>E.filter(D=>D.id!==He)),Fi(He),ci()}},Dd=E=>{nt(D=>{const $=new Set(D);return $.has(E)?$.delete(E):$.add(E),$})},J0=()=>g.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center mb-4 sm:mb-6 px-1 sm:px-2",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("h2",{className:`text-xl sm:text-2xl font-bold ${s.textPrimary} tracking-wide`,children:d==="month"?`${Hi} ${Vu[Sl]}`:`${Hi} ${Vu[c.getMonth()]} ${Math.ceil(c.getDate()/7)} ()`}),g.jsxs("div",{className:`flex ${s.inputBg} rounded-lg p-1 border ${s.border}`,children:[g.jsx("button",{onClick:()=>p("month"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${d==="month"?`${s.activeTabBg} ${s.buttonText} shadow-sm`:`${s.textSecondary} hover:${s.textPrimary}`}`,children:""}),g.jsx("button",{onClick:()=>p("week"),"data-tour":"view-week",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${d==="week"?`${s.activeTabBg} ${s.buttonText} shadow-sm`:`${s.textSecondary} hover:${s.textPrimary}`}`,children:""})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"relative",ref:Se,children:[g.jsxs("button",{type:"button",onClick:()=>ce(E=>!E),"data-tour":"filter-button",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors border ${s.border} ${s.inputBg} ${s.textPrimary} hover:opacity-90`,"aria-label":"",children:["",O?"":" "]}),L&&g.jsxs("div",{className:`absolute right-0 mt-2 w-72 ${s.componentBg} border ${s.border} rounded-xl shadow-xl p-3 z-[110]`,onClick:E=>E.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[g.jsx("span",{className:`text-sm font-semibold ${s.textPrimary}`,children:""}),g.jsx("button",{type:"button",onClick:Oe,className:`text-xs ${s.textSecondary} hover:${s.textPrimary} underline`,children:""})]}),g.jsxs("label",{className:`flex items-center gap-2 text-sm ${s.textPrimary}`,children:[g.jsx("input",{type:"checkbox",className:`mt-0.5 h-4 w-4 rounded border ${s.border} ${s.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:O,onChange:le,onClick:E=>E.stopPropagation()})," "]}),g.jsxs("div",{className:`mt-3 pt-2 border-t ${s.border}`,children:[g.jsx("div",{className:`text-xs font-semibold ${s.textSecondary} mb-1`,children:""}),g.jsx("div",{className:"max-h-40 overflow-y-auto scrollbar-thin pr-1 space-y-1",children:bt.map(E=>g.jsxs("label",{className:`flex items-center gap-2 text-sm ${s.textPrimary}`,children:[g.jsx("input",{type:"checkbox",className:`mt-0.5 h-4 w-4 rounded border ${s.border} ${s.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:tn.has(E),onChange:()=>ie(E),onClick:D=>D.stopPropagation()}),g.jsx("span",{className:"truncate",children:E})]},E))})]}),g.jsxs("div",{className:`mt-3 pt-2 border-t ${s.border}`,children:[g.jsx("div",{className:`text-xs font-semibold ${s.textSecondary} mb-1`,children:" "}),g.jsx("div",{className:"space-y-1",children:yn.map(E=>g.jsxs("label",{className:`flex items-center gap-2 text-sm ${s.textPrimary}`,children:[g.jsx("input",{type:"checkbox",className:`mt-0.5 h-4 w-4 rounded border ${s.border} ${s.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:dt.has(E),onChange:()=>ke(E),onClick:D=>D.stopPropagation()}),E==="manual"?" ":"AI "]},E))})]})]})]}),g.jsx("button",{onClick:()=>d==="month"?Ad(-1):bd(-1),className:`p-2 rounded-full ${s.hoverEffect} focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 transition-colors group`,"aria-label":"Previous",children:g.jsx(Ew,{})}),g.jsx("button",{onClick:()=>d==="month"?Ad(1):bd(1),className:`p-2 rounded-full ${s.hoverEffect} focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 transition-colors group`,"aria-label":"Next",children:g.jsx(Aw,{})})]})]}),X0=()=>g.jsx("div",{className:"flex-shrink-0 grid grid-cols-7 gap-1 sm:gap-2 mb-2 px-1",children:Jv.map(E=>g.jsx("div",{className:"text-center font-medium text-xs sm:text-sm text-text-tertiary uppercase",children:E},E))}),Q0=()=>{const E=[];for(let U=0;U<F0;U++)E.push(g.jsx("div",{className:"border border-transparent rounded-lg"},`blank-${U}`));const D=[],$=2;for(let U=1;U<=H0;U++){const J=U===eu.getDate()&&Sl===eu.getMonth()&&Hi===eu.getFullYear(),Ce=new Date(Hi,Sl,U),W=Hu(Ce),ee=wt.filter(se=>se.date===W),je=Bn.has(W),it=!je&&ee.length>$,xt=je?ee:ee.slice(0,$);D.push(g.jsx("div",{className:"relative min-h-[100px] h-full",children:g.jsxs("div",{"aria-label":`${Vu[Sl]} ${U}, ${Hi}. ${ee.length} .   .`,onClick:()=>{mn||Cn.current||tu(W)},onDragOver:se=>{mn&&(se.preventDefault(),se.dataTransfer.dropEffect="move",Pn(W))},onDragLeave:()=>{Pn(se=>se===W?null:se)},onDrop:se=>{se.preventDefault(),se.stopPropagation();const fe=se.dataTransfer.getData("text/plain");fe&&wd(fe,W),Cn.current=!0,window.setTimeout(()=>{Cn.current=!1},0),Sn(null),Pn(null)},className:`
                p-1 sm:p-2 border border-border-secondary/30 rounded-lg
                flex flex-col items-start justify-start 
                text-left 
                transition-all duration-200 ease-in-out
                w-full
                ${u==="dark"?"hover:brightness-125 hover:shadow-xl hover:border-accent-primary/70":"hover:bg-black/5 hover:shadow-sm"}
                ${je?"":"z-0 hover:z-10"}
            ${je?`absolute top-0 left-0 z-[100] h-auto min-h-full shadow-2xl ring-1 ring-border-primary ${s.componentBg}`:`relative h-full ${s.componentBg}`}
            ${J?"bg-accent-primary/10 border-accent-secondary/50":""}
            ${Qr===W?"ring-2 ring-accent-primary":""}
            `,children:[g.jsxs("div",{className:"flex justify-between items-center w-full mb-0.5 flex-shrink-0",children:[g.jsx("span",{className:`
                text-xs font-semibold ml-1
                ${J?"bg-accent-primary text-white w-5 h-5 flex items-center justify-center rounded-full -ml-1 text-[10px]":"text-text-secondary"}
              `,children:U}),g.jsx("button",{type:"button",onClick:se=>{se.stopPropagation(),tu(W)},className:`
                  p-0.5 rounded-full 
                  text-text-tertiary hover:text-accent-primary hover:bg-main
                  opacity-0 group-hover:opacity-100 transition-opacity
                  ${je?"opacity-100":""}
                `,"aria-label":" ",children:g.jsx(Nw,{className:"w-3 h-3"})})]}),g.jsxs("div",{className:`w-full space-y-0.5 flex flex-col ${je?"":"overflow-hidden"}`,children:[xt.map(se=>{const fe=se.kind==="user";return g.jsx("button",{"data-tour":"calendar-event",type:"button",onClick:Xe=>{Xe.stopPropagation(),!Cn.current&&Nd(se)},draggable:!0,onDragStart:Xe=>{Xe.dataTransfer.setData("text/plain",se.id),Xe.dataTransfer.effectAllowed="move",Sn(se.id)},onDragEnd:()=>{Sn(null),Pn(null)},className:`
                      text-left w-full text-[10px] sm:text-[11px] px-1.5 rounded transition-all shadow-sm
                      truncate leading-tight font-bold
                      border flex-shrink-0 h-5 flex items-center
                      ${fe?"bg-accent-primary text-white border-transparent hover:opacity-90":"bg-tertiary text-text-primary border-transparent hover:opacity-90"} 
                      cursor-grab active:cursor-grabbing
                    `,title:se.title,children:se.title},se.id)}),it&&g.jsxs("button",{type:"button","data-tour":"calendar-more",onClick:se=>{se.stopPropagation(),Dd(W)},className:"text-[10px] font-bold text-text-tertiary hover:text-text-primary hover:bg-tertiary/50 mt-0.5 h-4 flex items-center justify-center w-full text-center rounded transition-colors flex-shrink-0",children:["+",ee.length-$," "]}),je&&ee.length>$&&g.jsx("button",{type:"button",onClick:se=>{se.stopPropagation(),Dd(W)},className:"text-[10px] sm:text-xs text-text-tertiary hover:text-text-primary mt-1 py-1 w-full text-center hover:bg-tertiary/50 rounded transition-colors flex-shrink-0",children:""})]})]})},U))}return g.jsx(g.Fragment,{children:[...E,...D]})},W0=()=>{if(!Ke)return null;const E=I[Ke.id],D=F[Ke.id],$=z&&Ie===Ke.id,U=Ie===Ke.id?j:null;let J="/ ",Ce="",W="",ee="",je=" ",it="",xt="";if(E){const fe=E,Xe=fe.match(/1\.\s*(?:\*\*)?\/ (?:\*\*)?:?/i),Et=fe.match(/2\.\s*(?:\*\*)?(?:\*\*)?:?/i),At=fe.match(/3\.\s*(?:\*\*)? (?:\*\*)?:?/i);let _n=Xe?(Xe.index||0)+Xe[0].length:-1,En=Et?(Et.index||0)+Et[0].length:-1,fi=At?(At.index||0)+At[0].length:-1,di=fe.length;Et&&(Et.index||0)>_n&&_n!==-1&&(di=Math.min(di,Et.index||0)),At&&(At.index||0)>_n&&_n!==-1&&(di=Math.min(di,At.index||0));let Bt=fe.length;At&&(At.index||0)>En&&En!==-1&&(Bt=Math.min(Bt,At.index||0)),_n!==-1&&(Ce=fe.substring(_n,di).trim()),En!==-1&&(!Xe||((Et==null?void 0:Et.index)||0)>=di)&&(ee=fe.substring(En,Bt).trim()),fi!==-1&&(!Et||((At==null?void 0:At.index)||0)>=Bt)&&(it=fe.substring(fi).trim()),!Xe&&!Et&&!At&&fe?xt=fe.trim():Xe&&!Ce&&!ee&&!it&&_n!==-1&&(Ce=fe.substring(_n).trim())}const se=fe=>{if(!fe)return null;const Et=Ae.parse(fe,{breaks:!0,gfm:!0}).replace(/<ul>/g,'<ul class="list-disc list-outside ml-5 space-y-1">').replace(/<ol>/g,'<ol class="list-decimal list-outside ml-5 space-y-1">').replace(/<li>/g,`<li class="text-sm ${s.textSecondary} leading-relaxed">`).replace(/<p>/g,`<p class="text-sm ${s.textSecondary} leading-relaxed mb-2">`).replace(/<strong>/g,`<strong class="font-semibold ${s.textPrimary}">`).replace(/<h3>/g,`<h3 class="text-base font-semibold ${s.accentColor} mt-2 mb-1">`).replace(/<h4>/g,`<h4 class="text-sm font-semibold ${s.accentColor} mt-1 mb-1">`);return g.jsx("div",{dangerouslySetInnerHTML:{__html:Et}})};return g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",onClick:()=>Rt(null),role:"dialog","aria-modal":"true","aria-labelledby":"event-modal-title",children:g.jsxs("div",{className:`${s.componentBg} p-5 sm:p-6 rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col ${s.textPrimary} border ${s.border}`,onClick:fe=>fe.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-start mb-4 flex-shrink-0 gap-3",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("h3",{id:"event-modal-title",className:`text-lg font-semibold ${s.accentColor} truncate`,children:Ke.title}),g.jsxs("p",{className:`text-xs ${s.textSecondary} mt-0.5`,children:["AI   ",ui==="gemini"?"Gemini":ui==="openrouter"?"OpenRouter":"",Ke.category?`  ${Ke.category}`:""]})]}),g.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g.jsx("button",{type:"button",onClick:()=>{Rt(null),Y0(Ke)},className:`${s.buttonBg} ${s.hoverEffect} ${s.buttonText} font-semibold py-1.5 px-3 rounded-lg transition-colors text-sm`,children:""}),g.jsx("button",{onClick:()=>Rt(null),className:`p-1 ${s.textSecondary} hover:${s.textPrimary} transition-colors rounded-full ${s.hoverEffect}`,"aria-label":" ",type:"button",children:g.jsx(qm,{})})]})]}),g.jsxs("div",{className:"overflow-y-auto flex-grow pr-1 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-blue-700 hover:scrollbar-thumb-blue-600 active:scrollbar-thumb-blue-500 scrollbar-thumb-rounded-md",children:[$&&!E&&!U&&g.jsxs("div",{className:"text-sm text-slate-300 py-4",children:[g.jsx("ul",{className:"space-y-2.5",children:xa.map((fe,Xe)=>g.jsxs("li",{className:"flex items-center space-x-2.5",children:[Xe<H?g.jsx(bw,{className:"text-green-500 flex-shrink-0"}):Xe===H&&z?g.jsx(Hm,{className:"flex-shrink-0"}):g.jsx(Mw,{className:"text-slate-500 flex-shrink-0"}),g.jsx("span",{className:`${Xe<H?"text-slate-500 line-through":Xe===H&&z?"text-cyan-400 font-medium":"text-slate-400"}`,children:fe})]},Xe))}),H>=xa.length&&$&&g.jsxs("div",{className:"flex items-center space-x-2.5 mt-3",children:[g.jsx(Hm,{className:"flex-shrink-0"}),g.jsx("span",{className:"text-cyan-400 font-medium",children:" ..."})]})]}),U&&g.jsxs("div",{className:"text-sm text-red-400 bg-red-900/20 border border-red-700 p-3 rounded-md",children:[g.jsx("p",{className:"font-semibold mb-1",children:""}),U]}),!E&&!$&&!U&&g.jsxs("div",{className:`text-sm ${s.textSecondary} py-4`,children:[g.jsx("p",{className:`font-semibold ${s.textPrimary} mb-1`,children:"AI    ."}),g.jsxs("p",{children:[" ",g.jsx("span",{className:`${s.textPrimary} font-medium`,children:"API Key "})," Gemini  OpenRouter     ."]}),g.jsx("button",{type:"button",onClick:()=>Md(Ke),className:`${s.accentBg} hover:opacity-90 ${s.buttonText} font-semibold py-2 px-3 rounded-lg transition-colors text-xs mt-3`,children:"AI  "})]}),E&&!U&&g.jsxs(g.Fragment,{children:[xt&&g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:se(xt)}),Ce&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-md font-semibold text-cyan-400 mb-1.5",children:J}),g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:se(Ce)})]}),ee&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-md font-semibold text-cyan-400 mb-1.5",children:W}),g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:se(ee)})]}),it&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-md font-semibold text-cyan-400 mb-1.5",children:je}),g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:se(it)})]}),D&&D.length>0&&g.jsxs("div",{className:"mt-5 pt-4 border-t border-slate-700",children:[g.jsx("h4",{className:"text-xs font-semibold text-slate-400 mb-2",children:"  (Google ):"}),g.jsx("ul",{className:"space-y-1.5",children:D.map((fe,Xe)=>fe.web&&fe.web.uri?g.jsx("li",{className:"text-xs",children:g.jsx("a",{href:fe.web.uri,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 hover:text-cyan-400 hover:underline",title:fe.web.title||fe.web.uri,children:fe.web.title||fe.web.uri})},Xe):null).filter(Boolean)})]})]}),!ui&&(!(Ke!=null&&Ke.id)||!I[Ke.id]&&!z&&!j)&&g.jsx("div",{className:"text-sm text-yellow-400 bg-yellow-900/20 border border-yellow-700 p-3 rounded-md mt-3",children:"AI   API  .    ."})]})]})})},j0=()=>{if(!nn)return null;const E=Ue==="create"?" ":_t==="builtin"?"  ":" ",D=Array.from({length:12},(U,J)=>J+1),$=Array.from({length:js},(U,J)=>J+1);return g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",onClick:ci,role:"dialog","aria-modal":"true","aria-labelledby":"event-editor-title",children:g.jsxs("div",{className:`${s.componentBg} p-5 sm:p-6 rounded-lg shadow-2xl w-full max-w-lg flex flex-col ${s.textPrimary} border ${s.border}`,onClick:U=>U.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-start gap-3",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("h3",{id:"event-editor-title",className:`text-lg font-semibold ${s.accentColor}`,children:E}),g.jsx("p",{className:`text-xs ${s.textSecondary} mt-0.5`,children:"    . (&   )"}),_t==="builtin"&&g.jsx("p",{className:"text-[11px] text-slate-500 mt-1",children:"     ."})]}),g.jsx("button",{type:"button",onClick:ci,className:`p-1 ${s.textSecondary} hover:${s.textPrimary} transition-colors rounded-full ${s.hoverEffect}`,"aria-label":" ",children:g.jsx(qm,{})})]}),g.jsxs("div",{className:"mt-4 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:`text-sm ${s.textPrimary} block mb-1`,children:""}),g.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[g.jsx("select",{value:$t,onChange:U=>Tl(Number(U.target.value)),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,"aria-label":" ",children:Z0.map(U=>g.jsxs("option",{value:U,children:[U,""]},U))}),g.jsx("select",{value:Ro,onChange:U=>Wr(Number(U.target.value)),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,"aria-label":" ",children:D.map(U=>g.jsxs("option",{value:U,children:[U,""]},U))}),g.jsx("select",{value:Do,onChange:U=>Ws(Number(U.target.value)),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,"aria-label":" ",children:$.map(U=>g.jsxs("option",{value:U,children:[U,""]},U))})]}),g.jsx("p",{className:"text-[11px] text-slate-500 mt-1",children:"       ."})]}),g.jsxs("div",{children:[g.jsx("label",{className:`text-sm ${s.textPrimary} block mb-1`,htmlFor:"event-category",children:""}),g.jsxs("select",{id:"event-category",value:ye,onChange:U=>ln(U.target.value),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,children:[g.jsx("option",{value:"",children:" ()"}),bt.map(U=>g.jsx("option",{value:U,children:U},U))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:`text-sm ${s.textPrimary} block mb-1`,htmlFor:"event-title",children:" "}),g.jsx("input",{id:"event-title",value:xl,onChange:U=>K(U.target.value),placeholder:":   ",className:`w-full p-2.5 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none placeholder-slate-600`,autoFocus:!0}),Ed&&g.jsx("div",{className:"mt-2 text-xs text-red-300 bg-red-900/20 border border-red-700 p-2 rounded-md",children:Ed})]})]}),g.jsxs("div",{className:"mt-5 flex items-center justify-between gap-3",children:[Ue==="edit"?_t==="user"?g.jsx("button",{type:"button",onClick:Rd,className:"bg-red-600 hover:bg-red-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:""}):g.jsx("button",{type:"button",onClick:Rd,className:`${s.buttonBg} ${s.hoverEffect} ${s.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:" "}):g.jsx("div",{}),g.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[g.jsx("button",{type:"button",onClick:ci,className:`${s.buttonBg} ${s.hoverEffect} ${s.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:""}),g.jsx("button",{type:"button",onClick:K0,className:`${s.accentBg} hover:opacity-90 ${s.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:""})]})]})]})})};return g.jsxs("div",{className:`${s.componentBg} px-4 sm:px-6 py-3 sm:py-5 rounded-xl shadow-2xl flex flex-col w-full h-full border ${s.border}`,children:[J0(),Je&&g.jsx("div",{className:"text-center p-2 text-sm text-cyan-400 my-1",children:"   ..."}),Pe&&!Je&&g.jsxs("div",{className:"text-center p-2 text-sm text-red-400 bg-red-900/30 rounded-md my-1",children:[g.jsx("p",{className:"font-semibold",children:"  :"}),g.jsx("p",{children:Pe}),g.jsx("p",{className:"text-xs mt-1",children:"      ."})]}),!Je&&!Pe&&T.length===0&&g.jsx("div",{className:"text-center p-2 text-sm text-slate-400 my-1",children:"  .     ."}),!Je&&!Pe&&T.length>0&&wt.length===0&&g.jsxs("div",{className:"text-center p-2 text-sm text-slate-300 bg-slate-900/30 rounded-md my-1",children:[g.jsx("p",{children:"    ."}),g.jsx("button",{type:"button",onClick:Oe,className:`${s.accentBg} hover:opacity-90 ${s.buttonText} font-semibold py-1.5 px-3 rounded-lg transition-colors text-xs mt-2`,children:" "})]}),d==="month"?g.jsxs("div",{className:"flex-grow flex flex-col min-h-0",children:[X0(),g.jsx("div",{className:`flex-grow grid grid-cols-7 grid-rows-6 sm:gap-1 min-h-0 ${s.mainBg} rounded-xl sm:border ${s.border}/50 sm:p-2`,children:Q0()})]}):g.jsx("div",{className:"flex-grow flex flex-col min-h-0",children:g.jsx(iS,{currentDate:c,events:wt,onEventClick:Nd,onDateClick:E=>{mn||Cn.current||tu(E)},onDragStart:(E,D)=>{Sn(D),E.dataTransfer.setData("text/plain",D),E.dataTransfer.effectAllowed="move"},onDragEnd:()=>{Sn(null),Pn(null)},onDrop:(E,D)=>{E.preventDefault();const $=E.dataTransfer.getData("text/plain");$&&(wd($,D),Cn.current=!0,setTimeout(()=>{Cn.current=!1},100)),Sn(null),Pn(null)}})}),W0(),j0()]})},Hl=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},Vw=n=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n),ps=n=>{if(!Vw(n))return!1;const[e,t,i]=n.split("-").map(Number),l=new Date(e,t-1,i);return l.getFullYear()===e&&l.getMonth()===t-1&&l.getDate()===i},z0=n=>typeof n!="string"?null:bt.includes(n)?n:null,$w=n=>n==="manual"||n==="ai"?n:null,ms=(n,e)=>n.localeCompare(e),Fu=(n,e)=>{if(!ps(n))return n;const[t,i,l]=n.split("-").map(Number),o=new Date(t,i-1,l);return o.setDate(o.getDate()+e),Hl(o)},Ki=(n,e)=>ms(n,e)<0?e:n,Bw=(n,e)=>ms(n,e)>0?e:n,Pw=(n,e=new Date)=>{const t=[/(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C?\s*[~-]\s*(\d{1,2})\s*\uC77C?/,/(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C?\s*[~-]\s*(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C?/,/(\d{1,2})\s*[\/\.]\s*(\d{1,2})\s*[~-]\s*(\d{1,2})\s*[\/\.]\s*(\d{1,2})/,/(\d{1,2})\s*\s*(\d{1,2})\s*?\s*[~\\-]\s*(\d{1,2})\s*?/,/(\d{1,2})\s*\s*(\d{1,2})\s*?\s*[~\\-]\s*(\d{1,2})\s*\s*(\d{1,2})\s*?/,/(\d{1,2})\s*[\\/\\.]\\s*(\d{1,2})\s*[~\\-]\s*(\d{1,2})\s*[\\/\\.]\\s*(\d{1,2})/];let i=null,l=null,o=null,s=null;for(const x of t){const S=n.match(x);if(S){if(x===t[0]){i=Number(S[1]),l=Number(S[2]),o=i,s=Number(S[3]);break}if(x===t[1]){i=Number(S[1]),l=Number(S[2]),o=Number(S[3]),s=Number(S[4]);break}if(x===t[2]){i=Number(S[1]),l=Number(S[2]),o=Number(S[3]),s=Number(S[4]);break}}}if(!i||!l||!o||!s||!Number.isFinite(i)||!Number.isFinite(l)||!Number.isFinite(o)||!Number.isFinite(s)||i<1||i>12||o<1||o>12||l<1||l>31||s<1||s>31)return null;const u=new Date(e.getFullYear(),e.getMonth(),e.getDate());let c=e.getFullYear();new Date(c,i-1,l)<u&&(c+=1);const p=o<i||o===i&&s<l?c+1:c,h=new Date(c,i-1,l),m=new Date(p,o-1,s);return Number.isNaN(h.getTime())||Number.isNaN(m.getTime())||Hl(h)!==`${String(c).padStart(4,"0")}-${String(i).padStart(2,"0")}-${String(l).padStart(2,"0")}`||Hl(m)!==`${String(p).padStart(4,"0")}-${String(o).padStart(2,"0")}-${String(s).padStart(2,"0")}`?null:{start:Hl(h),end:Hl(m)}},Ym=n=>["","","","","","","","","",""].some(t=>n.includes(t)),Zm=n=>["","","","","","","",""].some(t=>n.includes(t)),zw=()=>{try{const n=localStorage.getItem(Mo);if(!n)return[];const e=JSON.parse(n);return Array.isArray(e)?e.map(t=>{if(!t||typeof t!="object")return null;const i=t,l=i.id,o=i.date,s=i.title,u=i.category,c=i.source;if(typeof l!="string"||typeof s!="string"||!s.trim()||typeof o!="string"||!ps(o))return null;const f=z0(u)??Qn,d=$w(c)??"manual";return{id:l,date:o,title:s.trim(),category:f,source:d}}).filter(t=>!!t):[]}catch{return[]}},Gw=n=>{try{const e=n.map(({id:t,date:i,title:l,category:o,source:s})=>({id:t,date:i,title:l,category:o,source:s}));localStorage.setItem(Mo,JSON.stringify(e))}catch{}},qw=n=>{const e=n.indexOf("{");if(e<0)return null;const t=n.lastIndexOf("}");return t<=e?null:n.slice(e,t+1)},Hw=({className:n="w-5 h-5"})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.8,stroke:"currentColor",className:n,children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 2v2m8-2v2M4 7h16"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5h14a2 2 0 012 2v13a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11v6m-3-3h6"})]}),Fw=({className:n="w-5 h-5"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.8,stroke:"currentColor",className:n,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),Yw=({className:n="w-6 h-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:g.jsx("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 00-3 3v10.5a3 3 0 003 3h15a3 3 0 003-3V6.75a3 3 0 00-3-3h-15zm4.125 3a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0zM15.375 3a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0zM19.5 6.75a1.125 1.125 0 11-2.25 0 1.125 1.125 0 012.25 0zM10.875 12a3.375 3.375 0 00-3.375 3.375h6.75A3.375 3.375 0 0010.875 12zM4.125 13.875a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z",clipRule:"evenodd"})}),Zw=({className:n="w-6 h-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:g.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z",clipRule:"evenodd"})}),Kw=()=>g.jsxs("div",{className:"flex items-center gap-1.5 px-1 py-1",children:[g.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300/80",style:{animation:"typingDot 1.2s infinite ease-in-out",animationDelay:"0ms"}}),g.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300/80",style:{animation:"typingDot 1.2s infinite ease-in-out",animationDelay:"150ms"}}),g.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300/80",style:{animation:"typingDot 1.2s infinite ease-in-out",animationDelay:"300ms"}})]}),Jw=({manualContextText:n})=>{const{apiKey:e,openRouterApiKey:t,aiProviderPreference:i,openRouterModel:l}=Cd(),{colors:o}=Gi(),[s,u]=A.useState(null),[c,f]=A.useState(null),[d,p]=A.useState([]),[h,m]=A.useState(""),[x,S]=A.useState(!1),[_,y]=A.useState(null),[v,T]=A.useState(!1),[C,b]=A.useState(!1),[w,M]=A.useState(null),[R,P]=A.useState(null),L=A.useRef(null),ce=A.useRef(null),Se=A.useRef(!1),tn=A.useRef({});A.useEffect(()=>{if(e)try{const I=new E0({apiKey:e});u(I),y(null),T(!0)}catch(I){console.error("Failed to initialize GoogleGenAI:",I),y("AI   . API   ."),T(!1)}else t?(u(null),f(null),y(null),T(!0),p([{id:"initial-ai-message",text:"!      .",isUser:!1}])):(console.warn("API_KEY for chatbot is not set. Chatbot AI features will be disabled."),u(null),f(null),p([{id:"initial-no-key",text:"API      .  **API Key **  .",isUser:!1}]),y("AI    API  ."),T(!1))},[e,t]),A.useEffect(()=>{var I;if(s&&v){let Y="You are a helpful assistant for Korean school administration tasks. Provide concise and accurate information based on your knowledge and Google Search results. Cite your sources when available using the grounding information. Respond in Korean. Format your responses using markdown where appropriate (e.g., lists, bolding).!      ";n&&(Y+=`

Additionally, you have access to the following table of contents from a school administration manual. When a user's query relates to topics covered in this manual, please reference the relevant sections or page numbers in your response if applicable. If you use information from this manual, please try to cite it (e.g., " 10, 168p ").

--- SCHOOL ADMINISTRATION MANUAL (TABLE OF CONTENTS) START ---
${n}
--- SCHOOL ADMINISTRATION MANUAL (TABLE OF CONTENTS) END ---`);try{const F=s.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:Y,tools:[{googleSearch:{}}]}});f(F),p([{id:"initial-ai-message",text:"!      .",isUser:!1}]),(I=ce.current)==null||I.focus()}catch(F){console.error("Failed to create chat session:",F),y("   .    API  .")}}},[s,v,n]);const dt=A.useCallback(I=>{if(!I)return;const Y=tn.current[I.id];Y&&Y.scrollIntoView({behavior:"smooth",block:I.align??"start"})},[]);A.useEffect(()=>{if(Se.current){Se.current=!1;return}R&&(dt(R),P(null))},[d,R,dt]);const wt=A.useCallback((I,Y)=>{Se.current=!0,p(F=>F.map(V=>{if(V.id!==I||!V.scheduleProposal||V.scheduleProposal.applied||Y<0||Y>=V.scheduleProposal.selected.length)return V;const z=V.scheduleProposal.selected.slice();return z[Y]=!z[Y],{...V,scheduleProposal:{...V.scheduleProposal,selected:z}}}))},[]),O=A.useCallback(I=>{Se.current=!0,p(Y=>Y.map(F=>{if(F.id!==I||!F.scheduleProposal||F.scheduleProposal.applied)return F;const V=F.scheduleProposal.selected.every(Boolean),z=F.scheduleProposal.selected.map(()=>!V);return{...F,scheduleProposal:{...F.scheduleProposal,selected:z}}}))},[]),le=A.useCallback((I,Y)=>{Se.current=!0,M(F=>F&&F.messageId===I&&F.index===Y?null:{messageId:I,index:Y})},[]),ie=A.useCallback((I,Y,F)=>{ps(F)&&(Se.current=!0,p(V=>V.map(z=>{if(z.id!==I||!z.scheduleProposal||z.scheduleProposal.applied||Y<0||Y>=z.scheduleProposal.items.length)return z;const xe=z.scheduleProposal.items.slice();return xe[Y]={...xe[Y],date:F},{...z,scheduleProposal:{...z.scheduleProposal,items:xe}}})),M(null))},[]),ke=A.useCallback(I=>{Se.current=!0,p(Y=>{const F=Y.find(H=>H.id===I);if(!(F!=null&&F.scheduleProposal)||F.scheduleProposal.applied)return Y;const V=F.scheduleProposal,z=V.items.filter((H,me)=>V.selected[me]);if(z.length===0)return Y;const xe=zw(),Ie=new Set(xe.map(H=>`${H.date}::${H.title}`)),Z=[];for(const H of z){const me=`${H.date}::${H.title}`;Ie.has(me)||(Ie.add(me),Z.push({id:`user-${$0(10)}`,date:H.date,title:H.title,category:H.category,source:"ai"}))}const j=[...Z,...xe];Gw(j),window.dispatchEvent(new CustomEvent(hr));const oe=[];return oe.push(` : **${Z.length}**   .`),V.project&&oe.push(`- : **${V.project}**`),V.deadline&&oe.push(`- : **${V.deadline}**`),Z.length>0?(oe.push(""),oe.push(...Z.map(H=>`- ${H.date} ${H.title}`))):(oe.push(""),oe.push("        .")),Y.map(H=>H.id!==I?H:{...H,text:`${H.text}

${oe.join(`
`)}`.trim(),scheduleProposal:{...V,applied:!0,appliedCount:Z.length,skippedCount:Math.max(0,z.length-Z.length)}})})},[]),Oe=A.useCallback(async()=>{var V,z,xe,Ie;if(!h.trim()||x||!v)return;const I=h.trim(),Y={id:`user-${Date.now()}`,text:I,isUser:!0};p(Z=>[...Z,Y]),m(""),S(!0),y(null);const F=`ai-${Date.now()}`;p(Z=>[...Z,{id:F,text:"",isUser:!1,sources:[]}]),P({id:F,align:"start"});try{const Z=(()=>{const j=!!e,oe=!!t;return i==="gemini"?j?"gemini":oe?"openrouter":null:i==="openrouter"?oe?"openrouter":j?"gemini":null:j?"gemini":oe?"openrouter":null})();if(!Z)throw new Error("API_KEY_MISSING");if(C){const j=new Date,oe=Hl(j),H=Pw(I,j),me=(H==null?void 0:H.start)??null,qe=(H==null?void 0:H.end)??null,Je=`    'K-( //)  ' ' ( )'  .
-      (/////// ) //   K-  , "  (/)    ()"    .
  : "12 24  " ' (/)' , " ", "/", " ", "  "  3~4  .
-  (//  )     events  ([]) .
${Z==="gemini"?"-   Google Search()  K-   /     .":"-   ,  K-       . (  )"}
-  JSON(/ ).     .

( /  ):
{
  "project": string,
  "deadline": "YYYY-MM-DD" | null,
  "events": [
    { "date": "YYYY-MM-DD", "task": string, "title": string, "category": string | null }
  ]
}

:
- title  "\${project}: \${task}" .
- date  ISO(YYYY-MM-DD).
-     (${oe}, KST)    ''  .
- events **  3~4**. ( 3,    4)  task .
- events date  .
- (deadline)  events   (       ).
- category    ( null):
  ${bt.join(", ")}

   (: "12 20~24 "):
- executionStart: ${me??"null"}
- executionEnd: ${qe??"null"}
- **//////    executionStart   **.
- **//    executionStart~executionEnd  ** .
- **///    executionEnd   ** .
-    , " ()  / "   .

 : """${I}"""`;let be="",Pe=[],pt=!1;if(Z==="gemini"){if(!s)throw new Error("AI_NOT_READY");const pe=async kt=>{var K,ye,ln;const _t=await s.models.generateContent({model:"gemini-2.5-flash",contents:kt,config:{thinkingConfig:{thinkingBudget:3e3},tools:[{googleSearch:{}}]}}),zn=((ln=(ye=(K=_t.candidates)==null?void 0:K[0])==null?void 0:ye.groundingMetadata)==null?void 0:ln.groundingChunks)??[],xl=zn.filter($t=>{var Tl;return(Tl=$t.web)==null?void 0:Tl.uri});return{response:_t,groundingChunks:zn,webChunks:xl}};let{response:Ue,groundingChunks:Dt,webChunks:He}=await pe(Je);if(pt=He.length>0,!pt){const kt=`${Je}

:  googleSearch    1 web.uri  .   events  ([]) .`;({response:Ue,groundingChunks:Dt,webChunks:He}=await pe(kt)),pt=He.length>0}be=Ue.text??"",Pe=Dt}else be=await cf({apiKey:t,model:l.trim()||void 0,messages:[{role:"system",content:"  (K-)  .  JSON ,      ."},{role:"user",content:Je}],temperature:.2}),Pe=[],pt=!1;const Bn=qw(be)??be;let nt;try{nt=JSON.parse(Bn)}catch{throw new Error("MODEL_RETURNED_INVALID_JSON")}const mn=typeof(nt==null?void 0:nt.project)=="string"&&nt.project.trim()?nt.project.trim():I.slice(0,30).trim(),Sn=typeof(nt==null?void 0:nt.deadline)=="string"&&ps(nt.deadline)?nt.deadline:null,Qr=Array.isArray(nt==null?void 0:nt.events)?nt.events.map(pe=>{const Ue=pe==null?void 0:pe.date,Dt=typeof(pe==null?void 0:pe.task)=="string"?pe.task.trim():typeof(pe==null?void 0:pe.title)=="string"?pe.title.trim():"";if(!Dt)return null;const He=`${mn}:`,kt=Dt.startsWith(He)?Dt.slice(He.length).trim():Dt,_t=mn?`${mn}: ${kt}`:kt,zn=z0(pe==null?void 0:pe.category)??Qn;return!ps(Ue)||!_t?null:{date:Ue,title:_t,category:zn}}).filter(Boolean):[],Pn=[],Cn=new Set;for(const pe of Qr){const Ue=`${pe.date}::${pe.title}`;Cn.has(Ue)||(Cn.add(Ue),Pn.push(pe))}let We=Pn.slice(0,4).map(({date:pe,title:Ue,category:Dt})=>({date:Ki(pe,oe),title:Ue,category:Dt}));if(me&&qe){const pe=Ki(Fu(me,-1),oe),Ue=Ki(qe,oe);We=We.map(K=>{let ye=K.date;const ln=Ym(K.title),$t=Zm(K.title);return ln?ye=Bw(ye,pe):$t?ye=Ki(ye,Ue):(ms(ye,me)<0&&(ye=me),ms(ye,qe)>0&&(ye=qe)),ye=Ki(ye,oe),{...K,date:ye}});const Dt=K=>K.includes("")||K.includes("")||K.includes("")?0:K.includes("")||K.includes("")||K.includes("")||K.includes("")?1:K.includes("")||K.includes("")||K.includes("")?2:3,He=K=>K.includes("")||K.includes("")?0:K.includes("")||K.includes("")?1:K.includes("")||K.includes("")?2:3,kt=We.map((K,ye)=>({idx:ye,title:K.title})).filter(({title:K})=>Ym(K)).map(({idx:K})=>K).sort((K,ye)=>Dt(We[K].title)-Dt(We[ye].title)),_t=We.map((K,ye)=>({idx:ye,title:K.title})).filter(({title:K})=>Zm(K)).map(({idx:K})=>K).sort((K,ye)=>He(We[K].title)-He(We[ye].title)),zn=new Set(kt.map(K=>We[K].date));kt.length>1&&zn.size<kt.length&&kt.forEach((K,ye)=>{const ln=kt.length-1-ye,$t=Ki(Fu(pe,-ln),oe);We[K]={...We[K],date:$t}});const xl=new Set(_t.map(K=>We[K].date));_t.length>1&&xl.size<_t.length&&_t.forEach((K,ye)=>{const ln=Ki(Fu(Ue,ye),oe);We[K]={...We[K],date:ln}})}We.sort((pe,Ue)=>ms(pe.date,Ue.date));const nn=[];mn&&nn.push(`- : **${mn}**`),Sn&&nn.push(`- : **${Sn}**`),me&&qe&&nn.push(`- : **${me} ~ ${qe}**`),Z==="gemini"&&!pt&&nn.push("- :        ."),Z==="openrouter"&&nn.push("- : OpenRouter  Google       ."),We.length>0?(nn.unshift("     ****   ."),p(pe=>pe.map(Ue=>Ue.id===F?{...Ue,text:nn.join(`
`),sources:Pe,scheduleProposal:{project:mn,deadline:Sn,items:We,selected:We.map(()=>!0),applied:!1}}:Ue))):(nn.unshift("  ."),nn.push('K-      . ) "12 24  (),    "'),p(pe=>pe.map(Ue=>Ue.id===F?{...Ue,text:nn.join(`
`),sources:Pe,scheduleProposal:void 0}:Ue)))}else if(Z==="gemini"){if(!c)throw new Error("CHAT_NOT_READY");const j=await c.sendMessageStream({message:I});let oe="",H=[];for await(const me of j){const qe=me.text;qe&&(oe+=qe);const ht=(xe=(z=(V=me.candidates)==null?void 0:V[0])==null?void 0:z.groundingMetadata)==null?void 0:xe.groundingChunks;if(ht){const Je=ht.filter(be=>be.web&&be.web.uri&&!H.some(Pe=>{var pt,Bn;return((pt=Pe.web)==null?void 0:pt.uri)===((Bn=be.web)==null?void 0:Bn.uri)}));H=[...H,...Je]}p(Je=>Je.map(be=>be.id===F?{...be,text:oe,sources:H}:be))}}else{const j=[];j.push("   ( K-/NEIS) ."),j.push("  /     ."),j.push(" ,       ."),n&&(j.push("     //  ."),j.push("---    ---"),j.push(n),j.push("---    ---"));const oe=d.filter(me=>me.text&&me.text.trim().length>0).slice(-12).map(me=>({role:me.isUser?"user":"assistant",content:me.text})),H=await cf({apiKey:t,model:l.trim()||void 0,messages:[{role:"system",content:j.join(`
`)},...oe,{role:"user",content:I}],temperature:.2});p(me=>me.map(qe=>qe.id===F?{...qe,text:H,sources:[]}:qe))}}catch(Z){console.error("Error sending message to AI API:",Z);let j="    .    .";Z instanceof Error&&Z.message==="MODEL_RETURNED_INVALID_JSON"?j="AI  JSON   .       . (: '11 13 ,     ')":Z instanceof Error&&Z.message==="CHAT_NOT_READY"?j="    .     .":Z instanceof Error&&Z.message==="AI_NOT_READY"?j="AI   .     .":Z instanceof Error&&Z.message==="API_KEY_MISSING"&&(j="AI   API  .  **API Key **  ."),Z instanceof Error&&(Z.message.includes("API key not valid")?j="API   .  .":Z.message.includes("OpenRouter")&&(Z.message.includes("401")||Z.message.toLowerCase().includes("unauthorized"))?j="OpenRouter API   .":Z.message.includes("quota")?j="API   .":(Z.message.toLowerCase().includes("network error")||Z.message.toLowerCase().includes("failed to fetch"))&&(j="  .   .")),y(j),p(oe=>oe.map(H=>H.id===F?{...H,text:`: ${j}`,sources:[]}:H))}finally{S(!1),(Ie=ce.current)==null||Ie.focus()}},[h,c,s,x,v,C,e,t,i,l,n,d]),Ke=I=>{I.key==="Enter"&&!x&&Oe()},Rt=I=>{const F=Ae.parse(I,{breaks:!0,gfm:!0}).replace(/<ul>/g,'<ul class="list-disc ml-5 mb-2">').replace(/<ol>/g,'<ol class="list-decimal ml-5 mb-2">').replace(/<p>/g,'<p class="mb-2">');return g.jsx("div",{dangerouslySetInnerHTML:{__html:F}})};return g.jsxs("div",{className:`${o.componentBg} p-3 sm:p-4 rounded-xl shadow-xl flex flex-col h-full border ${o.border} ${o.textPrimary}`,children:[g.jsx("h2",{className:`text-lg font-semibold ${o.accentColor} mb-3 text-center border-b ${o.border} pb-2 flex-shrink-0`,children:"AI  "}),!v&&_&&g.jsx("div",{className:"p-3 my-2 text-sm text-yellow-300 bg-yellow-700/30 border border-yellow-600 rounded-md text-center flex-shrink-0",children:_}),v&&_&&!d.find(I=>I.text.includes(_||""))&&g.jsx("div",{className:"p-3 my-2 text-sm text-red-400 bg-red-800/30 border border-red-700 rounded-md text-center flex-shrink-0",children:_}),g.jsxs("div",{className:`flex-grow overflow-y-auto min-h-0 space-y-4 pr-1 mb-3 scrollbar-thin scrollbar-track-transparent ${o.scrollbarThumb} scrollbar-thumb-rounded-md`,children:[d.map(I=>g.jsxs("div",{ref:Y=>{tn.current[I.id]=Y},className:`flex flex-col ${I.isUser?"items-end":"items-start"}`,children:[g.jsxs("div",{className:`flex items-start max-w-[85%] ${I.isUser?"flex-row-reverse":"flex-row"}`,children:[!I.isUser&&g.jsx(Yw,{className:`w-5 h-5 ${o.accentColor} mr-2 mt-1 flex-shrink-0`}),I.isUser&&g.jsx(Zw,{className:`w-5 h-5 ${o.accentColor} ml-2 mt-1 flex-shrink-0`}),g.jsxs("div",{className:`px-3 py-2 rounded-lg ${I.isUser?`${o.accentBg} ${o.buttonText} rounded-br-none`:`${o.inputBg} ${o.textPrimary} border ${o.border} rounded-bl-none`}`,children:[g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",style:{color:"inherit"},children:!I.isUser&&x&&I.text.trim()===""?g.jsx(Kw,{}):Rt(I.text)}),!I.isUser&&I.scheduleProposal&&g.jsxs("div",{className:`mt-3 pt-2 border-t ${o.border}`,children:[g.jsx("div",{className:"space-y-2",children:I.scheduleProposal.items.map((Y,F)=>{var Z,j,oe;const V=!!((j=(Z=I.scheduleProposal)==null?void 0:Z.selected)!=null&&j[F]),z=!!((oe=I.scheduleProposal)!=null&&oe.applied),xe=`${I.id}-proposal-check-${F}`,Ie=(w==null?void 0:w.messageId)===I.id&&(w==null?void 0:w.index)===F;return g.jsxs("div",{className:`flex items-start gap-2 text-sm leading-snug ${z?"opacity-60":""}`,children:[g.jsx("input",{type:"checkbox",id:xe,className:`mt-0.5 h-4 w-4 rounded ${o.border} ${o.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:V,disabled:z,onChange:()=>wt(I.id,F)}),g.jsxs("div",{className:"flex flex-col min-w-0",children:[g.jsxs("div",{className:"flex items-start gap-2 min-w-0",children:[g.jsxs("div",{className:"relative flex-shrink-0",children:[g.jsx("button",{type:"button",className:`font-mono text-xs ${o.textSecondary} hover:opacity-80 underline underline-offset-2 disabled:no-underline disabled:cursor-default`,disabled:z,onClick:()=>le(I.id,F),children:Y.date}),Ie&&!z&&g.jsxs("div",{className:`absolute z-50 top-full left-0 mt-1 w-44 rounded-lg border ${o.border} ${o.componentBg} p-2 shadow-xl`,children:[g.jsx("div",{className:`text-[11px] ${o.textSecondary} mb-1`,children:" "}),g.jsx("input",{type:"date",className:`w-full rounded-md ${o.inputBg} border ${o.border} px-2 py-1 text-xs ${o.textPrimary} focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,value:Y.date,onChange:H=>ie(I.id,F,H.target.value)}),g.jsx("div",{className:"mt-2 flex justify-end",children:g.jsx("button",{type:"button",className:`px-2 py-1 rounded-md ${o.inputBg} hover:opacity-80 ${o.textPrimary} text-[11px] border ${o.border}`,onClick:()=>M(null),children:""})})]})]}),g.jsx("label",{htmlFor:xe,className:`${o.textPrimary} cursor-pointer break-words min-w-0`,children:Y.title})]}),g.jsxs("div",{className:`text-xs ${o.textSecondary}`,children:[": ",Y.category]})]})]},`${I.id}-proposal-${F}`)})}),g.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[g.jsx("button",{type:"button",className:`px-2.5 py-1.5 rounded-md ${o.inputBg} hover:opacity-80 ${o.textPrimary} text-xs border ${o.border} disabled:opacity-50 disabled:cursor-not-allowed`,onClick:()=>O(I.id),disabled:!!I.scheduleProposal.applied,children:I.scheduleProposal.selected.every(Boolean)?"":""}),g.jsx("button",{type:"button",className:`px-2.5 py-1.5 rounded-md ${o.accentBg} hover:opacity-90 ${o.buttonText} text-xs border border-cyan-500/40 disabled:opacity-50 disabled:cursor-not-allowed`,onClick:()=>ke(I.id),disabled:!!I.scheduleProposal.applied||I.scheduleProposal.selected.filter(Boolean).length===0,children:""}),I.scheduleProposal.applied&&g.jsxs("span",{className:`text-xs ${o.textSecondary}`,children:[" (",I.scheduleProposal.appliedCount??0," )"]})]})]})]})]}),I.sources&&I.sources.length>0&&!I.isUser&&g.jsxs("div",{className:`mt-1.5 ml-7 text-xs ${o.textSecondary} max-w-[85%]`,children:[g.jsx("p",{className:"font-semibold mb-0.5",children:" :"}),g.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:I.sources.map((Y,F)=>Y.web&&Y.web.uri&&g.jsx("li",{children:g.jsx("a",{href:Y.web.uri,target:"_blank",rel:"noopener noreferrer",className:`hover:${o.accentColor} underline`,title:Y.web.title||Y.web.uri,children:Y.web.title||Y.web.uri})},`${I.id}-src-${F}`))})]})]},I.id)),g.jsx("div",{ref:L})]}),g.jsx("div",{className:`flex-shrink-0 mt-auto pt-3 border-t ${o.border}`,children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{type:"button",onClick:()=>b(I=>!I),"data-tour":"ai-schedule-toggle",className:`p-2.5 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-400 border ${C?`${o.accentBg} text-white border-transparent`:`${o.inputBg} ${o.textPrimary} ${o.border} hover:opacity-80`}`,"aria-label":"  ",title:C?" : ON":" : OFF",disabled:x,children:g.jsx(Hw,{className:"w-5 h-5"})}),g.jsx("input",{ref:ce,"data-tour":"chat-input",type:"text",value:h,onChange:I=>m(I.target.value),onKeyPress:Ke,placeholder:v?C?": ) 1113  ":" ...":"API   ",className:`flex-grow p-2.5 ${o.inputBg} border ${o.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm ${o.textPrimary} ${o.placeholderColor} disabled:opacity-50`,disabled:!v||x,"aria-label":"  "}),g.jsx("button",{onClick:Oe,disabled:!v||x||!h.trim(),className:`p-2.5 ${o.accentBg} hover:opacity-90 ${o.buttonText} rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-400`,"aria-label":" ",children:x?g.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):g.jsx(Fw,{})})]})})]})},Xw=`
1	;	1	;	 (  ) ,  ( 6) ,   () 
1	;	2	;	  ,      ,   ,    ,     (     ) ,    
1	;	3	;	    , (   5) ,      
1	;	4	;	     ,     (4) ,    (1) 
1	;	5	;	   ,     (1   ) 
1	;	6	;	  ,  ,   
1	;	7	;	 (, 1) 
1	;	8	;	   (4 12) ,    
1	;	9	;	   () , 2   ,    
1	;	10	;	    , 4     ,        
1	;	11	;	2024      2025   (k) , 2024    2025   
1	;	12	;	, , ,   () 
1	;	13	;	 
1	;	15	;	() ,     , 4   ,  [( )] 
1	;	16	;	  ,     
1	;	17	;	  ()  ,     
1	;	18	;	       ,     
1	;	19	;	  
1	;	20	;	  , (4) 4   , 4   
1	;	21	;	  
1	;	22	;	  
1	;	23	;	   (NEIS ) ,  1      
1	;	24	;	(   ) ,    (7-12) 
1	;	25	;	      ,    () ,     
1	;	26	;	   
1	;	27	;	  ,   () ,     (7~12) ,      
1	;	30	;	(  ) ,   ,  () () ,     ,  (7~12)() ,     
1	;	31	;	         , (NEP)     (  ) 
2	;	1	;	  (   ) ,   
2	;	2	;	    , ,,  () 
2	;	3	;	  ,      , ,,  (  ) 
2	;	4	;	  ,  ,   
2	;	5	;	   () ,     
2	;	6	;	   ,   () 
2	;	7	;	  (  ) ,    
2	;	8	;	2024  ()   2025   ,     
2	;	9	;	(2.23) (, , , ) ,    
2	;	10	;	    , 4     
2	;	11	;	  ,  
2	;	12	;	     ,     
2	;	13	;	4   , (,  ) 
2	;	14	;	   ,    (,,) 
2	;	16	;	  ( 10) ,  (  1 ) 
2	;	17	;	  ,     
2	;	18	;	   
2	;	19	;	() ,    () 
2	;	20	;	  , (4) 4   , 4   
2	;	21	;	 ,  (2 ) , 3.1.  4   
2	;	22	;	   ,  6    () 
2	;	23	;	 ()
2	;	24	;	  
2	;	25	;	(4) , (,,,) 
2	;	26	;	,    ,   
2	;	27	;	 ()
2	;	28	;	(  ), /  , ,   ,   ,   (   3.10/  2 ) 
3	;	1	;	    ,      
3	;	3	;	  ,  ,   ,      ,   
3	;	4	;	  ,   ,        ,     
3	;	6	;	  (~3.13) ,     
3	;	7	;	   ,    ,    
3	;	8	;	     ,     
3	;	9	;	   
3	;	10	;	    , 4     ,    
3	;	12	;	 
3	;	13	;	   () ,  
3	;	14	;	 () , 4   ,  
3	;	15	;	     ,  6    () 
3	;	17	;	  ,     ,   
3	;	19	;	()
3	;	20	;	(4) 4   , 4   ,   ,      ,    ,  (~3.21) 
3	;	21	;	      ,   (~3.30) 
3	;	22	;	      
3	;	23	;	()
3	;	24	;	 (2)
3	;	25	;	(   ) 
3	;	26	;	  
3	;	27	;	 
3	;	28	;	      (4) ,     (4) ,  () () 
3	;	29	;	   ,       
3	;	31	;	  () , (  ),   ,  () () ,     
4	;	1	;	  ,      , /  ,   
4	;	2	;	   (1 3)
4	;	3	;	  ,  ,   ,     
4	;	4	;	      ,   (1) ,     
4	;	5	;	  (4.1.)
4	;	8	;	  (/  .   ) 
4	;	9	;	    , 4     ,    
4	;	10	;	   () ,    
4	;	11	;	    ,     ,      
4	;	12	;	       
4	;	13	;	 
4	;	14	;	  ,  
4	;	15	;	    , 4   ,   ( ) 
4	;	16	;	()
4	;	17	;	  ,     
4	;	18	;	  , (4) 4   , 4   
4	;	19	;	     , 1/4       ,          
4	;	23	;	 ()
4	;	25	;	(   ) 
4	;	26	;	       () ,       
4	;	27	;	   () ,      
4	;	28	;	  ,    
4	;	30	;	(  ),   ,  ( ()) ,     
5	;	1	;	  ,      ,  () 
5	;	2	;	 ,   ,     
5	;	3	;	    
5	;	6	;	 
5	;	8	;	   ,   (  ) 
5	;	9	;	    (/) ,  ()    
5	;	11	;	  ,     , 4     
5	;	12	;	
5	;	14	;	    , 4   , (,  ) 
5	;	15	;	  ,     
5	;	16	;	    
5	;	18	;	()
5	;	19	;	  , (4) 4   , 4   
5	;	20	;	()
5	;	21	;	(1)
5	;	22	;	(   ) 
5	;	23	;	 ( )
5	;	26	;	 
5	;	27	;	  
5	;	28	;	    
5	;	29	;	(  ),   ,  ( ()) ,     
6	;	2	;	  ,      ,  () 
6	;	3	;	  ,  ,   
6	;	4	;	   ,     
6	;	6	;	     ,     
6	;	8	;	  (   ) 
6	;	9	;	  
6	;	10	;	    , 4     
6	;	12	;	  ,  
6	;	13	;	4   , (,  ) 
6	;	14	;	     () ,      ,      
6	;	15	;	    ,   
6	;	16	;	   
6	;	17	;	  ,     
6	;	18	;	() ,  (3) 
6	;	19	;	  , (4) 4   , 4   
6	;	20	;	    ,      ,      
6	;	24	;	(   ) 
6	;	25	;	  
6	;	26	;	 
6	;	27	;	      (1) ,     (1) 
6	;	28	;	    ,       
6	;	29	;	   
6	;	30	;	(  ),   ,  () () ,     
7	;	1	;	  ,      ,       
7	;	2	;	     ,  
7	;	3	;	  ,  ,   ,     
7	;	4	;	2/4       ,   (2) ,  (2) 
7	;	5	;	    
7	;	7	;	   (  )
7	;	8	;	   (2 6) ,    
7	;	9	;	    , 4     
7	;	10	;	
7	;	11	;	    ,    ,        
7	;	13	;	     ,    
7	;	14	;	 
7	;	15	;	    ,     , 4   ,  
7	;	16	;	()
7	;	17	;	  ,     
7	;	18	;	  , (4) 4   , 4   
7	;	19	;	   
7	;	24	;	(   ) ,     (1-6) 
7	;	25	;	      ,         
7	;	28	;	 
7	;	29	;	  
7	;	30	;	    (1-6)
7	;	31	;	(  ),   ,  ( ()) ,     ,  (1~6)  
8	;	1	;	  ,      
8	;	2	;	  (7 ) 
8	;	4	;	  ,  ,   
8	;	5	;	   
8	;	7	;	   ,    
8	;	8	;	   
8	;	10	;	  
8	;	11	;	    , 4     
8	;	12	;	  ,  
8	;	14	;	  ,     , 4   ,  
8	;	15	;	     
8	;	17	;	  ,  () 
8	;	18	;	   
8	;	19	;	() ,   , (4) 4   , 4   
8	;	21	;	(2)
8	;	22	;	    ,  ()  
8	;	25	;	(   ) 
8	;	26	;	 
8	;	27	;	  
8	;	28	;	(  ),   ,  ( ()) ,     
9	;	1	;	   ,      ,  (, )    
9	;	3	;	  ,  ,   
9	;	4	;	   
9	;	5	;	  
9	;	7	;	()
9	;	8	;	  
9	;	9	;	  
9	;	10	;	    , 4     
9	;	11	;	 (4)
9	;	12	;	  ,  
9	;	13	;	    
9	;	15	;	    , 4   ,  
9	;	17	;	()
9	;	18	;	  ,     
9	;	19	;	  , (4) 4   , 4   
9	;	20	;	  
9	;	23	;	(   ) 
9	;	25	;	  
9	;	26	;	       
9	;	28	;	   
9	;	29	;	  ,       (2) ,     (2) 
9	;	30	;	(  ),   ,  ( ()) ,     
10	;	1	;	  ,      
10	;	2	;	 ,   ,     ,    ,    
10	;	3	;	  (10.1.) , 3/4       ,     (3) 
10	;	9	;	    , 4     
10	;	10	;	  ,       ,     
10	;	13	;	  ,  ,    (3-9) 
10	;	14	;	() ,     , 4   ,  
10	;	16	;	  ,     
10	;	17	;	         
10	;	19	;	   () ,    
10	;	20	;	  , (4) 4   , 4   
10	;	22	;	 ()
10	;	24	;	(   ) 
10	;	25	;	     
10	;	26	;	   (16 3)
10	;	27	;	 
10	;	28	;	  
10	;	30	;	(  ),   ,  ( ()) ,     
11	;	1	;	    
11	;	2	;	 (   )
11	;	3	;	  ,      
11	;	4	;	  ,  ,   
11	;	5	;	   
11	;	6	;	   ,    
11	;	7	;	  
11	;	9	;	    , 4     
11	;	10	;	
11	;	12	;	 
11	;	13	;	4   ,  
11	;	14	;	   
11	;	16	;	  ,     ,     
11	;	18	;	()
11	;	19	;	  , (4) 4   , 4   
11	;	20	;	(3)
11	;	21	;	    
11	;	23	;	 (2)   
11	;	24	;	(   ) 
11	;	25	;	  
11	;	26	;	 
11	;	27	;	(  ),   ,  ( ()) ,     
11	;	28	;	     ()
12	;	1	;	  ,      
12	;	3	;	  ,  ,   
12	;	4	;	   
12	;	5	;	  (3)   ,        , 4/4       
12	;	7	;	    ( )
12	;	8	;	  (  11.12  )
12	;	9	;	  
12	;	10	;	    , 4     
12	;	11	;	     ,  ()   
12	;	12	;	 
12	;	13	;	   (NEIS) ,       
12	;	14	;	     ,   
12	;	15	;	    , 4   ,  
12	;	16	;	  ( ) ,     
12	;	17	;	() ,   ,     
12	;	18	;	 () 1 
12	;	19	;	  , (4) 4   , 4   
12	;	20	;	   ,   ,     ,       
12	;	21	;	    
12	;	23	;	(   ) 
12	;	25	;	  
12	;	26	;		;	   
12	;	26	;		;	    
12	;	26	;		;	   
12	;	28	;		;	   
12	;	29	;		;	 
12	;	30	;		;	      (3)
12	;	30	;		;	    (3) 
12	;	31	;		;	(  ),  
12	;	31	;		;	 ( ())
12	;	31	;		;	   
`,Km=`
  "2025   "     .

### **1 **
*   **1.    3**
    *   **1.  :**  2(), 4(   ) 7( ),   3(   )
    *   **2.  :**  8( ),   5(  )
    *   **3.  :**  9( ),   6( )
    *   **4.  :**  18(   ) 19( ),  22(  ),   14(  ) 17(  ),   24(    ), 25(  ),   29(  ),  31( )
    *   **5. ():**  18(),   18(),   8(   ),   9(    ),  23( ),  1() 3( )
*   **2.    6**
    *   **1. ON-LINE  :**       ,    4( )
    *   **2. OFF-LINE  :** (      )
    *   **3. NEIS   :** (   )
    *   **4. NEIS  :** (   )
    *   **5. FAX :**    3( ), 5( ),    6(   )
*   **3.   10**
    *   **1.    :**  10( ),   6(  )
    *   **2. ():**  9(  ), 11(  ), 16(    ),   7(  ), 8(3 )
    *   **3.  :**  12(), 122( ),      7( ), 9( )
    *   **4.     :**  13(   ) 17( ),   12(   ) 17( ),   7( )
*   **4.    15**
    *   **1.    :**  36(    ) 43( ),   43(    ),    21(    ), 24( )

### **2 **
*   **1.   17**
    *   **1.  :**      2(  ),      4(  ) 6(),       33(   ) 40(),  4(  ),    3()
    *   **2. :**      7(  ), 8(  ),       36() 40(),  7( ), 8( )
    *   **3.  :**      2(  ) 14( ),        11(  )
*   **2.    20**
    *   **1.  :**       3() 8( ),        2(  ) 6(  )
    *   **2. :**       9(   ) 10( ),        7( ),      4()
*   **3. K-()  22**
    *   **1. :**       18( ),        15( ) 17( )
*   **4.   27**
    *   **1.  :**     19(  ),      19( ) 25( ),      4( ) 6( )
    *   **2.  :**      23(  ),      7(   ) 13(  )
    *   **3.   :**      24( ) 33(  ),      14( )
    *   **4.  :**      26() 32( ),      19(  )
    *   **5.  :**      43(       ),      35( )
*   **5.    31**
    *   **1.  :**       61( ),        45( )
    *   **2.  :**       61( ),        45( ),      10(),       10( )
*   **6.   33**
    *   **1.  :**  20( ),  1() 8(),    4( )
    *   **2.   :**  4(  ) 8(),    39( )

### **3 **
*   **1.   35**
    *   **1.  ( ):**     3( )
    *   **2. ():**     5(   ),     8(5    )
*   **2.    37**
    *   **1. :**   3(    ),    3(  ),    7(    )
*   **3.   40**
    *   **1.  :** ,   ,       ,        
    *   **2.    :**    8(),  5( ),       11()
*   **4.   42**
    *   **1.   :**  63(), 64(),  31()
*   **5.      45**
    *   **1.  :**   8( )
    *   **2.  :**   9( )
*   **6.      48**
    *   **1.  :**  8( )
    *   **2.  :**  9( )

### **4   **
*   **1.    51**
    *   **1.    :**  17( ),        17( ),    ,      4(  ),       2(),  56(   ),   25(  ),  293(  ),   265(   ),     10(),   ,   
*   **2.    65**
    *   **1.   :** ,    44() 72()
*   **3.    75**
    *   **1. :** ,  ,    73( ) 83(),    53(  ) 56()
*   **4.   84**
    *   **1. :** ,  ,  ,   

### **5 **
*   **1.      88**
    *   **1.    :**    4(   )
    *   **2.   :**    73(   )
*   **2. ()    91**
    *   **1. ()  :**   16(  ),   31( ),    28(),    44()
*   **3.     93**
    *   **1.    :**  28(    ),   49(    ),    56(  )
*   **4.      94**
    *   **1.   () :**  33(),  312(),  (, 2019. 10.),     56(   ),  293(  ),      8(    )
*   **5.   95**
    *   **1.  :**  34(),    59( )
    *   **2. :**   54( ),    60( ),    61( )

### **6 **
*   **1.   97**
    *   **1.   :**       
    *   **2.  :**      8(  ),       
*   **2.   98**
    *   **1.   :**   78(    ),    
    *   **2. :**   7(   ), 72(  ),      20(  ),    
*   **3.     105**
    *   **1. :**   10( ), 11( ),    19(   ),        10(   )
*   **4.   108**
    *   **1. :**   6(),    16( ), 18(     ),     6(),     ()

### **7 **
*   **1.     110**
    *   **1.   :**  31( ),   58(  ),  193(  )
    *   **2.    ,   :**   58(  ),     22( ),  193(  ),   ()
*   **2.    115**
    *   **1.  :**  32(),   572(  ),     9( )
    *   **2.  :**     12( )  152( )
*   **3.   119**
    *   **1.  :**   602(),     16(),   ()
*   **4.   120**
    *   **1.  :**   602(),     16(),   ()

### **8 **
*   **1. (NEIS)  122**
    *   **1. NEIS :** 2025   ,   
*   **2.     124**
    *   **1. :** ,  ,    ,     ,  ,       ,         ,       
*   **3.   139**
    *   **1.    :**  137( ), 140(   ), 143(   ), 164( )
*   **4.   141**
    *   **1.    :**  276( ), 229( )
    *   **3.   :**  195(  ), 227( ), 246(),   3( )
*   **5.   144**
    *   **1. :**  66( ) 68( ),   65(    )
    *   **3. :**  75( ), 77( ),   72()
*   **6.   147**
    *   **1. , :**  8(   ) 10(   ),   4(   )
*   **7.   149**
    *   **1. ,  :**  72(),  
*   **8.   151**
    *   **1.    :**    ,      5(  )

### **9 **
*   **1.    155**
    *   **1.  :**        2(),  25( )
    *   **3.  :**    46( ), 47( )
    *   **5.     :**   30(    ),    58( )

### **10  **
*   **1.     162**
    *   **1.   :**    11( ), 14(  )
*   **2.    167**
    *   **1.  :**    11( )
*   **3.   171**
    *   **1.   :**    14(  )
*   **4.   173**
    *   **1.   :**    14(  )
*   **5.   175**
    *   **1.   :**    14(  )
*   **6.  ,     176**
    *   **1.    :**    16(     )  17( )
*   **7.    178**
    *   **1.   :**    15(   ),  302( )
*   **8.    179**
    *   **1.  :**    18(), 19( )
*   **9.    181**
    *   **1.   :**    4(), 20( ), 23( )

### **11  **
*   **1.    183**
    *   **1. :**    25( )
    *   **2. :**     9( ),    42(   )
    *   **3. :**    26(  ) 28( ),        3(),     22( ),       

### **12  **
*   **1.    189**
    *   **1.  ():**  20 2( ),  19( ),    4( ),    30(  ),      ,  5(   ) 8()
    *   **2.   ():**    155() 157( ),  4( ), 6(    )
    *   **3.    :**  30( ),  7(    ),   3(    ),    4(), 19( ), 34( )
*   **2.    194**
    *   **1.   :**    33(   ) 36()
    *   **2. :**    33(   )
*   **3.    206**
*   **4.    218**
*   **5.   223**

### **13 **
*   **1.    228**
    *   **1.  :**  4(  ), 6( )
    *   **2.   :**    ,    ,   7( ),  664( ),  2(),     2()
*   **2.    236**
    *   **1. :** (   )
    *   **2. :** (   )
    *   **3.  :**   2() 10( ),     2( )
*   **3.     244**
    *   **1.     :**  4( ), 7( ),   22( ), 23(   ),           (),         (),   48(   )
    *   **2. :**   7( ) 10( ), 15( ), 16(     ), 20(   ), 322( ) 36( ), 124( ),     ,        ,    ,    
    *   **3. 2 ,   :**   18(2 ), 19(   )
    *   **4.   :**   43(  ), 44(  ),    
    *   **5.    :**   442(   )
*   **4.    264**
    *   **1.  :**   47( ) 48(   ),    
    *   **2.    :**   50(   ),   33(     ), 48(  ),   33(   )
*   **5.    267**
    *   **1.    :** (   )
    *   **2. , ,    :**      5(, ,        ),       4(    ),  2(), 61(   ) 66(   )
    *   **3.  :**   302( ), 35(  ),     ,      ,   ,    98( ),      154(),     2(), 17(  ),     9 5( )
*   **6.     290**
    *   **1.  :**   262(     ), 344(  ), 643(    ), 83( ),    53(    ),      8(  ),       10(),     1 9(   ), 9 9( )  12()
*   **7.    298**
    *   **1. :** (   )
    *   **2.       :** (   )
    *   **3.      :** (   )

### **14 **
*   **1.   300**
    *   **1.  :**    91( )
    *   **2.  :**    91( )
    *   **3.  :**    40( ),     3( )  [1]
    *   **4.  :**    40( ),    90(  ) 99(), 127(   ),  34( ),   40(      )

### **15 **
*   **1.      304**
    *   **1.   :**   64(),   46(  )
*   **2.      307**
    *   **1.  :**   64(),   47( )
    *   **2.  :**   64(),   47(  ),   11(  )
*   **3.      310**
    *   **1.  :**   64(),   50()
*   **4.       311**
    *   **1.  :**   45(  )
    *   **2.    :**   52(    )

### **16 **
*   **1.      312**
    *   **1.  :**    58( ),     58( ),    5( ) [1]
*   **2.    314**
    *   **1.  :**    68(),    5( ), 10( ), [1]   ,     9()
*   **3.   319**
    *   **2. :**  14(  ),    16(  ),     17( ),     14( )
*   **4.   321**
    *   **1.  :**    16(  ),     62(  )
*   **5.    323**
    *   **1.  :**    76( ), 77(  ), 78( ),     78(   ), 79( ),    17( ), 18( )
*   **6.   326**
    *   **1. :**    60( ),     59(),     24()
*   **7.     328**
    *   **1.   :**       5( ) 13( )
*   **8. (RFID)    331**
    *   **1. (RFID)  :**    66( ),    35(  )

### **17 **
*   **1.    334**
    *   **1.  :**     5(  ),      3( )
    *   **2.    :** (   )
*   **2.    335**
    *   **1.    :**   52( ),    2( )
    *   **2.      :**  38(),    18()
*   **3.    338**
    *   **1.     :**      12( )
    *   **2.    :**     95(   ),      92(   ),     5()
*   **4.      340**
    *   **1.   :**     20(), 21(),      13( )
    *   **2.  :**      31(  ),     29( ), 31( ),    8(  )[3]
*   **5.     345**
    *   **1. ():**     20( ), 21(),            4(     )
*   **6.   348**
    *   **1.    :**      33()
    *   **2.   :**     51( ), 52(   )
*   **7.   350**
    *   **1.  :**         34(   ),       5(  ),      4(  )

### **18 **
*   **1.    354**
    *   **1.  :**         13(  ),       11( ),        5()
*   **2.    359**
    *   **1.  :**  ( )
    *   **2.  :**  6(  ), 10(  ) 19(),   5(  ), 12(  ) 20(),    ,     ,    ,        4
    *   **3.  :**     4( ) 8( ), 14( ),  24( ), 34(   ), 36(   ), 39( ),   11(    ), 14(  ),  16(    ),  16(,    ), 22( ), 23(    ),   6(), 19(  ),   20(     ), 23(   ),      7(  ),  16()
    *   **4.  :**  17(  ), 29(), 30(),   153 1(    ),   202(), 25(), 50(), 64(  ),  34(), 37(  ), 41(), 57(),   15(  ), 30(  ),   52(), 66(), 70(  ), 75( )
    *   **5.  :**  15(), 18(  ), 28(),   13( ), 16(  ),   53(  ), 64( ) 68( ),   
    *   **6.  :**  27( ) 29( ), 31( ), 32( , , ), 48(    ), 50( ),   37(    ),   46( ), 50(     ), 52(  ), 54(  ),      
*   **3.    363**
    *   **1. 23  :**  6(    ), 8(3  ), 9(   ), 11( ), 12( ), 22(  ), 23(), 28(  ),   4( ), 5(3  ), 8(  ),        5()
*   **4.    381**
    *   **1. :** (   )
*   **5.    385**
    *   **1.    ( ):**    () 254(   )

### **19     **
*   **1.        387**
    *   **1.    :**       2 4( ), ,     
    *   **2. () :**  8(),  111(),   154()
*   **2.    392**
    *   **1.    :**  38( ),    69( ), 156(), 157(),    41( )
*   **3.     394**
    *   **1.  :** (   )
*   **4.     396**
    *   **1.      :** ,  , ,  ,  ,  8,   19,   3, 6,  6, 7,   9,   3,  15,   7, ,  ,  ,       ,  7, 72,  52
*   **5.    399**
    *   **1.   :**   ,    
*   **6.     403**
    *   **1. ()   () :**  6(),   7(  ),   3( )
*   **7.  (BTL)   405**
    *   **1.   :**    4 2( )
    *   **2.    :** (   )
`,Qw="https://aistudio.google.com/app/apikey",Ww="https://openrouter.ai/keys",Yu=1,Ds=n=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n),br=n=>typeof n=="string"&&bt.includes(n),G0=n=>n==="manual"||n==="ai",Al=n=>{if(!Ds(n))return null;const e=Number(n.slice(0,4));return Number.isFinite(e)?e:null},Zu=n=>{const e=/^event-(\d{4})-/.exec(n);if(!e)return null;const t=Number(e[1]);return Number.isFinite(t)?t:null},Jm=()=>{try{const n=localStorage.getItem(Mo);if(!n)return[];const e=JSON.parse(n);if(!Array.isArray(e))return[];const t=[];for(const i of e){if(!i||typeof i!="object")continue;const l=i,o=l.id,s=l.date,u=l.title,c=l.category,f=l.source;typeof o!="string"||!o||Ds(s)&&(typeof u!="string"||!u.trim()||t.push({id:o,date:s,title:u.trim(),category:br(c)?c:Qn,source:G0(f)?f:"manual"}))}return t}catch{return[]}},jw=n=>{localStorage.setItem(Mo,JSON.stringify(n)),window.dispatchEvent(new CustomEvent(hr))},Xm=()=>{try{const n=localStorage.getItem(Fr);if(!n)return{};const e=JSON.parse(n);if(!e||typeof e!="object"||Array.isArray(e))return{};const t={};for(const[i,l]of Object.entries(e)){if(!l||typeof l!="object"||Array.isArray(l))continue;const o=l,s={};Ds(o.date)&&(s.date=o.date),typeof o.title=="string"&&o.title.trim()&&(s.title=o.title.trim()),br(o.category)&&(s.category=o.category),(s.date||s.title||s.category)&&(t[i]=s)}return t}catch{return{}}},eR=n=>{localStorage.setItem(Fr,JSON.stringify(n)),window.dispatchEvent(new CustomEvent(qc))},tR=({isOpen:n,onClose:e,geminiApiKey:t,openRouterApiKey:i,aiProviderPreference:l,openRouterModel:o,onSaveGemini:s,onSaveOpenRouter:u,onSaveAiProviderPreference:c,onSaveOpenRouterModel:f,onClearGemini:d,onClearOpenRouter:p})=>{const{colors:h}=Gi(),[m,x]=A.useState(t),[S,_]=A.useState(i),[y,v]=A.useState(l),[T,C]=A.useState(o),[b,w]=A.useState(!1),[M,R]=A.useState(!1),[P,L]=A.useState(()=>new Date().getFullYear()),[ce,Se]=A.useState(null);A.useEffect(()=>{n&&(x(t),_(i),v(l),C(o),w(!1),R(!1),L(new Date().getFullYear()),Se(null))},[n,t,i,l,o]);const tn=A.useMemo(()=>t?t.length<=8?"*".repeat(t.length):`${t.slice(0,4)}${"*".repeat(t.length-8)}${t.slice(-4)}`:"",[t]),dt=A.useMemo(()=>i?i.length<=10?"*".repeat(i.length):`${i.slice(0,6)}${"*".repeat(i.length-10)}${i.slice(-4)}`:"",[i]),wt=A.useMemo(()=>{const V=!!m.trim(),z=!!S.trim();return y==="gemini"?V?"gemini":z?"openrouter":null:y==="openrouter"?z?"openrouter":V?"gemini":null:V?"gemini":z?"openrouter":null},[y,m,S]),O=y==="auto"||y==="gemini",le=y==="auto"||y==="openrouter";if(!n)return null;const ie=()=>{s(m),u(S),c(y),f(T),e()},ke=()=>{d(),p(),x(""),_(""),e()},Oe=V=>{const z=Jm().filter(Z=>Al(Z.date)===V),xe=Xm(),Ie={};for(const[Z,j]of Object.entries(xe))((j.date&&Al(j.date))??Zu(Z))===V&&(Ie[Z]=j);return{version:Yu,createdAt:new Date().toISOString(),year:V,userEvents:z,builtinEventOverrides:Ie}},Ke=(V,z)=>{const xe=new Blob([z],{type:"application/json"}),Ie=URL.createObjectURL(xe),Z=document.createElement("a");Z.href=Ie,Z.download=V,document.body.appendChild(Z),Z.click(),Z.remove(),URL.revokeObjectURL(Ie)},Rt=()=>{Se(null);const V=Math.trunc(P);if(!Number.isFinite(V)||V<1900||V>9999){Se({type:"error",message:"  ."});return}try{const z=Oe(V),xe=JSON.stringify(z,null,2);Ke(`smart-calendar-backup-${V}.json`,xe),Se({type:"success",message:`${V}   .`})}catch(z){Se({type:"error",message:z instanceof Error?z.message:"    ."})}},I=V=>{if(!V||typeof V!="object"||Array.isArray(V))throw new Error("    .");const z=V,xe=z.version,Ie=typeof xe=="number"?xe:xe===void 0?0:NaN;if(Ie!==0&&Ie!==Yu)throw new Error("    .");const Z=z.year;if(typeof Z!="number"||!Number.isFinite(Z))throw new Error("    . (year)");const j=Math.trunc(Z),oe=z.userEvents??z.events;if(!Array.isArray(oe))throw new Error("    . (userEvents)");const H=z.builtinEventOverrides??z.builtinOverrides??z.overrides;if(H!==void 0&&(typeof H!="object"||H===null||Array.isArray(H)))throw new Error("    . (builtinEventOverrides)");const me=[];for(const ht of oe){if(!ht||typeof ht!="object")continue;const Je=ht,be=Je.id,Pe=Je.date,pt=Je.title,Bn=Je.category,nt=Je.source;typeof be!="string"||!be||!Ds(Pe)||typeof pt!="string"||!pt.trim()||Al(Pe)!==j||me.push({id:be,date:Pe,title:pt.trim(),category:br(Bn)?Bn:Qn,source:G0(nt)?nt:"manual"})}const qe={};if(H&&typeof H=="object"&&!Array.isArray(H))for(const[ht,Je]of Object.entries(H)){if(!Je||typeof Je!="object"||Array.isArray(Je))continue;const be=Je,Pe={};Ds(be.date)&&(Pe.date=be.date),typeof be.title=="string"&&be.title.trim()&&(Pe.title=be.title.trim()),br(be.category)&&(Pe.category=be.category),((Pe.date&&Al(Pe.date))??Zu(ht))===j&&(Pe.date||Pe.title||Pe.category)&&(qe[ht]=Pe)}return{version:Yu,createdAt:typeof z.createdAt=="string"?z.createdAt:new Date().toISOString(),year:j,userEvents:me,builtinEventOverrides:qe}},Y=async V=>{Se(null);try{const z=await V.text(),xe=JSON.parse(z),Ie=I(xe),j=Jm().filter(me=>Al(me.date)!==Ie.year);jw([...Ie.userEvents,...j]);const oe=Xm(),H={};for(const[me,qe]of Object.entries(oe))((qe.date&&Al(qe.date))??Zu(me))!==Ie.year&&(H[me]=qe);eR({...H,...Ie.builtinEventOverrides}),Se({type:"success",message:`${Ie.year}  . ( ${Ie.userEvents.length} /   ${Object.keys(Ie.builtinEventOverrides).length})`})}catch(z){Se({type:"error",message:z instanceof Error?z.message:"    ."})}},F=async V=>{var xe;const z=(xe=V.target.files)==null?void 0:xe[0];z&&(await Y(z),V.target.value="")};return g.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:`w-full max-w-lg max-h-[90vh] overflow-y-auto scrollbar-thin ${h.componentBg} border ${h.border} rounded-xl shadow-xl p-5`,children:[g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:`text-lg font-semibold ${h.accentColor}`,children:"API Key "}),g.jsx("p",{className:`text-xs ${h.textSecondary} mt-1`,children:"   (localStorage) . (  PC  )"})]}),g.jsx("button",{onClick:e,className:`${h.textSecondary} hover:${h.textPrimary} px-2 py-1 rounded-md ${h.hoverEffect}`,"aria-label":"",children:""})]}),g.jsxs("div",{className:"mt-4 space-y-5",children:[g.jsxs("section",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("label",{className:`text-sm ${h.textPrimary} block`,htmlFor:"ai-provider-select",children:"AI Provider"}),g.jsxs("span",{className:`text-xs ${h.textSecondary}`,children:[" : ",wt??""]})]}),g.jsxs("select",{id:"ai-provider-select",value:y,onChange:V=>v(V.target.value),className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm`,children:[g.jsx("option",{value:"auto",children:"()"}),g.jsx("option",{value:"gemini",children:"Google AI Studio (Gemini)"}),g.jsx("option",{value:"openrouter",children:"OpenRouter"})]}),g.jsx("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:" Provider  ,   Provider  . (Google   Gemini )"})]}),O&&g.jsxs("section",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("label",{className:`text-sm ${h.textPrimary} block`,htmlFor:"gemini-api-key-input",children:"Gemini API Key"}),g.jsx("a",{href:Qw,target:"_blank",rel:"noopener noreferrer",className:`text-xs ${h.textSecondary} hover:${h.textPrimary} underline`,children:" "})]}),g.jsx("input",{id:"gemini-api-key-input",type:b?"text":"password",value:m,onChange:V=>x(V.target.value),placeholder:"AIza...   ",className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm placeholder-slate-500`}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("button",{onClick:()=>w(V=>!V),className:`text-xs ${h.textSecondary} hover:${h.textPrimary}`,type:"button",children:b?"":""}),t&&g.jsxs("div",{className:`text-xs ${h.textSecondary}`,children:[": ",tn]})]}),g.jsxs("ol",{className:`text-[11px] ${h.textSecondary} leading-relaxed list-decimal list-inside mt-2 space-y-0.5`,children:[g.jsx("li",{children:"Google AI Studio API Key ."}),g.jsx("li",{children:"   ."})]})]}),le&&g.jsxs("section",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("label",{className:`text-sm ${h.textPrimary} block`,htmlFor:"openrouter-api-key-input",children:"OpenRouter API Key"}),g.jsx("a",{href:Ww,target:"_blank",rel:"noopener noreferrer",className:`text-xs ${h.textSecondary} hover:${h.textPrimary} underline`,children:" /"})]}),g.jsx("input",{id:"openrouter-api-key-input",type:M?"text":"password",value:S,onChange:V=>_(V.target.value),placeholder:"sk-or-v1-...   ",className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm placeholder-slate-500`}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("button",{onClick:()=>R(V=>!V),className:`text-xs ${h.textSecondary} hover:${h.textPrimary}`,type:"button",children:M?"":""}),i&&g.jsxs("div",{className:`text-xs ${h.textSecondary}`,children:[": ",dt]})]}),g.jsxs("div",{className:"mt-2 space-y-1",children:[g.jsx("label",{className:`text-xs ${h.textSecondary} block`,htmlFor:"openrouter-model-input",children:"OpenRouter  ()"}),g.jsx("input",{id:"openrouter-model-input",type:"text",value:T,onChange:V=>C(V.target.value),placeholder:"(     )",className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm placeholder-slate-500`}),g.jsxs("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:[": ",g.jsx("span",{className:"font-mono",children:"mistralai/mistral-7b-instruct:free"}),"  ",g.jsx("span",{className:"font-mono",children:"google/gemma-3-4b-it:free"})]})]}),g.jsxs("ol",{className:`text-[11px] ${h.textSecondary} leading-relaxed list-decimal list-inside mt-2 space-y-0.5`,children:[g.jsx("li",{children:"OpenRouter   Keys  API Key ."}),g.jsx("li",{children:"   ."})]})]}),g.jsx("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:"()  Gemini    Gemini ,  OpenRouter ."}),g.jsxs("section",{className:`space-y-2 pt-4 border-t ${h.border}`,children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("h3",{className:`text-sm font-semibold ${h.textPrimary}`,children:" / "}),g.jsx("span",{className:`text-[11px] ${h.textSecondary}`,children:" JSON "})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 items-end",children:[g.jsxs("div",{children:[g.jsx("label",{className:`text-xs ${h.textSecondary} block mb-1`,htmlFor:"backup-year-input",children:""}),g.jsx("input",{id:"backup-year-input",type:"number",value:P,onChange:V=>L(Number(V.target.value)),className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm`,min:1900,max:9999})]}),g.jsx("button",{type:"button",onClick:Rt,className:`${h.buttonBg} ${h.hoverEffect} ${h.buttonText} font-semibold py-2.5 px-4 rounded-lg transition-colors text-sm w-full`,children:" "}),g.jsxs("label",{className:`${h.accentBg} hover:opacity-90 ${h.buttonText} font-semibold py-2.5 px-4 rounded-lg transition-colors text-sm w-full text-center cursor-pointer`,children:[g.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:F})," "]})]}),ce&&g.jsx("div",{className:`text-xs p-2 rounded-md border ${ce.type==="success"?"text-green-200 bg-green-900/20 border-green-700":"text-red-200 bg-red-900/20 border-red-700"}`,children:ce.message}),g.jsx("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:"    /   . (API Key  )"})]})]}),g.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[g.jsx("button",{onClick:ke,className:`${h.eventBuiltinBg} hover:opacity-90 ${h.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,type:"button",children:" "}),g.jsx("button",{onClick:ie,className:`${h.accentBg} hover:opacity-90 ${h.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,type:"button",children:""})]})]})})},Ta=8,Fl=(n,e,t)=>Math.min(t,Math.max(e,n)),nR=n=>{const e=n.getBoundingClientRect(),t=Fl(e.top-Ta,0,window.innerHeight),i=Fl(e.left-Ta,0,window.innerWidth),l=Fl(e.right+Ta,0,window.innerWidth),o=Fl(e.bottom+Ta,0,window.innerHeight);return{top:t,left:i,width:Math.max(0,l-i),height:Math.max(0,o-t),right:l,bottom:o}},iR=n=>n?document.querySelector(`[data-tour="${CSS.escape(n)}"]`):null,lR=({isOpen:n,steps:e,onClose:t})=>{var v,T;const{colors:i}=Gi(),[l,o]=A.useState(0),[s,u]=A.useState(!1),[c,f]=A.useState(null),d=A.useRef(null),[p,h]=A.useState(null),m=e[l];A.useEffect(()=>{n&&(o(0),u(!1),f(null))},[n]),A.useLayoutEffect(()=>{if(!n||!m)return;let C=0;const b=()=>{const R=iR(m.target);if(!R){f(null);return}f(nR(R))},w=()=>{C&&cancelAnimationFrame(C),C=requestAnimationFrame(b)};w();const M=new MutationObserver(()=>w());return M.observe(document.body,{childList:!0,subtree:!0}),window.addEventListener("resize",w),window.addEventListener("scroll",w,!0),()=>{C&&cancelAnimationFrame(C),M.disconnect(),window.removeEventListener("resize",w),window.removeEventListener("scroll",w,!0)}},[n,m==null?void 0:m.target]),A.useLayoutEffect(()=>{n&&d.current&&h(d.current.getBoundingClientRect())},[n,l]);const x=A.useMemo(()=>{var M,R;const C=c?{x:c.left+c.width/2,y:c.top+c.height/2}:{x:window.innerWidth/2,y:window.innerHeight/2},b=((M=m==null?void 0:m.arrowOffset)==null?void 0:M.x)??0,w=((R=m==null?void 0:m.arrowOffset)==null?void 0:R.y)??0;return{x:Fl(C.x+b,0,window.innerWidth),y:Fl(C.y+w,0,window.innerHeight)}},[c,(v=m==null?void 0:m.arrowOffset)==null?void 0:v.x,(T=m==null?void 0:m.arrowOffset)==null?void 0:T.y]),S=A.useMemo(()=>p?{x:p.left+p.width/2,y:p.top}:{x:32,y:window.innerHeight-32},[p]),_=()=>{if(l>=e.length-1){t({dismissed:s});return}o(C=>C+1)},y=()=>t({dismissed:s});return!n||!m?null:g.jsxs("div",{className:"fixed inset-0 z-[200]",role:"dialog","aria-modal":"true","aria-label":" ",onClick:_,children:[c?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed bg-black/60",style:{top:0,left:0,width:"100%",height:`${c.top}px`}}),g.jsx("div",{className:"fixed bg-black/60",style:{top:`${c.bottom}px`,left:0,width:"100%",height:`${window.innerHeight-c.bottom}px`}}),g.jsx("div",{className:"fixed bg-black/60",style:{top:`${c.top}px`,left:0,width:`${c.left}px`,height:`${c.height}px`}}),g.jsx("div",{className:"fixed bg-black/60",style:{top:`${c.top}px`,left:`${c.right}px`,width:`${window.innerWidth-c.right}px`,height:`${c.height}px`}}),g.jsx("div",{className:"fixed pointer-events-none border-2 border-cyan-400 rounded-xl shadow-[0_0_0_2px_rgba(34,211,238,0.2)]",style:{top:`${c.top}px`,left:`${c.left}px`,width:`${c.width}px`,height:`${c.height}px`}})]}):g.jsx("div",{className:"fixed inset-0 bg-black/60"}),c&&g.jsxs("svg",{className:"fixed inset-0 pointer-events-none",width:"100%",height:"100%","aria-hidden":"true",children:[g.jsx("defs",{children:g.jsx("marker",{id:"tour-arrowhead",markerWidth:"10",markerHeight:"8",refX:"8",refY:"4",orient:"auto",children:g.jsx("path",{d:"M0,0 L10,4 L0,8 Z",fill:"rgba(34,211,238,0.95)"})})}),g.jsx("line",{x1:S.x,y1:S.y,x2:x.x,y2:x.y,stroke:"rgba(34,211,238,0.9)",strokeWidth:"2",markerEnd:"url(#tour-arrowhead)"})]}),g.jsxs("div",{ref:d,className:`fixed left-4 bottom-4 w-[min(380px,calc(100vw-32px))] ${i.componentBg} border ${i.border} rounded-xl shadow-2xl p-4`,onClick:C=>C.stopPropagation(),children:[g.jsxs("div",{className:"flex items-start justify-between gap-3",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsxs("div",{className:`text-[11px] ${i.textSecondary}`,children:[l+1," / ",e.length]}),g.jsx("div",{className:`text-base font-semibold ${i.accentColor} mt-0.5`,children:m.title})]}),g.jsx("button",{type:"button",onClick:y,className:`text-xs ${i.textSecondary} hover:${i.textPrimary} underline`,children:""})]}),g.jsx("p",{className:`mt-2 text-sm ${i.textPrimary} leading-relaxed`,children:m.description}),g.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[g.jsxs("label",{className:`flex items-center gap-2 text-xs ${i.textSecondary}`,children:[g.jsx("input",{type:"checkbox",checked:s,onChange:C=>u(C.target.checked),className:`mt-0.5 h-4 w-4 rounded border ${i.border} ${i.inputBg} text-cyan-500 focus:ring-cyan-400`}),"  "]}),g.jsx("div",{className:`text-xs ${i.textSecondary}`,children:"   "})]})]})]})},oR=({isOpen:n,onClose:e})=>{const{colors:t}=Gi();return n?g.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:g.jsxs("div",{className:`${t.componentBg} p-6 rounded-xl shadow-2xl border ${t.border} w-full max-w-2xl max-h-[80vh] flex flex-col relative`,onClick:i=>i.stopPropagation(),children:[g.jsx("button",{onClick:e,className:`absolute top-4 right-4 ${t.textSecondary} hover:${t.textPrimary} transition-colors`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),g.jsx("h2",{className:`text-xl sm:text-2xl font-bold ${t.accentColor} mb-4 pr-8`,children:" "}),g.jsx("div",{className:"flex-grow overflow-y-auto min-h-0 scrollbar-thin pr-2",children:g.jsxs("ul",{className:`space-y-4 ${t.textSecondary}`,children:[g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" :"})," /   ,   ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" :"})," /  AI ( )   ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:"AI :"})," Gemini  OpenRouter API Key   / . (Gemini  Gemini  )"]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:"API  :"}),"  ",g.jsx("strong",{children:"API Key "}),"  ",g.jsx("strong",{children:" "}),"   Google      ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" :"}),"       ",g.jsx("strong",{children:""}),"  . /   ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" / :"}),"  /   (:  ) ,       .   &     . (:    AI   ",g.jsx("strong",{children:""}),")"]})]})]})}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{onClick:e,className:`${t.accentBg} hover:opacity-90 ${t.buttonText} px-6 py-2 rounded-lg font-semibold transition-colors`,children:""})})]})}):null},Qm="smartcalendar:tourSeen",sR=[{target:"chat-input",title:" ",description:" AI ,     ."},{target:"ai-schedule-toggle",title:"AI  ",description:"        ."},{target:"calendar-event",title:" ",description:"    AI  ."},{target:"view-week",title:" ",description:"        ."},{target:"calendar-more",title:"",description:"    +N      .",arrowOffset:{y:-16}},{target:"calendar-event",title:" ()",description:" &     ."},{target:"filter-button",title:"",description:"/ (/AI)    ."},{target:"api-settings-button",title:"",description:"Provider , API Key , /    ."}],aR=({onOpenUsage:n})=>{const{apiKey:e,openRouterApiKey:t,aiProviderPreference:i,openRouterModel:l,setApiKey:o,setOpenRouterApiKey:s,setAiProviderPreference:u,setOpenRouterModel:c,clearApiKey:f,clearOpenRouterApiKey:d}=Cd(),{theme:p,setTheme:h,colors:m}=Gi(),[x,S]=A.useState(!1);return g.jsxs("header",{className:`flex justify-between items-center p-4 ${m.headerBg} border-b ${m.border}`,children:[g.jsx("h1",{className:`text-xl font-bold ${m.accentColor}`,children:"ON  "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`flex rounded-lg p-1 border ${m.border} mr-2`,children:["dark","light","beige"].map(_=>g.jsx("button",{onClick:()=>h(_),className:`w-6 h-6 rounded-md flex items-center justify-center transition-colors mx-0.5
                 ${p===_?"ring-2 ring-offset-1 ring-cyan-500":"hover:opacity-80"}
                 ${_==="dark"?"bg-slate-800":_==="light"?"bg-white border border-gray-300":"bg-[#e4dcc0]"}
               `,title:`${_} theme`},_))}),g.jsx("button",{onClick:n,className:`${m.accentBg} hover:opacity-90 ${m.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors mr-2`,children:""}),g.jsxs("div",{className:`hidden sm:block text-xs ${m.textSecondary}`,children:["Provider: ",i==="auto"?"":i==="gemini"?"Gemini":"OpenRouter","  Key: ",e||t?"":""]}),g.jsxs("div",{className:`hidden lg:block text-xs ${m.textSecondary}`,children:["Gemini: ",e?"":"","  OpenRouter: ",t?"":""]}),g.jsx("button",{onClick:()=>S(!0),"data-tour":"api-settings-button",className:`bg-slate-700 hover:bg-slate-600 ${m.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:"API Key "})]}),g.jsx(tR,{isOpen:x,onClose:()=>S(!1),geminiApiKey:e,openRouterApiKey:t,aiProviderPreference:i,openRouterModel:l,onSaveGemini:o,onSaveOpenRouter:s,onSaveAiProviderPreference:u,onSaveOpenRouterModel:c,onClearGemini:f,onClearOpenRouter:d})]})},rR=()=>{const[n,e]=A.useState(!1),[t,i]=A.useState(!1),{colors:l}=Gi();return A.useEffect(()=>{localStorage.getItem(Qm)==="1"||i(!0)},[]),g.jsxs("div",{className:`h-screen flex flex-col ${l.mainBg} antialiased overflow-hidden`,children:[g.jsx(aR,{onOpenUsage:()=>e(!0)}),g.jsx(oR,{isOpen:n,onClose:()=>e(!1)}),g.jsx(lR,{isOpen:t,steps:sR,onClose:({dismissed:o})=>{i(!1),localStorage.setItem(Qm,"1")}}),!t&&g.jsx("button",{type:"button",onClick:()=>i(!0),className:`fixed left-4 bottom-4 z-[150] w-11 h-11 rounded-full ${l.accentBg} hover:opacity-90 ${l.buttonText} font-bold shadow-xl`,"aria-label":"  ",children:"?"}),g.jsx("main",{className:"flex-grow p-4 sm:p-6 md:p-8 flex flex-col min-h-0",children:g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 sm:gap-6 w-full max-w-screen-2xl mx-auto flex-grow min-h-0",children:[g.jsx("div",{className:"md:w-[75%] w-full order-1 md:order-1 flex flex-col min-h-0",children:g.jsx("div",{className:"w-full flex-grow min-h-0 flex flex-col",children:g.jsx(Ow,{scheduleText:Xw,manualContextText:Km})})}),g.jsx("div",{className:"md:w-[25%] w-full order-2 md:order-2 flex flex-col min-h-0",children:g.jsx(Jw,{manualContextText:Km})})]})})]})},uR=()=>g.jsx(nS,{children:g.jsx(rR,{})}),q0=document.getElementById("root");if(!q0)throw new Error("Could not find root element to mount to");const cR=eS.createRoot(q0);cR.render(g.jsx(Tx.StrictMode,{children:g.jsx(Sw,{children:g.jsx(uR,{})})}));
