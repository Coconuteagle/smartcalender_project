var Q0=Object.defineProperty;var Rd=n=>{throw TypeError(n)};var W0=(n,e,t)=>e in n?Q0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Be=(n,e,t)=>W0(n,typeof e!="symbol"?e+"":e,t),j0=(n,e,t)=>e.has(n)||Rd("Cannot "+t);var Dd=(n,e,t)=>e.has(n)?Rd("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t);var ko=(n,e,t)=>(j0(n,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=t(l);fetch(l.href,o)}})();function Jp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xp={exports:{}},br={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex=Symbol.for("react.transitional.element"),tx=Symbol.for("react.fragment");function Qp(n,e,t){var i=null;if(t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),"key"in e){t={};for(var l in e)l!=="key"&&(t[l]=e[l])}else t=e;return e=t.ref,{$$typeof:ex,type:n,key:i,ref:e!==void 0?e:null,props:t}}br.Fragment=tx;br.jsx=Qp;br.jsxs=Qp;Xp.exports=br;var g=Xp.exports,Wp={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=Symbol.for("react.transitional.element"),nx=Symbol.for("react.portal"),ix=Symbol.for("react.fragment"),lx=Symbol.for("react.strict_mode"),ox=Symbol.for("react.profiler"),sx=Symbol.for("react.consumer"),ax=Symbol.for("react.context"),rx=Symbol.for("react.forward_ref"),ux=Symbol.for("react.suspense"),cx=Symbol.for("react.memo"),jp=Symbol.for("react.lazy"),kd=Symbol.iterator;function fx(n){return n===null||typeof n!="object"?null:(n=kd&&n[kd]||n["@@iterator"],typeof n=="function"?n:null)}var eg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tg=Object.assign,ng={};function To(n,e,t){this.props=n,this.context=e,this.refs=ng,this.updater=t||eg}To.prototype.isReactComponent={};To.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};To.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function ig(){}ig.prototype=To.prototype;function cf(n,e,t){this.props=n,this.context=e,this.refs=ng,this.updater=t||eg}var ff=cf.prototype=new ig;ff.constructor=cf;tg(ff,To.prototype);ff.isPureReactComponent=!0;var Id=Array.isArray,Ze={H:null,A:null,T:null,S:null,V:null},lg=Object.prototype.hasOwnProperty;function df(n,e,t,i,l,o){return t=o.ref,{$$typeof:uf,type:n,key:e,ref:t!==void 0?t:null,props:o}}function dx(n,e){return df(n.type,e,void 0,void 0,void 0,n.props)}function hf(n){return typeof n=="object"&&n!==null&&n.$$typeof===uf}function hx(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Ud=/\/+/g;function eu(n,e){return typeof n=="object"&&n!==null&&n.key!=null?hx(""+n.key):e.toString(36)}function Ld(){}function mx(n){switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:switch(typeof n.status=="string"?n.then(Ld,Ld):(n.status="pending",n.then(function(e){n.status==="pending"&&(n.status="fulfilled",n.value=e)},function(e){n.status==="pending"&&(n.status="rejected",n.reason=e)})),n.status){case"fulfilled":return n.value;case"rejected":throw n.reason}}throw n}function Al(n,e,t,i,l){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"bigint":case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case uf:case nx:s=!0;break;case jp:return s=n._init,Al(s(n._payload),e,t,i,l)}}if(s)return l=l(n),s=i===""?"."+eu(n,0):i,Id(l)?(t="",s!=null&&(t=s.replace(Ud,"$&/")+"/"),Al(l,e,t,"",function(f){return f})):l!=null&&(hf(l)&&(l=dx(l,t+(l.key==null||n&&n.key===l.key?"":(""+l.key).replace(Ud,"$&/")+"/")+s)),e.push(l)),1;s=0;var u=i===""?".":i+":";if(Id(n))for(var c=0;c<n.length;c++)i=n[c],o=u+eu(i,c),s+=Al(i,e,t,o,l);else if(c=fx(n),typeof c=="function")for(n=c.call(n),c=0;!(i=n.next()).done;)i=i.value,o=u+eu(i,c++),s+=Al(i,e,t,o,l);else if(o==="object"){if(typeof n.then=="function")return Al(mx(n),e,t,i,l);throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function ea(n,e,t){if(n==null)return n;var i=[],l=0;return Al(n,i,"","",function(o){return e.call(t,o,l++)}),i}function px(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Od=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function gx(){}se.Children={map:ea,forEach:function(n,e,t){ea(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ea(n,function(){e++}),e},toArray:function(n){return ea(n,function(e){return e})||[]},only:function(n){if(!hf(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};se.Component=To;se.Fragment=ix;se.Profiler=ox;se.PureComponent=cf;se.StrictMode=lx;se.Suspense=ux;se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ze;se.__COMPILER_RUNTIME={__proto__:null,c:function(n){return Ze.H.useMemoCache(n)}};se.cache=function(n){return function(){return n.apply(null,arguments)}};se.cloneElement=function(n,e,t){if(n==null)throw Error("The argument must be a React element, but you passed "+n+".");var i=tg({},n.props),l=n.key,o=void 0;if(e!=null)for(s in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(l=""+e.key),e)!lg.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=t;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}return df(n.type,l,void 0,void 0,o,i)};se.createContext=function(n){return n={$$typeof:ax,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider=n,n.Consumer={$$typeof:sx,_context:n},n};se.createElement=function(n,e,t){var i,l={},o=null;if(e!=null)for(i in e.key!==void 0&&(o=""+e.key),e)lg.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=e[i]);var s=arguments.length-2;if(s===1)l.children=t;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];l.children=u}if(n&&n.defaultProps)for(i in s=n.defaultProps,s)l[i]===void 0&&(l[i]=s[i]);return df(n,o,void 0,void 0,null,l)};se.createRef=function(){return{current:null}};se.forwardRef=function(n){return{$$typeof:rx,render:n}};se.isValidElement=hf;se.lazy=function(n){return{$$typeof:jp,_payload:{_status:-1,_result:n},_init:px}};se.memo=function(n,e){return{$$typeof:cx,type:n,compare:e===void 0?null:e}};se.startTransition=function(n){var e=Ze.T,t={};Ze.T=t;try{var i=n(),l=Ze.S;l!==null&&l(t,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(gx,Od)}catch(o){Od(o)}finally{Ze.T=e}};se.unstable_useCacheRefresh=function(){return Ze.H.useCacheRefresh()};se.use=function(n){return Ze.H.use(n)};se.useActionState=function(n,e,t){return Ze.H.useActionState(n,e,t)};se.useCallback=function(n,e){return Ze.H.useCallback(n,e)};se.useContext=function(n){return Ze.H.useContext(n)};se.useDebugValue=function(){};se.useDeferredValue=function(n,e){return Ze.H.useDeferredValue(n,e)};se.useEffect=function(n,e,t){var i=Ze.H;if(typeof t=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(n,e)};se.useId=function(){return Ze.H.useId()};se.useImperativeHandle=function(n,e,t){return Ze.H.useImperativeHandle(n,e,t)};se.useInsertionEffect=function(n,e){return Ze.H.useInsertionEffect(n,e)};se.useLayoutEffect=function(n,e){return Ze.H.useLayoutEffect(n,e)};se.useMemo=function(n,e){return Ze.H.useMemo(n,e)};se.useOptimistic=function(n,e){return Ze.H.useOptimistic(n,e)};se.useReducer=function(n,e,t){return Ze.H.useReducer(n,e,t)};se.useRef=function(n){return Ze.H.useRef(n)};se.useState=function(n){return Ze.H.useState(n)};se.useSyncExternalStore=function(n,e,t){return Ze.H.useSyncExternalStore(n,e,t)};se.useTransition=function(){return Ze.H.useTransition()};se.version="19.1.0";Wp.exports=se;var A=Wp.exports;const yx=Jp(A);var og={exports:{}},Mr={},sg={exports:{}},ag={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e($,le){var ne=$.length;$.push(le);e:for(;0<ne;){var Re=ne-1>>>1,re=$[Re];if(0<l(re,le))$[Re]=le,$[ne]=re,ne=Re;else break e}}function t($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var le=$[0],ne=$.pop();if(ne!==le){$[0]=ne;e:for(var Re=0,re=$.length,Nt=re>>>1;Re<Nt;){var Ht=2*(Re+1)-1,I=$[Ht],Z=Ht+1,q=$[Z];if(0>l(I,ne))Z<re&&0>l(q,I)?($[Re]=q,$[Z]=ne,Re=Z):($[Re]=I,$[Ht]=ne,Re=Ht);else if(Z<re&&0>l(q,ne))$[Re]=q,$[Z]=ne,Re=Z;else break e}}return le}function l($,le){var ne=$.sortIndex-le.sortIndex;return ne!==0?ne:$.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();n.unstable_now=function(){return s.now()-u}}var c=[],f=[],d=1,m=null,h=3,p=!1,x=!1,S=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C($){for(var le=t(f);le!==null;){if(le.callback===null)i(f);else if(le.startTime<=$)i(f),le.sortIndex=le.expirationTime,e(c,le);else break;le=t(f)}}function b($){if(S=!1,C($),!x)if(t(c)!==null)x=!0,w||(w=!0,xe());else{var le=t(f);le!==null&&Mt(b,le.startTime-$)}}var w=!1,N=-1,D=5,P=-1;function V(){return _?!0:!(n.unstable_now()-P<D)}function ue(){if(_=!1,w){var $=n.unstable_now();P=$;var le=!0;try{e:{x=!1,S&&(S=!1,v(N),N=-1),p=!0;var ne=h;try{t:{for(C($),m=t(c);m!==null&&!(m.expirationTime>$&&V());){var Re=m.callback;if(typeof Re=="function"){m.callback=null,h=m.priorityLevel;var re=Re(m.expirationTime<=$);if($=n.unstable_now(),typeof re=="function"){m.callback=re,C($),le=!0;break t}m===t(c)&&i(c),C($)}else i(c);m=t(c)}if(m!==null)le=!0;else{var Nt=t(f);Nt!==null&&Mt(b,Nt.startTime-$),le=!1}}break e}finally{m=null,h=ne,p=!1}le=void 0}}finally{le?xe():w=!1}}}var xe;if(typeof T=="function")xe=function(){T(ue)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,it=Ot.port2;Ot.port1.onmessage=ue,xe=function(){it.postMessage(null)}}else xe=function(){y(ue,0)};function Mt($,le){N=y(function(){$(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_next=function($){switch(h){case 1:case 2:case 3:var le=3;break;default:le=h}var ne=h;h=le;try{return $()}finally{h=ne}},n.unstable_requestPaint=function(){_=!0},n.unstable_runWithPriority=function($,le){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ne=h;h=$;try{return le()}finally{h=ne}},n.unstable_scheduleCallback=function($,le,ne){var Re=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Re+ne:Re):ne=Re,$){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ne+re,$={id:d++,callback:le,priorityLevel:$,startTime:ne,expirationTime:re,sortIndex:-1},ne>Re?($.sortIndex=ne,e(f,$),t(c)===null&&$===t(f)&&(S?(v(N),N=-1):S=!0,Mt(b,ne-Re))):($.sortIndex=re,e(c,$),x||p||(x=!0,w||(w=!0,xe()))),$},n.unstable_shouldYield=V,n.unstable_wrapCallback=function($){var le=h;return function(){var ne=h;h=le;try{return $.apply(this,arguments)}finally{h=ne}}}})(ag);sg.exports=ag;var vx=sg.exports,rg={exports:{}},Lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx=A;function ug(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function hi(){}var kt={d:{f:hi,r:function(){throw Error(ug(522))},D:hi,C:hi,L:hi,m:hi,X:hi,S:hi,M:hi},p:0,findDOMNode:null},Tx=Symbol.for("react.portal");function Sx(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tx,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}var Xo=xx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Nr(n,e){if(n==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=kt;Lt.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(ug(299));return Sx(n,e,null,t)};Lt.flushSync=function(n){var e=Xo.T,t=kt.p;try{if(Xo.T=null,kt.p=2,n)return n()}finally{Xo.T=e,kt.p=t,kt.d.f()}};Lt.preconnect=function(n,e){typeof n=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,kt.d.C(n,e))};Lt.prefetchDNS=function(n){typeof n=="string"&&kt.d.D(n)};Lt.preinit=function(n,e){if(typeof n=="string"&&e&&typeof e.as=="string"){var t=e.as,i=Nr(t,e.crossOrigin),l=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;t==="style"?kt.d.S(n,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:o}):t==="script"&&kt.d.X(n,{crossOrigin:i,integrity:l,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Lt.preinitModule=function(n,e){if(typeof n=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var t=Nr(e.as,e.crossOrigin);kt.d.M(n,{crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&kt.d.M(n)};Lt.preload=function(n,e){if(typeof n=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var t=e.as,i=Nr(t,e.crossOrigin);kt.d.L(n,t,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Lt.preloadModule=function(n,e){if(typeof n=="string")if(e){var t=Nr(e.as,e.crossOrigin);kt.d.m(n,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else kt.d.m(n)};Lt.requestFormReset=function(n){kt.d.r(n)};Lt.unstable_batchedUpdates=function(n,e){return n(e)};Lt.useFormState=function(n,e,t){return Xo.H.useFormState(n,e,t)};Lt.useFormStatus=function(){return Xo.H.useHostTransitionStatus()};Lt.version="19.1.0";function cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cg)}catch(n){console.error(n)}}cg(),rg.exports=Lt;var Cx=rg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ft=vx,fg=A,_x=Cx;function M(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function dg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ks(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function hg(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Vd(n){if(ks(n)!==n)throw Error(M(188))}function Ex(n){var e=n.alternate;if(!e){if(e=ks(n),e===null)throw Error(M(188));return e!==n?null:n}for(var t=n,i=e;;){var l=t.return;if(l===null)break;var o=l.alternate;if(o===null){if(i=l.return,i!==null){t=i;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===t)return Vd(l),n;if(o===i)return Vd(l),e;o=o.sibling}throw Error(M(188))}if(t.return!==i.return)t=l,i=o;else{for(var s=!1,u=l.child;u;){if(u===t){s=!0,t=l,i=o;break}if(u===i){s=!0,i=l,t=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===t){s=!0,t=o,i=l;break}if(u===i){s=!0,i=o,t=l;break}u=u.sibling}if(!s)throw Error(M(189))}}if(t.alternate!==i)throw Error(M(190))}if(t.tag!==3)throw Error(M(188));return t.stateNode.current===t?n:e}function mg(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n;for(n=n.child;n!==null;){if(e=mg(n),e!==null)return e;n=n.sibling}return null}var Ye=Object.assign,Ax=Symbol.for("react.element"),ta=Symbol.for("react.transitional.element"),Ho=Symbol.for("react.portal"),Rl=Symbol.for("react.fragment"),pg=Symbol.for("react.strict_mode"),Fu=Symbol.for("react.profiler"),bx=Symbol.for("react.provider"),gg=Symbol.for("react.consumer"),Fn=Symbol.for("react.context"),mf=Symbol.for("react.forward_ref"),Zu=Symbol.for("react.suspense"),Ku=Symbol.for("react.suspense_list"),pf=Symbol.for("react.memo"),gi=Symbol.for("react.lazy"),Ju=Symbol.for("react.activity"),Mx=Symbol.for("react.memo_cache_sentinel"),$d=Symbol.iterator;function Io(n){return n===null||typeof n!="object"?null:(n=$d&&n[$d]||n["@@iterator"],typeof n=="function"?n:null)}var Nx=Symbol.for("react.client.reference");function Xu(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Nx?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Rl:return"Fragment";case Fu:return"Profiler";case pg:return"StrictMode";case Zu:return"Suspense";case Ku:return"SuspenseList";case Ju:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case Ho:return"Portal";case Fn:return(n.displayName||"Context")+".Provider";case gg:return(n._context.displayName||"Context")+".Consumer";case mf:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case pf:return e=n.displayName||null,e!==null?e:Xu(n.type)||"Memo";case gi:e=n._payload,n=n._init;try{return Xu(n(e))}catch{}}return null}var Yo=Array.isArray,W=fg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce=_x.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ji={pending:!1,data:null,method:null,action:null},Qu=[],Dl=-1;function Ln(n){return{current:n}}function gt(n){0>Dl||(n.current=Qu[Dl],Qu[Dl]=null,Dl--)}function Ke(n,e){Dl++,Qu[Dl]=n.current,n.current=e}var Rn=Ln(null),gs=Ln(null),Mi=Ln(null),Oa=Ln(null);function Va(n,e){switch(Ke(Mi,e),Ke(gs,n),Ke(Rn,null),e.nodeType){case 9:case 11:n=(n=e.documentElement)&&(n=n.namespaceURI)?qh(n):0;break;default:if(n=e.tagName,e=e.namespaceURI)e=qh(e),n=Iv(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}gt(Rn),Ke(Rn,n)}function no(){gt(Rn),gt(gs),gt(Mi)}function Wu(n){n.memoizedState!==null&&Ke(Oa,n);var e=Rn.current,t=Iv(e,n.type);e!==t&&(Ke(gs,n),Ke(Rn,t))}function $a(n){gs.current===n&&(gt(Rn),gt(gs)),Oa.current===n&&(gt(Oa),bs._currentValue=ji)}var ju=Object.prototype.hasOwnProperty,gf=ft.unstable_scheduleCallback,tu=ft.unstable_cancelCallback,wx=ft.unstable_shouldYield,Rx=ft.unstable_requestPaint,Dn=ft.unstable_now,Dx=ft.unstable_getCurrentPriorityLevel,yg=ft.unstable_ImmediatePriority,vg=ft.unstable_UserBlockingPriority,Ba=ft.unstable_NormalPriority,kx=ft.unstable_LowPriority,xg=ft.unstable_IdlePriority,Ix=ft.log,Ux=ft.unstable_setDisableYieldValue,Is=null,Wt=null;function _i(n){if(typeof Ix=="function"&&Ux(n),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Is,n)}catch{}}var jt=Math.clz32?Math.clz32:Vx,Lx=Math.log,Ox=Math.LN2;function Vx(n){return n>>>=0,n===0?32:31-(Lx(n)/Ox|0)|0}var na=256,ia=4194304;function Xi(n){var e=n&42;if(e!==0)return e;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function wr(n,e,t){var i=n.pendingLanes;if(i===0)return 0;var l=0,o=n.suspendedLanes,s=n.pingedLanes;n=n.warmLanes;var u=i&134217727;return u!==0?(i=u&~o,i!==0?l=Xi(i):(s&=u,s!==0?l=Xi(s):t||(t=u&~n,t!==0&&(l=Xi(t))))):(u=i&~o,u!==0?l=Xi(u):s!==0?l=Xi(s):t||(t=i&~n,t!==0&&(l=Xi(t)))),l===0?0:e!==0&&e!==l&&!(e&o)&&(o=l&-l,t=e&-e,o>=t||o===32&&(t&4194048)!==0)?e:l}function Us(n,e){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&e)===0}function $x(n,e){switch(n){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tg(){var n=na;return na<<=1,!(na&4194048)&&(na=256),n}function Sg(){var n=ia;return ia<<=1,!(ia&62914560)&&(ia=4194304),n}function nu(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ls(n,e){n.pendingLanes|=e,e!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Bx(n,e,t,i,l,o){var s=n.pendingLanes;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=t,n.entangledLanes&=t,n.errorRecoveryDisabledLanes&=t,n.shellSuspendCounter=0;var u=n.entanglements,c=n.expirationTimes,f=n.hiddenUpdates;for(t=s&~t;0<t;){var d=31-jt(t),m=1<<d;u[d]=0,c[d]=-1;var h=f[d];if(h!==null)for(f[d]=null,d=0;d<h.length;d++){var p=h[d];p!==null&&(p.lane&=-536870913)}t&=~m}i!==0&&Cg(n,i,0),o!==0&&l===0&&n.tag!==0&&(n.suspendedLanes|=o&~(s&~e))}function Cg(n,e,t){n.pendingLanes|=e,n.suspendedLanes&=~e;var i=31-jt(e);n.entangledLanes|=e,n.entanglements[i]=n.entanglements[i]|1073741824|t&4194090}function _g(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-jt(t),l=1<<i;l&e|n[i]&e&&(n[i]|=e),t&=~l}}function yf(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function vf(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function Eg(){var n=Ce.p;return n!==0?n:(n=window.event,n===void 0?32:qv(n.type))}function Px(n,e){var t=Ce.p;try{return Ce.p=n,e()}finally{Ce.p=t}}var Pi=Math.random().toString(36).slice(2),At="__reactFiber$"+Pi,Gt="__reactProps$"+Pi,So="__reactContainer$"+Pi,ec="__reactEvents$"+Pi,zx="__reactListeners$"+Pi,Gx="__reactHandles$"+Pi,Bd="__reactResources$"+Pi,Os="__reactMarker$"+Pi;function xf(n){delete n[At],delete n[Gt],delete n[ec],delete n[zx],delete n[Gx]}function kl(n){var e=n[At];if(e)return e;for(var t=n.parentNode;t;){if(e=t[So]||t[At]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Fh(n);n!==null;){if(t=n[At])return t;n=Fh(n)}return e}n=t,t=n.parentNode}return null}function Co(n){if(n=n[At]||n[So]){var e=n.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return n}return null}function Fo(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n.stateNode;throw Error(M(33))}function Yl(n){var e=n[Bd];return e||(e=n[Bd]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function mt(n){n[Os]=!0}var Ag=new Set,bg={};function ml(n,e){io(n,e),io(n+"Capture",e)}function io(n,e){for(bg[n]=e,n=0;n<e.length;n++)Ag.add(e[n])}var qx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pd={},zd={};function Hx(n){return ju.call(zd,n)?!0:ju.call(Pd,n)?!1:qx.test(n)?zd[n]=!0:(Pd[n]=!0,!1)}function Ta(n,e,t){if(Hx(e))if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":n.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){n.removeAttribute(e);return}}n.setAttribute(e,""+t)}}function la(n,e,t){if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(e);return}n.setAttribute(e,""+t)}}function Gn(n,e,t,i){if(i===null)n.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(t);return}n.setAttributeNS(e,t,""+i)}}var iu,Gd;function bl(n){if(iu===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);iu=e&&e[1]||"",Gd=-1<t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+iu+n+Gd}var lu=!1;function ou(n,e){if(!n||lu)return"";lu=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(p){var h=p}Reflect.construct(n,[],m)}else{try{m.call()}catch(p){h=p}n.call(m.prototype)}}else{try{throw Error()}catch(p){h=p}(m=n())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),s=o[0],u=o[1];if(s&&u){var c=s.split(`
`),f=u.split(`
`);for(l=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;l<f.length&&!f[l].includes("DetermineComponentFrameRoot");)l++;if(i===c.length||l===f.length)for(i=c.length-1,l=f.length-1;1<=i&&0<=l&&c[i]!==f[l];)l--;for(;1<=i&&0<=l;i--,l--)if(c[i]!==f[l]){if(i!==1||l!==1)do if(i--,l--,0>l||c[i]!==f[l]){var d=`
`+c[i].replace(" at new "," at ");return n.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",n.displayName)),d}while(1<=i&&0<=l);break}}}finally{lu=!1,Error.prepareStackTrace=t}return(t=n?n.displayName||n.name:"")?bl(t):""}function Yx(n){switch(n.tag){case 26:case 27:case 5:return bl(n.type);case 16:return bl("Lazy");case 13:return bl("Suspense");case 19:return bl("SuspenseList");case 0:case 15:return ou(n.type,!1);case 11:return ou(n.type.render,!1);case 1:return ou(n.type,!0);case 31:return bl("Activity");default:return""}}function qd(n){try{var e="";do e+=Yx(n),n=n.return;while(n);return e}catch(t){return`
Error generating stack: `+t.message+`
`+t.stack}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Mg(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Fx(n){var e=Mg(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var l=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return l.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Pa(n){n._valueTracker||(n._valueTracker=Fx(n))}function Ng(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=Mg(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function za(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Zx=/[\n"\\]/g;function un(n){return n.replace(Zx,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function tc(n,e,t,i,l,o,s,u){n.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?n.type=s:n.removeAttribute("type"),e!=null?s==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+sn(e)):n.value!==""+sn(e)&&(n.value=""+sn(e)):s!=="submit"&&s!=="reset"||n.removeAttribute("value"),e!=null?nc(n,s,sn(e)):t!=null?nc(n,s,sn(t)):i!=null&&n.removeAttribute("value"),l==null&&o!=null&&(n.defaultChecked=!!o),l!=null&&(n.checked=l&&typeof l!="function"&&typeof l!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?n.name=""+sn(u):n.removeAttribute("name")}function wg(n,e,t,i,l,o,s,u){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(n.type=o),e!=null||t!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;t=t!=null?""+sn(t):"",e=e!=null?""+sn(e):t,u||e===n.value||(n.value=e),n.defaultValue=e}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,n.checked=u?n.checked:!!i,n.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(n.name=s)}function nc(n,e,t){e==="number"&&za(n.ownerDocument)===n||n.defaultValue===""+t||(n.defaultValue=""+t)}function Fl(n,e,t,i){if(n=n.options,e){e={};for(var l=0;l<t.length;l++)e["$"+t[l]]=!0;for(t=0;t<n.length;t++)l=e.hasOwnProperty("$"+n[t].value),n[t].selected!==l&&(n[t].selected=l),l&&i&&(n[t].defaultSelected=!0)}else{for(t=""+sn(t),e=null,l=0;l<n.length;l++){if(n[l].value===t){n[l].selected=!0,i&&(n[l].defaultSelected=!0);return}e!==null||n[l].disabled||(e=n[l])}e!==null&&(e.selected=!0)}}function Rg(n,e,t){if(e!=null&&(e=""+sn(e),e!==n.value&&(n.value=e),t==null)){n.defaultValue!==e&&(n.defaultValue=e);return}n.defaultValue=t!=null?""+sn(t):""}function Dg(n,e,t,i){if(e==null){if(i!=null){if(t!=null)throw Error(M(92));if(Yo(i)){if(1<i.length)throw Error(M(93));i=i[0]}t=i}t==null&&(t=""),e=t}t=sn(e),n.defaultValue=t,i=n.textContent,i===t&&i!==""&&i!==null&&(n.value=i)}function lo(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Kx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hd(n,e,t){var i=e.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?i?n.setProperty(e,""):e==="float"?n.cssFloat="":n[e]="":i?n.setProperty(e,t):typeof t!="number"||t===0||Kx.has(e)?e==="float"?n.cssFloat=t:n[e]=(""+t).trim():n[e]=t+"px"}function kg(n,e,t){if(e!=null&&typeof e!="object")throw Error(M(62));if(n=n.style,t!=null){for(var i in t)!t.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="");for(var l in e)i=e[l],e.hasOwnProperty(l)&&t[l]!==i&&Hd(n,l,i)}else for(var o in e)e.hasOwnProperty(o)&&Hd(n,o,e[o])}function Tf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(n){return Xx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ic=null;function Sf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Il=null,Zl=null;function Yd(n){var e=Co(n);if(e&&(n=e.stateNode)){var t=n[Gt]||null;e:switch(n=e.stateNode,e.type){case"input":if(tc(n,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+un(""+e)+'"][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var l=i[Gt]||null;if(!l)throw Error(M(90));tc(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<t.length;e++)i=t[e],i.form===n.form&&Ng(i)}break e;case"textarea":Rg(n,t.value,t.defaultValue);break e;case"select":e=t.value,e!=null&&Fl(n,!!t.multiple,e,!1)}}}var su=!1;function Ig(n,e,t){if(su)return n(e,t);su=!0;try{var i=n(e);return i}finally{if(su=!1,(Il!==null||Zl!==null)&&(Br(),Il&&(e=Il,n=Zl,Zl=Il=null,Yd(e),n)))for(e=0;e<n.length;e++)Yd(n[e])}}function ys(n,e){var t=n.stateNode;if(t===null)return null;var i=t[Gt]||null;if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(M(231,e,typeof t));return t}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lc=!1;if(ei)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){lc=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{lc=!1}var Ei=null,Cf=null,Ca=null;function Ug(){if(Ca)return Ca;var n,e=Cf,t=e.length,i,l="value"in Ei?Ei.value:Ei.textContent,o=l.length;for(n=0;n<t&&e[n]===l[n];n++);var s=t-n;for(i=1;i<=s&&e[t-i]===l[o-i];i++);return Ca=l.slice(n,1<i?1-i:void 0)}function _a(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function oa(){return!0}function Fd(){return!1}function qt(n){function e(t,i,l,o,s){this._reactName=t,this._targetInst=l,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?oa:Fd,this.isPropagationStopped=Fd,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),e}var pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rr=qt(pl),Vs=Ye({},pl,{view:0,detail:0}),Qx=qt(Vs),au,ru,Lo,Dr=Ye({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_f,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Lo&&(Lo&&n.type==="mousemove"?(au=n.screenX-Lo.screenX,ru=n.screenY-Lo.screenY):ru=au=0,Lo=n),au)},movementY:function(n){return"movementY"in n?n.movementY:ru}}),Zd=qt(Dr),Wx=Ye({},Dr,{dataTransfer:0}),jx=qt(Wx),eT=Ye({},Vs,{relatedTarget:0}),uu=qt(eT),tT=Ye({},pl,{animationName:0,elapsedTime:0,pseudoElement:0}),nT=qt(tT),iT=Ye({},pl,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),lT=qt(iT),oT=Ye({},pl,{data:0}),Kd=qt(oT),sT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uT(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=rT[n])?!!e[n]:!1}function _f(){return uT}var cT=Ye({},Vs,{key:function(n){if(n.key){var e=sT[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=_a(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?aT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_f,charCode:function(n){return n.type==="keypress"?_a(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_a(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),fT=qt(cT),dT=Ye({},Dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jd=qt(dT),hT=Ye({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_f}),mT=qt(hT),pT=Ye({},pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),gT=qt(pT),yT=Ye({},Dr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),vT=qt(yT),xT=Ye({},pl,{newState:0,oldState:0}),TT=qt(xT),ST=[9,13,27,32],Ef=ei&&"CompositionEvent"in window,Qo=null;ei&&"documentMode"in document&&(Qo=document.documentMode);var CT=ei&&"TextEvent"in window&&!Qo,Lg=ei&&(!Ef||Qo&&8<Qo&&11>=Qo),Xd=" ",Qd=!1;function Og(n,e){switch(n){case"keyup":return ST.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ul=!1;function _T(n,e){switch(n){case"compositionend":return Vg(e);case"keypress":return e.which!==32?null:(Qd=!0,Xd);case"textInput":return n=e.data,n===Xd&&Qd?null:n;default:return null}}function ET(n,e){if(Ul)return n==="compositionend"||!Ef&&Og(n,e)?(n=Ug(),Ca=Cf=Ei=null,Ul=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lg&&e.locale!=="ko"?null:e.data;default:return null}}var AT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!AT[n.type]:e==="textarea"}function $g(n,e,t,i){Il?Zl?Zl.push(i):Zl=[i]:Il=i,e=or(e,"onChange"),0<e.length&&(t=new Rr("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Wo=null,vs=null;function bT(n){Rv(n,0)}function kr(n){var e=Fo(n);if(Ng(e))return n}function jd(n,e){if(n==="change")return e}var Bg=!1;if(ei){var cu;if(ei){var fu="oninput"in document;if(!fu){var eh=document.createElement("div");eh.setAttribute("oninput","return;"),fu=typeof eh.oninput=="function"}cu=fu}else cu=!1;Bg=cu&&(!document.documentMode||9<document.documentMode)}function th(){Wo&&(Wo.detachEvent("onpropertychange",Pg),vs=Wo=null)}function Pg(n){if(n.propertyName==="value"&&kr(vs)){var e=[];$g(e,vs,n,Sf(n)),Ig(bT,e)}}function MT(n,e,t){n==="focusin"?(th(),Wo=e,vs=t,Wo.attachEvent("onpropertychange",Pg)):n==="focusout"&&th()}function NT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return kr(vs)}function wT(n,e){if(n==="click")return kr(e)}function RT(n,e){if(n==="input"||n==="change")return kr(e)}function DT(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var nn=typeof Object.is=="function"?Object.is:DT;function xs(n,e){if(nn(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var l=t[i];if(!ju.call(e,l)||!nn(n[l],e[l]))return!1}return!0}function nh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ih(n,e){var t=nh(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=nh(t)}}function zg(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?zg(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Gg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var e=za(n.document);e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=za(n.document)}return e}function Af(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var kT=ei&&"documentMode"in document&&11>=document.documentMode,Ll=null,oc=null,jo=null,sc=!1;function lh(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;sc||Ll==null||Ll!==za(i)||(i=Ll,"selectionStart"in i&&Af(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),jo&&xs(jo,i)||(jo=i,i=or(oc,"onSelect"),0<i.length&&(e=new Rr("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Ll)))}function Zi(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ol={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},du={},qg={};ei&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function gl(n){if(du[n])return du[n];if(!Ol[n])return n;var e=Ol[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in qg)return du[n]=e[t];return n}var Hg=gl("animationend"),Yg=gl("animationiteration"),Fg=gl("animationstart"),IT=gl("transitionrun"),UT=gl("transitionstart"),LT=gl("transitioncancel"),Zg=gl("transitionend"),Kg=new Map,ac="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ac.push("scrollEnd");function Tn(n,e){Kg.set(n,e),ml(e,[n])}var oh=new WeakMap;function cn(n,e){if(typeof n=="object"&&n!==null){var t=oh.get(n);return t!==void 0?t:(e={value:n,source:e,stack:qd(e)},oh.set(n,e),e)}return{value:n,source:e,stack:qd(e)}}var on=[],Vl=0,bf=0;function Ir(){for(var n=Vl,e=bf=Vl=0;e<n;){var t=on[e];on[e++]=null;var i=on[e];on[e++]=null;var l=on[e];on[e++]=null;var o=on[e];if(on[e++]=null,i!==null&&l!==null){var s=i.pending;s===null?l.next=l:(l.next=s.next,s.next=l),i.pending=l}o!==0&&Jg(t,l,o)}}function Ur(n,e,t,i){on[Vl++]=n,on[Vl++]=e,on[Vl++]=t,on[Vl++]=i,bf|=i,n.lanes|=i,n=n.alternate,n!==null&&(n.lanes|=i)}function Mf(n,e,t,i){return Ur(n,e,t,i),Ga(n)}function _o(n,e){return Ur(n,null,null,e),Ga(n)}function Jg(n,e,t){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t);for(var l=!1,o=n.return;o!==null;)o.childLanes|=t,i=o.alternate,i!==null&&(i.childLanes|=t),o.tag===22&&(n=o.stateNode,n===null||n._visibility&1||(l=!0)),n=o,o=o.return;return n.tag===3?(o=n.stateNode,l&&e!==null&&(l=31-jt(t),n=o.hiddenUpdates,i=n[l],i===null?n[l]=[e]:i.push(e),e.lane=t|536870912),o):null}function Ga(n){if(50<us)throw us=0,Nc=null,Error(M(185));for(var e=n.return;e!==null;)n=e,e=n.return;return n.tag===3?n.stateNode:null}var $l={};function OT(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(n,e,t,i){return new OT(n,e,t,i)}function Nf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wn(n,e){var t=n.alternate;return t===null?(t=Qt(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&65011712,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t.refCleanup=n.refCleanup,t}function Xg(n,e){n.flags&=65011714;var t=n.alternate;return t===null?(n.childLanes=0,n.lanes=e,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.type=t.type,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n}function Ea(n,e,t,i,l,o){var s=0;if(i=n,typeof n=="function")Nf(n)&&(s=1);else if(typeof n=="string")s=$1(n,t,Rn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Ju:return n=Qt(31,t,e,l),n.elementType=Ju,n.lanes=o,n;case Rl:return el(t.children,l,o,e);case pg:s=8,l|=24;break;case Fu:return n=Qt(12,t,e,l|2),n.elementType=Fu,n.lanes=o,n;case Zu:return n=Qt(13,t,e,l),n.elementType=Zu,n.lanes=o,n;case Ku:return n=Qt(19,t,e,l),n.elementType=Ku,n.lanes=o,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case bx:case Fn:s=10;break e;case gg:s=9;break e;case mf:s=11;break e;case pf:s=14;break e;case gi:s=16,i=null;break e}s=29,t=Error(M(130,n===null?"null":typeof n,"")),i=null}return e=Qt(s,t,e,l),e.elementType=n,e.type=i,e.lanes=o,e}function el(n,e,t,i){return n=Qt(7,n,i,e),n.lanes=t,n}function hu(n,e,t){return n=Qt(6,n,null,e),n.lanes=t,n}function mu(n,e,t){return e=Qt(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}var Bl=[],Pl=0,qa=null,Ha=0,an=[],rn=0,tl=null,Zn=1,Kn="";function Qi(n,e){Bl[Pl++]=Ha,Bl[Pl++]=qa,qa=n,Ha=e}function Qg(n,e,t){an[rn++]=Zn,an[rn++]=Kn,an[rn++]=tl,tl=n;var i=Zn;n=Kn;var l=32-jt(i)-1;i&=~(1<<l),t+=1;var o=32-jt(e)+l;if(30<o){var s=l-l%5;o=(i&(1<<s)-1).toString(32),i>>=s,l-=s,Zn=1<<32-jt(e)+l|t<<l|i,Kn=o+n}else Zn=1<<o|t<<l|i,Kn=n}function wf(n){n.return!==null&&(Qi(n,1),Qg(n,1,0))}function Rf(n){for(;n===qa;)qa=Bl[--Pl],Bl[Pl]=null,Ha=Bl[--Pl],Bl[Pl]=null;for(;n===tl;)tl=an[--rn],an[rn]=null,Kn=an[--rn],an[rn]=null,Zn=an[--rn],an[rn]=null}var Dt=null,je=null,Se=!1,nl=null,En=!1,rc=Error(M(519));function sl(n){var e=Error(M(418,""));throw Ts(cn(e,n)),rc}function sh(n){var e=n.stateNode,t=n.type,i=n.memoizedProps;switch(e[At]=n,e[Gt]=i,t){case"dialog":fe("cancel",e),fe("close",e);break;case"iframe":case"object":case"embed":fe("load",e);break;case"video":case"audio":for(t=0;t<_s.length;t++)fe(_s[t],e);break;case"source":fe("error",e);break;case"img":case"image":case"link":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"input":fe("invalid",e),wg(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Pa(e);break;case"select":fe("invalid",e);break;case"textarea":fe("invalid",e),Dg(e,i.value,i.defaultValue,i.children),Pa(e)}t=i.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||e.textContent===""+t||i.suppressHydrationWarning===!0||kv(e.textContent,t)?(i.popover!=null&&(fe("beforetoggle",e),fe("toggle",e)),i.onScroll!=null&&fe("scroll",e),i.onScrollEnd!=null&&fe("scrollend",e),i.onClick!=null&&(e.onclick=Gr),e=!0):e=!1,e||sl(n)}function ah(n){for(Dt=n.return;Dt;)switch(Dt.tag){case 5:case 13:En=!1;return;case 27:case 3:En=!0;return;default:Dt=Dt.return}}function Oo(n){if(n!==Dt)return!1;if(!Se)return ah(n),Se=!0,!1;var e=n.tag,t;if((t=e!==3&&e!==27)&&((t=e===5)&&(t=n.type,t=!(t!=="form"&&t!=="button")||Uc(n.type,n.memoizedProps)),t=!t),t&&je&&sl(n),ah(n),e===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(M(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8)if(t=n.data,t==="/$"){if(e===0){je=vn(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++;n=n.nextSibling}je=null}}else e===27?(e=je,zi(n.type)?(n=Vc,Vc=null,je=n):je=e):je=Dt?vn(n.stateNode.nextSibling):null;return!0}function $s(){je=Dt=null,Se=!1}function rh(){var n=nl;return n!==null&&(zt===null?zt=n:zt.push.apply(zt,n),nl=null),n}function Ts(n){nl===null?nl=[n]:nl.push(n)}var uc=Ln(null),yl=null,Jn=null;function xi(n,e,t){Ke(uc,e._currentValue),e._currentValue=t}function jn(n){n._currentValue=uc.current,gt(uc)}function cc(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function fc(n,e,t,i){var l=n.child;for(l!==null&&(l.return=n);l!==null;){var o=l.dependencies;if(o!==null){var s=l.child;o=o.firstContext;e:for(;o!==null;){var u=o;o=l;for(var c=0;c<e.length;c++)if(u.context===e[c]){o.lanes|=t,u=o.alternate,u!==null&&(u.lanes|=t),cc(o.return,t,n),i||(s=null);break e}o=u.next}}else if(l.tag===18){if(s=l.return,s===null)throw Error(M(341));s.lanes|=t,o=s.alternate,o!==null&&(o.lanes|=t),cc(s,t,n),s=null}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===n){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}}function Bs(n,e,t,i){n=null;for(var l=e,o=!1;l!==null;){if(!o){if(l.flags&524288)o=!0;else if(l.flags&262144)break}if(l.tag===10){var s=l.alternate;if(s===null)throw Error(M(387));if(s=s.memoizedProps,s!==null){var u=l.type;nn(l.pendingProps.value,s.value)||(n!==null?n.push(u):n=[u])}}else if(l===Oa.current){if(s=l.alternate,s===null)throw Error(M(387));s.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(n!==null?n.push(bs):n=[bs])}l=l.return}n!==null&&fc(e,n,t,i),e.flags|=262144}function Ya(n){for(n=n.firstContext;n!==null;){if(!nn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function al(n){yl=n,Jn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function bt(n){return Wg(yl,n)}function sa(n,e){return yl===null&&al(n),Wg(n,e)}function Wg(n,e){var t=e._currentValue;if(e={context:e,memoizedValue:t,next:null},Jn===null){if(n===null)throw Error(M(308));Jn=e,n.dependencies={lanes:0,firstContext:e},n.flags|=524288}else Jn=Jn.next=e;return t}var VT=typeof AbortController<"u"?AbortController:function(){var n=[],e=this.signal={aborted:!1,addEventListener:function(t,i){n.push(i)}};this.abort=function(){e.aborted=!0,n.forEach(function(t){return t()})}},$T=ft.unstable_scheduleCallback,BT=ft.unstable_NormalPriority,ut={$$typeof:Fn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new VT,data:new Map,refCount:0}}function Ps(n){n.refCount--,n.refCount===0&&$T(BT,function(){n.controller.abort()})}var es=null,dc=0,oo=0,Kl=null;function PT(n,e){if(es===null){var t=es=[];dc=0,oo=ed(),Kl={status:"pending",value:void 0,then:function(i){t.push(i)}}}return dc++,e.then(uh,uh),e}function uh(){if(--dc===0&&es!==null){Kl!==null&&(Kl.status="fulfilled");var n=es;es=null,oo=0,Kl=null;for(var e=0;e<n.length;e++)(0,n[e])()}}function zT(n,e){var t=[],i={status:"pending",value:null,reason:null,then:function(l){t.push(l)}};return n.then(function(){i.status="fulfilled",i.value=e;for(var l=0;l<t.length;l++)(0,t[l])(e)},function(l){for(i.status="rejected",i.reason=l,l=0;l<t.length;l++)(0,t[l])(void 0)}),i}var ch=W.S;W.S=function(n,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&PT(n,e),ch!==null&&ch(n,e)};var il=Ln(null);function kf(){var n=il.current;return n!==null?n:Pe.pooledCache}function Aa(n,e){e===null?Ke(il,il.current):Ke(il,e.pool)}function jg(){var n=kf();return n===null?null:{parent:ut._currentValue,pool:n}}var zs=Error(M(460)),ey=Error(M(474)),Lr=Error(M(542)),hc={then:function(){}};function fh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function aa(){}function ty(n,e,t){switch(t=n[t],t===void 0?n.push(e):t!==e&&(e.then(aa,aa),e=t),e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,hh(n),n;default:if(typeof e.status=="string")e.then(aa,aa);else{if(n=Pe,n!==null&&100<n.shellSuspendCounter)throw Error(M(482));n=e,n.status="pending",n.then(function(i){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=i}},function(i){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,hh(n),n}throw ts=e,zs}}var ts=null;function dh(){if(ts===null)throw Error(M(459));var n=ts;return ts=null,n}function hh(n){if(n===zs||n===Lr)throw Error(M(483))}var yi=!1;function If(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mc(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ni(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function wi(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,we&2){var l=i.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),i.pending=e,e=Ga(n),Jg(n,null,t),e}return Ur(n,i,e,t),Ga(n)}function ns(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194048)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,_g(n,t)}}function pu(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var l=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};o===null?l=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?l=o=e:o=o.next=e}else l=o=e;t={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}var pc=!1;function is(){if(pc){var n=Kl;if(n!==null)throw n}}function ls(n,e,t,i){pc=!1;var l=n.updateQueue;yi=!1;var o=l.firstBaseUpdate,s=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var c=u,f=c.next;c.next=null,s===null?o=f:s.next=f,s=c;var d=n.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==s&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(o!==null){var m=l.baseState;s=0,d=f=c=null,u=o;do{var h=u.lane&-536870913,p=h!==u.lane;if(p?(ve&h)===h:(i&h)===h){h!==0&&h===oo&&(pc=!0),d!==null&&(d=d.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var x=n,S=u;h=e;var _=t;switch(S.tag){case 1:if(x=S.payload,typeof x=="function"){m=x.call(_,m,h);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,h=typeof x=="function"?x.call(_,m,h):x,h==null)break e;m=Ye({},m,h);break e;case 2:yi=!0}}h=u.callback,h!==null&&(n.flags|=64,p&&(n.flags|=8192),p=l.callbacks,p===null?l.callbacks=[h]:p.push(h))}else p={lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=p,c=m):d=d.next=p,s|=h;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;p=u,u=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);d===null&&(c=m),l.baseState=c,l.firstBaseUpdate=f,l.lastBaseUpdate=d,o===null&&(l.shared.lanes=0),$i|=s,n.lanes=s,n.memoizedState=m}}function ny(n,e){if(typeof n!="function")throw Error(M(191,n));n.call(e)}function iy(n,e){var t=n.callbacks;if(t!==null)for(n.callbacks=null,n=0;n<t.length;n++)ny(t[n],e)}var so=Ln(null),Fa=Ln(0);function mh(n,e){n=ii,Ke(Fa,n),Ke(so,e),ii=n|e.baseLanes}function gc(){Ke(Fa,ii),Ke(so,so.current)}function Uf(){ii=Fa.current,gt(so),gt(Fa)}var Oi=0,ae=null,Ie=null,st=null,Za=!1,Jl=!1,rl=!1,Ka=0,Ss=0,Xl=null,GT=0;function tt(){throw Error(M(321))}function Lf(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!nn(n[t],e[t]))return!1;return!0}function Of(n,e,t,i,l,o){return Oi=o,ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,W.H=n===null||n.memoizedState===null?Uy:Ly,rl=!1,o=t(i,l),rl=!1,Jl&&(o=oy(e,t,i,l)),ly(n),o}function ly(n){W.H=Ja;var e=Ie!==null&&Ie.next!==null;if(Oi=0,st=Ie=ae=null,Za=!1,Ss=0,Xl=null,e)throw Error(M(300));n===null||pt||(n=n.dependencies,n!==null&&Ya(n)&&(pt=!0))}function oy(n,e,t,i){ae=n;var l=0;do{if(Jl&&(Xl=null),Ss=0,Jl=!1,25<=l)throw Error(M(301));if(l+=1,st=Ie=null,n.updateQueue!=null){var o=n.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}W.H=JT,o=e(t,i)}while(Jl);return o}function qT(){var n=W.H,e=n.useState()[0];return e=typeof e.then=="function"?Gs(e):e,n=n.useState()[0],(Ie!==null?Ie.memoizedState:null)!==n&&(ae.flags|=1024),e}function Vf(){var n=Ka!==0;return Ka=0,n}function $f(n,e,t){e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~t}function Bf(n){if(Za){for(n=n.memoizedState;n!==null;){var e=n.queue;e!==null&&(e.pending=null),n=n.next}Za=!1}Oi=0,st=Ie=ae=null,Jl=!1,Ss=Ka=0,Xl=null}function Bt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?ae.memoizedState=st=n:st=st.next=n,st}function at(){if(Ie===null){var n=ae.alternate;n=n!==null?n.memoizedState:null}else n=Ie.next;var e=st===null?ae.memoizedState:st.next;if(e!==null)st=e,Ie=n;else{if(n===null)throw ae.alternate===null?Error(M(467)):Error(M(310));Ie=n,n={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},st===null?ae.memoizedState=st=n:st=st.next=n}return st}function Pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gs(n){var e=Ss;return Ss+=1,Xl===null&&(Xl=[]),n=ty(Xl,n,e),e=ae,(st===null?e.memoizedState:st.next)===null&&(e=e.alternate,W.H=e===null||e.memoizedState===null?Uy:Ly),n}function Or(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Gs(n);if(n.$$typeof===Fn)return bt(n)}throw Error(M(438,String(n)))}function zf(n){var e=null,t=ae.updateQueue;if(t!==null&&(e=t.memoCache),e==null){var i=ae.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),t===null&&(t=Pf(),ae.updateQueue=t),t.memoCache=e,t=e.data[e.index],t===void 0)for(t=e.data[e.index]=Array(n),i=0;i<n;i++)t[i]=Mx;return e.index++,t}function ti(n,e){return typeof e=="function"?e(n):e}function ba(n){var e=at();return Gf(e,Ie,n)}function Gf(n,e,t){var i=n.queue;if(i===null)throw Error(M(311));i.lastRenderedReducer=t;var l=n.baseQueue,o=i.pending;if(o!==null){if(l!==null){var s=l.next;l.next=o.next,o.next=s}e.baseQueue=l=o,i.pending=null}if(o=n.baseState,l===null)n.memoizedState=o;else{e=l.next;var u=s=null,c=null,f=e,d=!1;do{var m=f.lane&-536870913;if(m!==f.lane?(ve&m)===m:(Oi&m)===m){var h=f.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),m===oo&&(d=!0);else if((Oi&h)===h){f=f.next,h===oo&&(d=!0);continue}else m={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=m,s=o):c=c.next=m,ae.lanes|=h,$i|=h;m=f.action,rl&&t(o,m),o=f.hasEagerState?f.eagerState:t(o,m)}else h={lane:m,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=h,s=o):c=c.next=h,ae.lanes|=m,$i|=m;f=f.next}while(f!==null&&f!==e);if(c===null?s=o:c.next=u,!nn(o,n.memoizedState)&&(pt=!0,d&&(t=Kl,t!==null)))throw t;n.memoizedState=o,n.baseState=s,n.baseQueue=c,i.lastRenderedState=o}return l===null&&(i.lanes=0),[n.memoizedState,i.dispatch]}function gu(n){var e=at(),t=e.queue;if(t===null)throw Error(M(311));t.lastRenderedReducer=n;var i=t.dispatch,l=t.pending,o=e.memoizedState;if(l!==null){t.pending=null;var s=l=l.next;do o=n(o,s.action),s=s.next;while(s!==l);nn(o,e.memoizedState)||(pt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,i]}function sy(n,e,t){var i=ae,l=at(),o=Se;if(o){if(t===void 0)throw Error(M(407));t=t()}else t=e();var s=!nn((Ie||l).memoizedState,t);s&&(l.memoizedState=t,pt=!0),l=l.queue;var u=uy.bind(null,i,l,n);if(qs(2048,8,u,[n]),l.getSnapshot!==e||s||st!==null&&st.memoizedState.tag&1){if(i.flags|=2048,ao(9,Vr(),ry.bind(null,i,l,t,e),null),Pe===null)throw Error(M(349));o||Oi&124||ay(i,e,t)}return t}function ay(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ae.updateQueue,e===null?(e=Pf(),ae.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function ry(n,e,t,i){e.value=t,e.getSnapshot=i,cy(e)&&fy(n)}function uy(n,e,t){return t(function(){cy(e)&&fy(n)})}function cy(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!nn(n,t)}catch{return!0}}function fy(n){var e=_o(n,2);e!==null&&tn(e,n,2)}function yc(n){var e=Bt();if(typeof n=="function"){var t=n;if(n=t(),rl){_i(!0);try{t()}finally{_i(!1)}}}return e.memoizedState=e.baseState=n,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:n},e}function dy(n,e,t,i){return n.baseState=t,Gf(n,Ie,typeof i=="function"?i:ti)}function HT(n,e,t,i,l){if($r(n))throw Error(M(485));if(n=e.action,n!==null){var o={payload:l,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){o.listeners.push(s)}};W.T!==null?t(!0):o.isTransition=!1,i(o),t=e.pending,t===null?(o.next=e.pending=o,hy(e,o)):(o.next=t.next,e.pending=t.next=o)}}function hy(n,e){var t=e.action,i=e.payload,l=n.state;if(e.isTransition){var o=W.T,s={};W.T=s;try{var u=t(l,i),c=W.S;c!==null&&c(s,u),ph(n,e,u)}catch(f){vc(n,e,f)}finally{W.T=o}}else try{o=t(l,i),ph(n,e,o)}catch(f){vc(n,e,f)}}function ph(n,e,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(i){gh(n,e,i)},function(i){return vc(n,e,i)}):gh(n,e,t)}function gh(n,e,t){e.status="fulfilled",e.value=t,my(e),n.state=t,e=n.pending,e!==null&&(t=e.next,t===e?n.pending=null:(t=t.next,e.next=t,hy(n,t)))}function vc(n,e,t){var i=n.pending;if(n.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=t,my(e),e=e.next;while(e!==i)}n.action=null}function my(n){n=n.listeners;for(var e=0;e<n.length;e++)(0,n[e])()}function py(n,e){return e}function yh(n,e){if(Se){var t=Pe.formState;if(t!==null){e:{var i=ae;if(Se){if(je){t:{for(var l=je,o=En;l.nodeType!==8;){if(!o){l=null;break t}if(l=vn(l.nextSibling),l===null){l=null;break t}}o=l.data,l=o==="F!"||o==="F"?l:null}if(l){je=vn(l.nextSibling),i=l.data==="F!";break e}}sl(i)}i=!1}i&&(e=t[0])}}return t=Bt(),t.memoizedState=t.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:e},t.queue=i,t=Dy.bind(null,ae,i),i.dispatch=t,i=yc(!1),o=Ff.bind(null,ae,!1,i.queue),i=Bt(),l={state:e,dispatch:null,action:n,pending:null},i.queue=l,t=HT.bind(null,ae,l,o,t),l.dispatch=t,i.memoizedState=n,[e,t,!1]}function vh(n){var e=at();return gy(e,Ie,n)}function gy(n,e,t){if(e=Gf(n,e,py)[0],n=ba(ti)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Gs(e)}catch(s){throw s===zs?Lr:s}else i=e;e=at();var l=e.queue,o=l.dispatch;return t!==e.memoizedState&&(ae.flags|=2048,ao(9,Vr(),YT.bind(null,l,t),null)),[i,o,n]}function YT(n,e){n.action=e}function xh(n){var e=at(),t=Ie;if(t!==null)return gy(e,t,n);at(),e=e.memoizedState,t=at();var i=t.queue.dispatch;return t.memoizedState=n,[e,i,!1]}function ao(n,e,t,i){return n={tag:n,create:t,deps:i,inst:e,next:null},e=ae.updateQueue,e===null&&(e=Pf(),ae.updateQueue=e),t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n),n}function Vr(){return{destroy:void 0,resource:void 0}}function yy(){return at().memoizedState}function Ma(n,e,t,i){var l=Bt();i=i===void 0?null:i,ae.flags|=n,l.memoizedState=ao(1|e,Vr(),t,i)}function qs(n,e,t,i){var l=at();i=i===void 0?null:i;var o=l.memoizedState.inst;Ie!==null&&i!==null&&Lf(i,Ie.memoizedState.deps)?l.memoizedState=ao(e,o,t,i):(ae.flags|=n,l.memoizedState=ao(1|e,o,t,i))}function Th(n,e){Ma(8390656,8,n,e)}function vy(n,e){qs(2048,8,n,e)}function xy(n,e){return qs(4,2,n,e)}function Ty(n,e){return qs(4,4,n,e)}function Sy(n,e){if(typeof e=="function"){n=n();var t=e(n);return function(){typeof t=="function"?t():e(null)}}if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Cy(n,e,t){t=t!=null?t.concat([n]):null,qs(4,4,Sy.bind(null,e,n),t)}function qf(){}function _y(n,e){var t=at();e=e===void 0?null:e;var i=t.memoizedState;return e!==null&&Lf(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function Ey(n,e){var t=at();e=e===void 0?null:e;var i=t.memoizedState;if(e!==null&&Lf(e,i[1]))return i[0];if(i=n(),rl){_i(!0);try{n()}finally{_i(!1)}}return t.memoizedState=[i,e],i}function Hf(n,e,t){return t===void 0||Oi&1073741824?n.memoizedState=e:(n.memoizedState=t,n=mv(),ae.lanes|=n,$i|=n,t)}function Ay(n,e,t,i){return nn(t,e)?t:so.current!==null?(n=Hf(n,t,i),nn(n,e)||(pt=!0),n):Oi&42?(n=mv(),ae.lanes|=n,$i|=n,e):(pt=!0,n.memoizedState=t)}function by(n,e,t,i,l){var o=Ce.p;Ce.p=o!==0&&8>o?o:8;var s=W.T,u={};W.T=u,Ff(n,!1,e,t);try{var c=l(),f=W.S;if(f!==null&&f(u,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=zT(c,i);os(n,e,d,en(n))}else os(n,e,i,en(n))}catch(m){os(n,e,{then:function(){},status:"rejected",reason:m},en())}finally{Ce.p=o,W.T=s}}function FT(){}function xc(n,e,t,i){if(n.tag!==5)throw Error(M(476));var l=My(n).queue;by(n,l,e,ji,t===null?FT:function(){return Ny(n),t(i)})}function My(n){var e=n.memoizedState;if(e!==null)return e;e={memoizedState:ji,baseState:ji,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:ji},next:null};var t={};return e.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:t},next:null},n.memoizedState=e,n=n.alternate,n!==null&&(n.memoizedState=e),e}function Ny(n){var e=My(n).next.queue;os(n,e,{},en())}function Yf(){return bt(bs)}function wy(){return at().memoizedState}function Ry(){return at().memoizedState}function ZT(n){for(var e=n.return;e!==null;){switch(e.tag){case 24:case 3:var t=en();n=Ni(t);var i=wi(e,n,t);i!==null&&(tn(i,e,t),ns(i,e,t)),e={cache:Df()},n.payload=e;return}e=e.return}}function KT(n,e,t){var i=en();t={lane:i,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},$r(n)?ky(e,t):(t=Mf(n,e,t,i),t!==null&&(tn(t,n,i),Iy(t,e,i)))}function Dy(n,e,t){var i=en();os(n,e,t,i)}function os(n,e,t,i){var l={lane:i,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if($r(n))ky(e,l);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,u=o(s,t);if(l.hasEagerState=!0,l.eagerState=u,nn(u,s))return Ur(n,e,l,0),Pe===null&&Ir(),!1}catch{}finally{}if(t=Mf(n,e,l,i),t!==null)return tn(t,n,i),Iy(t,e,i),!0}return!1}function Ff(n,e,t,i){if(i={lane:2,revertLane:ed(),action:i,hasEagerState:!1,eagerState:null,next:null},$r(n)){if(e)throw Error(M(479))}else e=Mf(n,t,i,2),e!==null&&tn(e,n,2)}function $r(n){var e=n.alternate;return n===ae||e!==null&&e===ae}function ky(n,e){Jl=Za=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Iy(n,e,t){if(t&4194048){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,_g(n,t)}}var Ja={readContext:bt,use:Or,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt},Uy={readContext:bt,use:Or,useCallback:function(n,e){return Bt().memoizedState=[n,e===void 0?null:e],n},useContext:bt,useEffect:Th,useImperativeHandle:function(n,e,t){t=t!=null?t.concat([n]):null,Ma(4194308,4,Sy.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Ma(4194308,4,n,e)},useInsertionEffect:function(n,e){Ma(4,2,n,e)},useMemo:function(n,e){var t=Bt();e=e===void 0?null:e;var i=n();if(rl){_i(!0);try{n()}finally{_i(!1)}}return t.memoizedState=[i,e],i},useReducer:function(n,e,t){var i=Bt();if(t!==void 0){var l=t(e);if(rl){_i(!0);try{t(e)}finally{_i(!1)}}}else l=e;return i.memoizedState=i.baseState=l,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:l},i.queue=n,n=n.dispatch=KT.bind(null,ae,n),[i.memoizedState,n]},useRef:function(n){var e=Bt();return n={current:n},e.memoizedState=n},useState:function(n){n=yc(n);var e=n.queue,t=Dy.bind(null,ae,e);return e.dispatch=t,[n.memoizedState,t]},useDebugValue:qf,useDeferredValue:function(n,e){var t=Bt();return Hf(t,n,e)},useTransition:function(){var n=yc(!1);return n=by.bind(null,ae,n.queue,!0,!1),Bt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,e,t){var i=ae,l=Bt();if(Se){if(t===void 0)throw Error(M(407));t=t()}else{if(t=e(),Pe===null)throw Error(M(349));ve&124||ay(i,e,t)}l.memoizedState=t;var o={value:t,getSnapshot:e};return l.queue=o,Th(uy.bind(null,i,o,n),[n]),i.flags|=2048,ao(9,Vr(),ry.bind(null,i,o,t,e),null),t},useId:function(){var n=Bt(),e=Pe.identifierPrefix;if(Se){var t=Kn,i=Zn;t=(i&~(1<<32-jt(i)-1)).toString(32)+t,e=""+e+"R"+t,t=Ka++,0<t&&(e+="H"+t.toString(32)),e+=""}else t=GT++,e=""+e+"r"+t.toString(32)+"";return n.memoizedState=e},useHostTransitionStatus:Yf,useFormState:yh,useActionState:yh,useOptimistic:function(n){var e=Bt();e.memoizedState=e.baseState=n;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=t,e=Ff.bind(null,ae,!0,t),t.dispatch=e,[n,e]},useMemoCache:zf,useCacheRefresh:function(){return Bt().memoizedState=ZT.bind(null,ae)}},Ly={readContext:bt,use:Or,useCallback:_y,useContext:bt,useEffect:vy,useImperativeHandle:Cy,useInsertionEffect:xy,useLayoutEffect:Ty,useMemo:Ey,useReducer:ba,useRef:yy,useState:function(){return ba(ti)},useDebugValue:qf,useDeferredValue:function(n,e){var t=at();return Ay(t,Ie.memoizedState,n,e)},useTransition:function(){var n=ba(ti)[0],e=at().memoizedState;return[typeof n=="boolean"?n:Gs(n),e]},useSyncExternalStore:sy,useId:wy,useHostTransitionStatus:Yf,useFormState:vh,useActionState:vh,useOptimistic:function(n,e){var t=at();return dy(t,Ie,n,e)},useMemoCache:zf,useCacheRefresh:Ry},JT={readContext:bt,use:Or,useCallback:_y,useContext:bt,useEffect:vy,useImperativeHandle:Cy,useInsertionEffect:xy,useLayoutEffect:Ty,useMemo:Ey,useReducer:gu,useRef:yy,useState:function(){return gu(ti)},useDebugValue:qf,useDeferredValue:function(n,e){var t=at();return Ie===null?Hf(t,n,e):Ay(t,Ie.memoizedState,n,e)},useTransition:function(){var n=gu(ti)[0],e=at().memoizedState;return[typeof n=="boolean"?n:Gs(n),e]},useSyncExternalStore:sy,useId:wy,useHostTransitionStatus:Yf,useFormState:xh,useActionState:xh,useOptimistic:function(n,e){var t=at();return Ie!==null?dy(t,Ie,n,e):(t.baseState=n,[n,t.queue.dispatch])},useMemoCache:zf,useCacheRefresh:Ry},Ql=null,Cs=0;function ra(n){var e=Cs;return Cs+=1,Ql===null&&(Ql=[]),ty(Ql,n,e)}function Vo(n,e){e=e.props.ref,n.ref=e!==void 0?e:null}function ua(n,e){throw e.$$typeof===Ax?Error(M(525)):(n=Object.prototype.toString.call(e),Error(M(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)))}function Sh(n){var e=n._init;return e(n._payload)}function Oy(n){function e(y,v){if(n){var T=y.deletions;T===null?(y.deletions=[v],y.flags|=16):T.push(v)}}function t(y,v){if(!n)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function i(y){for(var v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function l(y,v){return y=Wn(y,v),y.index=0,y.sibling=null,y}function o(y,v,T){return y.index=T,n?(T=y.alternate,T!==null?(T=T.index,T<v?(y.flags|=67108866,v):T):(y.flags|=67108866,v)):(y.flags|=1048576,v)}function s(y){return n&&y.alternate===null&&(y.flags|=67108866),y}function u(y,v,T,C){return v===null||v.tag!==6?(v=hu(T,y.mode,C),v.return=y,v):(v=l(v,T),v.return=y,v)}function c(y,v,T,C){var b=T.type;return b===Rl?d(y,v,T.props.children,C,T.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===gi&&Sh(b)===v.type)?(v=l(v,T.props),Vo(v,T),v.return=y,v):(v=Ea(T.type,T.key,T.props,null,y.mode,C),Vo(v,T),v.return=y,v)}function f(y,v,T,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=mu(T,y.mode,C),v.return=y,v):(v=l(v,T.children||[]),v.return=y,v)}function d(y,v,T,C,b){return v===null||v.tag!==7?(v=el(T,y.mode,C,b),v.return=y,v):(v=l(v,T),v.return=y,v)}function m(y,v,T){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=hu(""+v,y.mode,T),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ta:return T=Ea(v.type,v.key,v.props,null,y.mode,T),Vo(T,v),T.return=y,T;case Ho:return v=mu(v,y.mode,T),v.return=y,v;case gi:var C=v._init;return v=C(v._payload),m(y,v,T)}if(Yo(v)||Io(v))return v=el(v,y.mode,T,null),v.return=y,v;if(typeof v.then=="function")return m(y,ra(v),T);if(v.$$typeof===Fn)return m(y,sa(y,v),T);ua(y,v)}return null}function h(y,v,T,C){var b=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return b!==null?null:u(y,v,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ta:return T.key===b?c(y,v,T,C):null;case Ho:return T.key===b?f(y,v,T,C):null;case gi:return b=T._init,T=b(T._payload),h(y,v,T,C)}if(Yo(T)||Io(T))return b!==null?null:d(y,v,T,C,null);if(typeof T.then=="function")return h(y,v,ra(T),C);if(T.$$typeof===Fn)return h(y,v,sa(y,T),C);ua(y,T)}return null}function p(y,v,T,C,b){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return y=y.get(T)||null,u(v,y,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ta:return y=y.get(C.key===null?T:C.key)||null,c(v,y,C,b);case Ho:return y=y.get(C.key===null?T:C.key)||null,f(v,y,C,b);case gi:var w=C._init;return C=w(C._payload),p(y,v,T,C,b)}if(Yo(C)||Io(C))return y=y.get(T)||null,d(v,y,C,b,null);if(typeof C.then=="function")return p(y,v,T,ra(C),b);if(C.$$typeof===Fn)return p(y,v,T,sa(v,C),b);ua(v,C)}return null}function x(y,v,T,C){for(var b=null,w=null,N=v,D=v=0,P=null;N!==null&&D<T.length;D++){N.index>D?(P=N,N=null):P=N.sibling;var V=h(y,N,T[D],C);if(V===null){N===null&&(N=P);break}n&&N&&V.alternate===null&&e(y,N),v=o(V,v,D),w===null?b=V:w.sibling=V,w=V,N=P}if(D===T.length)return t(y,N),Se&&Qi(y,D),b;if(N===null){for(;D<T.length;D++)N=m(y,T[D],C),N!==null&&(v=o(N,v,D),w===null?b=N:w.sibling=N,w=N);return Se&&Qi(y,D),b}for(N=i(N);D<T.length;D++)P=p(N,y,D,T[D],C),P!==null&&(n&&P.alternate!==null&&N.delete(P.key===null?D:P.key),v=o(P,v,D),w===null?b=P:w.sibling=P,w=P);return n&&N.forEach(function(ue){return e(y,ue)}),Se&&Qi(y,D),b}function S(y,v,T,C){if(T==null)throw Error(M(151));for(var b=null,w=null,N=v,D=v=0,P=null,V=T.next();N!==null&&!V.done;D++,V=T.next()){N.index>D?(P=N,N=null):P=N.sibling;var ue=h(y,N,V.value,C);if(ue===null){N===null&&(N=P);break}n&&N&&ue.alternate===null&&e(y,N),v=o(ue,v,D),w===null?b=ue:w.sibling=ue,w=ue,N=P}if(V.done)return t(y,N),Se&&Qi(y,D),b;if(N===null){for(;!V.done;D++,V=T.next())V=m(y,V.value,C),V!==null&&(v=o(V,v,D),w===null?b=V:w.sibling=V,w=V);return Se&&Qi(y,D),b}for(N=i(N);!V.done;D++,V=T.next())V=p(N,y,D,V.value,C),V!==null&&(n&&V.alternate!==null&&N.delete(V.key===null?D:V.key),v=o(V,v,D),w===null?b=V:w.sibling=V,w=V);return n&&N.forEach(function(xe){return e(y,xe)}),Se&&Qi(y,D),b}function _(y,v,T,C){if(typeof T=="object"&&T!==null&&T.type===Rl&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ta:e:{for(var b=T.key;v!==null;){if(v.key===b){if(b=T.type,b===Rl){if(v.tag===7){t(y,v.sibling),C=l(v,T.props.children),C.return=y,y=C;break e}}else if(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===gi&&Sh(b)===v.type){t(y,v.sibling),C=l(v,T.props),Vo(C,T),C.return=y,y=C;break e}t(y,v);break}else e(y,v);v=v.sibling}T.type===Rl?(C=el(T.props.children,y.mode,C,T.key),C.return=y,y=C):(C=Ea(T.type,T.key,T.props,null,y.mode,C),Vo(C,T),C.return=y,y=C)}return s(y);case Ho:e:{for(b=T.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){t(y,v.sibling),C=l(v,T.children||[]),C.return=y,y=C;break e}else{t(y,v);break}else e(y,v);v=v.sibling}C=mu(T,y.mode,C),C.return=y,y=C}return s(y);case gi:return b=T._init,T=b(T._payload),_(y,v,T,C)}if(Yo(T))return x(y,v,T,C);if(Io(T)){if(b=Io(T),typeof b!="function")throw Error(M(150));return T=b.call(T),S(y,v,T,C)}if(typeof T.then=="function")return _(y,v,ra(T),C);if(T.$$typeof===Fn)return _(y,v,sa(y,T),C);ua(y,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,v!==null&&v.tag===6?(t(y,v.sibling),C=l(v,T),C.return=y,y=C):(t(y,v),C=hu(T,y.mode,C),C.return=y,y=C),s(y)):t(y,v)}return function(y,v,T,C){try{Cs=0;var b=_(y,v,T,C);return Ql=null,b}catch(N){if(N===zs||N===Lr)throw N;var w=Qt(29,N,null,y.mode);return w.lanes=C,w.return=y,w}finally{}}}var ro=Oy(!0),Vy=Oy(!1),dn=Ln(null),kn=null;function Ti(n){var e=n.alternate;Ke(ct,ct.current&1),Ke(dn,n),kn===null&&(e===null||so.current!==null||e.memoizedState!==null)&&(kn=n)}function $y(n){if(n.tag===22){if(Ke(ct,ct.current),Ke(dn,n),kn===null){var e=n.alternate;e!==null&&e.memoizedState!==null&&(kn=n)}}else Si()}function Si(){Ke(ct,ct.current),Ke(dn,dn.current)}function Xn(n){gt(dn),kn===n&&(kn=null),gt(ct)}var ct=Ln(0);function Xa(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||Oc(t)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function yu(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Ye({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Tc={enqueueSetState:function(n,e,t){n=n._reactInternals;var i=en(),l=Ni(i);l.payload=e,t!=null&&(l.callback=t),e=wi(n,l,i),e!==null&&(tn(e,n,i),ns(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=en(),l=Ni(i);l.tag=1,l.payload=e,t!=null&&(l.callback=t),e=wi(n,l,i),e!==null&&(tn(e,n,i),ns(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=en(),i=Ni(t);i.tag=2,e!=null&&(i.callback=e),e=wi(n,i,t),e!==null&&(tn(e,n,t),ns(e,n,t))}};function Ch(n,e,t,i,l,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!xs(t,i)||!xs(l,o):!0}function _h(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Tc.enqueueReplaceState(e,e.state,null)}function ul(n,e){var t=e;if("ref"in e){t={};for(var i in e)i!=="ref"&&(t[i]=e[i])}if(n=n.defaultProps){t===e&&(t=Ye({},t));for(var l in n)t[l]===void 0&&(t[l]=n[l])}return t}var Qa=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function By(n){Qa(n)}function Py(n){console.error(n)}function zy(n){Qa(n)}function Wa(n,e){try{var t=n.onUncaughtError;t(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Eh(n,e,t){try{var i=n.onCaughtError;i(t.value,{componentStack:t.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Sc(n,e,t){return t=Ni(t),t.tag=3,t.payload={element:null},t.callback=function(){Wa(n,e)},t}function Gy(n){return n=Ni(n),n.tag=3,n}function qy(n,e,t,i){var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var o=i.value;n.payload=function(){return l(o)},n.callback=function(){Eh(e,t,i)}}var s=t.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Eh(e,t,i),typeof l!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var u=i.stack;this.componentDidCatch(i.value,{componentStack:u!==null?u:""})})}function XT(n,e,t,i,l){if(t.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=t.alternate,e!==null&&Bs(e,t,l,!0),t=dn.current,t!==null){switch(t.tag){case 13:return kn===null?wc():t.alternate===null&&et===0&&(et=3),t.flags&=-257,t.flags|=65536,t.lanes=l,i===hc?t.flags|=16384:(e=t.updateQueue,e===null?t.updateQueue=new Set([i]):e.add(i),Nu(n,i,l)),!1;case 22:return t.flags|=65536,i===hc?t.flags|=16384:(e=t.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},t.updateQueue=e):(t=e.retryQueue,t===null?e.retryQueue=new Set([i]):t.add(i)),Nu(n,i,l)),!1}throw Error(M(435,t.tag))}return Nu(n,i,l),wc(),!1}if(Se)return e=dn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=l,i!==rc&&(n=Error(M(422),{cause:i}),Ts(cn(n,t)))):(i!==rc&&(e=Error(M(423),{cause:i}),Ts(cn(e,t))),n=n.current.alternate,n.flags|=65536,l&=-l,n.lanes|=l,i=cn(i,t),l=Sc(n.stateNode,i,l),pu(n,l),et!==4&&(et=2)),!1;var o=Error(M(520),{cause:i});if(o=cn(o,t),rs===null?rs=[o]:rs.push(o),et!==4&&(et=2),e===null)return!0;i=cn(i,t),t=e;do{switch(t.tag){case 3:return t.flags|=65536,n=l&-l,t.lanes|=n,n=Sc(t.stateNode,i,n),pu(t,n),!1;case 1:if(e=t.type,o=t.stateNode,(t.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))))return t.flags|=65536,l&=-l,t.lanes|=l,l=Gy(l),qy(l,n,t,i),pu(t,l),!1}t=t.return}while(t!==null);return!1}var Hy=Error(M(461)),pt=!1;function Tt(n,e,t,i){e.child=n===null?Vy(e,null,t,i):ro(e,n.child,t,i)}function Ah(n,e,t,i,l){t=t.render;var o=e.ref;if("ref"in i){var s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}else s=i;return al(e),i=Of(n,e,t,s,o,l),u=Vf(),n!==null&&!pt?($f(n,e,l),ni(n,e,l)):(Se&&u&&wf(e),e.flags|=1,Tt(n,e,i,l),e.child)}function bh(n,e,t,i,l){if(n===null){var o=t.type;return typeof o=="function"&&!Nf(o)&&o.defaultProps===void 0&&t.compare===null?(e.tag=15,e.type=o,Yy(n,e,o,i,l)):(n=Ea(t.type,null,i,e,e.mode,l),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!Zf(n,l)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:xs,t(s,i)&&n.ref===e.ref)return ni(n,e,l)}return e.flags|=1,n=Wn(o,i),n.ref=e.ref,n.return=e,e.child=n}function Yy(n,e,t,i,l){if(n!==null){var o=n.memoizedProps;if(xs(o,i)&&n.ref===e.ref)if(pt=!1,e.pendingProps=i=o,Zf(n,l))n.flags&131072&&(pt=!0);else return e.lanes=n.lanes,ni(n,e,l)}return Cc(n,e,t,i,l)}function Fy(n,e,t){var i=e.pendingProps,l=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=o!==null?o.baseLanes|t:t,n!==null){for(l=e.child=n.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;e.childLanes=o&~i}else e.childLanes=0,e.child=null;return Mh(n,e,i,t)}if(t&536870912)e.memoizedState={baseLanes:0,cachePool:null},n!==null&&Aa(e,o!==null?o.cachePool:null),o!==null?mh(e,o):gc(),$y(e);else return e.lanes=e.childLanes=536870912,Mh(n,e,o!==null?o.baseLanes|t:t,t)}else o!==null?(Aa(e,o.cachePool),mh(e,o),Si(),e.memoizedState=null):(n!==null&&Aa(e,null),gc(),Si());return Tt(n,e,l,t),e.child}function Mh(n,e,t,i){var l=kf();return l=l===null?null:{parent:ut._currentValue,pool:l},e.memoizedState={baseLanes:t,cachePool:l},n!==null&&Aa(e,null),gc(),$y(e),n!==null&&Bs(n,e,i,!0),null}function Na(n,e){var t=e.ref;if(t===null)n!==null&&n.ref!==null&&(e.flags|=4194816);else{if(typeof t!="function"&&typeof t!="object")throw Error(M(284));(n===null||n.ref!==t)&&(e.flags|=4194816)}}function Cc(n,e,t,i,l){return al(e),t=Of(n,e,t,i,void 0,l),i=Vf(),n!==null&&!pt?($f(n,e,l),ni(n,e,l)):(Se&&i&&wf(e),e.flags|=1,Tt(n,e,t,l),e.child)}function Nh(n,e,t,i,l,o){return al(e),e.updateQueue=null,t=oy(e,i,t,l),ly(n),i=Vf(),n!==null&&!pt?($f(n,e,o),ni(n,e,o)):(Se&&i&&wf(e),e.flags|=1,Tt(n,e,t,o),e.child)}function wh(n,e,t,i,l){if(al(e),e.stateNode===null){var o=$l,s=t.contextType;typeof s=="object"&&s!==null&&(o=bt(s)),o=new t(i,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Tc,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=i,o.state=e.memoizedState,o.refs={},If(e),s=t.contextType,o.context=typeof s=="object"&&s!==null?bt(s):$l,o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(yu(e,t,s,i),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&Tc.enqueueReplaceState(o,o.state,null),ls(e,i,o,l),is(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(n===null){o=e.stateNode;var u=e.memoizedProps,c=ul(t,u);o.props=c;var f=o.context,d=t.contextType;s=$l,typeof d=="object"&&d!==null&&(s=bt(d));var m=t.getDerivedStateFromProps;d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function",u=e.pendingProps!==u,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u||f!==s)&&_h(e,o,i,s),yi=!1;var h=e.memoizedState;o.state=h,ls(e,i,o,l),is(),f=e.memoizedState,u||h!==f||yi?(typeof m=="function"&&(yu(e,t,m,i),f=e.memoizedState),(c=yi||Ch(e,t,c,i,h,f,s))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),o.props=i,o.state=f,o.context=s,i=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,mc(n,e),s=e.memoizedProps,d=ul(t,s),o.props=d,m=e.pendingProps,h=o.context,f=t.contextType,c=$l,typeof f=="object"&&f!==null&&(c=bt(f)),u=t.getDerivedStateFromProps,(f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==m||h!==c)&&_h(e,o,i,c),yi=!1,h=e.memoizedState,o.state=h,ls(e,i,o,l),is();var p=e.memoizedState;s!==m||h!==p||yi||n!==null&&n.dependencies!==null&&Ya(n.dependencies)?(typeof u=="function"&&(yu(e,t,u,i),p=e.memoizedState),(d=yi||Ch(e,t,d,i,h,p,c)||n!==null&&n.dependencies!==null&&Ya(n.dependencies))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),i=!1)}return o=i,Na(n,e),i=(e.flags&128)!==0,o||i?(o=e.stateNode,t=i&&typeof t.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,n!==null&&i?(e.child=ro(e,n.child,null,l),e.child=ro(e,null,t,l)):Tt(n,e,t,l),e.memoizedState=o.state,n=e.child):n=ni(n,e,l),n}function Rh(n,e,t,i){return $s(),e.flags|=256,Tt(n,e,t,i),e.child}var vu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xu(n){return{baseLanes:n,cachePool:jg()}}function Tu(n,e,t){return n=n!==null?n.childLanes&~t:0,e&&(n|=fn),n}function Zy(n,e,t){var i=e.pendingProps,l=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=n!==null&&n.memoizedState===null?!1:(ct.current&2)!==0),s&&(l=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,n===null){if(Se){if(l?Ti(e):Si(),Se){var u=je,c;if(c=u){e:{for(c=u,u=En;c.nodeType!==8;){if(!u){u=null;break e}if(c=vn(c.nextSibling),c===null){u=null;break e}}u=c}u!==null?(e.memoizedState={dehydrated:u,treeContext:tl!==null?{id:Zn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},c=Qt(18,null,null,0),c.stateNode=u,c.return=e,e.child=c,Dt=e,je=null,c=!0):c=!1}c||sl(e)}if(u=e.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return Oc(u)?e.lanes=32:e.lanes=536870912,null;Xn(e)}return u=i.children,i=i.fallback,l?(Si(),l=e.mode,u=ja({mode:"hidden",children:u},l),i=el(i,l,t,null),u.return=e,i.return=e,u.sibling=i,e.child=u,l=e.child,l.memoizedState=xu(t),l.childLanes=Tu(n,s,t),e.memoizedState=vu,i):(Ti(e),_c(e,u))}if(c=n.memoizedState,c!==null&&(u=c.dehydrated,u!==null)){if(o)e.flags&256?(Ti(e),e.flags&=-257,e=Su(n,e,t)):e.memoizedState!==null?(Si(),e.child=n.child,e.flags|=128,e=null):(Si(),l=i.fallback,u=e.mode,i=ja({mode:"visible",children:i.children},u),l=el(l,u,t,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,ro(e,n.child,null,t),i=e.child,i.memoizedState=xu(t),i.childLanes=Tu(n,s,t),e.memoizedState=vu,e=l);else if(Ti(e),Oc(u)){if(s=u.nextSibling&&u.nextSibling.dataset,s)var f=s.dgst;s=f,i=Error(M(419)),i.stack="",i.digest=s,Ts({value:i,source:null,stack:null}),e=Su(n,e,t)}else if(pt||Bs(n,e,t,!1),s=(t&n.childLanes)!==0,pt||s){if(s=Pe,s!==null&&(i=t&-t,i=i&42?1:yf(i),i=i&(s.suspendedLanes|t)?0:i,i!==0&&i!==c.retryLane))throw c.retryLane=i,_o(n,i),tn(s,n,i),Hy;u.data==="$?"||wc(),e=Su(n,e,t)}else u.data==="$?"?(e.flags|=192,e.child=n.child,e=null):(n=c.treeContext,je=vn(u.nextSibling),Dt=e,Se=!0,nl=null,En=!1,n!==null&&(an[rn++]=Zn,an[rn++]=Kn,an[rn++]=tl,Zn=n.id,Kn=n.overflow,tl=e),e=_c(e,i.children),e.flags|=4096);return e}return l?(Si(),l=i.fallback,u=e.mode,c=n.child,f=c.sibling,i=Wn(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?l=Wn(f,l):(l=el(l,u,t,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,i=l,l=e.child,u=n.child.memoizedState,u===null?u=xu(t):(c=u.cachePool,c!==null?(f=ut._currentValue,c=c.parent!==f?{parent:f,pool:f}:c):c=jg(),u={baseLanes:u.baseLanes|t,cachePool:c}),l.memoizedState=u,l.childLanes=Tu(n,s,t),e.memoizedState=vu,i):(Ti(e),t=n.child,n=t.sibling,t=Wn(t,{mode:"visible",children:i.children}),t.return=e,t.sibling=null,n!==null&&(s=e.deletions,s===null?(e.deletions=[n],e.flags|=16):s.push(n)),e.child=t,e.memoizedState=null,t)}function _c(n,e){return e=ja({mode:"visible",children:e},n.mode),e.return=n,n.child=e}function ja(n,e){return n=Qt(22,n,null,e),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Su(n,e,t){return ro(e,n.child,null,t),n=_c(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Dh(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),cc(n.return,e,t)}function Cu(n,e,t,i,l){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:l}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=t,o.tailMode=l)}function Ky(n,e,t){var i=e.pendingProps,l=i.revealOrder,o=i.tail;if(Tt(n,e,i.children,t),i=ct.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Dh(n,t,e);else if(n.tag===19)Dh(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}switch(Ke(ct,i),l){case"forwards":for(t=e.child,l=null;t!==null;)n=t.alternate,n!==null&&Xa(n)===null&&(l=t),t=t.sibling;t=l,t===null?(l=e.child,e.child=null):(l=t.sibling,t.sibling=null),Cu(e,!1,l,t,o);break;case"backwards":for(t=null,l=e.child,e.child=null;l!==null;){if(n=l.alternate,n!==null&&Xa(n)===null){e.child=l;break}n=l.sibling,l.sibling=t,t=l,l=n}Cu(e,!0,t,null,o);break;case"together":Cu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ni(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),$i|=e.lanes,!(t&e.childLanes))if(n!==null){if(Bs(n,e,t,!1),(t&e.childLanes)===0)return null}else return null;if(n!==null&&e.child!==n.child)throw Error(M(153));if(e.child!==null){for(n=e.child,t=Wn(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Wn(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Zf(n,e){return n.lanes&e?!0:(n=n.dependencies,!!(n!==null&&Ya(n)))}function QT(n,e,t){switch(e.tag){case 3:Va(e,e.stateNode.containerInfo),xi(e,ut,n.memoizedState.cache),$s();break;case 27:case 5:Wu(e);break;case 4:Va(e,e.stateNode.containerInfo);break;case 10:xi(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Ti(e),e.flags|=128,null):t&e.child.childLanes?Zy(n,e,t):(Ti(e),n=ni(n,e,t),n!==null?n.sibling:null);Ti(e);break;case 19:var l=(n.flags&128)!==0;if(i=(t&e.childLanes)!==0,i||(Bs(n,e,t,!1),i=(t&e.childLanes)!==0),l){if(i)return Ky(n,e,t);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ke(ct,ct.current),i)break;return null;case 22:case 23:return e.lanes=0,Fy(n,e,t);case 24:xi(e,ut,n.memoizedState.cache)}return ni(n,e,t)}function Jy(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps)pt=!0;else{if(!Zf(n,t)&&!(e.flags&128))return pt=!1,QT(n,e,t);pt=!!(n.flags&131072)}else pt=!1,Se&&e.flags&1048576&&Qg(e,Ha,e.index);switch(e.lanes=0,e.tag){case 16:e:{n=e.pendingProps;var i=e.elementType,l=i._init;if(i=l(i._payload),e.type=i,typeof i=="function")Nf(i)?(n=ul(i,n),e.tag=1,e=wh(null,e,i,n,t)):(e.tag=0,e=Cc(null,e,i,n,t));else{if(i!=null){if(l=i.$$typeof,l===mf){e.tag=11,e=Ah(null,e,i,n,t);break e}else if(l===pf){e.tag=14,e=bh(null,e,i,n,t);break e}}throw e=Xu(i)||i,Error(M(306,e,""))}}return e;case 0:return Cc(n,e,e.type,e.pendingProps,t);case 1:return i=e.type,l=ul(i,e.pendingProps),wh(n,e,i,l,t);case 3:e:{if(Va(e,e.stateNode.containerInfo),n===null)throw Error(M(387));i=e.pendingProps;var o=e.memoizedState;l=o.element,mc(n,e),ls(e,i,null,t);var s=e.memoizedState;if(i=s.cache,xi(e,ut,i),i!==o.cache&&fc(e,[ut],t,!0),is(),i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=Rh(n,e,i,t);break e}else if(i!==l){l=cn(Error(M(424)),e),Ts(l),e=Rh(n,e,i,t);break e}else{switch(n=e.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(je=vn(n.firstChild),Dt=e,Se=!0,nl=null,En=!0,t=Vy(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling}else{if($s(),i===l){e=ni(n,e,t);break e}Tt(n,e,i,t)}e=e.child}return e;case 26:return Na(n,e),n===null?(t=Kh(e.type,null,e.pendingProps,null))?e.memoizedState=t:Se||(t=e.type,n=e.pendingProps,i=sr(Mi.current).createElement(t),i[At]=e,i[Gt]=n,Ct(i,t,n),mt(i),e.stateNode=i):e.memoizedState=Kh(e.type,n.memoizedProps,e.pendingProps,n.memoizedState),null;case 27:return Wu(e),n===null&&Se&&(i=e.stateNode=Lv(e.type,e.pendingProps,Mi.current),Dt=e,En=!0,l=je,zi(e.type)?(Vc=l,je=vn(i.firstChild)):je=l),Tt(n,e,e.pendingProps.children,t),Na(n,e),n===null&&(e.flags|=4194304),e.child;case 5:return n===null&&Se&&((l=i=je)&&(i=A1(i,e.type,e.pendingProps,En),i!==null?(e.stateNode=i,Dt=e,je=vn(i.firstChild),En=!1,l=!0):l=!1),l||sl(e)),Wu(e),l=e.type,o=e.pendingProps,s=n!==null?n.memoizedProps:null,i=o.children,Uc(l,o)?i=null:s!==null&&Uc(l,s)&&(e.flags|=32),e.memoizedState!==null&&(l=Of(n,e,qT,null,null,t),bs._currentValue=l),Na(n,e),Tt(n,e,i,t),e.child;case 6:return n===null&&Se&&((n=t=je)&&(t=b1(t,e.pendingProps,En),t!==null?(e.stateNode=t,Dt=e,je=null,n=!0):n=!1),n||sl(e)),null;case 13:return Zy(n,e,t);case 4:return Va(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=ro(e,null,i,t):Tt(n,e,i,t),e.child;case 11:return Ah(n,e,e.type,e.pendingProps,t);case 7:return Tt(n,e,e.pendingProps,t),e.child;case 8:return Tt(n,e,e.pendingProps.children,t),e.child;case 12:return Tt(n,e,e.pendingProps.children,t),e.child;case 10:return i=e.pendingProps,xi(e,e.type,i.value),Tt(n,e,i.children,t),e.child;case 9:return l=e.type._context,i=e.pendingProps.children,al(e),l=bt(l),i=i(l),e.flags|=1,Tt(n,e,i,t),e.child;case 14:return bh(n,e,e.type,e.pendingProps,t);case 15:return Yy(n,e,e.type,e.pendingProps,t);case 19:return Ky(n,e,t);case 31:return i=e.pendingProps,t=e.mode,i={mode:i.mode,children:i.children},n===null?(t=ja(i,t),t.ref=e.ref,e.child=t,t.return=e,e=t):(t=Wn(n.child,i),t.ref=e.ref,e.child=t,t.return=e,e=t),e;case 22:return Fy(n,e,t);case 24:return al(e),i=bt(ut),n===null?(l=kf(),l===null&&(l=Pe,o=Df(),l.pooledCache=o,o.refCount++,o!==null&&(l.pooledCacheLanes|=t),l=o),e.memoizedState={parent:i,cache:l},If(e),xi(e,ut,l)):(n.lanes&t&&(mc(n,e),ls(e,null,null,t),is()),l=n.memoizedState,o=e.memoizedState,l.parent!==i?(l={parent:i,cache:i},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),xi(e,ut,i)):(i=o.cache,xi(e,ut,i),i!==l.cache&&fc(e,[ut],t,!0))),Tt(n,e,e.pendingProps.children,t),e.child;case 29:throw e.pendingProps}throw Error(M(156,e.tag))}function qn(n){n.flags|=4}function kh(n,e){if(e.type!=="stylesheet"||e.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!$v(e)){if(e=dn.current,e!==null&&((ve&4194048)===ve?kn!==null:(ve&62914560)!==ve&&!(ve&536870912)||e!==kn))throw ts=hc,ey;n.flags|=8192}}function ca(n,e){e!==null&&(n.flags|=4),n.flags&16384&&(e=n.tag!==22?Sg():536870912,n.lanes|=e,uo|=e)}function $o(n,e){if(!Se)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Xe(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var l=n.child;l!==null;)t|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=n,l=l.sibling;else for(l=n.child;l!==null;)t|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=n,l=l.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function WT(n,e,t){var i=e.pendingProps;switch(Rf(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return Xe(e),null;case 3:return t=e.stateNode,i=null,n!==null&&(i=n.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),jn(ut),no(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(n===null||n.child===null)&&(Oo(e)?qn(e):n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rh())),Xe(e),null;case 26:return t=e.memoizedState,n===null?(qn(e),t!==null?(Xe(e),kh(e,t)):(Xe(e),e.flags&=-16777217)):t?t!==n.memoizedState?(qn(e),Xe(e),kh(e,t)):(Xe(e),e.flags&=-16777217):(n.memoizedProps!==i&&qn(e),Xe(e),e.flags&=-16777217),null;case 27:$a(e),t=Mi.current;var l=e.type;if(n!==null&&e.stateNode!=null)n.memoizedProps!==i&&qn(e);else{if(!i){if(e.stateNode===null)throw Error(M(166));return Xe(e),null}n=Rn.current,Oo(e)?sh(e):(n=Lv(l,i,t),e.stateNode=n,qn(e))}return Xe(e),null;case 5:if($a(e),t=e.type,n!==null&&e.stateNode!=null)n.memoizedProps!==i&&qn(e);else{if(!i){if(e.stateNode===null)throw Error(M(166));return Xe(e),null}if(n=Rn.current,Oo(e))sh(e);else{switch(l=sr(Mi.current),n){case 1:n=l.createElementNS("http://www.w3.org/2000/svg",t);break;case 2:n=l.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;default:switch(t){case"svg":n=l.createElementNS("http://www.w3.org/2000/svg",t);break;case"math":n=l.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;case"script":n=l.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof i.is=="string"?l.createElement("select",{is:i.is}):l.createElement("select"),i.multiple?n.multiple=!0:i.size&&(n.size=i.size);break;default:n=typeof i.is=="string"?l.createElement(t,{is:i.is}):l.createElement(t)}}n[At]=e,n[Gt]=i;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=n;e:switch(Ct(n,t,i),t){case"button":case"input":case"select":case"textarea":n=!!i.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&qn(e)}}return Xe(e),e.flags&=-16777217,null;case 6:if(n&&e.stateNode!=null)n.memoizedProps!==i&&qn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(M(166));if(n=Mi.current,Oo(e)){if(n=e.stateNode,t=e.memoizedProps,i=null,l=Dt,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}n[At]=e,n=!!(n.nodeValue===t||i!==null&&i.suppressHydrationWarning===!0||kv(n.nodeValue,t)),n||sl(e)}else n=sr(n).createTextNode(i),n[At]=e,e.stateNode=n}return Xe(e),null;case 13:if(i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(l=Oo(e),i!==null&&i.dehydrated!==null){if(n===null){if(!l)throw Error(M(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(M(317));l[At]=e}else $s(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),l=!1}else l=rh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(Xn(e),e):(Xn(e),null)}if(Xn(e),e.flags&128)return e.lanes=t,e;if(t=i!==null,n=n!==null&&n.memoizedState!==null,t){i=e.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool);var o=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==l&&(i.flags|=2048)}return t!==n&&t&&(e.child.flags|=8192),ca(e,e.updateQueue),Xe(e),null;case 4:return no(),n===null&&td(e.stateNode.containerInfo),Xe(e),null;case 10:return jn(e.type),Xe(e),null;case 19:if(gt(ct),l=e.memoizedState,l===null)return Xe(e),null;if(i=(e.flags&128)!==0,o=l.rendering,o===null)if(i)$o(l,!1);else{if(et!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Xa(n),o!==null){for(e.flags|=128,$o(l,!1),n=o.updateQueue,e.updateQueue=n,ca(e,n),e.subtreeFlags=0,n=t,t=e.child;t!==null;)Xg(t,n),t=t.sibling;return Ke(ct,ct.current&1|2),e.child}n=n.sibling}l.tail!==null&&Dn()>tr&&(e.flags|=128,i=!0,$o(l,!1),e.lanes=4194304)}else{if(!i)if(n=Xa(o),n!==null){if(e.flags|=128,i=!0,n=n.updateQueue,e.updateQueue=n,ca(e,n),$o(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Se)return Xe(e),null}else 2*Dn()-l.renderingStartTime>tr&&t!==536870912&&(e.flags|=128,i=!0,$o(l,!1),e.lanes=4194304);l.isBackwards?(o.sibling=e.child,e.child=o):(n=l.last,n!==null?n.sibling=o:e.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Dn(),e.sibling=null,n=ct.current,Ke(ct,i?n&1|2:n&1),e):(Xe(e),null);case 22:case 23:return Xn(e),Uf(),i=e.memoizedState!==null,n!==null?n.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?t&536870912&&!(e.flags&128)&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),t=e.updateQueue,t!==null&&ca(e,t.retryQueue),t=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==t&&(e.flags|=2048),n!==null&&gt(il),null;case 24:return t=null,n!==null&&(t=n.memoizedState.cache),e.memoizedState.cache!==t&&(e.flags|=2048),jn(ut),Xe(e),null;case 25:return null;case 30:return null}throw Error(M(156,e.tag))}function jT(n,e){switch(Rf(e),e.tag){case 1:return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return jn(ut),no(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 26:case 27:case 5:return $a(e),null;case 13:if(Xn(e),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(M(340));$s()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return gt(ct),null;case 4:return no(),null;case 10:return jn(e.type),null;case 22:case 23:return Xn(e),Uf(),n!==null&&gt(il),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 24:return jn(ut),null;case 25:return null;default:return null}}function Xy(n,e){switch(Rf(e),e.tag){case 3:jn(ut),no();break;case 26:case 27:case 5:$a(e);break;case 4:no();break;case 13:Xn(e);break;case 19:gt(ct);break;case 10:jn(e.type);break;case 22:case 23:Xn(e),Uf(),n!==null&&gt(il);break;case 24:jn(ut)}}function Hs(n,e){try{var t=e.updateQueue,i=t!==null?t.lastEffect:null;if(i!==null){var l=i.next;t=l;do{if((t.tag&n)===n){i=void 0;var o=t.create,s=t.inst;i=o(),s.destroy=i}t=t.next}while(t!==l)}}catch(u){Oe(e,e.return,u)}}function Vi(n,e,t){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var o=l.next;i=o;do{if((i.tag&n)===n){var s=i.inst,u=s.destroy;if(u!==void 0){s.destroy=void 0,l=e;var c=t,f=u;try{f()}catch(d){Oe(l,c,d)}}}i=i.next}while(i!==o)}}catch(d){Oe(e,e.return,d)}}function Qy(n){var e=n.updateQueue;if(e!==null){var t=n.stateNode;try{iy(e,t)}catch(i){Oe(n,n.return,i)}}}function Wy(n,e,t){t.props=ul(n.type,n.memoizedProps),t.state=n.memoizedState;try{t.componentWillUnmount()}catch(i){Oe(n,e,i)}}function ss(n,e){try{var t=n.ref;if(t!==null){switch(n.tag){case 26:case 27:case 5:var i=n.stateNode;break;case 30:i=n.stateNode;break;default:i=n.stateNode}typeof t=="function"?n.refCleanup=t(i):t.current=i}}catch(l){Oe(n,e,l)}}function An(n,e){var t=n.ref,i=n.refCleanup;if(t!==null)if(typeof i=="function")try{i()}catch(l){Oe(n,e,l)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(l){Oe(n,e,l)}else t.current=null}function jy(n){var e=n.type,t=n.memoizedProps,i=n.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":t.autoFocus&&i.focus();break e;case"img":t.src?i.src=t.src:t.srcSet&&(i.srcset=t.srcSet)}}catch(l){Oe(n,n.return,l)}}function _u(n,e,t){try{var i=n.stateNode;T1(i,n.type,t,e),i[Gt]=e}catch(l){Oe(n,n.return,l)}}function ev(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&zi(n.type)||n.tag===4}function Eu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ev(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&zi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ec(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t).insertBefore(n,e):(e=t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,e.appendChild(n),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Gr));else if(i!==4&&(i===27&&zi(n.type)&&(t=n.stateNode,e=null),n=n.child,n!==null))for(Ec(n,e,t),n=n.sibling;n!==null;)Ec(n,e,t),n=n.sibling}function er(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(i===27&&zi(n.type)&&(t=n.stateNode),n=n.child,n!==null))for(er(n,e,t),n=n.sibling;n!==null;)er(n,e,t),n=n.sibling}function tv(n){var e=n.stateNode,t=n.memoizedProps;try{for(var i=n.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);Ct(e,i,t),e[At]=n,e[Gt]=t}catch(o){Oe(n,n.return,o)}}var Yn=!1,nt=!1,Au=!1,Ih=typeof WeakSet=="function"?WeakSet:Set,ht=null;function e1(n,e){if(n=n.containerInfo,kc=cr,n=Gg(n),Af(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var l=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,u=-1,c=-1,f=0,d=0,m=n,h=null;t:for(;;){for(var p;m!==t||l!==0&&m.nodeType!==3||(u=s+l),m!==o||i!==0&&m.nodeType!==3||(c=s+i),m.nodeType===3&&(s+=m.nodeValue.length),(p=m.firstChild)!==null;)h=m,m=p;for(;;){if(m===n)break t;if(h===t&&++f===l&&(u=s),h===o&&++d===i&&(c=s),(p=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=p}t=u===-1||c===-1?null:{start:u,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Ic={focusedElem:n,selectionRange:t},cr=!1,ht=e;ht!==null;)if(e=ht,n=e.child,(e.subtreeFlags&1024)!==0&&n!==null)n.return=e,ht=n;else for(;ht!==null;){switch(e=ht,o=e.alternate,n=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&o!==null){n=void 0,t=e,l=o.memoizedProps,o=o.memoizedState,i=t.stateNode;try{var x=ul(t.type,l,t.elementType===t.type);n=i.getSnapshotBeforeUpdate(x,o),i.__reactInternalSnapshotBeforeUpdate=n}catch(S){Oe(t,t.return,S)}}break;case 3:if(n&1024){if(n=e.stateNode.containerInfo,t=n.nodeType,t===9)Lc(n);else if(t===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Lc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(M(163))}if(n=e.sibling,n!==null){n.return=e.return,ht=n;break}ht=e.return}}function nv(n,e,t){var i=t.flags;switch(t.tag){case 0:case 11:case 15:mi(n,t),i&4&&Hs(5,t);break;case 1:if(mi(n,t),i&4)if(n=t.stateNode,e===null)try{n.componentDidMount()}catch(s){Oe(t,t.return,s)}else{var l=ul(t.type,e.memoizedProps);e=e.memoizedState;try{n.componentDidUpdate(l,e,n.__reactInternalSnapshotBeforeUpdate)}catch(s){Oe(t,t.return,s)}}i&64&&Qy(t),i&512&&ss(t,t.return);break;case 3:if(mi(n,t),i&64&&(n=t.updateQueue,n!==null)){if(e=null,t.child!==null)switch(t.child.tag){case 27:case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}try{iy(n,e)}catch(s){Oe(t,t.return,s)}}break;case 27:e===null&&i&4&&tv(t);case 26:case 5:mi(n,t),e===null&&i&4&&jy(t),i&512&&ss(t,t.return);break;case 12:mi(n,t);break;case 13:mi(n,t),i&4&&ov(n,t),i&64&&(n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(t=u1.bind(null,t),M1(n,t))));break;case 22:if(i=t.memoizedState!==null||Yn,!i){e=e!==null&&e.memoizedState!==null||nt,l=Yn;var o=nt;Yn=i,(nt=e)&&!o?pi(n,t,(t.subtreeFlags&8772)!==0):mi(n,t),Yn=l,nt=o}break;case 30:break;default:mi(n,t)}}function iv(n){var e=n.alternate;e!==null&&(n.alternate=null,iv(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&xf(e)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Fe=null,Pt=!1;function Hn(n,e,t){for(t=t.child;t!==null;)lv(n,e,t),t=t.sibling}function lv(n,e,t){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Is,t)}catch{}switch(t.tag){case 26:nt||An(t,e),Hn(n,e,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:nt||An(t,e);var i=Fe,l=Pt;zi(t.type)&&(Fe=t.stateNode,Pt=!1),Hn(n,e,t),cs(t.stateNode),Fe=i,Pt=l;break;case 5:nt||An(t,e);case 6:if(i=Fe,l=Pt,Fe=null,Hn(n,e,t),Fe=i,Pt=l,Fe!==null)if(Pt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(t.stateNode)}catch(o){Oe(t,e,o)}else try{Fe.removeChild(t.stateNode)}catch(o){Oe(t,e,o)}break;case 18:Fe!==null&&(Pt?(n=Fe,Yh(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.stateNode),ws(n)):Yh(Fe,t.stateNode));break;case 4:i=Fe,l=Pt,Fe=t.stateNode.containerInfo,Pt=!0,Hn(n,e,t),Fe=i,Pt=l;break;case 0:case 11:case 14:case 15:nt||Vi(2,t,e),nt||Vi(4,t,e),Hn(n,e,t);break;case 1:nt||(An(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"&&Wy(t,e,i)),Hn(n,e,t);break;case 21:Hn(n,e,t);break;case 22:nt=(i=nt)||t.memoizedState!==null,Hn(n,e,t),nt=i;break;default:Hn(n,e,t)}}function ov(n,e){if(e.memoizedState===null&&(n=e.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ws(n)}catch(t){Oe(e,e.return,t)}}function t1(n){switch(n.tag){case 13:case 19:var e=n.stateNode;return e===null&&(e=n.stateNode=new Ih),e;case 22:return n=n.stateNode,e=n._retryCache,e===null&&(e=n._retryCache=new Ih),e;default:throw Error(M(435,n.tag))}}function bu(n,e){var t=t1(n);e.forEach(function(i){var l=c1.bind(null,n,i);t.has(i)||(t.add(i),i.then(l,l))})}function Zt(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var l=t[i],o=n,s=e,u=s;e:for(;u!==null;){switch(u.tag){case 27:if(zi(u.type)){Fe=u.stateNode,Pt=!1;break e}break;case 5:Fe=u.stateNode,Pt=!1;break e;case 3:case 4:Fe=u.stateNode.containerInfo,Pt=!0;break e}u=u.return}if(Fe===null)throw Error(M(160));lv(o,s,l),Fe=null,Pt=!1,o=l.alternate,o!==null&&(o.return=null),l.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)sv(e,n),e=e.sibling}var gn=null;function sv(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Zt(e,n),Kt(n),i&4&&(Vi(3,n,n.return),Hs(3,n),Vi(5,n,n.return));break;case 1:Zt(e,n),Kt(n),i&512&&(nt||t===null||An(t,t.return)),i&64&&Yn&&(n=n.updateQueue,n!==null&&(i=n.callbacks,i!==null&&(t=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=t===null?i:t.concat(i))));break;case 26:var l=gn;if(Zt(e,n),Kt(n),i&512&&(nt||t===null||An(t,t.return)),i&4){var o=t!==null?t.memoizedState:null;if(i=n.memoizedState,t===null)if(i===null)if(n.stateNode===null){e:{i=n.type,t=n.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":o=l.getElementsByTagName("title")[0],(!o||o[Os]||o[At]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=l.createElement(i),l.head.insertBefore(o,l.querySelector("head > title"))),Ct(o,i,t),o[At]=n,mt(o),i=o;break e;case"link":var s=Xh("link","href",l).get(i+(t.href||""));if(s){for(var u=0;u<s.length;u++)if(o=s[u],o.getAttribute("href")===(t.href==null||t.href===""?null:t.href)&&o.getAttribute("rel")===(t.rel==null?null:t.rel)&&o.getAttribute("title")===(t.title==null?null:t.title)&&o.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){s.splice(u,1);break t}}o=l.createElement(i),Ct(o,i,t),l.head.appendChild(o);break;case"meta":if(s=Xh("meta","content",l).get(i+(t.content||""))){for(u=0;u<s.length;u++)if(o=s[u],o.getAttribute("content")===(t.content==null?null:""+t.content)&&o.getAttribute("name")===(t.name==null?null:t.name)&&o.getAttribute("property")===(t.property==null?null:t.property)&&o.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&o.getAttribute("charset")===(t.charSet==null?null:t.charSet)){s.splice(u,1);break t}}o=l.createElement(i),Ct(o,i,t),l.head.appendChild(o);break;default:throw Error(M(468,i))}o[At]=n,mt(o),i=o}n.stateNode=i}else Qh(l,n.type,n.stateNode);else n.stateNode=Jh(l,i,n.memoizedProps);else o!==i?(o===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):o.count--,i===null?Qh(l,n.type,n.stateNode):Jh(l,i,n.memoizedProps)):i===null&&n.stateNode!==null&&_u(n,n.memoizedProps,t.memoizedProps)}break;case 27:Zt(e,n),Kt(n),i&512&&(nt||t===null||An(t,t.return)),t!==null&&i&4&&_u(n,n.memoizedProps,t.memoizedProps);break;case 5:if(Zt(e,n),Kt(n),i&512&&(nt||t===null||An(t,t.return)),n.flags&32){l=n.stateNode;try{lo(l,"")}catch(p){Oe(n,n.return,p)}}i&4&&n.stateNode!=null&&(l=n.memoizedProps,_u(n,l,t!==null?t.memoizedProps:l)),i&1024&&(Au=!0);break;case 6:if(Zt(e,n),Kt(n),i&4){if(n.stateNode===null)throw Error(M(162));i=n.memoizedProps,t=n.stateNode;try{t.nodeValue=i}catch(p){Oe(n,n.return,p)}}break;case 3:if(Da=null,l=gn,gn=ar(e.containerInfo),Zt(e,n),gn=l,Kt(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{ws(e.containerInfo)}catch(p){Oe(n,n.return,p)}Au&&(Au=!1,av(n));break;case 4:i=gn,gn=ar(n.stateNode.containerInfo),Zt(e,n),Kt(n),gn=i;break;case 12:Zt(e,n),Kt(n);break;case 13:Zt(e,n),Kt(n),n.child.flags&8192&&n.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(Wf=Dn()),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,bu(n,i)));break;case 22:l=n.memoizedState!==null;var c=t!==null&&t.memoizedState!==null,f=Yn,d=nt;if(Yn=f||l,nt=d||c,Zt(e,n),nt=d,Yn=f,Kt(n),i&8192)e:for(e=n.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(t===null||c||Yn||nt||Wi(n)),t=null,e=n;;){if(e.tag===5||e.tag===26){if(t===null){c=t=e;try{if(o=c.stateNode,l)s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{u=c.stateNode;var m=c.memoizedProps.style,h=m!=null&&m.hasOwnProperty("display")?m.display:null;u.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){Oe(c,c.return,p)}}}else if(e.tag===6){if(t===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(p){Oe(c,c.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===n)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;t===e&&(t=null),e=e.return}t===e&&(t=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=n.updateQueue,i!==null&&(t=i.retryQueue,t!==null&&(i.retryQueue=null,bu(n,t))));break;case 19:Zt(e,n),Kt(n),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,bu(n,i)));break;case 30:break;case 21:break;default:Zt(e,n),Kt(n)}}function Kt(n){var e=n.flags;if(e&2){try{for(var t,i=n.return;i!==null;){if(ev(i)){t=i;break}i=i.return}if(t==null)throw Error(M(160));switch(t.tag){case 27:var l=t.stateNode,o=Eu(n);er(n,o,l);break;case 5:var s=t.stateNode;t.flags&32&&(lo(s,""),t.flags&=-33);var u=Eu(n);er(n,u,s);break;case 3:case 4:var c=t.stateNode.containerInfo,f=Eu(n);Ec(n,f,c);break;default:throw Error(M(161))}}catch(d){Oe(n,n.return,d)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function av(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var e=n;av(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),n=n.sibling}}function mi(n,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)nv(n,e.alternate,e),e=e.sibling}function Wi(n){for(n=n.child;n!==null;){var e=n;switch(e.tag){case 0:case 11:case 14:case 15:Vi(4,e,e.return),Wi(e);break;case 1:An(e,e.return);var t=e.stateNode;typeof t.componentWillUnmount=="function"&&Wy(e,e.return,t),Wi(e);break;case 27:cs(e.stateNode);case 26:case 5:An(e,e.return),Wi(e);break;case 22:e.memoizedState===null&&Wi(e);break;case 30:Wi(e);break;default:Wi(e)}n=n.sibling}}function pi(n,e,t){for(t=t&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,l=n,o=e,s=o.flags;switch(o.tag){case 0:case 11:case 15:pi(l,o,t),Hs(4,o);break;case 1:if(pi(l,o,t),i=o,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(f){Oe(i,i.return,f)}if(i=o,l=i.updateQueue,l!==null){var u=i.stateNode;try{var c=l.shared.hiddenCallbacks;if(c!==null)for(l.shared.hiddenCallbacks=null,l=0;l<c.length;l++)ny(c[l],u)}catch(f){Oe(i,i.return,f)}}t&&s&64&&Qy(o),ss(o,o.return);break;case 27:tv(o);case 26:case 5:pi(l,o,t),t&&i===null&&s&4&&jy(o),ss(o,o.return);break;case 12:pi(l,o,t);break;case 13:pi(l,o,t),t&&s&4&&ov(l,o);break;case 22:o.memoizedState===null&&pi(l,o,t),ss(o,o.return);break;case 30:break;default:pi(l,o,t)}e=e.sibling}}function Kf(n,e){var t=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==t&&(n!=null&&n.refCount++,t!=null&&Ps(t))}function Jf(n,e){n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&Ps(n))}function _n(n,e,t,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rv(n,e,t,i),e=e.sibling}function rv(n,e,t,i){var l=e.flags;switch(e.tag){case 0:case 11:case 15:_n(n,e,t,i),l&2048&&Hs(9,e);break;case 1:_n(n,e,t,i);break;case 3:_n(n,e,t,i),l&2048&&(n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&Ps(n)));break;case 12:if(l&2048){_n(n,e,t,i),n=e.stateNode;try{var o=e.memoizedProps,s=o.id,u=o.onPostCommit;typeof u=="function"&&u(s,e.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(c){Oe(e,e.return,c)}}else _n(n,e,t,i);break;case 13:_n(n,e,t,i);break;case 23:break;case 22:o=e.stateNode,s=e.alternate,e.memoizedState!==null?o._visibility&2?_n(n,e,t,i):as(n,e):o._visibility&2?_n(n,e,t,i):(o._visibility|=2,Ml(n,e,t,i,(e.subtreeFlags&10256)!==0)),l&2048&&Kf(s,e);break;case 24:_n(n,e,t,i),l&2048&&Jf(e.alternate,e);break;default:_n(n,e,t,i)}}function Ml(n,e,t,i,l){for(l=l&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=n,s=e,u=t,c=i,f=s.flags;switch(s.tag){case 0:case 11:case 15:Ml(o,s,u,c,l),Hs(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?Ml(o,s,u,c,l):as(o,s):(d._visibility|=2,Ml(o,s,u,c,l)),l&&f&2048&&Kf(s.alternate,s);break;case 24:Ml(o,s,u,c,l),l&&f&2048&&Jf(s.alternate,s);break;default:Ml(o,s,u,c,l)}e=e.sibling}}function as(n,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var t=n,i=e,l=i.flags;switch(i.tag){case 22:as(t,i),l&2048&&Kf(i.alternate,i);break;case 24:as(t,i),l&2048&&Jf(i.alternate,i);break;default:as(t,i)}e=e.sibling}}var Zo=8192;function Sl(n){if(n.subtreeFlags&Zo)for(n=n.child;n!==null;)uv(n),n=n.sibling}function uv(n){switch(n.tag){case 26:Sl(n),n.flags&Zo&&n.memoizedState!==null&&P1(gn,n.memoizedState,n.memoizedProps);break;case 5:Sl(n);break;case 3:case 4:var e=gn;gn=ar(n.stateNode.containerInfo),Sl(n),gn=e;break;case 22:n.memoizedState===null&&(e=n.alternate,e!==null&&e.memoizedState!==null?(e=Zo,Zo=16777216,Sl(n),Zo=e):Sl(n));break;default:Sl(n)}}function cv(n){var e=n.alternate;if(e!==null&&(n=e.child,n!==null)){e.child=null;do e=n.sibling,n.sibling=null,n=e;while(n!==null)}}function Bo(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var i=e[t];ht=i,dv(i,n)}cv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fv(n),n=n.sibling}function fv(n){switch(n.tag){case 0:case 11:case 15:Bo(n),n.flags&2048&&Vi(9,n,n.return);break;case 3:Bo(n);break;case 12:Bo(n);break;case 22:var e=n.stateNode;n.memoizedState!==null&&e._visibility&2&&(n.return===null||n.return.tag!==13)?(e._visibility&=-3,wa(n)):Bo(n);break;default:Bo(n)}}function wa(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var i=e[t];ht=i,dv(i,n)}cv(n)}for(n=n.child;n!==null;){switch(e=n,e.tag){case 0:case 11:case 15:Vi(8,e,e.return),wa(e);break;case 22:t=e.stateNode,t._visibility&2&&(t._visibility&=-3,wa(e));break;default:wa(e)}n=n.sibling}}function dv(n,e){for(;ht!==null;){var t=ht;switch(t.tag){case 0:case 11:case 15:Vi(8,t,e);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var i=t.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ps(t.memoizedState.cache)}if(i=t.child,i!==null)i.return=t,ht=i;else e:for(t=n;ht!==null;){i=ht;var l=i.sibling,o=i.return;if(iv(i),i===t){ht=null;break e}if(l!==null){l.return=o,ht=l;break e}ht=o}}}var n1={getCacheForType:function(n){var e=bt(ut),t=e.data.get(n);return t===void 0&&(t=n(),e.data.set(n,t)),t}},i1=typeof WeakMap=="function"?WeakMap:Map,we=0,Pe=null,de=null,ve=0,Ne=0,Jt=null,Ai=!1,Eo=!1,Xf=!1,ii=0,et=0,$i=0,ll=0,Qf=0,fn=0,uo=0,rs=null,zt=null,Ac=!1,Wf=0,tr=1/0,nr=null,Ri=null,St=0,Di=null,co=null,Wl=0,bc=0,Mc=null,hv=null,us=0,Nc=null;function en(){if(we&2&&ve!==0)return ve&-ve;if(W.T!==null){var n=oo;return n!==0?n:ed()}return Eg()}function mv(){fn===0&&(fn=!(ve&536870912)||Se?Tg():536870912);var n=dn.current;return n!==null&&(n.flags|=32),fn}function tn(n,e,t){(n===Pe&&(Ne===2||Ne===9)||n.cancelPendingCommit!==null)&&(fo(n,0),bi(n,ve,fn,!1)),Ls(n,t),(!(we&2)||n!==Pe)&&(n===Pe&&(!(we&2)&&(ll|=t),et===4&&bi(n,ve,fn,!1)),On(n))}function pv(n,e,t){if(we&6)throw Error(M(327));var i=!t&&(e&124)===0&&(e&n.expiredLanes)===0||Us(n,e),l=i?s1(n,e):Mu(n,e,!0),o=i;do{if(l===0){Eo&&!i&&bi(n,e,0,!1);break}else{if(t=n.current.alternate,o&&!l1(t)){l=Mu(n,e,!1),o=!1;continue}if(l===2){if(o=e,n.errorRecoveryDisabledLanes&o)var s=0;else s=n.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var u=n;l=rs;var c=u.current.memoizedState.isDehydrated;if(c&&(fo(u,s).flags|=256),s=Mu(u,s,!1),s!==2){if(Xf&&!c){u.errorRecoveryDisabledLanes|=o,ll|=o,l=4;break e}o=zt,zt=l,o!==null&&(zt===null?zt=o:zt.push.apply(zt,o))}l=s}if(o=!1,l!==2)continue}}if(l===1){fo(n,0),bi(n,e,0,!0);break}e:{switch(i=n,o=l,o){case 0:case 1:throw Error(M(345));case 4:if((e&4194048)!==e)break;case 6:bi(i,e,fn,!Ai);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(M(329))}if((e&62914560)===e&&(l=Wf+300-Dn(),10<l)){if(bi(i,e,fn,!Ai),wr(i,0,!0)!==0)break e;i.timeoutHandle=Uv(Uh.bind(null,i,t,zt,nr,Ac,e,fn,ll,uo,Ai,o,2,-0,0),l);break e}Uh(i,t,zt,nr,Ac,e,fn,ll,uo,Ai,o,0,-0,0)}}break}while(!0);On(n)}function Uh(n,e,t,i,l,o,s,u,c,f,d,m,h,p){if(n.timeoutHandle=-1,m=e.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(As={stylesheets:null,count:0,unsuspend:B1},uv(e),m=z1(),m!==null)){n.cancelPendingCommit=m(Oh.bind(null,n,e,o,t,i,l,s,u,c,d,1,h,p)),bi(n,o,s,!f);return}Oh(n,e,o,t,i,l,s,u,c)}function l1(n){for(var e=n;;){var t=e.tag;if((t===0||t===11||t===15)&&e.flags&16384&&(t=e.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var i=0;i<t.length;i++){var l=t[i],o=l.getSnapshot;l=l.value;try{if(!nn(o(),l))return!1}catch{return!1}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bi(n,e,t,i){e&=~Qf,e&=~ll,n.suspendedLanes|=e,n.pingedLanes&=~e,i&&(n.warmLanes|=e),i=n.expirationTimes;for(var l=e;0<l;){var o=31-jt(l),s=1<<o;i[o]=-1,l&=~s}t!==0&&Cg(n,t,e)}function Br(){return we&6?!0:(Ys(0),!1)}function jf(){if(de!==null){if(Ne===0)var n=de.return;else n=de,Jn=yl=null,Bf(n),Ql=null,Cs=0,n=de;for(;n!==null;)Xy(n.alternate,n),n=n.return;de=null}}function fo(n,e){var t=n.timeoutHandle;t!==-1&&(n.timeoutHandle=-1,C1(t)),t=n.cancelPendingCommit,t!==null&&(n.cancelPendingCommit=null,t()),jf(),Pe=n,de=t=Wn(n.current,null),ve=e,Ne=0,Jt=null,Ai=!1,Eo=Us(n,e),Xf=!1,uo=fn=Qf=ll=$i=et=0,zt=rs=null,Ac=!1,e&8&&(e|=e&32);var i=n.entangledLanes;if(i!==0)for(n=n.entanglements,i&=e;0<i;){var l=31-jt(i),o=1<<l;e|=n[l],i&=~o}return ii=e,Ir(),t}function gv(n,e){ae=null,W.H=Ja,e===zs||e===Lr?(e=dh(),Ne=3):e===ey?(e=dh(),Ne=4):Ne=e===Hy?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Jt=e,de===null&&(et=1,Wa(n,cn(e,n.current)))}function yv(){var n=W.H;return W.H=Ja,n===null?Ja:n}function vv(){var n=W.A;return W.A=n1,n}function wc(){et=4,Ai||(ve&4194048)!==ve&&dn.current!==null||(Eo=!0),!($i&134217727)&&!(ll&134217727)||Pe===null||bi(Pe,ve,fn,!1)}function Mu(n,e,t){var i=we;we|=2;var l=yv(),o=vv();(Pe!==n||ve!==e)&&(nr=null,fo(n,e)),e=!1;var s=et;e:do try{if(Ne!==0&&de!==null){var u=de,c=Jt;switch(Ne){case 8:jf(),s=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(e=!0);var f=Ne;if(Ne=0,Jt=null,zl(n,u,c,f),t&&Eo){s=0;break e}break;default:f=Ne,Ne=0,Jt=null,zl(n,u,c,f)}}o1(),s=et;break}catch(d){gv(n,d)}while(!0);return e&&n.shellSuspendCounter++,Jn=yl=null,we=i,W.H=l,W.A=o,de===null&&(Pe=null,ve=0,Ir()),s}function o1(){for(;de!==null;)xv(de)}function s1(n,e){var t=we;we|=2;var i=yv(),l=vv();Pe!==n||ve!==e?(nr=null,tr=Dn()+500,fo(n,e)):Eo=Us(n,e);e:do try{if(Ne!==0&&de!==null){e=de;var o=Jt;t:switch(Ne){case 1:Ne=0,Jt=null,zl(n,e,o,1);break;case 2:case 9:if(fh(o)){Ne=0,Jt=null,Lh(e);break}e=function(){Ne!==2&&Ne!==9||Pe!==n||(Ne=7),On(n)},o.then(e,e);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:fh(o)?(Ne=0,Jt=null,Lh(e)):(Ne=0,Jt=null,zl(n,e,o,7));break;case 5:var s=null;switch(de.tag){case 26:s=de.memoizedState;case 5:case 27:var u=de;if(!s||$v(s)){Ne=0,Jt=null;var c=u.sibling;if(c!==null)de=c;else{var f=u.return;f!==null?(de=f,Pr(f)):de=null}break t}}Ne=0,Jt=null,zl(n,e,o,5);break;case 6:Ne=0,Jt=null,zl(n,e,o,6);break;case 8:jf(),et=6;break e;default:throw Error(M(462))}}a1();break}catch(d){gv(n,d)}while(!0);return Jn=yl=null,W.H=i,W.A=l,we=t,de!==null?0:(Pe=null,ve=0,Ir(),et)}function a1(){for(;de!==null&&!wx();)xv(de)}function xv(n){var e=Jy(n.alternate,n,ii);n.memoizedProps=n.pendingProps,e===null?Pr(n):de=e}function Lh(n){var e=n,t=e.alternate;switch(e.tag){case 15:case 0:e=Nh(t,e,e.pendingProps,e.type,void 0,ve);break;case 11:e=Nh(t,e,e.pendingProps,e.type.render,e.ref,ve);break;case 5:Bf(e);default:Xy(t,e),e=de=Xg(e,ii),e=Jy(t,e,ii)}n.memoizedProps=n.pendingProps,e===null?Pr(n):de=e}function zl(n,e,t,i){Jn=yl=null,Bf(e),Ql=null,Cs=0;var l=e.return;try{if(XT(n,l,e,t,ve)){et=1,Wa(n,cn(t,n.current)),de=null;return}}catch(o){if(l!==null)throw de=l,o;et=1,Wa(n,cn(t,n.current)),de=null;return}e.flags&32768?(Se||i===1?n=!0:Eo||ve&536870912?n=!1:(Ai=n=!0,(i===2||i===9||i===3||i===6)&&(i=dn.current,i!==null&&i.tag===13&&(i.flags|=16384))),Tv(e,n)):Pr(e)}function Pr(n){var e=n;do{if(e.flags&32768){Tv(e,Ai);return}n=e.return;var t=WT(e.alternate,e,ii);if(t!==null){de=t;return}if(e=e.sibling,e!==null){de=e;return}de=e=n}while(e!==null);et===0&&(et=5)}function Tv(n,e){do{var t=jT(n.alternate,n);if(t!==null){t.flags&=32767,de=t;return}if(t=n.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!e&&(n=n.sibling,n!==null)){de=n;return}de=n=t}while(n!==null);et=6,de=null}function Oh(n,e,t,i,l,o,s,u,c){n.cancelPendingCommit=null;do zr();while(St!==0);if(we&6)throw Error(M(327));if(e!==null){if(e===n.current)throw Error(M(177));if(o=e.lanes|e.childLanes,o|=bf,Bx(n,t,o,s,u,c),n===Pe&&(de=Pe=null,ve=0),co=e,Di=n,Wl=t,bc=o,Mc=l,hv=i,e.subtreeFlags&10256||e.flags&10256?(n.callbackNode=null,n.callbackPriority=0,f1(Ba,function(){return Av(),null})):(n.callbackNode=null,n.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=W.T,W.T=null,l=Ce.p,Ce.p=2,s=we,we|=4;try{e1(n,e,t)}finally{we=s,Ce.p=l,W.T=i}}St=1,Sv(),Cv(),_v()}}function Sv(){if(St===1){St=0;var n=Di,e=co,t=(e.flags&13878)!==0;if(e.subtreeFlags&13878||t){t=W.T,W.T=null;var i=Ce.p;Ce.p=2;var l=we;we|=4;try{sv(e,n);var o=Ic,s=Gg(n.containerInfo),u=o.focusedElem,c=o.selectionRange;if(s!==u&&u&&u.ownerDocument&&zg(u.ownerDocument.documentElement,u)){if(c!==null&&Af(u)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in u)u.selectionStart=f,u.selectionEnd=Math.min(d,u.value.length);else{var m=u.ownerDocument||document,h=m&&m.defaultView||window;if(h.getSelection){var p=h.getSelection(),x=u.textContent.length,S=Math.min(c.start,x),_=c.end===void 0?S:Math.min(c.end,x);!p.extend&&S>_&&(s=_,_=S,S=s);var y=ih(u,S),v=ih(u,_);if(y&&v&&(p.rangeCount!==1||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var T=m.createRange();T.setStart(y.node,y.offset),p.removeAllRanges(),S>_?(p.addRange(T),p.extend(v.node,v.offset)):(T.setEnd(v.node,v.offset),p.addRange(T))}}}}for(m=[],p=u;p=p.parentNode;)p.nodeType===1&&m.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<m.length;u++){var C=m[u];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}cr=!!kc,Ic=kc=null}finally{we=l,Ce.p=i,W.T=t}}n.current=e,St=2}}function Cv(){if(St===2){St=0;var n=Di,e=co,t=(e.flags&8772)!==0;if(e.subtreeFlags&8772||t){t=W.T,W.T=null;var i=Ce.p;Ce.p=2;var l=we;we|=4;try{nv(n,e.alternate,e)}finally{we=l,Ce.p=i,W.T=t}}St=3}}function _v(){if(St===4||St===3){St=0,Rx();var n=Di,e=co,t=Wl,i=hv;e.subtreeFlags&10256||e.flags&10256?St=5:(St=0,co=Di=null,Ev(n,n.pendingLanes));var l=n.pendingLanes;if(l===0&&(Ri=null),vf(t),e=e.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Is,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=W.T,l=Ce.p,Ce.p=2,W.T=null;try{for(var o=n.onRecoverableError,s=0;s<i.length;s++){var u=i[s];o(u.value,{componentStack:u.stack})}}finally{W.T=e,Ce.p=l}}Wl&3&&zr(),On(n),l=n.pendingLanes,t&4194090&&l&42?n===Nc?us++:(us=0,Nc=n):us=0,Ys(0)}}function Ev(n,e){(n.pooledCacheLanes&=e)===0&&(e=n.pooledCache,e!=null&&(n.pooledCache=null,Ps(e)))}function zr(n){return Sv(),Cv(),_v(),Av()}function Av(){if(St!==5)return!1;var n=Di,e=bc;bc=0;var t=vf(Wl),i=W.T,l=Ce.p;try{Ce.p=32>t?32:t,W.T=null,t=Mc,Mc=null;var o=Di,s=Wl;if(St=0,co=Di=null,Wl=0,we&6)throw Error(M(331));var u=we;if(we|=4,fv(o.current),rv(o,o.current,s,t),we=u,Ys(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Is,o)}catch{}return!0}finally{Ce.p=l,W.T=i,Ev(n,e)}}function Vh(n,e,t){e=cn(t,e),e=Sc(n.stateNode,e,2),n=wi(n,e,2),n!==null&&(Ls(n,2),On(n))}function Oe(n,e,t){if(n.tag===3)Vh(n,n,t);else for(;e!==null;){if(e.tag===3){Vh(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ri===null||!Ri.has(i))){n=cn(t,n),t=Gy(2),i=wi(e,t,2),i!==null&&(qy(t,i,e,n),Ls(i,2),On(i));break}}e=e.return}}function Nu(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new i1;var l=new Set;i.set(e,l)}else l=i.get(e),l===void 0&&(l=new Set,i.set(e,l));l.has(t)||(Xf=!0,l.add(t),n=r1.bind(null,n,e,t),e.then(n,n))}function r1(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),n.pingedLanes|=n.suspendedLanes&t,n.warmLanes&=~t,Pe===n&&(ve&t)===t&&(et===4||et===3&&(ve&62914560)===ve&&300>Dn()-Wf?!(we&2)&&fo(n,0):Qf|=t,uo===ve&&(uo=0)),On(n)}function bv(n,e){e===0&&(e=Sg()),n=_o(n,e),n!==null&&(Ls(n,e),On(n))}function u1(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),bv(n,t)}function c1(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,l=n.memoizedState;l!==null&&(t=l.retryLane);break;case 19:i=n.stateNode;break;case 22:i=n.stateNode._retryCache;break;default:throw Error(M(314))}i!==null&&i.delete(e),bv(n,t)}function f1(n,e){return gf(n,e)}var ir=null,Nl=null,Rc=!1,lr=!1,wu=!1,ol=0;function On(n){n!==Nl&&n.next===null&&(Nl===null?ir=Nl=n:Nl=Nl.next=n),lr=!0,Rc||(Rc=!0,h1())}function Ys(n,e){if(!wu&&lr){wu=!0;do for(var t=!1,i=ir;i!==null;){if(n!==0){var l=i.pendingLanes;if(l===0)var o=0;else{var s=i.suspendedLanes,u=i.pingedLanes;o=(1<<31-jt(42|n)+1)-1,o&=l&~(s&~u),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(t=!0,$h(i,o))}else o=ve,o=wr(i,i===Pe?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(o&3)||Us(i,o)||(t=!0,$h(i,o));i=i.next}while(t);wu=!1}}function d1(){Mv()}function Mv(){lr=Rc=!1;var n=0;ol!==0&&(S1()&&(n=ol),ol=0);for(var e=Dn(),t=null,i=ir;i!==null;){var l=i.next,o=Nv(i,e);o===0?(i.next=null,t===null?ir=l:t.next=l,l===null&&(Nl=t)):(t=i,(n!==0||o&3)&&(lr=!0)),i=l}Ys(n)}function Nv(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,l=n.expirationTimes,o=n.pendingLanes&-62914561;0<o;){var s=31-jt(o),u=1<<s,c=l[s];c===-1?(!(u&t)||u&i)&&(l[s]=$x(u,e)):c<=e&&(n.expiredLanes|=u),o&=~u}if(e=Pe,t=ve,t=wr(n,n===e?t:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i=n.callbackNode,t===0||n===e&&(Ne===2||Ne===9)||n.cancelPendingCommit!==null)return i!==null&&i!==null&&tu(i),n.callbackNode=null,n.callbackPriority=0;if(!(t&3)||Us(n,t)){if(e=t&-t,e===n.callbackPriority)return e;switch(i!==null&&tu(i),vf(t)){case 2:case 8:t=vg;break;case 32:t=Ba;break;case 268435456:t=xg;break;default:t=Ba}return i=wv.bind(null,n),t=gf(t,i),n.callbackPriority=e,n.callbackNode=t,e}return i!==null&&i!==null&&tu(i),n.callbackPriority=2,n.callbackNode=null,2}function wv(n,e){if(St!==0&&St!==5)return n.callbackNode=null,n.callbackPriority=0,null;var t=n.callbackNode;if(zr()&&n.callbackNode!==t)return null;var i=ve;return i=wr(n,n===Pe?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i===0?null:(pv(n,i,e),Nv(n,Dn()),n.callbackNode!=null&&n.callbackNode===t?wv.bind(null,n):null)}function $h(n,e){if(zr())return null;pv(n,e,!0)}function h1(){_1(function(){we&6?gf(yg,d1):Mv()})}function ed(){return ol===0&&(ol=Tg()),ol}function Bh(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Sa(""+n)}function Ph(n,e){var t=e.ownerDocument.createElement("input");return t.name=e.name,t.value=e.value,n.id&&t.setAttribute("form",n.id),e.parentNode.insertBefore(t,e),n=new FormData(n),t.parentNode.removeChild(t),n}function m1(n,e,t,i,l){if(e==="submit"&&t&&t.stateNode===l){var o=Bh((l[Gt]||null).action),s=i.submitter;s&&(e=(e=s[Gt]||null)?Bh(e.formAction):s.getAttribute("formAction"),e!==null&&(o=e,s=null));var u=new Rr("action","action",null,i,l);n.push({event:u,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ol!==0){var c=s?Ph(l,s):new FormData(l);xc(t,{pending:!0,data:c,method:l.method,action:o},null,c)}}else typeof o=="function"&&(u.preventDefault(),c=s?Ph(l,s):new FormData(l),xc(t,{pending:!0,data:c,method:l.method,action:o},o,c))},currentTarget:l}]})}}for(var Ru=0;Ru<ac.length;Ru++){var Du=ac[Ru],p1=Du.toLowerCase(),g1=Du[0].toUpperCase()+Du.slice(1);Tn(p1,"on"+g1)}Tn(Hg,"onAnimationEnd");Tn(Yg,"onAnimationIteration");Tn(Fg,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(IT,"onTransitionRun");Tn(UT,"onTransitionStart");Tn(LT,"onTransitionCancel");Tn(Zg,"onTransitionEnd");io("onMouseEnter",["mouseout","mouseover"]);io("onMouseLeave",["mouseout","mouseover"]);io("onPointerEnter",["pointerout","pointerover"]);io("onPointerLeave",["pointerout","pointerover"]);ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ml("onBeforeInput",["compositionend","keypress","textInput","paste"]);ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_s));function Rv(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],l=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var u=i[s],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){Qa(d)}l.currentTarget=null,o=c}else for(s=0;s<i.length;s++){if(u=i[s],c=u.instance,f=u.currentTarget,u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){Qa(d)}l.currentTarget=null,o=c}}}}function fe(n,e){var t=e[ec];t===void 0&&(t=e[ec]=new Set);var i=n+"__bubble";t.has(i)||(Dv(e,n,2,!1),t.add(i))}function ku(n,e,t){var i=0;e&&(i|=4),Dv(t,n,i,e)}var fa="_reactListening"+Math.random().toString(36).slice(2);function td(n){if(!n[fa]){n[fa]=!0,Ag.forEach(function(t){t!=="selectionchange"&&(y1.has(t)||ku(t,!1,n),ku(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[fa]||(e[fa]=!0,ku("selectionchange",!1,e))}}function Dv(n,e,t,i){switch(qv(e)){case 2:var l=H1;break;case 8:l=Y1;break;default:l=od}t=l.bind(null,e,t,n),l=void 0,!lc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),i?l!==void 0?n.addEventListener(e,t,{capture:!0,passive:l}):n.addEventListener(e,t,!0):l!==void 0?n.addEventListener(e,t,{passive:l}):n.addEventListener(e,t,!1)}function Iu(n,e,t,i,l){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var u=i.stateNode.containerInfo;if(u===l)break;if(s===4)for(s=i.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===l)return;s=s.return}for(;u!==null;){if(s=kl(u),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){i=o=s;continue e}u=u.parentNode}}i=i.return}Ig(function(){var f=o,d=Sf(t),m=[];e:{var h=Kg.get(n);if(h!==void 0){var p=Rr,x=n;switch(n){case"keypress":if(_a(t)===0)break e;case"keydown":case"keyup":p=fT;break;case"focusin":x="focus",p=uu;break;case"focusout":x="blur",p=uu;break;case"beforeblur":case"afterblur":p=uu;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mT;break;case Hg:case Yg:case Fg:p=nT;break;case Zg:p=gT;break;case"scroll":case"scrollend":p=Qx;break;case"wheel":p=vT;break;case"copy":case"cut":case"paste":p=lT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Jd;break;case"toggle":case"beforetoggle":p=TT}var S=(e&4)!==0,_=!S&&(n==="scroll"||n==="scrollend"),y=S?h!==null?h+"Capture":null:h;S=[];for(var v=f,T;v!==null;){var C=v;if(T=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||T===null||y===null||(C=ys(v,y),C!=null&&S.push(Es(v,C,T))),_)break;v=v.return}0<S.length&&(h=new p(h,x,null,t,d),m.push({event:h,listeners:S}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",h&&t!==ic&&(x=t.relatedTarget||t.fromElement)&&(kl(x)||x[So]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=t.relatedTarget||t.toElement,p=f,x=x?kl(x):null,x!==null&&(_=ks(x),S=x.tag,x!==_||S!==5&&S!==27&&S!==6)&&(x=null)):(p=null,x=f),p!==x)){if(S=Zd,C="onMouseLeave",y="onMouseEnter",v="mouse",(n==="pointerout"||n==="pointerover")&&(S=Jd,C="onPointerLeave",y="onPointerEnter",v="pointer"),_=p==null?h:Fo(p),T=x==null?h:Fo(x),h=new S(C,v+"leave",p,t,d),h.target=_,h.relatedTarget=T,C=null,kl(d)===f&&(S=new S(y,v+"enter",x,t,d),S.target=T,S.relatedTarget=_,C=S),_=C,p&&x)t:{for(S=p,y=x,v=0,T=S;T;T=Cl(T))v++;for(T=0,C=y;C;C=Cl(C))T++;for(;0<v-T;)S=Cl(S),v--;for(;0<T-v;)y=Cl(y),T--;for(;v--;){if(S===y||y!==null&&S===y.alternate)break t;S=Cl(S),y=Cl(y)}S=null}else S=null;p!==null&&zh(m,h,p,S,!1),x!==null&&_!==null&&zh(m,_,x,S,!0)}}e:{if(h=f?Fo(f):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=jd;else if(Wd(h))if(Bg)b=RT;else{b=NT;var w=MT}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?f&&Tf(f.elementType)&&(b=jd):b=wT;if(b&&(b=b(n,f))){$g(m,b,t,d);break e}w&&w(n,h,f),n==="focusout"&&f&&h.type==="number"&&f.memoizedProps.value!=null&&nc(h,"number",h.value)}switch(w=f?Fo(f):window,n){case"focusin":(Wd(w)||w.contentEditable==="true")&&(Ll=w,oc=f,jo=null);break;case"focusout":jo=oc=Ll=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,lh(m,t,d);break;case"selectionchange":if(kT)break;case"keydown":case"keyup":lh(m,t,d)}var N;if(Ef)e:{switch(n){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Ul?Og(n,t)&&(D="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(D="onCompositionStart");D&&(Lg&&t.locale!=="ko"&&(Ul||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ul&&(N=Ug()):(Ei=d,Cf="value"in Ei?Ei.value:Ei.textContent,Ul=!0)),w=or(f,D),0<w.length&&(D=new Kd(D,n,null,t,d),m.push({event:D,listeners:w}),N?D.data=N:(N=Vg(t),N!==null&&(D.data=N)))),(N=CT?_T(n,t):ET(n,t))&&(D=or(f,"onBeforeInput"),0<D.length&&(w=new Kd("onBeforeInput","beforeinput",null,t,d),m.push({event:w,listeners:D}),w.data=N)),m1(m,n,f,t,d)}Rv(m,e)})}function Es(n,e,t){return{instance:n,listener:e,currentTarget:t}}function or(n,e){for(var t=e+"Capture",i=[];n!==null;){var l=n,o=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||o===null||(l=ys(n,t),l!=null&&i.unshift(Es(n,l,o)),l=ys(n,e),l!=null&&i.push(Es(n,l,o))),n.tag===3)return i;n=n.return}return[]}function Cl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function zh(n,e,t,i,l){for(var o=e._reactName,s=[];t!==null&&t!==i;){var u=t,c=u.alternate,f=u.stateNode;if(u=u.tag,c!==null&&c===i)break;u!==5&&u!==26&&u!==27||f===null||(c=f,l?(f=ys(t,o),f!=null&&s.unshift(Es(t,f,c))):l||(f=ys(t,o),f!=null&&s.push(Es(t,f,c)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var v1=/\r\n?/g,x1=/\u0000|\uFFFD/g;function Gh(n){return(typeof n=="string"?n:""+n).replace(v1,`
`).replace(x1,"")}function kv(n,e){return e=Gh(e),Gh(n)===e}function Gr(){}function ke(n,e,t,i,l,o){switch(t){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||lo(n,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&lo(n,""+i);break;case"className":la(n,"class",i);break;case"tabIndex":la(n,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":la(n,t,i);break;case"style":kg(n,i,o);break;case"data":if(e!=="object"){la(n,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||t!=="href")){n.removeAttribute(t);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(t);break}i=Sa(""+i),n.setAttribute(t,i);break;case"action":case"formAction":if(typeof i=="function"){n.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(t==="formAction"?(e!=="input"&&ke(n,e,"name",l.name,l,null),ke(n,e,"formEncType",l.formEncType,l,null),ke(n,e,"formMethod",l.formMethod,l,null),ke(n,e,"formTarget",l.formTarget,l,null)):(ke(n,e,"encType",l.encType,l,null),ke(n,e,"method",l.method,l,null),ke(n,e,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(t);break}i=Sa(""+i),n.setAttribute(t,i);break;case"onClick":i!=null&&(n.onclick=Gr);break;case"onScroll":i!=null&&fe("scroll",n);break;case"onScrollEnd":i!=null&&fe("scrollend",n);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(M(61));if(t=i.__html,t!=null){if(l.children!=null)throw Error(M(60));n.innerHTML=t}}break;case"multiple":n.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":n.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){n.removeAttribute("xlink:href");break}t=Sa(""+i),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,""+i):n.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,""):n.removeAttribute(t);break;case"capture":case"download":i===!0?n.setAttribute(t,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,i):n.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?n.setAttribute(t,i):n.removeAttribute(t);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?n.removeAttribute(t):n.setAttribute(t,i);break;case"popover":fe("beforetoggle",n),fe("toggle",n),Ta(n,"popover",i);break;case"xlinkActuate":Gn(n,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Gn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Gn(n,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Gn(n,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Gn(n,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Gn(n,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Gn(n,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Gn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Gn(n,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ta(n,"is",i);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=Jx.get(t)||t,Ta(n,t,i))}}function Dc(n,e,t,i,l,o){switch(t){case"style":kg(n,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(M(61));if(t=i.__html,t!=null){if(l.children!=null)throw Error(M(60));n.innerHTML=t}}break;case"children":typeof i=="string"?lo(n,i):(typeof i=="number"||typeof i=="bigint")&&lo(n,""+i);break;case"onScroll":i!=null&&fe("scroll",n);break;case"onScrollEnd":i!=null&&fe("scrollend",n);break;case"onClick":i!=null&&(n.onclick=Gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bg.hasOwnProperty(t))e:{if(t[0]==="o"&&t[1]==="n"&&(l=t.endsWith("Capture"),e=t.slice(2,l?t.length-7:void 0),o=n[Gt]||null,o=o!=null?o[t]:null,typeof o=="function"&&n.removeEventListener(e,o,l),typeof i=="function")){typeof o!="function"&&o!==null&&(t in n?n[t]=null:n.hasAttribute(t)&&n.removeAttribute(t)),n.addEventListener(e,i,l);break e}t in n?n[t]=i:i===!0?n.setAttribute(t,""):Ta(n,t,i)}}}function Ct(n,e,t){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",n),fe("load",n);var i=!1,l=!1,o;for(o in t)if(t.hasOwnProperty(o)){var s=t[o];if(s!=null)switch(o){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(M(137,e));default:ke(n,e,o,s,t,null)}}l&&ke(n,e,"srcSet",t.srcSet,t,null),i&&ke(n,e,"src",t.src,t,null);return;case"input":fe("invalid",n);var u=o=s=l=null,c=null,f=null;for(i in t)if(t.hasOwnProperty(i)){var d=t[i];if(d!=null)switch(i){case"name":l=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":o=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(M(137,e));break;default:ke(n,e,i,d,t,null)}}wg(n,o,u,c,f,s,l,!1),Pa(n);return;case"select":fe("invalid",n),i=s=o=null;for(l in t)if(t.hasOwnProperty(l)&&(u=t[l],u!=null))switch(l){case"value":o=u;break;case"defaultValue":s=u;break;case"multiple":i=u;default:ke(n,e,l,u,t,null)}e=o,t=s,n.multiple=!!i,e!=null?Fl(n,!!i,e,!1):t!=null&&Fl(n,!!i,t,!0);return;case"textarea":fe("invalid",n),o=l=i=null;for(s in t)if(t.hasOwnProperty(s)&&(u=t[s],u!=null))switch(s){case"value":i=u;break;case"defaultValue":l=u;break;case"children":o=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(M(91));break;default:ke(n,e,s,u,t,null)}Dg(n,i,l,o),Pa(n);return;case"option":for(c in t)if(t.hasOwnProperty(c)&&(i=t[c],i!=null))switch(c){case"selected":n.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ke(n,e,c,i,t,null)}return;case"dialog":fe("beforetoggle",n),fe("toggle",n),fe("cancel",n),fe("close",n);break;case"iframe":case"object":fe("load",n);break;case"video":case"audio":for(i=0;i<_s.length;i++)fe(_s[i],n);break;case"image":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"embed":case"source":case"link":fe("error",n),fe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in t)if(t.hasOwnProperty(f)&&(i=t[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(M(137,e));default:ke(n,e,f,i,t,null)}return;default:if(Tf(e)){for(d in t)t.hasOwnProperty(d)&&(i=t[d],i!==void 0&&Dc(n,e,d,i,t,void 0));return}}for(u in t)t.hasOwnProperty(u)&&(i=t[u],i!=null&&ke(n,e,u,i,t,null))}function T1(n,e,t,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,o=null,s=null,u=null,c=null,f=null,d=null;for(p in t){var m=t[p];if(t.hasOwnProperty(p)&&m!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":c=m;default:i.hasOwnProperty(p)||ke(n,e,p,null,i,m)}}for(var h in i){var p=i[h];if(m=t[h],i.hasOwnProperty(h)&&(p!=null||m!=null))switch(h){case"type":o=p;break;case"name":l=p;break;case"checked":f=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":u=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(M(137,e));break;default:p!==m&&ke(n,e,h,p,i,m)}}tc(n,s,u,c,f,d,o,l);return;case"select":p=s=u=h=null;for(o in t)if(c=t[o],t.hasOwnProperty(o)&&c!=null)switch(o){case"value":break;case"multiple":p=c;default:i.hasOwnProperty(o)||ke(n,e,o,null,i,c)}for(l in i)if(o=i[l],c=t[l],i.hasOwnProperty(l)&&(o!=null||c!=null))switch(l){case"value":h=o;break;case"defaultValue":u=o;break;case"multiple":s=o;default:o!==c&&ke(n,e,l,o,i,c)}e=u,t=s,i=p,h!=null?Fl(n,!!t,h,!1):!!i!=!!t&&(e!=null?Fl(n,!!t,e,!0):Fl(n,!!t,t?[]:"",!1));return;case"textarea":p=h=null;for(u in t)if(l=t[u],t.hasOwnProperty(u)&&l!=null&&!i.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:ke(n,e,u,null,i,l)}for(s in i)if(l=i[s],o=t[s],i.hasOwnProperty(s)&&(l!=null||o!=null))switch(s){case"value":h=l;break;case"defaultValue":p=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(M(91));break;default:l!==o&&ke(n,e,s,l,i,o)}Rg(n,h,p);return;case"option":for(var x in t)if(h=t[x],t.hasOwnProperty(x)&&h!=null&&!i.hasOwnProperty(x))switch(x){case"selected":n.selected=!1;break;default:ke(n,e,x,null,i,h)}for(c in i)if(h=i[c],p=t[c],i.hasOwnProperty(c)&&h!==p&&(h!=null||p!=null))switch(c){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ke(n,e,c,h,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in t)h=t[S],t.hasOwnProperty(S)&&h!=null&&!i.hasOwnProperty(S)&&ke(n,e,S,null,i,h);for(f in i)if(h=i[f],p=t[f],i.hasOwnProperty(f)&&h!==p&&(h!=null||p!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(M(137,e));break;default:ke(n,e,f,h,i,p)}return;default:if(Tf(e)){for(var _ in t)h=t[_],t.hasOwnProperty(_)&&h!==void 0&&!i.hasOwnProperty(_)&&Dc(n,e,_,void 0,i,h);for(d in i)h=i[d],p=t[d],!i.hasOwnProperty(d)||h===p||h===void 0&&p===void 0||Dc(n,e,d,h,i,p);return}}for(var y in t)h=t[y],t.hasOwnProperty(y)&&h!=null&&!i.hasOwnProperty(y)&&ke(n,e,y,null,i,h);for(m in i)h=i[m],p=t[m],!i.hasOwnProperty(m)||h===p||h==null&&p==null||ke(n,e,m,h,i,p)}var kc=null,Ic=null;function sr(n){return n.nodeType===9?n:n.ownerDocument}function qh(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iv(n,e){if(n===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&e==="foreignObject"?0:n}function Uc(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uu=null;function S1(){var n=window.event;return n&&n.type==="popstate"?n===Uu?!1:(Uu=n,!0):(Uu=null,!1)}var Uv=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,Hh=typeof Promise=="function"?Promise:void 0,_1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hh<"u"?function(n){return Hh.resolve(null).then(n).catch(E1)}:Uv;function E1(n){setTimeout(function(){throw n})}function zi(n){return n==="head"}function Yh(n,e){var t=e,i=0,l=0;do{var o=t.nextSibling;if(n.removeChild(t),o&&o.nodeType===8)if(t=o.data,t==="/$"){if(0<i&&8>i){t=i;var s=n.ownerDocument;if(t&1&&cs(s.documentElement),t&2&&cs(s.body),t&4)for(t=s.head,cs(t),s=t.firstChild;s;){var u=s.nextSibling,c=s.nodeName;s[Os]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||t.removeChild(s),s=u}}if(l===0){n.removeChild(o),ws(e);return}l--}else t==="$"||t==="$?"||t==="$!"?l++:i=t.charCodeAt(0)-48;else i=0;t=o}while(t);ws(e)}function Lc(n){var e=n.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var t=e;switch(e=e.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":Lc(t),xf(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}n.removeChild(t)}}function A1(n,e,t,i){for(;n.nodeType===1;){var l=t;if(n.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(i){if(!n[Os])switch(e){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(o=n.getAttribute("rel"),o==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(o!==l.rel||n.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||n.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||n.getAttribute("title")!==(l.title==null?null:l.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(o=n.getAttribute("src"),(o!==(l.src==null?null:l.src)||n.getAttribute("type")!==(l.type==null?null:l.type)||n.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&o&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(e==="input"&&n.type==="hidden"){var o=l.name==null?null:""+l.name;if(l.type==="hidden"&&n.getAttribute("name")===o)return n}else return n;if(n=vn(n.nextSibling),n===null)break}return null}function b1(n,e,t){if(e==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!t||(n=vn(n.nextSibling),n===null))return null;return n}function Oc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function M1(n,e){var t=n.ownerDocument;if(n.data!=="$?"||t.readyState==="complete")e();else{var i=function(){e(),t.removeEventListener("DOMContentLoaded",i)};t.addEventListener("DOMContentLoaded",i),n._reactRetry=i}}function vn(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return n}var Vc=null;function Fh(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}function Lv(n,e,t){switch(e=sr(t),n){case"html":if(n=e.documentElement,!n)throw Error(M(452));return n;case"head":if(n=e.head,!n)throw Error(M(453));return n;case"body":if(n=e.body,!n)throw Error(M(454));return n;default:throw Error(M(451))}}function cs(n){for(var e=n.attributes;e.length;)n.removeAttributeNode(e[0]);xf(n)}var hn=new Map,Zh=new Set;function ar(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var si=Ce.d;Ce.d={f:N1,r:w1,D:R1,C:D1,L:k1,m:I1,X:L1,S:U1,M:O1};function N1(){var n=si.f(),e=Br();return n||e}function w1(n){var e=Co(n);e!==null&&e.tag===5&&e.type==="form"?Ny(e):si.r(n)}var Ao=typeof document>"u"?null:document;function Ov(n,e,t){var i=Ao;if(i&&typeof e=="string"&&e){var l=un(e);l='link[rel="'+n+'"][href="'+l+'"]',typeof t=="string"&&(l+='[crossorigin="'+t+'"]'),Zh.has(l)||(Zh.add(l),n={rel:n,crossOrigin:t,href:e},i.querySelector(l)===null&&(e=i.createElement("link"),Ct(e,"link",n),mt(e),i.head.appendChild(e)))}}function R1(n){si.D(n),Ov("dns-prefetch",n,null)}function D1(n,e){si.C(n,e),Ov("preconnect",n,e)}function k1(n,e,t){si.L(n,e,t);var i=Ao;if(i&&n&&e){var l='link[rel="preload"][as="'+un(e)+'"]';e==="image"&&t&&t.imageSrcSet?(l+='[imagesrcset="'+un(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(l+='[imagesizes="'+un(t.imageSizes)+'"]')):l+='[href="'+un(n)+'"]';var o=l;switch(e){case"style":o=ho(n);break;case"script":o=bo(n)}hn.has(o)||(n=Ye({rel:"preload",href:e==="image"&&t&&t.imageSrcSet?void 0:n,as:e},t),hn.set(o,n),i.querySelector(l)!==null||e==="style"&&i.querySelector(Fs(o))||e==="script"&&i.querySelector(Zs(o))||(e=i.createElement("link"),Ct(e,"link",n),mt(e),i.head.appendChild(e)))}}function I1(n,e){si.m(n,e);var t=Ao;if(t&&n){var i=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+un(i)+'"][href="'+un(n)+'"]',o=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=bo(n)}if(!hn.has(o)&&(n=Ye({rel:"modulepreload",href:n},e),hn.set(o,n),t.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(Zs(o)))return}i=t.createElement("link"),Ct(i,"link",n),mt(i),t.head.appendChild(i)}}}function U1(n,e,t){si.S(n,e,t);var i=Ao;if(i&&n){var l=Yl(i).hoistableStyles,o=ho(n);e=e||"default";var s=l.get(o);if(!s){var u={loading:0,preload:null};if(s=i.querySelector(Fs(o)))u.loading=5;else{n=Ye({rel:"stylesheet",href:n,"data-precedence":e},t),(t=hn.get(o))&&nd(n,t);var c=s=i.createElement("link");mt(c),Ct(c,"link",n),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){u.loading|=1}),c.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Ra(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:u},l.set(o,s)}}}function L1(n,e){si.X(n,e);var t=Ao;if(t&&n){var i=Yl(t).hoistableScripts,l=bo(n),o=i.get(l);o||(o=t.querySelector(Zs(l)),o||(n=Ye({src:n,async:!0},e),(e=hn.get(l))&&id(n,e),o=t.createElement("script"),mt(o),Ct(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function O1(n,e){si.M(n,e);var t=Ao;if(t&&n){var i=Yl(t).hoistableScripts,l=bo(n),o=i.get(l);o||(o=t.querySelector(Zs(l)),o||(n=Ye({src:n,async:!0,type:"module"},e),(e=hn.get(l))&&id(n,e),o=t.createElement("script"),mt(o),Ct(o,"link",n),t.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function Kh(n,e,t,i){var l=(l=Mi.current)?ar(l):null;if(!l)throw Error(M(446));switch(n){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(e=ho(t.href),t=Yl(l).hoistableStyles,i=t.get(e),i||(i={type:"style",instance:null,count:0,state:null},t.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){n=ho(t.href);var o=Yl(l).hoistableStyles,s=o.get(n);if(s||(l=l.ownerDocument||l,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(n,s),(o=l.querySelector(Fs(n)))&&!o._p&&(s.instance=o,s.state.loading=5),hn.has(n)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},hn.set(n,t),o||V1(l,n,t,s.state))),e&&i===null)throw Error(M(528,""));return s}if(e&&i!==null)throw Error(M(529,""));return null;case"script":return e=t.async,t=t.src,typeof t=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=bo(t),t=Yl(l).hoistableScripts,i=t.get(e),i||(i={type:"script",instance:null,count:0,state:null},t.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(M(444,n))}}function ho(n){return'href="'+un(n)+'"'}function Fs(n){return'link[rel="stylesheet"]['+n+"]"}function Vv(n){return Ye({},n,{"data-precedence":n.precedence,precedence:null})}function V1(n,e,t,i){n.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=n.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Ct(e,"link",t),mt(e),n.head.appendChild(e))}function bo(n){return'[src="'+un(n)+'"]'}function Zs(n){return"script[async]"+n}function Jh(n,e,t){if(e.count++,e.instance===null)switch(e.type){case"style":var i=n.querySelector('style[data-href~="'+un(t.href)+'"]');if(i)return e.instance=i,mt(i),i;var l=Ye({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return i=(n.ownerDocument||n).createElement("style"),mt(i),Ct(i,"style",l),Ra(i,t.precedence,n),e.instance=i;case"stylesheet":l=ho(t.href);var o=n.querySelector(Fs(l));if(o)return e.state.loading|=4,e.instance=o,mt(o),o;i=Vv(t),(l=hn.get(l))&&nd(i,l),o=(n.ownerDocument||n).createElement("link"),mt(o);var s=o;return s._p=new Promise(function(u,c){s.onload=u,s.onerror=c}),Ct(o,"link",i),e.state.loading|=4,Ra(o,t.precedence,n),e.instance=o;case"script":return o=bo(t.src),(l=n.querySelector(Zs(o)))?(e.instance=l,mt(l),l):(i=t,(l=hn.get(o))&&(i=Ye({},t),id(i,l)),n=n.ownerDocument||n,l=n.createElement("script"),mt(l),Ct(l,"link",i),n.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(M(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Ra(i,t.precedence,n));return e.instance}function Ra(n,e,t){for(var i=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,o=l,s=0;s<i.length;s++){var u=i[s];if(u.dataset.precedence===e)o=u;else if(o!==l)break}o?o.parentNode.insertBefore(n,o.nextSibling):(e=t.nodeType===9?t.head:t,e.insertBefore(n,e.firstChild))}function nd(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.title==null&&(n.title=e.title)}function id(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.integrity==null&&(n.integrity=e.integrity)}var Da=null;function Xh(n,e,t){if(Da===null){var i=new Map,l=Da=new Map;l.set(t,i)}else l=Da,i=l.get(t),i||(i=new Map,l.set(t,i));if(i.has(n))return i;for(i.set(n,null),t=t.getElementsByTagName(n),l=0;l<t.length;l++){var o=t[l];if(!(o[Os]||o[At]||n==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var s=o.getAttribute(e)||"";s=n+s;var u=i.get(s);u?u.push(o):i.set(s,[o])}}return i}function Qh(n,e,t){n=n.ownerDocument||n,n.head.insertBefore(t,e==="title"?n.querySelector("head > title"):null)}function $1(n,e,t){if(t===1||e.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return n=e.disabled,typeof e.precedence=="string"&&n==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function $v(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var As=null;function B1(){}function P1(n,e,t){if(As===null)throw Error(M(475));var i=As;if(e.type==="stylesheet"&&(typeof t.media!="string"||matchMedia(t.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var l=ho(t.href),o=n.querySelector(Fs(l));if(o){n=o._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(i.count++,i=rr.bind(i),n.then(i,i)),e.state.loading|=4,e.instance=o,mt(o);return}o=n.ownerDocument||n,t=Vv(t),(l=hn.get(l))&&nd(t,l),o=o.createElement("link"),mt(o);var s=o;s._p=new Promise(function(u,c){s.onload=u,s.onerror=c}),Ct(o,"link",t),e.instance=o}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,n),(n=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=rr.bind(i),n.addEventListener("load",e),n.addEventListener("error",e))}}function z1(){if(As===null)throw Error(M(475));var n=As;return n.stylesheets&&n.count===0&&$c(n,n.stylesheets),0<n.count?function(e){var t=setTimeout(function(){if(n.stylesheets&&$c(n,n.stylesheets),n.unsuspend){var i=n.unsuspend;n.unsuspend=null,i()}},6e4);return n.unsuspend=e,function(){n.unsuspend=null,clearTimeout(t)}}:null}function rr(){if(this.count--,this.count===0){if(this.stylesheets)$c(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ur=null;function $c(n,e){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ur=new Map,e.forEach(G1,n),ur=null,rr.call(n))}function G1(n,e){if(!(e.state.loading&4)){var t=ur.get(n);if(t)var i=t.get(null);else{t=new Map,ur.set(n,t);for(var l=n.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<l.length;o++){var s=l[o];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(t.set(s.dataset.precedence,s),i=s)}i&&t.set(null,i)}l=e.instance,s=l.getAttribute("data-precedence"),o=t.get(s)||i,o===i&&t.set(null,l),t.set(s,l),this.count++,i=rr.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),o?o.parentNode.insertBefore(l,o.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(l,n.firstChild)),e.state.loading|=4}}var bs={$$typeof:Fn,Provider:null,Consumer:null,_currentValue:ji,_currentValue2:ji,_threadCount:0};function q1(n,e,t,i,l,o,s,u){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nu(0),this.hiddenUpdates=nu(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Bv(n,e,t,i,l,o,s,u,c,f,d,m){return n=new q1(n,e,t,s,u,c,f,m),e=1,o===!0&&(e|=24),o=Qt(3,null,null,e),n.current=o,o.stateNode=n,e=Df(),e.refCount++,n.pooledCache=e,e.refCount++,o.memoizedState={element:i,isDehydrated:t,cache:e},If(o),n}function Pv(n){return n?(n=$l,n):$l}function zv(n,e,t,i,l,o){l=Pv(l),i.context===null?i.context=l:i.pendingContext=l,i=Ni(e),i.payload={element:t},o=o===void 0?null:o,o!==null&&(i.callback=o),t=wi(n,i,e),t!==null&&(tn(t,n,e),ns(t,n,e))}function Wh(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function ld(n,e){Wh(n,e),(n=n.alternate)&&Wh(n,e)}function Gv(n){if(n.tag===13){var e=_o(n,67108864);e!==null&&tn(e,n,67108864),ld(n,67108864)}}var cr=!0;function H1(n,e,t,i){var l=W.T;W.T=null;var o=Ce.p;try{Ce.p=2,od(n,e,t,i)}finally{Ce.p=o,W.T=l}}function Y1(n,e,t,i){var l=W.T;W.T=null;var o=Ce.p;try{Ce.p=8,od(n,e,t,i)}finally{Ce.p=o,W.T=l}}function od(n,e,t,i){if(cr){var l=Bc(i);if(l===null)Iu(n,e,i,fr,t),jh(n,i);else if(Z1(l,n,e,t,i))i.stopPropagation();else if(jh(n,i),e&4&&-1<F1.indexOf(n)){for(;l!==null;){var o=Co(l);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var s=Xi(o.pendingLanes);if(s!==0){var u=o;for(u.pendingLanes|=2,u.entangledLanes|=2;s;){var c=1<<31-jt(s);u.entanglements[1]|=c,s&=~c}On(o),!(we&6)&&(tr=Dn()+500,Ys(0))}}break;case 13:u=_o(o,2),u!==null&&tn(u,o,2),Br(),ld(o,2)}if(o=Bc(i),o===null&&Iu(n,e,i,fr,t),o===l)break;l=o}l!==null&&i.stopPropagation()}else Iu(n,e,i,null,t)}}function Bc(n){return n=Sf(n),sd(n)}var fr=null;function sd(n){if(fr=null,n=kl(n),n!==null){var e=ks(n);if(e===null)n=null;else{var t=e.tag;if(t===13){if(n=hg(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null)}}return fr=n,null}function qv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dx()){case yg:return 2;case vg:return 8;case Ba:case kx:return 32;case xg:return 268435456;default:return 32}default:return 32}}var Pc=!1,ki=null,Ii=null,Ui=null,Ms=new Map,Ns=new Map,Ci=[],F1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jh(n,e){switch(n){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Ms.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(e.pointerId)}}function Po(n,e,t,i,l,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:o,targetContainers:[l]},e!==null&&(e=Co(e),e!==null&&Gv(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),n)}function Z1(n,e,t,i,l){switch(e){case"focusin":return ki=Po(ki,n,e,t,i,l),!0;case"dragenter":return Ii=Po(Ii,n,e,t,i,l),!0;case"mouseover":return Ui=Po(Ui,n,e,t,i,l),!0;case"pointerover":var o=l.pointerId;return Ms.set(o,Po(Ms.get(o)||null,n,e,t,i,l)),!0;case"gotpointercapture":return o=l.pointerId,Ns.set(o,Po(Ns.get(o)||null,n,e,t,i,l)),!0}return!1}function Hv(n){var e=kl(n.target);if(e!==null){var t=ks(e);if(t!==null){if(e=t.tag,e===13){if(e=hg(t),e!==null){n.blockedOn=e,Px(n.priority,function(){if(t.tag===13){var i=en();i=yf(i);var l=_o(t,i);l!==null&&tn(l,t,i),ld(t,i)}});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ka(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Bc(n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);ic=i,t.target.dispatchEvent(i),ic=null}else return e=Co(t),e!==null&&Gv(e),n.blockedOn=t,!1;e.shift()}return!0}function em(n,e,t){ka(n)&&t.delete(e)}function K1(){Pc=!1,ki!==null&&ka(ki)&&(ki=null),Ii!==null&&ka(Ii)&&(Ii=null),Ui!==null&&ka(Ui)&&(Ui=null),Ms.forEach(em),Ns.forEach(em)}function da(n,e){n.blockedOn===e&&(n.blockedOn=null,Pc||(Pc=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,K1)))}var ha=null;function tm(n){ha!==n&&(ha=n,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,function(){ha===n&&(ha=null);for(var e=0;e<n.length;e+=3){var t=n[e],i=n[e+1],l=n[e+2];if(typeof i!="function"){if(sd(i||t)===null)continue;break}var o=Co(t);o!==null&&(n.splice(e,3),e-=3,xc(o,{pending:!0,data:l,method:t.method,action:i},i,l))}}))}function ws(n){function e(c){return da(c,n)}ki!==null&&da(ki,n),Ii!==null&&da(Ii,n),Ui!==null&&da(Ui,n),Ms.forEach(e),Ns.forEach(e);for(var t=0;t<Ci.length;t++){var i=Ci[t];i.blockedOn===n&&(i.blockedOn=null)}for(;0<Ci.length&&(t=Ci[0],t.blockedOn===null);)Hv(t),t.blockedOn===null&&Ci.shift();if(t=(n.ownerDocument||n).$$reactFormReplay,t!=null)for(i=0;i<t.length;i+=3){var l=t[i],o=t[i+1],s=l[Gt]||null;if(typeof o=="function")s||tm(t);else if(s){var u=null;if(o&&o.hasAttribute("formAction")){if(l=o,s=o[Gt]||null)u=s.formAction;else if(sd(l)!==null)continue}else u=s.action;typeof u=="function"?t[i+1]=u:(t.splice(i,3),i-=3),tm(t)}}}function ad(n){this._internalRoot=n}qr.prototype.render=ad.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(M(409));var t=e.current,i=en();zv(t,i,n,e,null,null)};qr.prototype.unmount=ad.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;zv(n.current,2,null,n,null,null),Br(),e[So]=null}};function qr(n){this._internalRoot=n}qr.prototype.unstable_scheduleHydration=function(n){if(n){var e=Eg();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ci.length&&e!==0&&e<Ci[t].priority;t++);Ci.splice(t,0,n),t===0&&Hv(n)}};var nm=fg.version;if(nm!=="19.1.0")throw Error(M(527,nm,"19.1.0"));Ce.findDOMNode=function(n){var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(M(188)):(n=Object.keys(n).join(","),Error(M(268,n)));return n=Ex(e),n=n!==null?mg(n):null,n=n===null?null:n.stateNode,n};var J1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{Is=ma.inject(J1),Wt=ma}catch{}}Mr.createRoot=function(n,e){if(!dg(n))throw Error(M(299));var t=!1,i="",l=By,o=Py,s=zy,u=null;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(u=e.unstable_transitionCallbacks)),e=Bv(n,1,!1,null,null,t,i,l,o,s,u,null),n[So]=e.current,td(n),new ad(e)};Mr.hydrateRoot=function(n,e,t){if(!dg(n))throw Error(M(299));var i=!1,l="",o=By,s=Py,u=zy,c=null,f=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(c=t.unstable_transitionCallbacks),t.formState!==void 0&&(f=t.formState)),e=Bv(n,1,!0,e,t??null,i,l,o,s,u,c,f),e.context=Pv(null),t=e.current,i=en(),i=yf(i),l=Ni(i),l.callback=null,wi(t,l,i),t=i,e.current.lanes=t,Ls(e,t),On(e),n[So]=e.current,td(n),new qr(e)};Mr.version="19.1.0";function Yv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yv)}catch(n){console.error(n)}}Yv(),og.exports=Mr;var X1=og.exports;const Q1=Jp(X1),Lu=["1","2","3","4","5","6","7","8","9","10","11","12"],Fv=["","","","","","",""],Et=["","","","","","","","","","","","",""],Qn="",Mo="smartcalendar:userEvents",Hr="smartcalendar:builtinEventOverrides",dr="smartcalendar:userEventsUpdated",zc="smartcalendar:builtinEventOverridesUpdated",im=2029,Zv=A.createContext(void 0),lm="smartcalendar:theme",W1={mainBg:"bg-main",headerBg:"bg-secondary",componentBg:"bg-secondary",inputBg:"bg-tertiary",border:"border-border-primary",textPrimary:"text-text-primary",textSecondary:"text-text-secondary",accentColor:"text-accent-text",accentBg:"bg-accent-primary",activeTabBg:"bg-accent-primary",buttonBg:"bg-tertiary",buttonText:"text-white",hoverEffect:"hover:bg-tertiary/60",eventUserBg:"bg-accent-primary/20",eventBuiltinBg:"bg-tertiary/60",eventBuiltinBorder:"border-border-secondary",placeholderColor:"placeholder:text-text-tertiary",scrollbarThumb:""},j1=({children:n})=>{const[e,t]=A.useState(()=>{const l=(localStorage.getItem(lm)??"").trim();return l==="light"||l==="beige"||l==="dark"?l:"dark"});A.useEffect(()=>{localStorage.setItem(lm,e),document.documentElement.setAttribute("data-theme",e)},[e]),A.useEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[]);const i=A.useMemo(()=>({theme:e,setTheme:t,colors:W1}),[e]);return g.jsx(Zv.Provider,{value:i,children:n})},Gi=()=>{const n=A.useContext(Zv);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},Ou=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},eS=({currentDate:n,events:e,onEventClick:t,onDateClick:i,onDragStart:l,onDragEnd:o,onDrop:s})=>{const{colors:u}=Gi(),c=new Date(n),f=c.getDay();c.setDate(n.getDate()-f);const d=Array.from({length:7},(h,p)=>{const x=new Date(c);return x.setDate(c.getDate()+p),x}),m=Ou(new Date);return g.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[g.jsx("div",{className:`grid grid-cols-7 border-b ${u.border} ${u.componentBg}/80 flex-shrink-0`,children:d.map((h,p)=>{const x=Ou(h),S=x===m;return g.jsxs("div",{className:`p-3 text-center border-r ${u.border} last:border-r-0 ${S?`${u.accentBg}/20`:""}`,children:[g.jsx("div",{className:`text-xs ${u.textSecondary} font-medium mb-1`,children:Fv[p]}),g.jsx("div",{className:`text-lg font-bold ${S?u.accentColor:u.textPrimary}`,children:h.getDate()})]},x)})}),g.jsx("div",{className:"flex-grow grid grid-cols-7 min-h-0 overflow-hidden",children:d.map(h=>{const p=Ou(h),x=e.filter(_=>_.date===p),S=p===m;return g.jsx("div",{className:`border-r ${u.border} last:border-r-0 p-2 overflow-y-auto scrollbar-thin ${u.hoverEffect} transition-colors h-full ${S?`${u.accentBg}/10`:""}`,onClick:()=>i(p),onDragOver:_=>{_.preventDefault(),_.dataTransfer.dropEffect="move"},onDrop:_=>s&&s(_,p),children:g.jsx("div",{className:"space-y-2",children:x.map(_=>g.jsx("div",{"data-tour":"calendar-event",draggable:!!l,onDragStart:y=>l==null?void 0:l(y,_.id),onDragEnd:o,className:`px-2 py-1.5 rounded-md text-sm cursor-grab active:cursor-grabbing shadow-sm border transition-shadow truncate font-medium ${_.kind==="user"?"bg-accent-primary text-white border-transparent hover:opacity-90":"bg-tertiary text-text-primary border-transparent hover:opacity-90"}`,onClick:y=>{y.stopPropagation(),t(_)},title:_.title,children:g.jsx("div",{className:"font-medium truncate",children:_.title})},_.id))})},p)})})]})};var Te;(function(n){n.assertEqual=l=>{};function e(l){}n.assertIs=e;function t(l){throw new Error}n.assertNever=t,n.arrayToEnum=l=>{const o={};for(const s of l)o[s]=s;return o},n.getValidEnumValues=l=>{const o=n.objectKeys(l).filter(u=>typeof l[l[u]]!="number"),s={};for(const u of o)s[u]=l[u];return n.objectValues(s)},n.objectValues=l=>n.objectKeys(l).map(function(o){return l[o]}),n.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const o=[];for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&o.push(s);return o},n.find=(l,o)=>{for(const s of l)if(o(s))return s},n.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function i(l,o=" | "){return l.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}n.joinValues=i,n.jsonStringifyReplacer=(l,o)=>typeof o=="bigint"?o.toString():o})(Te||(Te={}));var om;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(om||(om={}));const G=Te.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vi=n=>{switch(typeof n){case"undefined":return G.undefined;case"string":return G.string;case"number":return Number.isNaN(n)?G.nan:G.number;case"boolean":return G.boolean;case"function":return G.function;case"bigint":return G.bigint;case"symbol":return G.symbol;case"object":return Array.isArray(n)?G.array:n===null?G.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?G.promise:typeof Map<"u"&&n instanceof Map?G.map:typeof Set<"u"&&n instanceof Set?G.set:typeof Date<"u"&&n instanceof Date?G.date:G.object;default:return G.unknown}},R=Te.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class li extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},i={_errors:[]},l=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(l);else if(s.code==="invalid_return_type")l(s.returnTypeError);else if(s.code==="invalid_arguments")l(s.argumentsError);else if(s.path.length===0)i._errors.push(t(s));else{let u=i,c=0;for(;c<s.path.length;){const f=s.path[c];c===s.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(t(s))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return l(this),i}static assert(e){if(!(e instanceof li))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Te.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const l of this.issues)l.path.length>0?(t[l.path[0]]=t[l.path[0]]||[],t[l.path[0]].push(e(l))):i.push(e(l));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}li.create=n=>new li(n);const Gc=(n,e)=>{let t;switch(n.code){case R.invalid_type:n.received===G.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case R.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Te.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:t=`Unrecognized key(s) in object: ${Te.joinValues(n.keys,", ")}`;break;case R.invalid_union:t="Invalid input";break;case R.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Te.joinValues(n.options)}`;break;case R.invalid_enum_value:t=`Invalid enum value. Expected ${Te.joinValues(n.options)}, received '${n.received}'`;break;case R.invalid_arguments:t="Invalid function arguments";break;case R.invalid_return_type:t="Invalid function return type";break;case R.invalid_date:t="Invalid date";break;case R.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Te.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case R.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case R.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case R.custom:t="Invalid input";break;case R.invalid_intersection_types:t="Intersection results could not be merged";break;case R.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case R.not_finite:t="Number must be finite";break;default:t=e.defaultError,Te.assertNever(n)}return{message:t}};let tS=Gc;function nS(){return tS}const iS=n=>{const{data:e,path:t,errorMaps:i,issueData:l}=n,o=[...t,...l.path||[]],s={...l,path:o};if(l.message!==void 0)return{...l,path:o,message:l.message};let u="";const c=i.filter(f=>!!f).slice().reverse();for(const f of c)u=f(s,{data:e,defaultError:u}).message;return{...l,path:o,message:u}};function B(n,e){const t=nS(),i=iS({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Gc?void 0:Gc].filter(l=>!!l)});n.common.issues.push(i)}class Ut{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const l of t){if(l.status==="aborted")return te;l.status==="dirty"&&e.dirty(),i.push(l.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const l of t){const o=await l.key,s=await l.value;i.push({key:o,value:s})}return Ut.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const l of t){const{key:o,value:s}=l;if(o.status==="aborted"||s.status==="aborted")return te;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||l.alwaysSet)&&(i[o.value]=s.value)}return{status:e.value,value:i}}}const te=Object.freeze({status:"aborted"}),Ko=n=>({status:"dirty",value:n}),mn=n=>({status:"valid",value:n}),sm=n=>n.status==="aborted",am=n=>n.status==="dirty",mo=n=>n.status==="valid",hr=n=>typeof Promise<"u"&&n instanceof Promise;var H;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(H||(H={}));class Un{constructor(e,t,i,l){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const rm=(n,e)=>{if(mo(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new li(n.common.issues);return this._error=t,this._error}}};function oe(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:l}=n;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:(s,u)=>{const{message:c}=n;return s.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??i??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:c??t??u.defaultError}},description:l}}class ge{get description(){return this._def.description}_getType(e){return vi(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:vi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ut,ctx:{common:e.parent.common,data:e.data,parsedType:vi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(hr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vi(e)},l=this._parseSync({data:e,path:i.path,parent:i});return rm(i,l)}"~validate"(e){var i,l;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vi(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:t});return mo(o)?{value:o.value}:{issues:t.common.issues}}catch(o){(l=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(o=>mo(o)?{value:o.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vi(e)},l=this._parse({data:e,path:i.path,parent:i}),o=await(hr(l)?l:Promise.resolve(l));return rm(i,o)}refine(e,t){const i=l=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(l):t;return this._refinement((l,o)=>{const s=e(l),u=()=>o.addIssue({code:R.custom,...i(l)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(e,t){return this._refinement((i,l)=>e(i)?!0:(l.addIssue(typeof t=="function"?t(i,l):t),!1))}_refinement(e){return new yo({schema:this,typeName:ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Li.create(this,this._def)}nullable(){return vo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return In.create(this)}promise(){return vr.create(this,this._def)}or(e){return pr.create([this,e],this._def)}and(e){return gr.create(this,e,this._def)}transform(e){return new yo({...oe(this._def),schema:this,typeName:ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Fc({...oe(this._def),innerType:this,defaultValue:t,typeName:ee.ZodDefault})}brand(){return new bS({typeName:ee.ZodBranded,type:this,...oe(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Zc({...oe(this._def),innerType:this,catchValue:t,typeName:ee.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return rd.create(this,e)}readonly(){return Kc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const lS=/^c[^\s-]{8,}$/i,oS=/^[0-9a-z]+$/,sS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,aS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rS=/^[a-z0-9_-]{21}$/i,uS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vu;const hS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,pS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Kv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xS=new RegExp(`^${Kv}$`);function Jv(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function TS(n){return new RegExp(`^${Jv(n)}$`)}function SS(n){let e=`${Kv}T${Jv(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function CS(n,e){return!!((e==="v4"||!e)&&hS.test(n)||(e==="v6"||!e)&&pS.test(n))}function _S(n,e){if(!uS.test(n))return!1;try{const[t]=n.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),l=JSON.parse(atob(i));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||e&&l.alg!==e)}catch{return!1}}function ES(n,e){return!!((e==="v4"||!e)&&mS.test(n)||(e==="v6"||!e)&&gS.test(n))}class bn extends ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==G.string){const o=this._getOrReturnCtx(e);return B(o,{code:R.invalid_type,expected:G.string,received:o.parsedType}),te}const i=new Ut;let l;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(l=this._getOrReturnCtx(e,l),B(l,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(l=this._getOrReturnCtx(e,l),B(l,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,u=e.data.length<o.value;(s||u)&&(l=this._getOrReturnCtx(e,l),s?B(l,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&B(l,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")fS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"email",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")Vu||(Vu=new RegExp(dS,"u")),Vu.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"emoji",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")aS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"uuid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")rS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"nanoid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")lS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"cuid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")oS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"cuid2",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")sS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"ulid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),B(l,{validation:"url",code:R.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"regex",code:R.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(l=this._getOrReturnCtx(e,l),B(l,{code:R.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(l=this._getOrReturnCtx(e,l),B(l,{code:R.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(l=this._getOrReturnCtx(e,l),B(l,{code:R.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?SS(o).test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{code:R.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?xS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{code:R.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?TS(o).test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{code:R.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?cS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"duration",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?CS(e.data,o.version)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"ip",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?_S(e.data,o.alg)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"jwt",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?ES(e.data,o.version)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"cidr",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?yS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"base64",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?vS.test(e.data)||(l=this._getOrReturnCtx(e,l),B(l,{validation:"base64url",code:R.invalid_string,message:o.message}),i.dirty()):Te.assertNever(o);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(l=>e.test(l),{validation:t,code:R.invalid_string,...H.errToObj(i)})}_addCheck(e){return new bn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...H.errToObj(e)})}url(e){return this._addCheck({kind:"url",...H.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...H.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...H.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...H.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...H.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...H.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...H.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...H.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...H.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...H.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...H.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...H.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...H.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...H.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...H.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...H.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...H.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...H.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...H.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...H.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...H.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...H.errToObj(t)})}nonempty(e){return this.min(1,H.errToObj(e))}trim(){return new bn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}bn.create=n=>new bn({checks:[],typeName:ee.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...oe(n)});function AS(n,e){const t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,l=t>i?t:i,o=Number.parseInt(n.toFixed(l).replace(".","")),s=Number.parseInt(e.toFixed(l).replace(".",""));return o%s/10**l}class cl extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==G.number){const o=this._getOrReturnCtx(e);return B(o,{code:R.invalid_type,expected:G.number,received:o.parsedType}),te}let i;const l=new Ut;for(const o of this._def.checks)o.kind==="int"?Te.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{code:R.invalid_type,expected:"integer",received:"float",message:o.message}),l.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),B(i,{code:R.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),B(i,{code:R.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="multipleOf"?AS(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),B(i,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{code:R.not_finite,message:o.message}),l.dirty()):Te.assertNever(o);return{status:l.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,H.toString(t))}gt(e,t){return this.setLimit("min",e,!1,H.toString(t))}lte(e,t){return this.setLimit("max",e,!0,H.toString(t))}lt(e,t){return this.setLimit("max",e,!1,H.toString(t))}setLimit(e,t,i,l){return new cl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:H.toString(l)}]})}_addCheck(e){return new cl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:H.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:H.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:H.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:H.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:H.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Te.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}cl.create=n=>new cl({checks:[],typeName:ee.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...oe(n)});class fl extends ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==G.bigint)return this._getInvalidInput(e);let i;const l=new Ut;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),B(i,{code:R.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),B(i,{code:R.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),B(i,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):Te.assertNever(o);return{status:l.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return B(t,{code:R.invalid_type,expected:G.bigint,received:t.parsedType}),te}gte(e,t){return this.setLimit("min",e,!0,H.toString(t))}gt(e,t){return this.setLimit("min",e,!1,H.toString(t))}lte(e,t){return this.setLimit("max",e,!0,H.toString(t))}lt(e,t){return this.setLimit("max",e,!1,H.toString(t))}setLimit(e,t,i,l){return new fl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:H.toString(l)}]})}_addCheck(e){return new fl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:H.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}fl.create=n=>new fl({checks:[],typeName:ee.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...oe(n)});class mr extends ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==G.boolean){const i=this._getOrReturnCtx(e);return B(i,{code:R.invalid_type,expected:G.boolean,received:i.parsedType}),te}return mn(e.data)}}mr.create=n=>new mr({typeName:ee.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...oe(n)});class po extends ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==G.date){const o=this._getOrReturnCtx(e);return B(o,{code:R.invalid_type,expected:G.date,received:o.parsedType}),te}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return B(o,{code:R.invalid_date}),te}const i=new Ut;let l;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(l=this._getOrReturnCtx(e,l),B(l,{code:R.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(l=this._getOrReturnCtx(e,l),B(l,{code:R.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):Te.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new po({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:H.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:H.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}po.create=n=>new po({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:ee.ZodDate,...oe(n)});class um extends ge{_parse(e){if(this._getType(e)!==G.symbol){const i=this._getOrReturnCtx(e);return B(i,{code:R.invalid_type,expected:G.symbol,received:i.parsedType}),te}return mn(e.data)}}um.create=n=>new um({typeName:ee.ZodSymbol,...oe(n)});class cm extends ge{_parse(e){if(this._getType(e)!==G.undefined){const i=this._getOrReturnCtx(e);return B(i,{code:R.invalid_type,expected:G.undefined,received:i.parsedType}),te}return mn(e.data)}}cm.create=n=>new cm({typeName:ee.ZodUndefined,...oe(n)});class fm extends ge{_parse(e){if(this._getType(e)!==G.null){const i=this._getOrReturnCtx(e);return B(i,{code:R.invalid_type,expected:G.null,received:i.parsedType}),te}return mn(e.data)}}fm.create=n=>new fm({typeName:ee.ZodNull,...oe(n)});class dm extends ge{constructor(){super(...arguments),this._any=!0}_parse(e){return mn(e.data)}}dm.create=n=>new dm({typeName:ee.ZodAny,...oe(n)});class qc extends ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return mn(e.data)}}qc.create=n=>new qc({typeName:ee.ZodUnknown,...oe(n)});class Bi extends ge{_parse(e){const t=this._getOrReturnCtx(e);return B(t,{code:R.invalid_type,expected:G.never,received:t.parsedType}),te}}Bi.create=n=>new Bi({typeName:ee.ZodNever,...oe(n)});class hm extends ge{_parse(e){if(this._getType(e)!==G.undefined){const i=this._getOrReturnCtx(e);return B(i,{code:R.invalid_type,expected:G.void,received:i.parsedType}),te}return mn(e.data)}}hm.create=n=>new hm({typeName:ee.ZodVoid,...oe(n)});class In extends ge{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),l=this._def;if(t.parsedType!==G.array)return B(t,{code:R.invalid_type,expected:G.array,received:t.parsedType}),te;if(l.exactLength!==null){const s=t.data.length>l.exactLength.value,u=t.data.length<l.exactLength.value;(s||u)&&(B(t,{code:s?R.too_big:R.too_small,minimum:u?l.exactLength.value:void 0,maximum:s?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),i.dirty())}if(l.minLength!==null&&t.data.length<l.minLength.value&&(B(t,{code:R.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),i.dirty()),l.maxLength!==null&&t.data.length>l.maxLength.value&&(B(t,{code:R.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((s,u)=>l.type._parseAsync(new Un(t,s,t.path,u)))).then(s=>Ut.mergeArray(i,s));const o=[...t.data].map((s,u)=>l.type._parseSync(new Un(t,s,t.path,u)));return Ut.mergeArray(i,o)}get element(){return this._def.type}min(e,t){return new In({...this._def,minLength:{value:e,message:H.toString(t)}})}max(e,t){return new In({...this._def,maxLength:{value:e,message:H.toString(t)}})}length(e,t){return new In({...this._def,exactLength:{value:e,message:H.toString(t)}})}nonempty(e){return this.min(1,e)}}In.create=(n,e)=>new In({type:n,minLength:null,maxLength:null,exactLength:null,typeName:ee.ZodArray,...oe(e)});function wl(n){if(n instanceof ot){const e={};for(const t in n.shape){const i=n.shape[t];e[t]=Li.create(wl(i))}return new ot({...n._def,shape:()=>e})}else return n instanceof In?new In({...n._def,type:wl(n.element)}):n instanceof Li?Li.create(wl(n.unwrap())):n instanceof vo?vo.create(wl(n.unwrap())):n instanceof dl?dl.create(n.items.map(e=>wl(e))):n}class ot extends ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Te.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==G.object){const f=this._getOrReturnCtx(e);return B(f,{code:R.invalid_type,expected:G.object,received:f.parsedType}),te}const{status:i,ctx:l}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof Bi&&this._def.unknownKeys==="strip"))for(const f in l.data)s.includes(f)||u.push(f);const c=[];for(const f of s){const d=o[f],m=l.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new Un(l,m,l.path,f)),alwaysSet:f in l.data})}if(this._def.catchall instanceof Bi){const f=this._def.unknownKeys;if(f==="passthrough")for(const d of u)c.push({key:{status:"valid",value:d},value:{status:"valid",value:l.data[d]}});else if(f==="strict")u.length>0&&(B(l,{code:R.unrecognized_keys,keys:u}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const d of u){const m=l.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new Un(l,m,l.path,d)),alwaysSet:d in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const f=[];for(const d of c){const m=await d.key,h=await d.value;f.push({key:m,value:h,alwaysSet:d.alwaysSet})}return f}).then(f=>Ut.mergeObjectSync(i,f)):Ut.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return H.errToObj,new ot({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var o,s;const l=((s=(o=this._def).errorMap)==null?void 0:s.call(o,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:H.errToObj(e).message??l}:{message:l}}}:{}})}strip(){return new ot({...this._def,unknownKeys:"strip"})}passthrough(){return new ot({...this._def,unknownKeys:"passthrough"})}extend(e){return new ot({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ot({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ee.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ot({...this._def,catchall:e})}pick(e){const t={};for(const i of Te.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new ot({...this._def,shape:()=>t})}omit(e){const t={};for(const i of Te.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new ot({...this._def,shape:()=>t})}deepPartial(){return wl(this)}partial(e){const t={};for(const i of Te.objectKeys(this.shape)){const l=this.shape[i];e&&!e[i]?t[i]=l:t[i]=l.optional()}return new ot({...this._def,shape:()=>t})}required(e){const t={};for(const i of Te.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof Li;)o=o._def.innerType;t[i]=o}return new ot({...this._def,shape:()=>t})}keyof(){return Xv(Te.objectKeys(this.shape))}}ot.create=(n,e)=>new ot({shape:()=>n,unknownKeys:"strip",catchall:Bi.create(),typeName:ee.ZodObject,...oe(e)});ot.strictCreate=(n,e)=>new ot({shape:()=>n,unknownKeys:"strict",catchall:Bi.create(),typeName:ee.ZodObject,...oe(e)});ot.lazycreate=(n,e)=>new ot({shape:n,unknownKeys:"strip",catchall:Bi.create(),typeName:ee.ZodObject,...oe(e)});class pr extends ge{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function l(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const s=o.map(u=>new li(u.ctx.common.issues));return B(t,{code:R.invalid_union,unionErrors:s}),te}if(t.common.async)return Promise.all(i.map(async o=>{const s={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:s}),ctx:s}})).then(l);{let o;const s=[];for(const c of i){const f={...t,common:{...t.common,issues:[]},parent:null},d=c._parseSync({data:t.data,path:t.path,parent:f});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:f}),f.common.issues.length&&s.push(f.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const u=s.map(c=>new li(c));return B(t,{code:R.invalid_union,unionErrors:u}),te}}get options(){return this._def.options}}pr.create=(n,e)=>new pr({options:n,typeName:ee.ZodUnion,...oe(e)});function Hc(n,e){const t=vi(n),i=vi(e);if(n===e)return{valid:!0,data:n};if(t===G.object&&i===G.object){const l=Te.objectKeys(e),o=Te.objectKeys(n).filter(u=>l.indexOf(u)!==-1),s={...n,...e};for(const u of o){const c=Hc(n[u],e[u]);if(!c.valid)return{valid:!1};s[u]=c.data}return{valid:!0,data:s}}else if(t===G.array&&i===G.array){if(n.length!==e.length)return{valid:!1};const l=[];for(let o=0;o<n.length;o++){const s=n[o],u=e[o],c=Hc(s,u);if(!c.valid)return{valid:!1};l.push(c.data)}return{valid:!0,data:l}}else return t===G.date&&i===G.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class gr extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),l=(o,s)=>{if(sm(o)||sm(s))return te;const u=Hc(o.value,s.value);return u.valid?((am(o)||am(s))&&t.dirty(),{status:t.value,value:u.data}):(B(i,{code:R.invalid_intersection_types}),te)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,s])=>l(o,s)):l(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}gr.create=(n,e,t)=>new gr({left:n,right:e,typeName:ee.ZodIntersection,...oe(t)});class dl extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.array)return B(i,{code:R.invalid_type,expected:G.array,received:i.parsedType}),te;if(i.data.length<this._def.items.length)return B(i,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),te;!this._def.rest&&i.data.length>this._def.items.length&&(B(i,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...i.data].map((s,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new Un(i,s,i.path,u)):null}).filter(s=>!!s);return i.common.async?Promise.all(o).then(s=>Ut.mergeArray(t,s)):Ut.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new dl({...this._def,rest:e})}}dl.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new dl({items:n,typeName:ee.ZodTuple,rest:null,...oe(e)})};class yr extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.object)return B(i,{code:R.invalid_type,expected:G.object,received:i.parsedType}),te;const l=[],o=this._def.keyType,s=this._def.valueType;for(const u in i.data)l.push({key:o._parse(new Un(i,u,i.path,u)),value:s._parse(new Un(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?Ut.mergeObjectAsync(t,l):Ut.mergeObjectSync(t,l)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof ge?new yr({keyType:e,valueType:t,typeName:ee.ZodRecord,...oe(i)}):new yr({keyType:bn.create(),valueType:e,typeName:ee.ZodRecord,...oe(t)})}}class mm extends ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.map)return B(i,{code:R.invalid_type,expected:G.map,received:i.parsedType}),te;const l=this._def.keyType,o=this._def.valueType,s=[...i.data.entries()].map(([u,c],f)=>({key:l._parse(new Un(i,u,i.path,[f,"key"])),value:o._parse(new Un(i,c,i.path,[f,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of s){const f=await c.key,d=await c.value;if(f.status==="aborted"||d.status==="aborted")return te;(f.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(f.value,d.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const c of s){const f=c.key,d=c.value;if(f.status==="aborted"||d.status==="aborted")return te;(f.status==="dirty"||d.status==="dirty")&&t.dirty(),u.set(f.value,d.value)}return{status:t.value,value:u}}}}mm.create=(n,e,t)=>new mm({valueType:e,keyType:n,typeName:ee.ZodMap,...oe(t)});class Rs extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==G.set)return B(i,{code:R.invalid_type,expected:G.set,received:i.parsedType}),te;const l=this._def;l.minSize!==null&&i.data.size<l.minSize.value&&(B(i,{code:R.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),t.dirty()),l.maxSize!==null&&i.data.size>l.maxSize.value&&(B(i,{code:R.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),t.dirty());const o=this._def.valueType;function s(c){const f=new Set;for(const d of c){if(d.status==="aborted")return te;d.status==="dirty"&&t.dirty(),f.add(d.value)}return{status:t.value,value:f}}const u=[...i.data.values()].map((c,f)=>o._parse(new Un(i,c,i.path,f)));return i.common.async?Promise.all(u).then(c=>s(c)):s(u)}min(e,t){return new Rs({...this._def,minSize:{value:e,message:H.toString(t)}})}max(e,t){return new Rs({...this._def,maxSize:{value:e,message:H.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Rs.create=(n,e)=>new Rs({valueType:n,minSize:null,maxSize:null,typeName:ee.ZodSet,...oe(e)});class Yc extends ge{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Yc.create=(n,e)=>new Yc({getter:n,typeName:ee.ZodLazy,...oe(e)});class pm extends ge{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return B(t,{received:t.data,code:R.invalid_literal,expected:this._def.value}),te}return{status:"valid",value:e.data}}get value(){return this._def.value}}pm.create=(n,e)=>new pm({value:n,typeName:ee.ZodLiteral,...oe(e)});function Xv(n,e){return new go({values:n,typeName:ee.ZodEnum,...oe(e)})}class go extends ge{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return B(t,{expected:Te.joinValues(i),received:t.parsedType,code:R.invalid_type}),te}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return B(t,{received:t.data,code:R.invalid_enum_value,options:i}),te}return mn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return go.create(e,{...this._def,...t})}exclude(e,t=this._def){return go.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}go.create=Xv;class gm extends ge{_parse(e){const t=Te.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==G.string&&i.parsedType!==G.number){const l=Te.objectValues(t);return B(i,{expected:Te.joinValues(l),received:i.parsedType,code:R.invalid_type}),te}if(this._cache||(this._cache=new Set(Te.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const l=Te.objectValues(t);return B(i,{received:i.data,code:R.invalid_enum_value,options:l}),te}return mn(e.data)}get enum(){return this._def.values}}gm.create=(n,e)=>new gm({values:n,typeName:ee.ZodNativeEnum,...oe(e)});class vr extends ge{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==G.promise&&t.common.async===!1)return B(t,{code:R.invalid_type,expected:G.promise,received:t.parsedType}),te;const i=t.parsedType===G.promise?t.data:Promise.resolve(t.data);return mn(i.then(l=>this._def.type.parseAsync(l,{path:t.path,errorMap:t.common.contextualErrorMap})))}}vr.create=(n,e)=>new vr({type:n,typeName:ee.ZodPromise,...oe(e)});class yo extends ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),l=this._def.effect||null,o={addIssue:s=>{B(i,s),s.fatal?t.abort():t.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),l.type==="preprocess"){const s=l.transform(i.data,o);if(i.common.async)return Promise.resolve(s).then(async u=>{if(t.value==="aborted")return te;const c=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return c.status==="aborted"?te:c.status==="dirty"||t.value==="dirty"?Ko(c.value):c});{if(t.value==="aborted")return te;const u=this._def.schema._parseSync({data:s,path:i.path,parent:i});return u.status==="aborted"?te:u.status==="dirty"||t.value==="dirty"?Ko(u.value):u}}if(l.type==="refinement"){const s=u=>{const c=l.refinement(u,o);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?te:(u.status==="dirty"&&t.dirty(),s(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?te:(u.status==="dirty"&&t.dirty(),s(u.value).then(()=>({status:t.value,value:u.value}))))}if(l.type==="transform")if(i.common.async===!1){const s=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!mo(s))return te;const u=l.transform(s.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(s=>mo(s)?Promise.resolve(l.transform(s.value,o)).then(u=>({status:t.value,value:u})):te);Te.assertNever(l)}}yo.create=(n,e,t)=>new yo({schema:n,typeName:ee.ZodEffects,effect:e,...oe(t)});yo.createWithPreprocess=(n,e,t)=>new yo({schema:e,effect:{type:"preprocess",transform:n},typeName:ee.ZodEffects,...oe(t)});class Li extends ge{_parse(e){return this._getType(e)===G.undefined?mn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Li.create=(n,e)=>new Li({innerType:n,typeName:ee.ZodOptional,...oe(e)});class vo extends ge{_parse(e){return this._getType(e)===G.null?mn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vo.create=(n,e)=>new vo({innerType:n,typeName:ee.ZodNullable,...oe(e)});class Fc extends ge{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===G.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Fc.create=(n,e)=>new Fc({innerType:n,typeName:ee.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...oe(e)});class Zc extends ge{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},l=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return hr(l)?l.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new li(i.common.issues)},input:i.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new li(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Zc.create=(n,e)=>new Zc({innerType:n,typeName:ee.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...oe(e)});class ym extends ge{_parse(e){if(this._getType(e)!==G.nan){const i=this._getOrReturnCtx(e);return B(i,{code:R.invalid_type,expected:G.nan,received:i.parsedType}),te}return{status:"valid",value:e.data}}}ym.create=n=>new ym({typeName:ee.ZodNaN,...oe(n)});class bS extends ge{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class rd extends ge{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?te:o.status==="dirty"?(t.dirty(),Ko(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const l=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?te:l.status==="dirty"?(t.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:i.path,parent:i})}}static create(e,t){return new rd({in:e,out:t,typeName:ee.ZodPipeline})}}class Kc extends ge{_parse(e){const t=this._def.innerType._parse(e),i=l=>(mo(l)&&(l.value=Object.freeze(l.value)),l);return hr(t)?t.then(l=>i(l)):i(t)}unwrap(){return this._def.innerType}}Kc.create=(n,e)=>new Kc({innerType:n,typeName:ee.ZodReadonly,...oe(e)});var ee;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(ee||(ee={}));const Ki=bn.create,vm=cl.create;fl.create;const MS=mr.create;po.create;const xm=qc.create;Bi.create;const Jo=In.create,NS=ot.create,wS=pr.create;gr.create;dl.create;const RS=yr.create,DS=Yc.create,kS=go.create;vr.create;Li.create;vo.create;const _l={string:n=>bn.create({...n,coerce:!0}),number:n=>cl.create({...n,coerce:!0}),boolean:n=>mr.create({...n,coerce:!0}),bigint:n=>fl.create({...n,coerce:!0}),date:n=>po.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let IS,US;function LS(){return{geminiUrl:IS,vertexUrl:US}}function OS(n,e,t){var i,l,o;if(!(!((i=n.httpOptions)===null||i===void 0)&&i.baseUrl)){const s=LS();return n.vertexai?(l=s.vertexUrl)!==null&&l!==void 0?l:e:(o=s.geminiUrl)!==null&&o!==void 0?o:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class No{}function Q(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(i,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const o=e[l];return o!=null?String(o):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function r(n,e,t){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(t))for(let f=0;f<c.length;f++){const d=c[f];r(d,e.slice(o+1),t[f])}else for(const f of c)r(f,e.slice(o+1),t)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];r(c[0],e.slice(o+1),t);return}(!n[s]||typeof n[s]!="object")&&(n[s]={}),n=n[s]}const i=e[e.length-1],l=n[i];if(l!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===l)return;if(typeof l=="object"&&typeof t=="object"&&l!==null&&t!==null)Object.assign(l,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else n[i]=t}function a(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const i=e[t];if(i.endsWith("[]")){const l=i.slice(0,-2);if(l in n){const o=n[l];return Array.isArray(o)?o.map(s=>a(s,e.slice(t+1))):void 0}else return}else n=n[i]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Tm||(Tm={}));var Sm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Sm||(Sm={}));var Mn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Mn||(Mn={}));var Cm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Cm||(Cm={}));var _m;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(_m||(_m={}));var Em;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Em||(Em={}));var Am;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Am||(Am={}));var bm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(bm||(bm={}));var Mm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Mm||(Mm={}));var Nm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Nm||(Nm={}));var wm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wm||(wm={}));var Rm;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Rm||(Rm={}));var Dm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Dm||(Dm={}));var xr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(xr||(xr={}));var km;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(km||(km={}));var Jc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Jc||(Jc={}));var Im;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Im||(Im={}));var Um;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Um||(Um={}));var Lm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Lm||(Lm={}));var Om;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Om||(Om={}));var Vm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Vm||(Vm={}));var $m;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})($m||($m={}));var Bm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Bm||(Bm={}));var Pm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Pm||(Pm={}));var zm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(zm||(zm={}));var Gm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Gm||(Gm={}));var qm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(qm||(qm={}));var Hm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Hm||(Hm={}));var Ym;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ym||(Ym={}));var Fm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Fm||(Fm={}));var Zm;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Zm||(Zm={}));var Km;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Km||(Km={}));var Jm;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Jm||(Jm={}));var Xm;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Xm||(Xm={}));var Qm;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Qm||(Qm={}));var Wm;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Wm||(Wm={}));var jm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(jm||(jm={}));var ep;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ep||(ep={}));var Gl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Gl||(Gl={}));class zo{get text(){var e,t,i,l,o,s,u,c;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const m=[];for(const h of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,x]of Object.entries(h))p!=="text"&&p!=="thought"&&(x!==null||x!==void 0)&&m.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,f+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,t,i,l,o,s,u,c;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const m of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,p]of Object.entries(m))h!=="inlineData"&&(p!==null||p!==void 0)&&d.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,t,i,l,o,s,u,c;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,i,l,o,s,u,c,f;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,i,l,o,s,u,c,f;if(((l=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class tp{}class np{}class VS{}class $S{}class ip{}class lp{}class op{}class BS{}class sp{}class ap{}class rp{}class PS{}class Xc{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class zS{}class GS{}class qS{get text(){var e,t,i;let l="",o=!1;const s=[];for(const u of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,l+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?l:void 0}get data(){var e,t,i;let l="";const o=[];for(const s of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(l+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class HS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ze(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Qv(n,e){const t=ze(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function Wv(n,e){return Array.isArray(e)?e.map(t=>Tr(n,t)):[Tr(n,e)]}function Tr(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function YS(n,e){const t=Tr(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function FS(n,e){const t=Tr(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function up(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function jv(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>up(n,t)):[up(n,e)]}function Qc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function cp(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function fp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function It(n,e){if(e==null)throw new Error("ContentUnion is required");return Qc(e)?e:{role:"user",parts:jv(n,e)}}function e0(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=It(n,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const t=It(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>It(n,t)):[It(n,e)]}function xn(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(cp(e)||fp(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[It(n,e)]}const t=[],i=[],l=Qc(e[0]);for(const o of e){const s=Qc(o);if(s!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(o);else{if(cp(o)||fp(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return l||t.push({role:"user",parts:jv(n,i)}),t}const ZS=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),dp=kS(["string","number","integer","object","array","boolean","null"]),KS=wS([dp,Jo(dp)]);function JS(n=!0){const e=DS(()=>{const t=NS({type:KS.optional(),format:Ki().optional(),title:Ki().optional(),description:Ki().optional(),default:xm().optional(),items:e.optional(),minItems:_l.string().optional(),maxItems:_l.string().optional(),enum:Jo(xm()).optional(),properties:RS(Ki(),e).optional(),required:Jo(Ki()).optional(),minProperties:_l.string().optional(),maxProperties:_l.string().optional(),propertyOrdering:Jo(Ki()).optional(),minimum:vm().optional(),maximum:vm().optional(),minLength:_l.string().optional(),maxLength:_l.string().optional(),pattern:Ki().optional(),anyOf:Jo(e).optional(),additionalProperties:MS().optional()});return n?t.strict():t});return e}function XS(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Mn).includes(t[0].toUpperCase())?t[0].toUpperCase():Mn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.values(Mn).includes(i.toUpperCase())?i.toUpperCase():Mn.TYPE_UNSPECIFIED})}}function jl(n){const e={},t=["items"],i=["anyOf"],l=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=n.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,n=o[1]):o[1].type==="null"&&(e.nullable=!0,n=o[0])),n.type instanceof Array&&XS(n.type,e);for(const[s,u]of Object.entries(n))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Mn).includes(u.toUpperCase())?u.toUpperCase():Mn.TYPE_UNSPECIFIED}else if(t.includes(s))e[s]=jl(u);else if(i.includes(s)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(jl(f))}e[s]=c}else if(l.includes(s)){const c={};for(const[f,d]of Object.entries(u))c[f]=jl(d);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function Sr(n,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=JS().parse(e);return jl(t)}else return jl(e)}function t0(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function ud(n,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Ks(n,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=Sr(n,t.parameters)),t.response&&(t.response=Sr(n,t.response));return e}function Js(n,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function QS(n,e,t,i=1){const l=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:l?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:l?`${t}/${e}`:e}function qi(n,e){if(typeof e!="string")throw new Error("name must be a string");return QS(n,e,"cachedContents")}function n0(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ai(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function WS(n){return n!=null&&typeof n=="object"&&"name"in n}function jS(n){return n!=null&&typeof n=="object"&&"video"in n}function eC(n){return n!=null&&typeof n=="object"&&"uri"in n}function i0(n,e){var t;let i;if(WS(e)&&(i=e.name),!(eC(e)&&(i=e.uri,i===void 0))&&!(jS(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const o=i.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${i}`);i=o[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function l0(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function o0(n,e){for(const t of["models","tunedModels","publisherModels"])if(tC(e,t))return e[t];return[]}function tC(n,e){return n!==null&&typeof n=="object"&&e in n}function nC(n,e={}){const t=n,i={name:t.name,description:t.description,parameters:jl(Yr(t.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function iC(n,e={}){const t=[],i=new Set;for(const l of n){const o=l.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const s=nC(l,e);s.functionDeclarations&&t.push(...s.functionDeclarations)}return{functionDeclarations:t}}function lC(n){const e=[];for(const t of n)e.push(Yr(t));return e}function oC(n){const e={};for(const[t,i]of Object.entries(n)){const l=i;e[t]=Yr(l)}return e}function Yr(n){const e=new Set(["items"]),t=new Set(["anyOf"]),i=new Set(["properties"]),l={};for(const[o,s]of Object.entries(n))if(e.has(o))l[o]=Yr(s);else if(t.has(o))l[o]=lC(s);else if(i.has(o))l[o]=oC(s);else if(o==="type"){const u=s.toUpperCase();l[o]=Object.values(Mn).includes(u)?u:Mn.TYPE_UNSPECIFIED}else ZS.has(o)&&(l[o]=s);return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sC(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function aC(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function rC(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function uC(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],sC(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],aC(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],rC(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function hp(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>uC(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function cC(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function fC(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function dC(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],fC(n,i)),t}function hC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function mC(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],hC(n,i)),t}function pC(){return{}}function gC(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>cC(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],dC(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],mC(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],pC());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function yC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function vC(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function xC(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],vC(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function TC(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],yC(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],xC(n,l)),t}function SC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);t!==void 0&&o!=null&&r(t,["expireTime"],o);const s=a(e,["displayName"]);t!==void 0&&s!=null&&r(t,["displayName"],s);const u=a(e,["contents"]);if(t!==void 0&&u!=null){let m=xn(n,u);Array.isArray(m)&&(m=m.map(h=>hp(n,h))),r(t,["contents"],m)}const c=a(e,["systemInstruction"]);t!==void 0&&c!=null&&r(t,["systemInstruction"],hp(n,It(n,c)));const f=a(e,["tools"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(h=>gC(n,h))),r(t,["tools"],m)}const d=a(e,["toolConfig"]);if(t!==void 0&&d!=null&&r(t,["toolConfig"],TC(n,d)),a(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function CC(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["model"],Qv(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],SC(n,l,t)),t}function _C(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],qi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function EC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],qi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function AC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);return t!==void 0&&o!=null&&r(t,["expireTime"],o),i}function bC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],qi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],AC(n,l,t)),t}function MC(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),i}function NC(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],MC(n,i,t)),t}function wC(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function RC(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function DC(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function kC(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],wC(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],RC(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],DC(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function mp(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>kC(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function IC(n,e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(e,["description"]);i!=null&&r(t,["description"],i);const l=a(e,["name"]);l!=null&&r(t,["name"],l);const o=a(e,["parameters"]);o!=null&&r(t,["parameters"],o);const s=a(e,["response"]);return s!=null&&r(t,["response"],s),t}function UC(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function LC(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],UC(n,i)),t}function OC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function VC(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],OC(n,i)),t}function $C(){return{}}function BC(n,e){const t={},i=a(e,["apiKeyString"]);return i!=null&&r(t,["apiKeyString"],i),t}function PC(n,e){const t={},i=a(e,["apiKeyConfig"]);i!=null&&r(t,["apiKeyConfig"],BC(n,i));const l=a(e,["authType"]);l!=null&&r(t,["authType"],l);const o=a(e,["googleServiceAccountConfig"]);o!=null&&r(t,["googleServiceAccountConfig"],o);const s=a(e,["httpBasicAuthConfig"]);s!=null&&r(t,["httpBasicAuthConfig"],s);const u=a(e,["oauthConfig"]);u!=null&&r(t,["oauthConfig"],u);const c=a(e,["oidcConfig"]);return c!=null&&r(t,["oidcConfig"],c),t}function zC(n,e){const t={},i=a(e,["authConfig"]);return i!=null&&r(t,["authConfig"],PC(n,i)),t}function GC(){return{}}function qC(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(h=>IC(n,h))),r(t,["functionDeclarations"],m)}const l=a(e,["retrieval"]);l!=null&&r(t,["retrieval"],l);const o=a(e,["googleSearch"]);o!=null&&r(t,["googleSearch"],LC(n,o));const s=a(e,["googleSearchRetrieval"]);s!=null&&r(t,["googleSearchRetrieval"],VC(n,s)),a(e,["enterpriseWebSearch"])!=null&&r(t,["enterpriseWebSearch"],$C());const c=a(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],zC(n,c)),a(e,["urlContext"])!=null&&r(t,["urlContext"],GC());const d=a(e,["codeExecution"]);return d!=null&&r(t,["codeExecution"],d),t}function HC(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function YC(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function FC(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],YC(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function ZC(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],HC(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],FC(n,l)),t}function KC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);t!==void 0&&o!=null&&r(t,["expireTime"],o);const s=a(e,["displayName"]);t!==void 0&&s!=null&&r(t,["displayName"],s);const u=a(e,["contents"]);if(t!==void 0&&u!=null){let h=xn(n,u);Array.isArray(h)&&(h=h.map(p=>mp(n,p))),r(t,["contents"],h)}const c=a(e,["systemInstruction"]);t!==void 0&&c!=null&&r(t,["systemInstruction"],mp(n,It(n,c)));const f=a(e,["tools"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>qC(n,p))),r(t,["tools"],h)}const d=a(e,["toolConfig"]);t!==void 0&&d!=null&&r(t,["toolConfig"],ZC(n,d));const m=a(e,["kmsKeyName"]);return t!==void 0&&m!=null&&r(t,["encryption_spec","kmsKeyName"],m),i}function JC(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["model"],Qv(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],KC(n,l,t)),t}function XC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],qi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function QC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],qi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function WC(n,e,t){const i={},l=a(e,["ttl"]);t!==void 0&&l!=null&&r(t,["ttl"],l);const o=a(e,["expireTime"]);return t!==void 0&&o!=null&&r(t,["expireTime"],o),i}function jC(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],qi(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],WC(n,l,t)),t}function e_(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),i}function t_(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],e_(n,i,t)),t}function Ia(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["model"]);o!=null&&r(t,["model"],o);const s=a(e,["createTime"]);s!=null&&r(t,["createTime"],s);const u=a(e,["updateTime"]);u!=null&&r(t,["updateTime"],u);const c=a(e,["expireTime"]);c!=null&&r(t,["expireTime"],c);const f=a(e,["usageMetadata"]);return f!=null&&r(t,["usageMetadata"],f),t}function n_(){return{}}function i_(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Ia(n,s))),r(t,["cachedContents"],o)}return t}function Ua(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["model"]);o!=null&&r(t,["model"],o);const s=a(e,["createTime"]);s!=null&&r(t,["createTime"],s);const u=a(e,["updateTime"]);u!=null&&r(t,["updateTime"],u);const c=a(e,["expireTime"]);c!=null&&r(t,["expireTime"],c);const f=a(e,["usageMetadata"]);return f!=null&&r(t,["usageMetadata"],f),t}function l_(){return{}}function o_(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["cachedContents"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Ua(n,s))),r(t,["cachedContents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xo;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(xo||(xo={}));class Fr{constructor(e,t,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,l)}init(e,t,i){var l,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};i?typeof i=="object"?s=Object.assign({},i):s=i:s={config:{}},s.config&&(s.config.pageToken=t.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(l=s.config)===null||l===void 0?void 0:l.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s_ extends No{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Fr(xo.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=JC(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Ua(this.apiClient,d))}else{const f=CC(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Ia(this.apiClient,d))}}async get(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=XC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Ua(this.apiClient,d))}else{const f=_C(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Ia(this.apiClient,d))}}async delete(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=QC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(()=>{const d=l_(),m=new ap;return Object.assign(m,d),m})}else{const f=EC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(()=>{const d=n_(),m=new ap;return Object.assign(m,d),m})}}async update(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=jC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Ua(this.apiClient,d))}else{const f=bC(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Ia(this.apiClient,d))}}async listInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=t_(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const m=o_(this.apiClient,d),h=new rp;return Object.assign(h,m),h})}else{const f=NC(this.apiClient,e);return u=Q("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const m=i_(this.apiClient,d),h=new rp;return Object.assign(h,m),h})}}}function pp(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(n){return this instanceof He?(this.v=n,this):new He(n)}function eo(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),l[Symbol.asyncIterator]=function(){return this},l;function s(p){return function(x){return Promise.resolve(x).then(p,m)}}function u(p,x){i[p]&&(l[p]=function(S){return new Promise(function(_,y){o.push([p,S,_,y])>1||c(p,S)})},x&&(l[p]=x(l[p])))}function c(p,x){try{f(i[p](x))}catch(S){h(o[0][3],S)}}function f(p){p.value instanceof He?Promise.resolve(p.value.v).then(d,m):h(o[0][2],p)}function d(p){c("next",p)}function m(p){c("throw",p)}function h(p,x){p(x),o.shift(),o.length&&c(o[0][0],o[0][1])}}function fs(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof pp=="function"?pp(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(u,c){s=n[o](s),l(u,c,s.done,s.value)})}}function l(o,s,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a_(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:s0(t)}function s0(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function r_(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function gp(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{const l=[];let o=!0;for(;i<t&&n[i].role==="model";)l.push(n[i]),o&&!s0(n[i])&&(o=!1),i++;o?e.push(...l):e.pop()}return e}class u_{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new c_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class c_{constructor(e,t,i,l={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=l,this.history=o,this.sendPromise=Promise.resolve(),r_(o)}async sendMessage(e){var t;await this.sendPromise;const i=It(this.apiClient,e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var o,s,u;const c=await l,f=(s=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,d=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let h=[];d!=null&&(h=(u=d.slice(m))!==null&&u!==void 0?u:[]);const p=f?[f]:[];this.recordHistory(i,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var t;await this.sendPromise;const i=It(this.apiClient,e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const o=await l;return this.processStreamResponse(o,i)}getHistory(e=!1){const t=e?gp(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,l;return eo(this,arguments,function*(){var s,u,c,f;const d=[];try{for(var m=!0,h=fs(e),p;p=yield He(h.next()),s=p.done,!s;m=!0){f=p.value,m=!1;const x=f;if(a_(x)){const S=(l=(i=x.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content;S!==void 0&&d.push(S)}yield yield He(x)}}catch(x){u={error:x}}finally{try{!m&&!s&&(c=h.return)&&(yield He(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(t,d)})}recordHistory(e,t,i){let l=[];t.length>0&&t.every(o=>o.role!==void 0)?l=t:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...gp(i)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f_(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),i}function d_(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],f_(n,i,t)),t}function h_(n,e){const t={},i=a(e,["details"]);i!=null&&r(t,["details"],i);const l=a(e,["message"]);l!=null&&r(t,["message"],l);const o=a(e,["code"]);return o!=null&&r(t,["code"],o),t}function m_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["mimeType"]);o!=null&&r(t,["mimeType"],o);const s=a(e,["sizeBytes"]);s!=null&&r(t,["sizeBytes"],s);const u=a(e,["createTime"]);u!=null&&r(t,["createTime"],u);const c=a(e,["expirationTime"]);c!=null&&r(t,["expirationTime"],c);const f=a(e,["updateTime"]);f!=null&&r(t,["updateTime"],f);const d=a(e,["sha256Hash"]);d!=null&&r(t,["sha256Hash"],d);const m=a(e,["uri"]);m!=null&&r(t,["uri"],m);const h=a(e,["downloadUri"]);h!=null&&r(t,["downloadUri"],h);const p=a(e,["state"]);p!=null&&r(t,["state"],p);const x=a(e,["source"]);x!=null&&r(t,["source"],x);const S=a(e,["videoMetadata"]);S!=null&&r(t,["videoMetadata"],S);const _=a(e,["error"]);return _!=null&&r(t,["error"],h_(n,_)),t}function p_(n,e){const t={},i=a(e,["file"]);i!=null&&r(t,["file"],m_(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function g_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","file"],i0(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function y_(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","file"],i0(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function v_(n,e){const t={},i=a(e,["details"]);i!=null&&r(t,["details"],i);const l=a(e,["message"]);l!=null&&r(t,["message"],l);const o=a(e,["code"]);return o!=null&&r(t,["code"],o),t}function Wc(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["mimeType"]);o!=null&&r(t,["mimeType"],o);const s=a(e,["sizeBytes"]);s!=null&&r(t,["sizeBytes"],s);const u=a(e,["createTime"]);u!=null&&r(t,["createTime"],u);const c=a(e,["expirationTime"]);c!=null&&r(t,["expirationTime"],c);const f=a(e,["updateTime"]);f!=null&&r(t,["updateTime"],f);const d=a(e,["sha256Hash"]);d!=null&&r(t,["sha256Hash"],d);const m=a(e,["uri"]);m!=null&&r(t,["uri"],m);const h=a(e,["downloadUri"]);h!=null&&r(t,["downloadUri"],h);const p=a(e,["state"]);p!=null&&r(t,["state"],p);const x=a(e,["source"]);x!=null&&r(t,["source"],x);const S=a(e,["videoMetadata"]);S!=null&&r(t,["videoMetadata"],S);const _=a(e,["error"]);return _!=null&&r(t,["error"],v_(n,_)),t}function x_(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["files"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Wc(n,s))),r(t,["files"],o)}return t}function T_(){return{}}function S_(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C_ extends No{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Fr(xo.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Wc(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=d_(this.apiClient,e);return o=Q("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=x_(this.apiClient,c),d=new PS;return Object.assign(d,f),d})}}async createInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=p_(this.apiClient,e);return o=Q("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=T_(),f=new zS;return Object.assign(f,c),f})}}async get(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=g_(this.apiClient,e);return o=Q("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>Wc(this.apiClient,c))}}async delete(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=y_(this.apiClient,e);return o=Q("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=S_(),f=new GS;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function __(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function E_(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function a0(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],__(n,i)),t}function A_(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],E_(n,i)),t}function b_(n,e){const t={},i=a(e,["speaker"]);i!=null&&r(t,["speaker"],i);const l=a(e,["voiceConfig"]);return l!=null&&r(t,["voiceConfig"],a0(n,l)),t}function M_(n,e){const t={},i=a(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>b_(n,o))),r(t,["speakerVoiceConfigs"],l)}return t}function N_(n,e){const t={},i=a(e,["voiceConfig"]);i!=null&&r(t,["voiceConfig"],a0(n,i));const l=a(e,["multiSpeakerVoiceConfig"]);l!=null&&r(t,["multiSpeakerVoiceConfig"],M_(n,l));const o=a(e,["languageCode"]);return o!=null&&r(t,["languageCode"],o),t}function w_(n,e){const t={},i=a(e,["voiceConfig"]);if(i!=null&&r(t,["voiceConfig"],A_(n,i)),a(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function R_(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function D_(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function k_(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function I_(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function U_(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function L_(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function O_(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],R_(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],k_(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],U_(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function V_(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],D_(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],I_(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],L_(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function $_(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>O_(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function B_(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>V_(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function P_(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function z_(n,e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(e,["description"]);i!=null&&r(t,["description"],i);const l=a(e,["name"]);l!=null&&r(t,["name"],l);const o=a(e,["parameters"]);o!=null&&r(t,["parameters"],o);const s=a(e,["response"]);return s!=null&&r(t,["response"],s),t}function G_(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function q_(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function H_(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],G_(n,i)),t}function Y_(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],q_(n,i)),t}function F_(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function Z_(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function K_(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],F_(n,i)),t}function J_(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],Z_(n,i)),t}function X_(){return{}}function Q_(n,e){const t={},i=a(e,["apiKeyString"]);return i!=null&&r(t,["apiKeyString"],i),t}function W_(n,e){const t={},i=a(e,["apiKeyConfig"]);i!=null&&r(t,["apiKeyConfig"],Q_(n,i));const l=a(e,["authType"]);l!=null&&r(t,["authType"],l);const o=a(e,["googleServiceAccountConfig"]);o!=null&&r(t,["googleServiceAccountConfig"],o);const s=a(e,["httpBasicAuthConfig"]);s!=null&&r(t,["httpBasicAuthConfig"],s);const u=a(e,["oauthConfig"]);u!=null&&r(t,["oauthConfig"],u);const c=a(e,["oidcConfig"]);return c!=null&&r(t,["oidcConfig"],c),t}function j_(n,e){const t={},i=a(e,["authConfig"]);return i!=null&&r(t,["authConfig"],W_(n,i)),t}function eE(){return{}}function tE(){return{}}function nE(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>P_(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],H_(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],K_(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],eE());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function iE(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(h=>z_(n,h))),r(t,["functionDeclarations"],m)}const l=a(e,["retrieval"]);l!=null&&r(t,["retrieval"],l);const o=a(e,["googleSearch"]);o!=null&&r(t,["googleSearch"],Y_(n,o));const s=a(e,["googleSearchRetrieval"]);s!=null&&r(t,["googleSearchRetrieval"],J_(n,s)),a(e,["enterpriseWebSearch"])!=null&&r(t,["enterpriseWebSearch"],X_());const c=a(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],j_(n,c)),a(e,["urlContext"])!=null&&r(t,["urlContext"],tE());const d=a(e,["codeExecution"]);return d!=null&&r(t,["codeExecution"],d),t}function lE(n,e){const t={},i=a(e,["handle"]);if(i!=null&&r(t,["handle"],i),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function oE(n,e){const t={},i=a(e,["handle"]);i!=null&&r(t,["handle"],i);const l=a(e,["transparent"]);return l!=null&&r(t,["transparent"],l),t}function yp(){return{}}function vp(){return{}}function sE(n,e){const t={},i=a(e,["disabled"]);i!=null&&r(t,["disabled"],i);const l=a(e,["startOfSpeechSensitivity"]);l!=null&&r(t,["startOfSpeechSensitivity"],l);const o=a(e,["endOfSpeechSensitivity"]);o!=null&&r(t,["endOfSpeechSensitivity"],o);const s=a(e,["prefixPaddingMs"]);s!=null&&r(t,["prefixPaddingMs"],s);const u=a(e,["silenceDurationMs"]);return u!=null&&r(t,["silenceDurationMs"],u),t}function aE(n,e){const t={},i=a(e,["disabled"]);i!=null&&r(t,["disabled"],i);const l=a(e,["startOfSpeechSensitivity"]);l!=null&&r(t,["startOfSpeechSensitivity"],l);const o=a(e,["endOfSpeechSensitivity"]);o!=null&&r(t,["endOfSpeechSensitivity"],o);const s=a(e,["prefixPaddingMs"]);s!=null&&r(t,["prefixPaddingMs"],s);const u=a(e,["silenceDurationMs"]);return u!=null&&r(t,["silenceDurationMs"],u),t}function rE(n,e){const t={},i=a(e,["automaticActivityDetection"]);i!=null&&r(t,["automaticActivityDetection"],sE(n,i));const l=a(e,["activityHandling"]);l!=null&&r(t,["activityHandling"],l);const o=a(e,["turnCoverage"]);return o!=null&&r(t,["turnCoverage"],o),t}function uE(n,e){const t={},i=a(e,["automaticActivityDetection"]);i!=null&&r(t,["automaticActivityDetection"],aE(n,i));const l=a(e,["activityHandling"]);l!=null&&r(t,["activityHandling"],l);const o=a(e,["turnCoverage"]);return o!=null&&r(t,["turnCoverage"],o),t}function cE(n,e){const t={},i=a(e,["targetTokens"]);return i!=null&&r(t,["targetTokens"],i),t}function fE(n,e){const t={},i=a(e,["targetTokens"]);return i!=null&&r(t,["targetTokens"],i),t}function dE(n,e){const t={},i=a(e,["triggerTokens"]);i!=null&&r(t,["triggerTokens"],i);const l=a(e,["slidingWindow"]);return l!=null&&r(t,["slidingWindow"],cE(n,l)),t}function hE(n,e){const t={},i=a(e,["triggerTokens"]);i!=null&&r(t,["triggerTokens"],i);const l=a(e,["slidingWindow"]);return l!=null&&r(t,["slidingWindow"],fE(n,l)),t}function mE(n,e){const t={},i=a(e,["proactiveAudio"]);return i!=null&&r(t,["proactiveAudio"],i),t}function pE(n,e){const t={},i=a(e,["proactiveAudio"]);return i!=null&&r(t,["proactiveAudio"],i),t}function gE(n,e,t){const i={},l=a(e,["generationConfig"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig"],l);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const s=a(e,["temperature"]);t!==void 0&&s!=null&&r(t,["setup","generationConfig","temperature"],s);const u=a(e,["topP"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topP"],u);const c=a(e,["topK"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","maxOutputTokens"],f);const d=a(e,["mediaResolution"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","mediaResolution"],d);const m=a(e,["seed"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","seed"],m);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","speechConfig"],N_(n,ud(n,h)));const p=a(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],p);const x=a(e,["systemInstruction"]);t!==void 0&&x!=null&&r(t,["setup","systemInstruction"],$_(n,It(n,x)));const S=a(e,["tools"]);if(t!==void 0&&S!=null){let w=Js(n,S);Array.isArray(w)&&(w=w.map(N=>nE(n,Ks(n,N)))),r(t,["setup","tools"],w)}const _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],lE(n,_));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],yp());const v=a(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&r(t,["setup","outputAudioTranscription"],yp());const T=a(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&r(t,["setup","realtimeInputConfig"],rE(n,T));const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&r(t,["setup","contextWindowCompression"],dE(n,C));const b=a(e,["proactivity"]);return t!==void 0&&b!=null&&r(t,["setup","proactivity"],mE(n,b)),i}function yE(n,e,t){const i={},l=a(e,["generationConfig"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig"],l);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const s=a(e,["temperature"]);t!==void 0&&s!=null&&r(t,["setup","generationConfig","temperature"],s);const u=a(e,["topP"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topP"],u);const c=a(e,["topK"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","maxOutputTokens"],f);const d=a(e,["mediaResolution"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","mediaResolution"],d);const m=a(e,["seed"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","seed"],m);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","speechConfig"],w_(n,ud(n,h)));const p=a(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],p);const x=a(e,["systemInstruction"]);t!==void 0&&x!=null&&r(t,["setup","systemInstruction"],B_(n,It(n,x)));const S=a(e,["tools"]);if(t!==void 0&&S!=null){let w=Js(n,S);Array.isArray(w)&&(w=w.map(N=>iE(n,Ks(n,N)))),r(t,["setup","tools"],w)}const _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],oE(n,_));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],vp());const v=a(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&r(t,["setup","outputAudioTranscription"],vp());const T=a(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&r(t,["setup","realtimeInputConfig"],uE(n,T));const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&r(t,["setup","contextWindowCompression"],hE(n,C));const b=a(e,["proactivity"]);return t!==void 0&&b!=null&&r(t,["setup","proactivity"],pE(n,b)),i}function vE(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["setup","model"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],gE(n,l,t)),t}function xE(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["setup","model"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],yE(n,l,t)),t}function TE(){return{}}function SE(){return{}}function CE(){return{}}function _E(){return{}}function EE(n,e){const t={},i=a(e,["media"]);i!=null&&r(t,["mediaChunks"],Wv(n,i));const l=a(e,["audio"]);l!=null&&r(t,["audio"],FS(n,l));const o=a(e,["audioStreamEnd"]);o!=null&&r(t,["audioStreamEnd"],o);const s=a(e,["video"]);s!=null&&r(t,["video"],YS(n,s));const u=a(e,["text"]);return u!=null&&r(t,["text"],u),a(e,["activityStart"])!=null&&r(t,["activityStart"],TE()),a(e,["activityEnd"])!=null&&r(t,["activityEnd"],CE()),t}function AE(n,e){const t={},i=a(e,["media"]);if(i!=null&&r(t,["mediaChunks"],Wv(n,i)),a(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=a(e,["audioStreamEnd"]);if(l!=null&&r(t,["audioStreamEnd"],l),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(a(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return a(e,["activityStart"])!=null&&r(t,["activityStart"],SE()),a(e,["activityEnd"])!=null&&r(t,["activityEnd"],_E()),t}function r0(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["weight"]);return l!=null&&r(t,["weight"],l),t}function bE(n,e){const t={},i=a(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>r0(n,o))),r(t,["weightedPrompts"],l)}return t}function u0(n,e){const t={},i=a(e,["temperature"]);i!=null&&r(t,["temperature"],i);const l=a(e,["topK"]);l!=null&&r(t,["topK"],l);const o=a(e,["seed"]);o!=null&&r(t,["seed"],o);const s=a(e,["guidance"]);s!=null&&r(t,["guidance"],s);const u=a(e,["bpm"]);u!=null&&r(t,["bpm"],u);const c=a(e,["density"]);c!=null&&r(t,["density"],c);const f=a(e,["brightness"]);f!=null&&r(t,["brightness"],f);const d=a(e,["scale"]);d!=null&&r(t,["scale"],d);const m=a(e,["muteBass"]);m!=null&&r(t,["muteBass"],m);const h=a(e,["muteDrums"]);h!=null&&r(t,["muteDrums"],h);const p=a(e,["onlyBassAndDrums"]);return p!=null&&r(t,["onlyBassAndDrums"],p),t}function ME(n,e){const t={},i=a(e,["musicGenerationConfig"]);return i!=null&&r(t,["musicGenerationConfig"],u0(n,i)),t}function c0(n,e){const t={},i=a(e,["model"]);return i!=null&&r(t,["model"],i),t}function f0(n,e){const t={},i=a(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>r0(n,o))),r(t,["weightedPrompts"],l)}return t}function jc(n,e){const t={},i=a(e,["setup"]);i!=null&&r(t,["setup"],c0(n,i));const l=a(e,["clientContent"]);l!=null&&r(t,["clientContent"],f0(n,l));const o=a(e,["musicGenerationConfig"]);o!=null&&r(t,["musicGenerationConfig"],u0(n,o));const s=a(e,["playbackControl"]);return s!=null&&r(t,["playbackControl"],s),t}function NE(){return{}}function wE(){return{}}function RE(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function DE(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function kE(n,e){const t={},i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function IE(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function UE(n,e){const t={},i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function LE(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function OE(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],RE(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],kE(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],UE(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function VE(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],DE(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],IE(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],LE(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function $E(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>OE(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function BE(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>VE(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function xp(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["finished"]);return l!=null&&r(t,["finished"],l),t}function Tp(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["finished"]);return l!=null&&r(t,["finished"],l),t}function PE(n,e){const t={},i=a(e,["retrievedUrl"]);i!=null&&r(t,["retrievedUrl"],i);const l=a(e,["urlRetrievalStatus"]);return l!=null&&r(t,["urlRetrievalStatus"],l),t}function zE(n,e){const t={},i=a(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>PE(n,o))),r(t,["urlMetadata"],l)}return t}function GE(n,e){const t={},i=a(e,["modelTurn"]);i!=null&&r(t,["modelTurn"],$E(n,i));const l=a(e,["turnComplete"]);l!=null&&r(t,["turnComplete"],l);const o=a(e,["interrupted"]);o!=null&&r(t,["interrupted"],o);const s=a(e,["groundingMetadata"]);s!=null&&r(t,["groundingMetadata"],s);const u=a(e,["generationComplete"]);u!=null&&r(t,["generationComplete"],u);const c=a(e,["inputTranscription"]);c!=null&&r(t,["inputTranscription"],xp(n,c));const f=a(e,["outputTranscription"]);f!=null&&r(t,["outputTranscription"],xp(n,f));const d=a(e,["urlContextMetadata"]);return d!=null&&r(t,["urlContextMetadata"],zE(n,d)),t}function qE(n,e){const t={},i=a(e,["modelTurn"]);i!=null&&r(t,["modelTurn"],BE(n,i));const l=a(e,["turnComplete"]);l!=null&&r(t,["turnComplete"],l);const o=a(e,["interrupted"]);o!=null&&r(t,["interrupted"],o);const s=a(e,["groundingMetadata"]);s!=null&&r(t,["groundingMetadata"],s);const u=a(e,["generationComplete"]);u!=null&&r(t,["generationComplete"],u);const c=a(e,["inputTranscription"]);c!=null&&r(t,["inputTranscription"],Tp(n,c));const f=a(e,["outputTranscription"]);return f!=null&&r(t,["outputTranscription"],Tp(n,f)),t}function HE(n,e){const t={},i=a(e,["id"]);i!=null&&r(t,["id"],i);const l=a(e,["args"]);l!=null&&r(t,["args"],l);const o=a(e,["name"]);return o!=null&&r(t,["name"],o),t}function YE(n,e){const t={},i=a(e,["args"]);i!=null&&r(t,["args"],i);const l=a(e,["name"]);return l!=null&&r(t,["name"],l),t}function FE(n,e){const t={},i=a(e,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>HE(n,o))),r(t,["functionCalls"],l)}return t}function ZE(n,e){const t={},i=a(e,["functionCalls"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>YE(n,o))),r(t,["functionCalls"],l)}return t}function KE(n,e){const t={},i=a(e,["ids"]);return i!=null&&r(t,["ids"],i),t}function JE(n,e){const t={},i=a(e,["ids"]);return i!=null&&r(t,["ids"],i),t}function pa(n,e){const t={},i=a(e,["modality"]);i!=null&&r(t,["modality"],i);const l=a(e,["tokenCount"]);return l!=null&&r(t,["tokenCount"],l),t}function ga(n,e){const t={},i=a(e,["modality"]);i!=null&&r(t,["modality"],i);const l=a(e,["tokenCount"]);return l!=null&&r(t,["tokenCount"],l),t}function XE(n,e){const t={},i=a(e,["promptTokenCount"]);i!=null&&r(t,["promptTokenCount"],i);const l=a(e,["cachedContentTokenCount"]);l!=null&&r(t,["cachedContentTokenCount"],l);const o=a(e,["responseTokenCount"]);o!=null&&r(t,["responseTokenCount"],o);const s=a(e,["toolUsePromptTokenCount"]);s!=null&&r(t,["toolUsePromptTokenCount"],s);const u=a(e,["thoughtsTokenCount"]);u!=null&&r(t,["thoughtsTokenCount"],u);const c=a(e,["totalTokenCount"]);c!=null&&r(t,["totalTokenCount"],c);const f=a(e,["promptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(x=>pa(n,x))),r(t,["promptTokensDetails"],p)}const d=a(e,["cacheTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(x=>pa(n,x))),r(t,["cacheTokensDetails"],p)}const m=a(e,["responseTokensDetails"]);if(m!=null){let p=m;Array.isArray(p)&&(p=p.map(x=>pa(n,x))),r(t,["responseTokensDetails"],p)}const h=a(e,["toolUsePromptTokensDetails"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(x=>pa(n,x))),r(t,["toolUsePromptTokensDetails"],p)}return t}function QE(n,e){const t={},i=a(e,["promptTokenCount"]);i!=null&&r(t,["promptTokenCount"],i);const l=a(e,["cachedContentTokenCount"]);l!=null&&r(t,["cachedContentTokenCount"],l);const o=a(e,["candidatesTokenCount"]);o!=null&&r(t,["responseTokenCount"],o);const s=a(e,["toolUsePromptTokenCount"]);s!=null&&r(t,["toolUsePromptTokenCount"],s);const u=a(e,["thoughtsTokenCount"]);u!=null&&r(t,["thoughtsTokenCount"],u);const c=a(e,["totalTokenCount"]);c!=null&&r(t,["totalTokenCount"],c);const f=a(e,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(S=>ga(n,S))),r(t,["promptTokensDetails"],x)}const d=a(e,["cacheTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(S=>ga(n,S))),r(t,["cacheTokensDetails"],x)}const m=a(e,["candidatesTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(S=>ga(n,S))),r(t,["responseTokensDetails"],x)}const h=a(e,["toolUsePromptTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(S=>ga(n,S))),r(t,["toolUsePromptTokensDetails"],x)}const p=a(e,["trafficType"]);return p!=null&&r(t,["trafficType"],p),t}function WE(n,e){const t={},i=a(e,["timeLeft"]);return i!=null&&r(t,["timeLeft"],i),t}function jE(n,e){const t={},i=a(e,["timeLeft"]);return i!=null&&r(t,["timeLeft"],i),t}function eA(n,e){const t={},i=a(e,["newHandle"]);i!=null&&r(t,["newHandle"],i);const l=a(e,["resumable"]);l!=null&&r(t,["resumable"],l);const o=a(e,["lastConsumedClientMessageIndex"]);return o!=null&&r(t,["lastConsumedClientMessageIndex"],o),t}function tA(n,e){const t={},i=a(e,["newHandle"]);i!=null&&r(t,["newHandle"],i);const l=a(e,["resumable"]);l!=null&&r(t,["resumable"],l);const o=a(e,["lastConsumedClientMessageIndex"]);return o!=null&&r(t,["lastConsumedClientMessageIndex"],o),t}function nA(n,e){const t={};a(e,["setupComplete"])!=null&&r(t,["setupComplete"],NE());const l=a(e,["serverContent"]);l!=null&&r(t,["serverContent"],GE(n,l));const o=a(e,["toolCall"]);o!=null&&r(t,["toolCall"],FE(n,o));const s=a(e,["toolCallCancellation"]);s!=null&&r(t,["toolCallCancellation"],KE(n,s));const u=a(e,["usageMetadata"]);u!=null&&r(t,["usageMetadata"],XE(n,u));const c=a(e,["goAway"]);c!=null&&r(t,["goAway"],WE(n,c));const f=a(e,["sessionResumptionUpdate"]);return f!=null&&r(t,["sessionResumptionUpdate"],eA(n,f)),t}function iA(n,e){const t={};a(e,["setupComplete"])!=null&&r(t,["setupComplete"],wE());const l=a(e,["serverContent"]);l!=null&&r(t,["serverContent"],qE(n,l));const o=a(e,["toolCall"]);o!=null&&r(t,["toolCall"],ZE(n,o));const s=a(e,["toolCallCancellation"]);s!=null&&r(t,["toolCallCancellation"],JE(n,s));const u=a(e,["usageMetadata"]);u!=null&&r(t,["usageMetadata"],QE(n,u));const c=a(e,["goAway"]);c!=null&&r(t,["goAway"],jE(n,c));const f=a(e,["sessionResumptionUpdate"]);return f!=null&&r(t,["sessionResumptionUpdate"],tA(n,f)),t}function lA(){return{}}function oA(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["weight"]);return l!=null&&r(t,["weight"],l),t}function sA(n,e){const t={},i=a(e,["weightedPrompts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>oA(n,o))),r(t,["weightedPrompts"],l)}return t}function aA(n,e){const t={},i=a(e,["temperature"]);i!=null&&r(t,["temperature"],i);const l=a(e,["topK"]);l!=null&&r(t,["topK"],l);const o=a(e,["seed"]);o!=null&&r(t,["seed"],o);const s=a(e,["guidance"]);s!=null&&r(t,["guidance"],s);const u=a(e,["bpm"]);u!=null&&r(t,["bpm"],u);const c=a(e,["density"]);c!=null&&r(t,["density"],c);const f=a(e,["brightness"]);f!=null&&r(t,["brightness"],f);const d=a(e,["scale"]);d!=null&&r(t,["scale"],d);const m=a(e,["muteBass"]);m!=null&&r(t,["muteBass"],m);const h=a(e,["muteDrums"]);h!=null&&r(t,["muteDrums"],h);const p=a(e,["onlyBassAndDrums"]);return p!=null&&r(t,["onlyBassAndDrums"],p),t}function rA(n,e){const t={},i=a(e,["clientContent"]);i!=null&&r(t,["clientContent"],sA(n,i));const l=a(e,["musicGenerationConfig"]);return l!=null&&r(t,["musicGenerationConfig"],aA(n,l)),t}function uA(n,e){const t={},i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);l!=null&&r(t,["mimeType"],l);const o=a(e,["sourceMetadata"]);return o!=null&&r(t,["sourceMetadata"],rA(n,o)),t}function cA(n,e){const t={},i=a(e,["audioChunks"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>uA(n,o))),r(t,["audioChunks"],l)}return t}function fA(n,e){const t={},i=a(e,["text"]);i!=null&&r(t,["text"],i);const l=a(e,["filteredReason"]);return l!=null&&r(t,["filteredReason"],l),t}function dA(n,e){const t={};a(e,["setupComplete"])!=null&&r(t,["setupComplete"],lA());const l=a(e,["serverContent"]);l!=null&&r(t,["serverContent"],cA(n,l));const o=a(e,["filteredPrompt"]);return o!=null&&r(t,["filteredPrompt"],fA(n,o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hA(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function mA(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function pA(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function gA(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],hA(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],mA(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],pA(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function Zr(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>gA(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function yA(n,e){const t={},i=a(e,["anyOf"]);i!=null&&r(t,["anyOf"],i);const l=a(e,["default"]);l!=null&&r(t,["default"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["enum"]);s!=null&&r(t,["enum"],s);const u=a(e,["example"]);u!=null&&r(t,["example"],u);const c=a(e,["format"]);c!=null&&r(t,["format"],c);const f=a(e,["items"]);f!=null&&r(t,["items"],f);const d=a(e,["maxItems"]);d!=null&&r(t,["maxItems"],d);const m=a(e,["maxLength"]);m!=null&&r(t,["maxLength"],m);const h=a(e,["maxProperties"]);h!=null&&r(t,["maxProperties"],h);const p=a(e,["maximum"]);p!=null&&r(t,["maximum"],p);const x=a(e,["minItems"]);x!=null&&r(t,["minItems"],x);const S=a(e,["minLength"]);S!=null&&r(t,["minLength"],S);const _=a(e,["minProperties"]);_!=null&&r(t,["minProperties"],_);const y=a(e,["minimum"]);y!=null&&r(t,["minimum"],y);const v=a(e,["nullable"]);v!=null&&r(t,["nullable"],v);const T=a(e,["pattern"]);T!=null&&r(t,["pattern"],T);const C=a(e,["properties"]);C!=null&&r(t,["properties"],C);const b=a(e,["propertyOrdering"]);b!=null&&r(t,["propertyOrdering"],b);const w=a(e,["required"]);w!=null&&r(t,["required"],w);const N=a(e,["title"]);N!=null&&r(t,["title"],N);const D=a(e,["type"]);return D!=null&&r(t,["type"],D),t}function vA(n,e){const t={};if(a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(e,["category"]);i!=null&&r(t,["category"],i);const l=a(e,["threshold"]);return l!=null&&r(t,["threshold"],l),t}function xA(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function TA(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function SA(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],TA(n,i)),t}function CA(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function _A(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],CA(n,i)),t}function EA(){return{}}function AA(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>xA(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],SA(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],_A(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],EA());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function bA(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function MA(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function NA(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],MA(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function wA(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],bA(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],NA(n,l)),t}function RA(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function d0(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],RA(n,i)),t}function DA(n,e){const t={},i=a(e,["speaker"]);i!=null&&r(t,["speaker"],i);const l=a(e,["voiceConfig"]);return l!=null&&r(t,["voiceConfig"],d0(n,l)),t}function kA(n,e){const t={},i=a(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>DA(n,o))),r(t,["speakerVoiceConfigs"],l)}return t}function IA(n,e){const t={},i=a(e,["voiceConfig"]);i!=null&&r(t,["voiceConfig"],d0(n,i));const l=a(e,["multiSpeakerVoiceConfig"]);l!=null&&r(t,["multiSpeakerVoiceConfig"],kA(n,l));const o=a(e,["languageCode"]);return o!=null&&r(t,["languageCode"],o),t}function UA(n,e){const t={},i=a(e,["includeThoughts"]);i!=null&&r(t,["includeThoughts"],i);const l=a(e,["thinkingBudget"]);return l!=null&&r(t,["thinkingBudget"],l),t}function LA(n,e,t){const i={},l=a(e,["systemInstruction"]);t!==void 0&&l!=null&&r(t,["systemInstruction"],Zr(n,It(n,l)));const o=a(e,["temperature"]);o!=null&&r(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&r(i,["topP"],s);const u=a(e,["topK"]);u!=null&&r(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&r(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&r(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&r(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&r(i,["logprobs"],h);const p=a(e,["presencePenalty"]);p!=null&&r(i,["presencePenalty"],p);const x=a(e,["frequencyPenalty"]);x!=null&&r(i,["frequencyPenalty"],x);const S=a(e,["seed"]);S!=null&&r(i,["seed"],S);const _=a(e,["responseMimeType"]);_!=null&&r(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);if(y!=null&&r(i,["responseSchema"],yA(n,Sr(n,y))),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(e,["safetySettings"]);if(t!==void 0&&v!=null){let V=v;Array.isArray(V)&&(V=V.map(ue=>vA(n,ue))),r(t,["safetySettings"],V)}const T=a(e,["tools"]);if(t!==void 0&&T!=null){let V=Js(n,T);Array.isArray(V)&&(V=V.map(ue=>AA(n,Ks(n,ue)))),r(t,["tools"],V)}const C=a(e,["toolConfig"]);if(t!==void 0&&C!=null&&r(t,["toolConfig"],wA(n,C)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=a(e,["cachedContent"]);t!==void 0&&b!=null&&r(t,["cachedContent"],qi(n,b));const w=a(e,["responseModalities"]);w!=null&&r(i,["responseModalities"],w);const N=a(e,["mediaResolution"]);N!=null&&r(i,["mediaResolution"],N);const D=a(e,["speechConfig"]);if(D!=null&&r(i,["speechConfig"],IA(n,t0(n,D))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=a(e,["thinkingConfig"]);return P!=null&&r(i,["thinkingConfig"],UA(n,P)),i}function Sp(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Zr(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["generationConfig"],LA(n,o,t)),t}function OA(n,e,t){const i={},l=a(e,["taskType"]);t!==void 0&&l!=null&&r(t,["requests[]","taskType"],l);const o=a(e,["title"]);t!==void 0&&o!=null&&r(t,["requests[]","title"],o);const s=a(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&r(t,["requests[]","outputDimensionality"],s),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function VA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["contents"]);l!=null&&r(t,["requests[]","content"],e0(n,l));const o=a(e,["config"]);o!=null&&r(t,["config"],OA(n,o,t));const s=a(e,["model"]);return s!==void 0&&r(t,["requests[]","model"],ze(n,s)),t}function $A(n,e,t){const i={};if(a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=a(e,["numberOfImages"]);t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l);const o=a(e,["aspectRatio"]);t!==void 0&&o!=null&&r(t,["parameters","aspectRatio"],o);const s=a(e,["guidanceScale"]);if(t!==void 0&&s!=null&&r(t,["parameters","guidanceScale"],s),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=a(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&r(t,["parameters","safetySetting"],u);const c=a(e,["personGeneration"]);t!==void 0&&c!=null&&r(t,["parameters","personGeneration"],c);const f=a(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&r(t,["parameters","includeSafetyAttributes"],f);const d=a(e,["includeRaiReason"]);t!==void 0&&d!=null&&r(t,["parameters","includeRaiReason"],d);const m=a(e,["language"]);t!==void 0&&m!=null&&r(t,["parameters","language"],m);const h=a(e,["outputMimeType"]);t!==void 0&&h!=null&&r(t,["parameters","outputOptions","mimeType"],h);const p=a(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&r(t,["parameters","outputOptions","compressionQuality"],p),a(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function BA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&r(t,["config"],$A(n,o,t)),t}function PA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function zA(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);t!==void 0&&s!=null&&r(t,["_query","filter"],s);const u=a(e,["queryBase"]);return t!==void 0&&u!=null&&r(t,["_url","models_url"],l0(n,u)),i}function GA(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],zA(n,i,t)),t}function qA(n,e,t){const i={},l=a(e,["displayName"]);t!==void 0&&l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);t!==void 0&&o!=null&&r(t,["description"],o);const s=a(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&r(t,["defaultCheckpointId"],s),i}function HA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],qA(n,l,t)),t}function YA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function FA(n,e){const t={};if(a(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function ZA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>Zr(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["config"],FA(n,o)),t}function KA(n,e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=a(e,["imageBytes"]);i!=null&&r(t,["bytesBase64Encoded"],ai(n,i));const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function JA(n,e,t){const i={},l=a(e,["numberOfVideos"]);if(t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l),a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=a(e,["durationSeconds"]);if(t!==void 0&&o!=null&&r(t,["parameters","durationSeconds"],o),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=a(e,["aspectRatio"]);if(t!==void 0&&s!=null&&r(t,["parameters","aspectRatio"],s),a(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=a(e,["personGeneration"]);if(t!==void 0&&u!=null&&r(t,["parameters","personGeneration"],u),a(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=a(e,["negativePrompt"]);t!==void 0&&c!=null&&r(t,["parameters","negativePrompt"],c);const f=a(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&r(t,["parameters","enhancePrompt"],f),a(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return i}function XA(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["image"]);if(o!=null&&r(t,["instances[0]","image"],KA(n,o)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=a(e,["config"]);return s!=null&&r(t,["config"],JA(n,s,t)),t}function QA(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function WA(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function jA(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function eb(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],QA(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],WA(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],jA(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function wo(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>eb(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function tb(n,e){const t={},i=a(e,["anyOf"]);i!=null&&r(t,["anyOf"],i);const l=a(e,["default"]);l!=null&&r(t,["default"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["enum"]);s!=null&&r(t,["enum"],s);const u=a(e,["example"]);u!=null&&r(t,["example"],u);const c=a(e,["format"]);c!=null&&r(t,["format"],c);const f=a(e,["items"]);f!=null&&r(t,["items"],f);const d=a(e,["maxItems"]);d!=null&&r(t,["maxItems"],d);const m=a(e,["maxLength"]);m!=null&&r(t,["maxLength"],m);const h=a(e,["maxProperties"]);h!=null&&r(t,["maxProperties"],h);const p=a(e,["maximum"]);p!=null&&r(t,["maximum"],p);const x=a(e,["minItems"]);x!=null&&r(t,["minItems"],x);const S=a(e,["minLength"]);S!=null&&r(t,["minLength"],S);const _=a(e,["minProperties"]);_!=null&&r(t,["minProperties"],_);const y=a(e,["minimum"]);y!=null&&r(t,["minimum"],y);const v=a(e,["nullable"]);v!=null&&r(t,["nullable"],v);const T=a(e,["pattern"]);T!=null&&r(t,["pattern"],T);const C=a(e,["properties"]);C!=null&&r(t,["properties"],C);const b=a(e,["propertyOrdering"]);b!=null&&r(t,["propertyOrdering"],b);const w=a(e,["required"]);w!=null&&r(t,["required"],w);const N=a(e,["title"]);N!=null&&r(t,["title"],N);const D=a(e,["type"]);return D!=null&&r(t,["type"],D),t}function nb(n,e){const t={},i=a(e,["featureSelectionPreference"]);return i!=null&&r(t,["featureSelectionPreference"],i),t}function ib(n,e){const t={},i=a(e,["method"]);i!=null&&r(t,["method"],i);const l=a(e,["category"]);l!=null&&r(t,["category"],l);const o=a(e,["threshold"]);return o!=null&&r(t,["threshold"],o),t}function lb(n,e){const t={};if(a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=a(e,["description"]);i!=null&&r(t,["description"],i);const l=a(e,["name"]);l!=null&&r(t,["name"],l);const o=a(e,["parameters"]);o!=null&&r(t,["parameters"],o);const s=a(e,["response"]);return s!=null&&r(t,["response"],s),t}function ob(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function sb(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],ob(n,i)),t}function ab(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function rb(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],ab(n,i)),t}function ub(){return{}}function cb(n,e){const t={},i=a(e,["apiKeyString"]);return i!=null&&r(t,["apiKeyString"],i),t}function fb(n,e){const t={},i=a(e,["apiKeyConfig"]);i!=null&&r(t,["apiKeyConfig"],cb(n,i));const l=a(e,["authType"]);l!=null&&r(t,["authType"],l);const o=a(e,["googleServiceAccountConfig"]);o!=null&&r(t,["googleServiceAccountConfig"],o);const s=a(e,["httpBasicAuthConfig"]);s!=null&&r(t,["httpBasicAuthConfig"],s);const u=a(e,["oauthConfig"]);u!=null&&r(t,["oauthConfig"],u);const c=a(e,["oidcConfig"]);return c!=null&&r(t,["oidcConfig"],c),t}function db(n,e){const t={},i=a(e,["authConfig"]);return i!=null&&r(t,["authConfig"],fb(n,i)),t}function hb(){return{}}function h0(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(h=>lb(n,h))),r(t,["functionDeclarations"],m)}const l=a(e,["retrieval"]);l!=null&&r(t,["retrieval"],l);const o=a(e,["googleSearch"]);o!=null&&r(t,["googleSearch"],sb(n,o));const s=a(e,["googleSearchRetrieval"]);s!=null&&r(t,["googleSearchRetrieval"],rb(n,s)),a(e,["enterpriseWebSearch"])!=null&&r(t,["enterpriseWebSearch"],ub());const c=a(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],db(n,c)),a(e,["urlContext"])!=null&&r(t,["urlContext"],hb());const d=a(e,["codeExecution"]);return d!=null&&r(t,["codeExecution"],d),t}function mb(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["allowedFunctionNames"]);return l!=null&&r(t,["allowedFunctionNames"],l),t}function pb(n,e){const t={},i=a(e,["latitude"]);i!=null&&r(t,["latitude"],i);const l=a(e,["longitude"]);return l!=null&&r(t,["longitude"],l),t}function gb(n,e){const t={},i=a(e,["latLng"]);i!=null&&r(t,["latLng"],pb(n,i));const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function yb(n,e){const t={},i=a(e,["functionCallingConfig"]);i!=null&&r(t,["functionCallingConfig"],mb(n,i));const l=a(e,["retrievalConfig"]);return l!=null&&r(t,["retrievalConfig"],gb(n,l)),t}function vb(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function xb(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],vb(n,i)),t}function Tb(n,e){const t={},i=a(e,["voiceConfig"]);if(i!=null&&r(t,["voiceConfig"],xb(n,i)),a(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(e,["languageCode"]);return l!=null&&r(t,["languageCode"],l),t}function Sb(n,e){const t={},i=a(e,["includeThoughts"]);i!=null&&r(t,["includeThoughts"],i);const l=a(e,["thinkingBudget"]);return l!=null&&r(t,["thinkingBudget"],l),t}function Cb(n,e,t){const i={},l=a(e,["systemInstruction"]);t!==void 0&&l!=null&&r(t,["systemInstruction"],wo(n,It(n,l)));const o=a(e,["temperature"]);o!=null&&r(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&r(i,["topP"],s);const u=a(e,["topK"]);u!=null&&r(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&r(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&r(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&r(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&r(i,["logprobs"],h);const p=a(e,["presencePenalty"]);p!=null&&r(i,["presencePenalty"],p);const x=a(e,["frequencyPenalty"]);x!=null&&r(i,["frequencyPenalty"],x);const S=a(e,["seed"]);S!=null&&r(i,["seed"],S);const _=a(e,["responseMimeType"]);_!=null&&r(i,["responseMimeType"],_);const y=a(e,["responseSchema"]);y!=null&&r(i,["responseSchema"],tb(n,Sr(n,y)));const v=a(e,["routingConfig"]);v!=null&&r(i,["routingConfig"],v);const T=a(e,["modelSelectionConfig"]);T!=null&&r(i,["modelConfig"],nb(n,T));const C=a(e,["safetySettings"]);if(t!==void 0&&C!=null){let it=C;Array.isArray(it)&&(it=it.map(Mt=>ib(n,Mt))),r(t,["safetySettings"],it)}const b=a(e,["tools"]);if(t!==void 0&&b!=null){let it=Js(n,b);Array.isArray(it)&&(it=it.map(Mt=>h0(n,Ks(n,Mt)))),r(t,["tools"],it)}const w=a(e,["toolConfig"]);t!==void 0&&w!=null&&r(t,["toolConfig"],yb(n,w));const N=a(e,["labels"]);t!==void 0&&N!=null&&r(t,["labels"],N);const D=a(e,["cachedContent"]);t!==void 0&&D!=null&&r(t,["cachedContent"],qi(n,D));const P=a(e,["responseModalities"]);P!=null&&r(i,["responseModalities"],P);const V=a(e,["mediaResolution"]);V!=null&&r(i,["mediaResolution"],V);const ue=a(e,["speechConfig"]);ue!=null&&r(i,["speechConfig"],Tb(n,t0(n,ue)));const xe=a(e,["audioTimestamp"]);xe!=null&&r(i,["audioTimestamp"],xe);const Ot=a(e,["thinkingConfig"]);return Ot!=null&&r(i,["thinkingConfig"],Sb(n,Ot)),i}function Cp(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>wo(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["generationConfig"],Cb(n,o,t)),t}function _b(n,e,t){const i={},l=a(e,["taskType"]);t!==void 0&&l!=null&&r(t,["instances[]","task_type"],l);const o=a(e,["title"]);t!==void 0&&o!=null&&r(t,["instances[]","title"],o);const s=a(e,["outputDimensionality"]);t!==void 0&&s!=null&&r(t,["parameters","outputDimensionality"],s);const u=a(e,["mimeType"]);t!==void 0&&u!=null&&r(t,["instances[]","mimeType"],u);const c=a(e,["autoTruncate"]);return t!==void 0&&c!=null&&r(t,["parameters","autoTruncate"],c),i}function Eb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["contents"]);l!=null&&r(t,["instances[]","content"],e0(n,l));const o=a(e,["config"]);return o!=null&&r(t,["config"],_b(n,o,t)),t}function Ab(n,e,t){const i={},l=a(e,["outputGcsUri"]);t!==void 0&&l!=null&&r(t,["parameters","storageUri"],l);const o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&r(t,["parameters","negativePrompt"],o);const s=a(e,["numberOfImages"]);t!==void 0&&s!=null&&r(t,["parameters","sampleCount"],s);const u=a(e,["aspectRatio"]);t!==void 0&&u!=null&&r(t,["parameters","aspectRatio"],u);const c=a(e,["guidanceScale"]);t!==void 0&&c!=null&&r(t,["parameters","guidanceScale"],c);const f=a(e,["seed"]);t!==void 0&&f!=null&&r(t,["parameters","seed"],f);const d=a(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&r(t,["parameters","safetySetting"],d);const m=a(e,["personGeneration"]);t!==void 0&&m!=null&&r(t,["parameters","personGeneration"],m);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&r(t,["parameters","includeSafetyAttributes"],h);const p=a(e,["includeRaiReason"]);t!==void 0&&p!=null&&r(t,["parameters","includeRaiReason"],p);const x=a(e,["language"]);t!==void 0&&x!=null&&r(t,["parameters","language"],x);const S=a(e,["outputMimeType"]);t!==void 0&&S!=null&&r(t,["parameters","outputOptions","mimeType"],S);const _=a(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&r(t,["parameters","outputOptions","compressionQuality"],_);const y=a(e,["addWatermark"]);t!==void 0&&y!=null&&r(t,["parameters","addWatermark"],y);const v=a(e,["enhancePrompt"]);return t!==void 0&&v!=null&&r(t,["parameters","enhancePrompt"],v),i}function bb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&r(t,["config"],Ab(n,o,t)),t}function Kr(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["gcsUri"],i);const l=a(e,["imageBytes"]);l!=null&&r(t,["bytesBase64Encoded"],ai(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function Mb(n,e){const t={},i=a(e,["maskMode"]);i!=null&&r(t,["maskMode"],i);const l=a(e,["segmentationClasses"]);l!=null&&r(t,["maskClasses"],l);const o=a(e,["maskDilation"]);return o!=null&&r(t,["dilation"],o),t}function Nb(n,e){const t={},i=a(e,["controlType"]);i!=null&&r(t,["controlType"],i);const l=a(e,["enableControlImageComputation"]);return l!=null&&r(t,["computeControl"],l),t}function wb(n,e){const t={},i=a(e,["styleDescription"]);return i!=null&&r(t,["styleDescription"],i),t}function Rb(n,e){const t={},i=a(e,["subjectType"]);i!=null&&r(t,["subjectType"],i);const l=a(e,["subjectDescription"]);return l!=null&&r(t,["subjectDescription"],l),t}function Db(n,e){const t={},i=a(e,["referenceImage"]);i!=null&&r(t,["referenceImage"],Kr(n,i));const l=a(e,["referenceId"]);l!=null&&r(t,["referenceId"],l);const o=a(e,["referenceType"]);o!=null&&r(t,["referenceType"],o);const s=a(e,["maskImageConfig"]);s!=null&&r(t,["maskImageConfig"],Mb(n,s));const u=a(e,["controlImageConfig"]);u!=null&&r(t,["controlImageConfig"],Nb(n,u));const c=a(e,["styleImageConfig"]);c!=null&&r(t,["styleImageConfig"],wb(n,c));const f=a(e,["subjectImageConfig"]);return f!=null&&r(t,["subjectImageConfig"],Rb(n,f)),t}function kb(n,e,t){const i={},l=a(e,["outputGcsUri"]);t!==void 0&&l!=null&&r(t,["parameters","storageUri"],l);const o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&r(t,["parameters","negativePrompt"],o);const s=a(e,["numberOfImages"]);t!==void 0&&s!=null&&r(t,["parameters","sampleCount"],s);const u=a(e,["aspectRatio"]);t!==void 0&&u!=null&&r(t,["parameters","aspectRatio"],u);const c=a(e,["guidanceScale"]);t!==void 0&&c!=null&&r(t,["parameters","guidanceScale"],c);const f=a(e,["seed"]);t!==void 0&&f!=null&&r(t,["parameters","seed"],f);const d=a(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&r(t,["parameters","safetySetting"],d);const m=a(e,["personGeneration"]);t!==void 0&&m!=null&&r(t,["parameters","personGeneration"],m);const h=a(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&r(t,["parameters","includeSafetyAttributes"],h);const p=a(e,["includeRaiReason"]);t!==void 0&&p!=null&&r(t,["parameters","includeRaiReason"],p);const x=a(e,["language"]);t!==void 0&&x!=null&&r(t,["parameters","language"],x);const S=a(e,["outputMimeType"]);t!==void 0&&S!=null&&r(t,["parameters","outputOptions","mimeType"],S);const _=a(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&r(t,["parameters","outputOptions","compressionQuality"],_);const y=a(e,["editMode"]);t!==void 0&&y!=null&&r(t,["parameters","editMode"],y);const v=a(e,["baseSteps"]);return t!==void 0&&v!=null&&r(t,["parameters","editConfig","baseSteps"],v),i}function Ib(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Db(n,c))),r(t,["instances[0]","referenceImages"],u)}const s=a(e,["config"]);return s!=null&&r(t,["config"],kb(n,s,t)),t}function Ub(n,e,t){const i={},l=a(e,["includeRaiReason"]);t!==void 0&&l!=null&&r(t,["parameters","includeRaiReason"],l);const o=a(e,["outputMimeType"]);t!==void 0&&o!=null&&r(t,["parameters","outputOptions","mimeType"],o);const s=a(e,["outputCompressionQuality"]);t!==void 0&&s!=null&&r(t,["parameters","outputOptions","compressionQuality"],s);const u=a(e,["numberOfImages"]);t!==void 0&&u!=null&&r(t,["parameters","sampleCount"],u);const c=a(e,["mode"]);return t!==void 0&&c!=null&&r(t,["parameters","mode"],c),i}function Lb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["image"]);l!=null&&r(t,["instances[0]","image"],Kr(n,l));const o=a(e,["upscaleFactor"]);o!=null&&r(t,["parameters","upscaleConfig","upscaleFactor"],o);const s=a(e,["config"]);return s!=null&&r(t,["config"],Ub(n,s,t)),t}function Ob(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function Vb(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);t!==void 0&&s!=null&&r(t,["_query","filter"],s);const u=a(e,["queryBase"]);return t!==void 0&&u!=null&&r(t,["_url","models_url"],l0(n,u)),i}function $b(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],Vb(n,i,t)),t}function Bb(n,e,t){const i={},l=a(e,["displayName"]);t!==void 0&&l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);t!==void 0&&o!=null&&r(t,["description"],o);const s=a(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&r(t,["defaultCheckpointId"],s),i}function Pb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],Bb(n,l,t)),t}function zb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","name"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function Gb(n,e,t){const i={},l=a(e,["systemInstruction"]);t!==void 0&&l!=null&&r(t,["systemInstruction"],wo(n,It(n,l)));const o=a(e,["tools"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>h0(n,c))),r(t,["tools"],u)}const s=a(e,["generationConfig"]);return t!==void 0&&s!=null&&r(t,["generationConfig"],s),i}function qb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>wo(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["config"],Gb(n,o,t)),t}function Hb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["contents"]);if(l!=null){let s=xn(n,l);Array.isArray(s)&&(s=s.map(u=>wo(n,u))),r(t,["contents"],s)}const o=a(e,["config"]);return o!=null&&r(t,["config"],o),t}function Yb(n,e){const t={},i=a(e,["uri"]);i!=null&&r(t,["gcsUri"],i);const l=a(e,["videoBytes"]);l!=null&&r(t,["bytesBase64Encoded"],ai(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function Fb(n,e,t){const i={},l=a(e,["numberOfVideos"]);t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l);const o=a(e,["outputGcsUri"]);t!==void 0&&o!=null&&r(t,["parameters","storageUri"],o);const s=a(e,["fps"]);t!==void 0&&s!=null&&r(t,["parameters","fps"],s);const u=a(e,["durationSeconds"]);t!==void 0&&u!=null&&r(t,["parameters","durationSeconds"],u);const c=a(e,["seed"]);t!==void 0&&c!=null&&r(t,["parameters","seed"],c);const f=a(e,["aspectRatio"]);t!==void 0&&f!=null&&r(t,["parameters","aspectRatio"],f);const d=a(e,["resolution"]);t!==void 0&&d!=null&&r(t,["parameters","resolution"],d);const m=a(e,["personGeneration"]);t!==void 0&&m!=null&&r(t,["parameters","personGeneration"],m);const h=a(e,["pubsubTopic"]);t!==void 0&&h!=null&&r(t,["parameters","pubsubTopic"],h);const p=a(e,["negativePrompt"]);t!==void 0&&p!=null&&r(t,["parameters","negativePrompt"],p);const x=a(e,["enhancePrompt"]);t!==void 0&&x!=null&&r(t,["parameters","enhancePrompt"],x);const S=a(e,["generateAudio"]);t!==void 0&&S!=null&&r(t,["parameters","generateAudio"],S);const _=a(e,["lastFrame"]);return t!==void 0&&_!=null&&r(t,["instances[0]","lastFrame"],Kr(n,_)),i}function Zb(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["_url","model"],ze(n,i));const l=a(e,["prompt"]);l!=null&&r(t,["instances[0]","prompt"],l);const o=a(e,["image"]);o!=null&&r(t,["instances[0]","image"],Kr(n,o));const s=a(e,["video"]);s!=null&&r(t,["instances[0]","video"],Yb(n,s));const u=a(e,["config"]);return u!=null&&r(t,["config"],Fb(n,u,t)),t}function Kb(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function Jb(n,e){const t={},i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function Xb(n,e){const t={},i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function Qb(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],Kb(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],Jb(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],Xb(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function Wb(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Qb(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function jb(n,e){const t={},i=a(e,["citationSources"]);return i!=null&&r(t,["citations"],i),t}function e2(n,e){const t={},i=a(e,["retrievedUrl"]);i!=null&&r(t,["retrievedUrl"],i);const l=a(e,["urlRetrievalStatus"]);return l!=null&&r(t,["urlRetrievalStatus"],l),t}function t2(n,e){const t={},i=a(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>e2(n,o))),r(t,["urlMetadata"],l)}return t}function n2(n,e){const t={},i=a(e,["content"]);i!=null&&r(t,["content"],Wb(n,i));const l=a(e,["citationMetadata"]);l!=null&&r(t,["citationMetadata"],jb(n,l));const o=a(e,["tokenCount"]);o!=null&&r(t,["tokenCount"],o);const s=a(e,["finishReason"]);s!=null&&r(t,["finishReason"],s);const u=a(e,["urlContextMetadata"]);u!=null&&r(t,["urlContextMetadata"],t2(n,u));const c=a(e,["avgLogprobs"]);c!=null&&r(t,["avgLogprobs"],c);const f=a(e,["groundingMetadata"]);f!=null&&r(t,["groundingMetadata"],f);const d=a(e,["index"]);d!=null&&r(t,["index"],d);const m=a(e,["logprobsResult"]);m!=null&&r(t,["logprobsResult"],m);const h=a(e,["safetyRatings"]);return h!=null&&r(t,["safetyRatings"],h),t}function _p(n,e){const t={},i=a(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>n2(n,c))),r(t,["candidates"],u)}const l=a(e,["modelVersion"]);l!=null&&r(t,["modelVersion"],l);const o=a(e,["promptFeedback"]);o!=null&&r(t,["promptFeedback"],o);const s=a(e,["usageMetadata"]);return s!=null&&r(t,["usageMetadata"],s),t}function i2(n,e){const t={},i=a(e,["values"]);return i!=null&&r(t,["values"],i),t}function l2(){return{}}function o2(n,e){const t={},i=a(e,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>i2(n,s))),r(t,["embeddings"],o)}return a(e,["metadata"])!=null&&r(t,["metadata"],l2()),t}function s2(n,e){const t={},i=a(e,["bytesBase64Encoded"]);i!=null&&r(t,["imageBytes"],ai(n,i));const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function m0(n,e){const t={},i=a(e,["safetyAttributes","categories"]);i!=null&&r(t,["categories"],i);const l=a(e,["safetyAttributes","scores"]);l!=null&&r(t,["scores"],l);const o=a(e,["contentType"]);return o!=null&&r(t,["contentType"],o),t}function a2(n,e){const t={},i=a(e,["_self"]);i!=null&&r(t,["image"],s2(n,i));const l=a(e,["raiFilteredReason"]);l!=null&&r(t,["raiFilteredReason"],l);const o=a(e,["_self"]);return o!=null&&r(t,["safetyAttributes"],m0(n,o)),t}function r2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>a2(n,s))),r(t,["generatedImages"],o)}const l=a(e,["positivePromptSafetyAttributes"]);return l!=null&&r(t,["positivePromptSafetyAttributes"],m0(n,l)),t}function u2(n,e){const t={},i=a(e,["baseModel"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["createTime"]);l!=null&&r(t,["createTime"],l);const o=a(e,["updateTime"]);return o!=null&&r(t,["updateTime"],o),t}function ef(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["version"]);s!=null&&r(t,["version"],s);const u=a(e,["_self"]);u!=null&&r(t,["tunedModelInfo"],u2(n,u));const c=a(e,["inputTokenLimit"]);c!=null&&r(t,["inputTokenLimit"],c);const f=a(e,["outputTokenLimit"]);f!=null&&r(t,["outputTokenLimit"],f);const d=a(e,["supportedGenerationMethods"]);return d!=null&&r(t,["supportedActions"],d),t}function c2(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=o0(n,l);Array.isArray(o)&&(o=o.map(s=>ef(n,s))),r(t,["models"],o)}return t}function f2(){return{}}function d2(n,e){const t={},i=a(e,["totalTokens"]);i!=null&&r(t,["totalTokens"],i);const l=a(e,["cachedContentTokenCount"]);return l!=null&&r(t,["cachedContentTokenCount"],l),t}function h2(n,e){const t={},i=a(e,["video","uri"]);i!=null&&r(t,["uri"],i);const l=a(e,["video","encodedVideo"]);l!=null&&r(t,["videoBytes"],ai(n,l));const o=a(e,["encoding"]);return o!=null&&r(t,["mimeType"],o),t}function m2(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],h2(n,i)),t}function p2(n,e){const t={},i=a(e,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>m2(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function g2(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response","generateVideoResponse"]);return u!=null&&r(t,["response"],p2(n,u)),t}function y2(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function v2(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["data"]);l!=null&&r(t,["data"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function x2(n,e){const t={},i=a(e,["displayName"]);i!=null&&r(t,["displayName"],i);const l=a(e,["fileUri"]);l!=null&&r(t,["fileUri"],l);const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function T2(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],y2(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],v2(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],x2(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function S2(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>T2(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function C2(n,e){const t={},i=a(e,["citations"]);return i!=null&&r(t,["citations"],i),t}function _2(n,e){const t={},i=a(e,["retrievedUrl"]);i!=null&&r(t,["retrievedUrl"],i);const l=a(e,["urlRetrievalStatus"]);return l!=null&&r(t,["urlRetrievalStatus"],l),t}function E2(n,e){const t={},i=a(e,["urlMetadata"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>_2(n,o))),r(t,["urlMetadata"],l)}return t}function A2(n,e){const t={},i=a(e,["content"]);i!=null&&r(t,["content"],S2(n,i));const l=a(e,["citationMetadata"]);l!=null&&r(t,["citationMetadata"],C2(n,l));const o=a(e,["finishMessage"]);o!=null&&r(t,["finishMessage"],o);const s=a(e,["finishReason"]);s!=null&&r(t,["finishReason"],s);const u=a(e,["urlContextMetadata"]);u!=null&&r(t,["urlContextMetadata"],E2(n,u));const c=a(e,["avgLogprobs"]);c!=null&&r(t,["avgLogprobs"],c);const f=a(e,["groundingMetadata"]);f!=null&&r(t,["groundingMetadata"],f);const d=a(e,["index"]);d!=null&&r(t,["index"],d);const m=a(e,["logprobsResult"]);m!=null&&r(t,["logprobsResult"],m);const h=a(e,["safetyRatings"]);return h!=null&&r(t,["safetyRatings"],h),t}function Ep(n,e){const t={},i=a(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>A2(n,d))),r(t,["candidates"],f)}const l=a(e,["createTime"]);l!=null&&r(t,["createTime"],l);const o=a(e,["responseId"]);o!=null&&r(t,["responseId"],o);const s=a(e,["modelVersion"]);s!=null&&r(t,["modelVersion"],s);const u=a(e,["promptFeedback"]);u!=null&&r(t,["promptFeedback"],u);const c=a(e,["usageMetadata"]);return c!=null&&r(t,["usageMetadata"],c),t}function b2(n,e){const t={},i=a(e,["truncated"]);i!=null&&r(t,["truncated"],i);const l=a(e,["token_count"]);return l!=null&&r(t,["tokenCount"],l),t}function M2(n,e){const t={},i=a(e,["values"]);i!=null&&r(t,["values"],i);const l=a(e,["statistics"]);return l!=null&&r(t,["statistics"],b2(n,l)),t}function N2(n,e){const t={},i=a(e,["billableCharacterCount"]);return i!=null&&r(t,["billableCharacterCount"],i),t}function w2(n,e){const t={},i=a(e,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>M2(n,s))),r(t,["embeddings"],o)}const l=a(e,["metadata"]);return l!=null&&r(t,["metadata"],N2(n,l)),t}function R2(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["gcsUri"],i);const l=a(e,["bytesBase64Encoded"]);l!=null&&r(t,["imageBytes"],ai(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function p0(n,e){const t={},i=a(e,["safetyAttributes","categories"]);i!=null&&r(t,["categories"],i);const l=a(e,["safetyAttributes","scores"]);l!=null&&r(t,["scores"],l);const o=a(e,["contentType"]);return o!=null&&r(t,["contentType"],o),t}function cd(n,e){const t={},i=a(e,["_self"]);i!=null&&r(t,["image"],R2(n,i));const l=a(e,["raiFilteredReason"]);l!=null&&r(t,["raiFilteredReason"],l);const o=a(e,["_self"]);o!=null&&r(t,["safetyAttributes"],p0(n,o));const s=a(e,["prompt"]);return s!=null&&r(t,["enhancedPrompt"],s),t}function D2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>cd(n,s))),r(t,["generatedImages"],o)}const l=a(e,["positivePromptSafetyAttributes"]);return l!=null&&r(t,["positivePromptSafetyAttributes"],p0(n,l)),t}function k2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>cd(n,o))),r(t,["generatedImages"],l)}return t}function I2(n,e){const t={},i=a(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>cd(n,o))),r(t,["generatedImages"],l)}return t}function U2(n,e){const t={},i=a(e,["endpoint"]);i!=null&&r(t,["name"],i);const l=a(e,["deployedModelId"]);return l!=null&&r(t,["deployedModelId"],l),t}function L2(n,e){const t={},i=a(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["createTime"]);l!=null&&r(t,["createTime"],l);const o=a(e,["updateTime"]);return o!=null&&r(t,["updateTime"],o),t}function O2(n,e){const t={},i=a(e,["checkpointId"]);i!=null&&r(t,["checkpointId"],i);const l=a(e,["epoch"]);l!=null&&r(t,["epoch"],l);const o=a(e,["step"]);return o!=null&&r(t,["step"],o),t}function tf(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["displayName"]);l!=null&&r(t,["displayName"],l);const o=a(e,["description"]);o!=null&&r(t,["description"],o);const s=a(e,["versionId"]);s!=null&&r(t,["version"],s);const u=a(e,["deployedModels"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>U2(n,p))),r(t,["endpoints"],h)}const c=a(e,["labels"]);c!=null&&r(t,["labels"],c);const f=a(e,["_self"]);f!=null&&r(t,["tunedModelInfo"],L2(n,f));const d=a(e,["defaultCheckpointId"]);d!=null&&r(t,["defaultCheckpointId"],d);const m=a(e,["checkpoints"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(p=>O2(n,p))),r(t,["checkpoints"],h)}return t}function V2(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=o0(n,l);Array.isArray(o)&&(o=o.map(s=>tf(n,s))),r(t,["models"],o)}return t}function $2(){return{}}function B2(n,e){const t={},i=a(e,["totalTokens"]);return i!=null&&r(t,["totalTokens"],i),t}function P2(n,e){const t={},i=a(e,["tokensInfo"]);return i!=null&&r(t,["tokensInfo"],i),t}function z2(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["uri"],i);const l=a(e,["bytesBase64Encoded"]);l!=null&&r(t,["videoBytes"],ai(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function G2(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],z2(n,i)),t}function q2(n,e){const t={},i=a(e,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>G2(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function H2(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],q2(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y2="Content-Type",F2="X-Server-Timeout",Z2="User-Agent",nf="x-goog-api-client",K2="1.5.1",J2=`google-genai-sdk/${K2}`,X2="v1beta1",Q2="v1beta",Ap=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class g0 extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class lf extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class W2{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:X2,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Q2,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const l=[this.getRequestUrlInternal(t)];return i&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))l.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(l,o,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[l,o]of Object.entries(t))typeof o=="object"?i[l]=Object.assign(Object.assign({},i[l]),o):o!==void 0&&(i[l]=o);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(l,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const l=new AbortController,o=l.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>l.abort(),t.timeout),i&&i.addEventListener("abort",()=>{l.abort()}),e.signal=o}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async l=>(await bp(l),new Xc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async l=>(await bp(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var t;return eo(this,arguments,function*(){const l=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield He(l.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c);try{const m=JSON.parse(f);if("error"in m){const h=JSON.parse(JSON.stringify(m.error)),p=h.status,x=h.code,S=`got status: ${p}. ${JSON.stringify(m)}`;if(x>=400&&x<500)throw new g0(S);if(x>=500&&x<600)throw new lf(S)}}catch(m){const h=m;if(h.name==="ClientError"||h.name==="ServerError")throw m}s+=f;let d=s.match(Ap);for(;d;){const m=d[1];try{const h=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield He(new Xc(h)),s=s.slice(d[0].length),d=s.match(Ap)}catch(h){throw new Error(`exception parsing stream chunk ${m}. ${h}`)}}}}finally{l.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=J2+" "+this.clientOptions.userAgentExtra;return e[Z2]=t,e[nf]=t,e[Y2]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,l]of Object.entries(e.headers))t.append(i,l);e.timeout&&e.timeout>0&&t.append(F2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const l={};t!=null&&(l.mimeType=t.mimeType,l.name=t.name,l.displayName=t.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);l.sizeBytes=String(s.size);const u=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=u;const c=await this.fetchUploadUrl(l,t);return o.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let l={};t!=null&&t.httpOptions?l=t.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:Q("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=s==null?void 0:s.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function bp(n){var e;if(n===void 0)throw new lf("response is undefined");if(!n.ok){const t=n.status,i=n.statusText;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const o=`got status: ${t} ${i}. ${JSON.stringify(l)}`;throw t>=400&&t<500?new g0(o):t>=500&&t<600?new lf(o):new Error(o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j2="mcp_used/unknown";function y0(n){for(const e of n)if(fd(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function v0(n){var e;const t=(e=n[nf])!==null&&e!==void 0?e:"";n[nf]=(t+` ${j2}`).trimStart()}function eM(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>fd(l)))!==null&&i!==void 0?i:!1}function tM(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>!fd(l)))!==null&&i!==void 0?i:!1}function fd(n){return n!==null&&typeof n=="object"&&n instanceof dd}function nM(n,e=100){return eo(this,arguments,function*(){let i,l=0;for(;l<e;){const o=yield He(n.listTools({cursor:i}));for(const s of o.tools)yield yield He(s),l++;if(!o.nextCursor)break;i=o.nextCursor}})}class dd{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new dd(e,t)}async initialize(){var e,t,i,l;if(this.mcpTools.length>0)return;const o={},s=[];for(const d of this.mcpClients)try{for(var u=!0,c=(t=void 0,fs(nM(d))),f;f=await c.next(),e=f.done,!e;u=!0){l=f.value,u=!1;const m=l;s.push(m);const h=m.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(m){t={error:m}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(t)throw t.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),iC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await l.callTool({name:i.name,arguments:i.args},void 0,o);t.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function iM(n,e,t){const i=new HS;let l;t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data);const o=dA(n,l);Object.assign(i,o),e(i)}class lM{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=aM(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const d=new Promise(T=>{f=T}),m=e.callbacks,h=function(){f({})},p=this.apiClient,x={onopen:h,onmessage:T=>{iM(p,m.onmessage,T)},onerror:(t=m==null?void 0:m.onerror)!==null&&t!==void 0?t:function(T){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(T){}},S=this.webSocketFactory.create(c,sM(s),x);S.connect(),await d;const _=ze(this.apiClient,e.model),y=c0(this.apiClient,{model:_}),v=jc(this.apiClient,{setup:y});return S.send(JSON.stringify(v)),new oM(S,this.apiClient)}}class oM{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=bE(this.apiClient,e),i=f0(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=ME(this.apiClient,e),i=jc(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=jc(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Gl.PLAY)}pause(){this.sendPlaybackControl(Gl.PAUSE)}stop(){this.sendPlaybackControl(Gl.STOP)}resetContext(){this.sendPlaybackControl(Gl.RESET_CONTEXT)}close(){this.conn.close()}}function sM(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function aM(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function uM(n,e,t){const i=new qS;let l;if(t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data),n.isVertexAI()){const o=iA(n,l);Object.assign(i,o)}else{const o=nA(n,l);Object.assign(i,o)}e(i)}class cM{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new lM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,l,o,s,u;const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const m=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&y0(e.config.tools)&&v0(m);const h=mM(m);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const P=this.apiClient.getApiKey();let V="BidiGenerateContent",ue="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),V="BidiGenerateContentConstrained",ue="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${V}?${ue}=${P}`}let p=()=>{};const x=new Promise(P=>{p=P}),S=e.callbacks,_=function(){var P;(P=S==null?void 0:S.onopen)===null||P===void 0||P.call(S),p({})},y=this.apiClient,v={onopen:_,onmessage:P=>{uM(y,S.onmessage,P)},onerror:(t=S==null?void 0:S.onerror)!==null&&t!==void 0?t:function(P){},onclose:(i=S==null?void 0:S.onclose)!==null&&i!==void 0?i:function(P){}},T=this.webSocketFactory.create(d,hM(h),v);T.connect(),await x;let C=ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const P=this.apiClient.getProject(),V=this.apiClient.getLocation();C=`projects/${P}/locations/${V}/`+C}let b={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xr.AUDIO]}:e.config.responseModalities=[xr.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],N=[];for(const P of w)if(this.isCallableTool(P)){const V=P;N.push(await V.tool())}else N.push(P);N.length>0&&(e.config.tools=N);const D={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?b=xE(this.apiClient,D):b=vE(this.apiClient,D),delete b.config,T.send(JSON.stringify(b)),new dM(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const fM={turnComplete:!0};class dM{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=xn(e,t.turns),e.isVertexAI()?i=i.map(l=>wo(e,l)):i=i.map(l=>Zr(e,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(rM)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},fM),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:AE(this.apiClient,e)}:t={realtimeInput:EE(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function hM(n){const e={};return n.forEach((t,i)=>{e[i]=t}),e}function mM(n){const e=new Headers;for(const[t,i]of Object.entries(n))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mp=10;function Np(n){var e,t,i;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const s of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(La(s)){l=!0;break}if(!l)return!0;const o=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function La(n){return"callTool"in n&&typeof n.callTool=="function"}function wp(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pM extends No{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,l,o,s,u;const c=await this.processParamsForMcpUsage(t);if(!eM(t)||Np(t.config))return await this.generateContentInternal(c);if(tM(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,d;const m=xn(this.apiClient,c.contents),h=(o=(l=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:Mp;let p=0;for(;p<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const x=f.candidates[0].content,S=[];for(const _ of(u=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(La(_)){const v=await _.callTool(f.functionCalls);S.push(...v)}p++,d={role:"user",parts:S},c.contents=xn(this.apiClient,c.contents),c.contents.push(x),c.contents.push(d),wp(c.config)&&(m.push(x),m.push(d))}return wp(c.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async t=>{if(Np(t.config)){const i=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var l;let o;const s=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((l=c==null?void 0:c.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:s.push(c);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o}:u={generatedImages:s},u}),this.list=async t=>{var i;const s={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Fr(xo.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const l={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(l)}}async processParamsForMcpUsage(e){var t,i,l;const o=(t=e.config)===null||t===void 0?void 0:t.tools;if(!o)return e;const s=await Promise.all(o.map(async c=>La(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&y0(e.config.tools)){const c=(l=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),v0(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var t,i,l;const o=new Map;for(const s of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(La(s)){const u=s,c=await u.tool();for(const f of(l=c.functionDeclarations)!==null&&l!==void 0?l:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var t,i,l;const o=(l=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:Mp;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,d,m){var h,p;return eo(this,arguments,function*(){for(var x,S,_,y;u<o;){s&&(u++,s=!1);const b=yield He(f.processParamsForMcpUsage(m)),w=yield He(f.generateContentStreamInternal(b)),N=[],D=[];try{for(var v=!0,T=(S=void 0,fs(w)),C;C=yield He(T.next()),x=C.done,!x;v=!0){y=C.value,v=!1;const P=y;if(yield yield He(P),P.candidates&&(!((h=P.candidates[0])===null||h===void 0)&&h.content)){D.push(P.candidates[0].content);for(const V of(p=P.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(u<o&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(V.functionCall.name)){const ue=yield He(d.get(V.functionCall.name).callTool([V.functionCall]));N.push(...ue)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(P){S={error:P}}finally{try{!v&&!x&&(_=T.return)&&(yield He(_.call(T)))}finally{if(S)throw S.error}}if(N.length>0){s=!0;const P=new zo;P.candidates=[{content:{role:"user",parts:N}}],yield yield He(P);const V=[];V.push(...D),V.push({role:"user",parts:N});const ue=xn(f.apiClient,m.contents).concat(V);m.contents=ue}else break}})}(this,c,e)}async generateContentInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Cp(this.apiClient,e);return u=Q("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const m=Ep(this.apiClient,d),h=new zo;return Object.assign(h,m),h})}else{const f=Sp(this.apiClient,e);return u=Q("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const m=_p(this.apiClient,d),h=new zo;return Object.assign(h,m),h})}}async generateContentStreamInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Cp(this.apiClient,e);u=Q("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const d=this.apiClient;return s=d.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(m){return eo(this,arguments,function*(){var h,p,x,S;try{for(var _=!0,y=fs(m),v;v=yield He(y.next()),h=v.done,!h;_=!0){S=v.value,_=!1;const C=Ep(d,yield He(S.json())),b=new zo;Object.assign(b,C),yield yield He(b)}}catch(T){p={error:T}}finally{try{!_&&!h&&(x=y.return)&&(yield He(x.call(y)))}finally{if(p)throw p.error}}})})}else{const f=Sp(this.apiClient,e);u=Q("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query;const d=this.apiClient;return s=d.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(m){return eo(this,arguments,function*(){var h,p,x,S;try{for(var _=!0,y=fs(m),v;v=yield He(y.next()),h=v.done,!h;_=!0){S=v.value,_=!1;const C=_p(d,yield He(S.json())),b=new zo;Object.assign(b,C),yield yield He(b)}}catch(T){p={error:T}}finally{try{!_&&!h&&(x=y.return)&&(yield He(x.call(y)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Eb(this.apiClient,e);return u=Q("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const m=w2(this.apiClient,d),h=new tp;return Object.assign(h,m),h})}else{const f=VA(this.apiClient,e);return u=Q("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const m=o2(this.apiClient,d),h=new tp;return Object.assign(h,m),h})}}async generateImagesInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=bb(this.apiClient,e);return u=Q("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const m=D2(this.apiClient,d),h=new np;return Object.assign(h,m),h})}else{const f=BA(this.apiClient,e);return u=Q("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const m=r2(this.apiClient,d),h=new np;return Object.assign(h,m),h})}}async editImageInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Ib(this.apiClient,e);return o=Q("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=k2(this.apiClient,c),d=new VS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Lb(this.apiClient,e);return o=Q("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=I2(this.apiClient,c),d=new $S;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Ob(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>tf(this.apiClient,d))}else{const f=PA(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>ef(this.apiClient,d))}}async listInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=$b(this.apiClient,e);return u=Q("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const m=V2(this.apiClient,d),h=new ip;return Object.assign(h,m),h})}else{const f=GA(this.apiClient,e);return u=Q("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const m=c2(this.apiClient,d),h=new ip;return Object.assign(h,m),h})}}async update(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Pb(this.apiClient,e);return u=Q("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>tf(this.apiClient,d))}else{const f=HA(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>ef(this.apiClient,d))}}async delete(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=zb(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(()=>{const d=$2(),m=new lp;return Object.assign(m,d),m})}else{const f=YA(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(()=>{const d=f2(),m=new lp;return Object.assign(m,d),m})}}async countTokens(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=qb(this.apiClient,e);return u=Q("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const m=B2(this.apiClient,d),h=new op;return Object.assign(h,m),h})}else{const f=ZA(this.apiClient,e);return u=Q("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const m=d2(this.apiClient,d),h=new op;return Object.assign(h,m),h})}}async computeTokens(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=Hb(this.apiClient,e);return o=Q("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=P2(this.apiClient,c),d=new BS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=Zb(this.apiClient,e);return u=Q("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>H2(this.apiClient,d))}else{const f=XA(this.apiClient,e);return u=Q("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>g2(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gM(n,e){const t={},i=a(e,["operationName"]);i!=null&&r(t,["_url","operationName"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function yM(n,e){const t={},i=a(e,["operationName"]);i!=null&&r(t,["_url","operationName"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function vM(n,e){const t={},i=a(e,["operationName"]);i!=null&&r(t,["operationName"],i);const l=a(e,["resourceName"]);l!=null&&r(t,["_url","resourceName"],l);const o=a(e,["config"]);return o!=null&&r(t,["config"],o),t}function xM(n,e){const t={},i=a(e,["video","uri"]);i!=null&&r(t,["uri"],i);const l=a(e,["video","encodedVideo"]);l!=null&&r(t,["videoBytes"],ai(n,l));const o=a(e,["encoding"]);return o!=null&&r(t,["mimeType"],o),t}function TM(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],xM(n,i)),t}function SM(n,e){const t={},i=a(e,["generatedSamples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>TM(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function CM(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response","generateVideoResponse"]);return u!=null&&r(t,["response"],SM(n,u)),t}function _M(n,e){const t={},i=a(e,["gcsUri"]);i!=null&&r(t,["uri"],i);const l=a(e,["bytesBase64Encoded"]);l!=null&&r(t,["videoBytes"],ai(n,l));const o=a(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function EM(n,e){const t={},i=a(e,["_self"]);return i!=null&&r(t,["video"],_M(n,i)),t}function AM(n,e){const t={},i=a(e,["videos"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>EM(n,u))),r(t,["generatedVideos"],s)}const l=a(e,["raiMediaFilteredCount"]);l!=null&&r(t,["raiMediaFilteredCount"],l);const o=a(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function Rp(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);s!=null&&r(t,["error"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],AM(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bM extends No{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=t.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:l,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})}async getVideosOperationInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=yM(this.apiClient,e);return u=Q("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>Rp(this.apiClient,d))}else{const f=gM(this.apiClient,e);return u=Q("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>CM(this.apiClient,d))}}async fetchPredictVideosOperationInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=vM(this.apiClient,e);return o=Q("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>Rp(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MM(n,e){const t={},i=a(e,["voiceName"]);return i!=null&&r(t,["voiceName"],i),t}function x0(n,e){const t={},i=a(e,["prebuiltVoiceConfig"]);return i!=null&&r(t,["prebuiltVoiceConfig"],MM(n,i)),t}function NM(n,e){const t={},i=a(e,["speaker"]);i!=null&&r(t,["speaker"],i);const l=a(e,["voiceConfig"]);return l!=null&&r(t,["voiceConfig"],x0(n,l)),t}function wM(n,e){const t={},i=a(e,["speakerVoiceConfigs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>NM(n,o))),r(t,["speakerVoiceConfigs"],l)}return t}function RM(n,e){const t={},i=a(e,["voiceConfig"]);i!=null&&r(t,["voiceConfig"],x0(n,i));const l=a(e,["multiSpeakerVoiceConfig"]);l!=null&&r(t,["multiSpeakerVoiceConfig"],wM(n,l));const o=a(e,["languageCode"]);return o!=null&&r(t,["languageCode"],o),t}function DM(n,e){const t={},i=a(e,["fps"]);i!=null&&r(t,["fps"],i);const l=a(e,["endOffset"]);l!=null&&r(t,["endOffset"],l);const o=a(e,["startOffset"]);return o!=null&&r(t,["startOffset"],o),t}function kM(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["data"]);i!=null&&r(t,["data"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function IM(n,e){const t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(e,["fileUri"]);i!=null&&r(t,["fileUri"],i);const l=a(e,["mimeType"]);return l!=null&&r(t,["mimeType"],l),t}function UM(n,e){const t={},i=a(e,["videoMetadata"]);i!=null&&r(t,["videoMetadata"],DM(n,i));const l=a(e,["thought"]);l!=null&&r(t,["thought"],l);const o=a(e,["inlineData"]);o!=null&&r(t,["inlineData"],kM(n,o));const s=a(e,["fileData"]);s!=null&&r(t,["fileData"],IM(n,s));const u=a(e,["thoughtSignature"]);u!=null&&r(t,["thoughtSignature"],u);const c=a(e,["codeExecutionResult"]);c!=null&&r(t,["codeExecutionResult"],c);const f=a(e,["executableCode"]);f!=null&&r(t,["executableCode"],f);const d=a(e,["functionCall"]);d!=null&&r(t,["functionCall"],d);const m=a(e,["functionResponse"]);m!=null&&r(t,["functionResponse"],m);const h=a(e,["text"]);return h!=null&&r(t,["text"],h),t}function LM(n,e){const t={},i=a(e,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>UM(n,s))),r(t,["parts"],o)}const l=a(e,["role"]);return l!=null&&r(t,["role"],l),t}function OM(n,e){const t={},i=a(e,["behavior"]);i!=null&&r(t,["behavior"],i);const l=a(e,["description"]);l!=null&&r(t,["description"],l);const o=a(e,["name"]);o!=null&&r(t,["name"],o);const s=a(e,["parameters"]);s!=null&&r(t,["parameters"],s);const u=a(e,["response"]);return u!=null&&r(t,["response"],u),t}function VM(n,e){const t={},i=a(e,["startTime"]);i!=null&&r(t,["startTime"],i);const l=a(e,["endTime"]);return l!=null&&r(t,["endTime"],l),t}function $M(n,e){const t={},i=a(e,["timeRangeFilter"]);return i!=null&&r(t,["timeRangeFilter"],VM(n,i)),t}function BM(n,e){const t={},i=a(e,["mode"]);i!=null&&r(t,["mode"],i);const l=a(e,["dynamicThreshold"]);return l!=null&&r(t,["dynamicThreshold"],l),t}function PM(n,e){const t={},i=a(e,["dynamicRetrievalConfig"]);return i!=null&&r(t,["dynamicRetrievalConfig"],BM(n,i)),t}function zM(){return{}}function GM(n,e){const t={},i=a(e,["functionDeclarations"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>OM(n,f))),r(t,["functionDeclarations"],c)}if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(e,["googleSearch"]);l!=null&&r(t,["googleSearch"],$M(n,l));const o=a(e,["googleSearchRetrieval"]);if(o!=null&&r(t,["googleSearchRetrieval"],PM(n,o)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(e,["urlContext"])!=null&&r(t,["urlContext"],zM());const u=a(e,["codeExecution"]);return u!=null&&r(t,["codeExecution"],u),t}function qM(n,e){const t={},i=a(e,["handle"]);if(i!=null&&r(t,["handle"],i),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Dp(){return{}}function HM(n,e){const t={},i=a(e,["disabled"]);i!=null&&r(t,["disabled"],i);const l=a(e,["startOfSpeechSensitivity"]);l!=null&&r(t,["startOfSpeechSensitivity"],l);const o=a(e,["endOfSpeechSensitivity"]);o!=null&&r(t,["endOfSpeechSensitivity"],o);const s=a(e,["prefixPaddingMs"]);s!=null&&r(t,["prefixPaddingMs"],s);const u=a(e,["silenceDurationMs"]);return u!=null&&r(t,["silenceDurationMs"],u),t}function YM(n,e){const t={},i=a(e,["automaticActivityDetection"]);i!=null&&r(t,["automaticActivityDetection"],HM(n,i));const l=a(e,["activityHandling"]);l!=null&&r(t,["activityHandling"],l);const o=a(e,["turnCoverage"]);return o!=null&&r(t,["turnCoverage"],o),t}function FM(n,e){const t={},i=a(e,["targetTokens"]);return i!=null&&r(t,["targetTokens"],i),t}function ZM(n,e){const t={},i=a(e,["triggerTokens"]);i!=null&&r(t,["triggerTokens"],i);const l=a(e,["slidingWindow"]);return l!=null&&r(t,["slidingWindow"],FM(n,l)),t}function KM(n,e){const t={},i=a(e,["proactiveAudio"]);return i!=null&&r(t,["proactiveAudio"],i),t}function JM(n,e,t){const i={},l=a(e,["generationConfig"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig"],l);const o=a(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const s=a(e,["temperature"]);t!==void 0&&s!=null&&r(t,["setup","generationConfig","temperature"],s);const u=a(e,["topP"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topP"],u);const c=a(e,["topK"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","topK"],c);const f=a(e,["maxOutputTokens"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","maxOutputTokens"],f);const d=a(e,["mediaResolution"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","mediaResolution"],d);const m=a(e,["seed"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","seed"],m);const h=a(e,["speechConfig"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","speechConfig"],RM(n,ud(n,h)));const p=a(e,["enableAffectiveDialog"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],p);const x=a(e,["systemInstruction"]);t!==void 0&&x!=null&&r(t,["setup","systemInstruction"],LM(n,It(n,x)));const S=a(e,["tools"]);if(t!==void 0&&S!=null){let w=Js(n,S);Array.isArray(w)&&(w=w.map(N=>GM(n,Ks(n,N)))),r(t,["setup","tools"],w)}const _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],qM(n,_));const y=a(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],Dp());const v=a(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&r(t,["setup","outputAudioTranscription"],Dp());const T=a(e,["realtimeInputConfig"]);t!==void 0&&T!=null&&r(t,["setup","realtimeInputConfig"],YM(n,T));const C=a(e,["contextWindowCompression"]);t!==void 0&&C!=null&&r(t,["setup","contextWindowCompression"],ZM(n,C));const b=a(e,["proactivity"]);return t!==void 0&&b!=null&&r(t,["setup","proactivity"],KM(n,b)),i}function XM(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["setup","model"],ze(n,i));const l=a(e,["config"]);return l!=null&&r(t,["config"],JM(n,l,t)),t}function QM(n,e,t){const i={},l=a(e,["expireTime"]);t!==void 0&&l!=null&&r(t,["expireTime"],l);const o=a(e,["newSessionExpireTime"]);t!==void 0&&o!=null&&r(t,["newSessionExpireTime"],o);const s=a(e,["uses"]);t!==void 0&&s!=null&&r(t,["uses"],s);const u=a(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&r(t,["bidiGenerateContentSetup"],XM(n,u));const c=a(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&r(t,["fieldMask"],c),i}function WM(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],QM(n,i,t)),t}function jM(n,e){const t={},i=a(e,["name"]);return i!=null&&r(t,["name"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eN(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(o=>`${t}.${o}`);e.push(...l)}else e.push(t)}return e.join(",")}function tN(n,e){let t=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(n.bidiGenerateContentSetup=o,t=o):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const l=n.fieldMask;if(t){const o=eN(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?n.fieldMask=o:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];l.length>0&&(u=l.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?n.fieldMask=l.join(","):delete n.fieldMask;return n}class nN extends No{constructor(e){super(),this.apiClient=e}async create(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=WM(this.apiClient,e);o=Q("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=tN(u,e.config);return l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>jM(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iN(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function lN(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);return t!==void 0&&s!=null&&r(t,["_query","filter"],s),i}function oN(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],lN(n,i,t)),t}function sN(n,e){const t={},i=a(e,["textInput"]);i!=null&&r(t,["textInput"],i);const l=a(e,["output"]);return l!=null&&r(t,["output"],l),t}function aN(n,e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=a(e,["examples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>sN(n,o))),r(t,["examples","examples"],l)}return t}function rN(n,e,t){const i={};if(a(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=a(e,["tunedModelDisplayName"]);if(t!==void 0&&l!=null&&r(t,["displayName"],l),a(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=a(e,["epochCount"]);t!==void 0&&o!=null&&r(t,["tuningTask","hyperparameters","epochCount"],o);const s=a(e,["learningRateMultiplier"]);if(s!=null&&r(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=a(e,["batchSize"]);t!==void 0&&u!=null&&r(t,["tuningTask","hyperparameters","batchSize"],u);const c=a(e,["learningRate"]);return t!==void 0&&c!=null&&r(t,["tuningTask","hyperparameters","learningRate"],c),i}function uN(n,e){const t={},i=a(e,["baseModel"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["trainingDataset"]);l!=null&&r(t,["tuningTask","trainingData"],aN(n,l));const o=a(e,["config"]);return o!=null&&r(t,["config"],rN(n,o,t)),t}function cN(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["_url","name"],i);const l=a(e,["config"]);return l!=null&&r(t,["config"],l),t}function fN(n,e,t){const i={},l=a(e,["pageSize"]);t!==void 0&&l!=null&&r(t,["_query","pageSize"],l);const o=a(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const s=a(e,["filter"]);return t!==void 0&&s!=null&&r(t,["_query","filter"],s),i}function dN(n,e){const t={},i=a(e,["config"]);return i!=null&&r(t,["config"],fN(n,i,t)),t}function hN(n,e,t){const i={},l=a(e,["gcsUri"]);if(t!==void 0&&l!=null&&r(t,["supervisedTuningSpec","trainingDatasetUri"],l),a(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function mN(n,e){const t={},i=a(e,["gcsUri"]);return i!=null&&r(t,["validationDatasetUri"],i),t}function pN(n,e,t){const i={},l=a(e,["validationDataset"]);t!==void 0&&l!=null&&r(t,["supervisedTuningSpec"],mN(n,l));const o=a(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&r(t,["tunedModelDisplayName"],o);const s=a(e,["description"]);t!==void 0&&s!=null&&r(t,["description"],s);const u=a(e,["epochCount"]);t!==void 0&&u!=null&&r(t,["supervisedTuningSpec","hyperParameters","epochCount"],u);const c=a(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&r(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const f=a(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&r(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const d=a(e,["adapterSize"]);if(t!==void 0&&d!=null&&r(t,["supervisedTuningSpec","hyperParameters","adapterSize"],d),a(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function gN(n,e){const t={},i=a(e,["baseModel"]);i!=null&&r(t,["baseModel"],i);const l=a(e,["trainingDataset"]);l!=null&&r(t,["supervisedTuningSpec","trainingDatasetUri"],hN(n,l,t));const o=a(e,["config"]);return o!=null&&r(t,["config"],pN(n,o,t)),t}function yN(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["model"],i);const l=a(e,["name"]);return l!=null&&r(t,["endpoint"],l),t}function T0(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["state"]);l!=null&&r(t,["state"],n0(n,l));const o=a(e,["createTime"]);o!=null&&r(t,["createTime"],o);const s=a(e,["tuningTask","startTime"]);s!=null&&r(t,["startTime"],s);const u=a(e,["tuningTask","completeTime"]);u!=null&&r(t,["endTime"],u);const c=a(e,["updateTime"]);c!=null&&r(t,["updateTime"],c);const f=a(e,["description"]);f!=null&&r(t,["description"],f);const d=a(e,["baseModel"]);d!=null&&r(t,["baseModel"],d);const m=a(e,["_self"]);m!=null&&r(t,["tunedModel"],yN(n,m));const h=a(e,["distillationSpec"]);h!=null&&r(t,["distillationSpec"],h);const p=a(e,["experiment"]);p!=null&&r(t,["experiment"],p);const x=a(e,["labels"]);x!=null&&r(t,["labels"],x);const S=a(e,["pipelineJob"]);S!=null&&r(t,["pipelineJob"],S);const _=a(e,["serviceAccount"]);_!=null&&r(t,["serviceAccount"],_);const y=a(e,["tunedModelDisplayName"]);return y!=null&&r(t,["tunedModelDisplayName"],y),t}function vN(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["tunedModels"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>T0(n,s))),r(t,["tuningJobs"],o)}return t}function xN(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["metadata"]);l!=null&&r(t,["metadata"],l);const o=a(e,["done"]);o!=null&&r(t,["done"],o);const s=a(e,["error"]);return s!=null&&r(t,["error"],s),t}function TN(n,e){const t={},i=a(e,["checkpointId"]);i!=null&&r(t,["checkpointId"],i);const l=a(e,["epoch"]);l!=null&&r(t,["epoch"],l);const o=a(e,["step"]);o!=null&&r(t,["step"],o);const s=a(e,["endpoint"]);return s!=null&&r(t,["endpoint"],s),t}function SN(n,e){const t={},i=a(e,["model"]);i!=null&&r(t,["model"],i);const l=a(e,["endpoint"]);l!=null&&r(t,["endpoint"],l);const o=a(e,["checkpoints"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>TN(n,u))),r(t,["checkpoints"],s)}return t}function of(n,e){const t={},i=a(e,["name"]);i!=null&&r(t,["name"],i);const l=a(e,["state"]);l!=null&&r(t,["state"],n0(n,l));const o=a(e,["createTime"]);o!=null&&r(t,["createTime"],o);const s=a(e,["startTime"]);s!=null&&r(t,["startTime"],s);const u=a(e,["endTime"]);u!=null&&r(t,["endTime"],u);const c=a(e,["updateTime"]);c!=null&&r(t,["updateTime"],c);const f=a(e,["error"]);f!=null&&r(t,["error"],f);const d=a(e,["description"]);d!=null&&r(t,["description"],d);const m=a(e,["baseModel"]);m!=null&&r(t,["baseModel"],m);const h=a(e,["tunedModel"]);h!=null&&r(t,["tunedModel"],SN(n,h));const p=a(e,["supervisedTuningSpec"]);p!=null&&r(t,["supervisedTuningSpec"],p);const x=a(e,["tuningDataStats"]);x!=null&&r(t,["tuningDataStats"],x);const S=a(e,["encryptionSpec"]);S!=null&&r(t,["encryptionSpec"],S);const _=a(e,["partnerModelTuningSpec"]);_!=null&&r(t,["partnerModelTuningSpec"],_);const y=a(e,["distillationSpec"]);y!=null&&r(t,["distillationSpec"],y);const v=a(e,["experiment"]);v!=null&&r(t,["experiment"],v);const T=a(e,["labels"]);T!=null&&r(t,["labels"],T);const C=a(e,["pipelineJob"]);C!=null&&r(t,["pipelineJob"],C);const b=a(e,["serviceAccount"]);b!=null&&r(t,["serviceAccount"],b);const w=a(e,["tunedModelDisplayName"]);return w!=null&&r(t,["tunedModelDisplayName"],w),t}function CN(n,e){const t={},i=a(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const l=a(e,["tuningJobs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>of(n,s))),r(t,["tuningJobs"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _N extends No{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Fr(xo.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const i=await this.tuneMldevInternal(t);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Jc.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=cN(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>of(this.apiClient,d))}else{const f=iN(this.apiClient,e);return u=Q("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>T0(this.apiClient,d))}}async listInternal(e){var t,i,l,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=dN(this.apiClient,e);return u=Q("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{const m=CN(this.apiClient,d),h=new sp;return Object.assign(h,m),h})}else{const f=oN(this.apiClient,e);return u=Q("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const m=vN(this.apiClient,d),h=new sp;return Object.assign(h,m),h})}}async tuneInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI()){const u=gN(this.apiClient,e);return o=Q("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>of(this.apiClient,c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let l,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=uN(this.apiClient,e);return o=Q("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>xN(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EN{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const AN=1024*1024*8,bN=3,MN=1e3,NN=2,$u="x-goog-upload-status";async function wN(n,e,t){var i,l,o;let s=0,u=0,c=new Xc(new Response),f="upload";for(s=n.size;u<s;){const m=Math.min(AN,s-u),h=n.slice(u,u+m);u+m>=s&&(f+=", finalize");let p=0,x=MN;for(;p<bN&&(c=await t.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[$u]));)p++,await DN(x),x=x*NN;if(u+=m,((l=c==null?void 0:c.headers)===null||l===void 0?void 0:l[$u])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[$u])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function RN(n){return{size:n.size,type:n.type}}function DN(n){return new Promise(e=>setTimeout(e,n))}class kN{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wN(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await RN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IN{create(e,t,i){return new UN(e,t,i)}}class UN{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kp="x-goog-api-key";class LN{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(kp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(kp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ON="gl-node/";class S0{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=OS(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const l=new LN(this.apiKey);this.apiClient=new W2({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:ON+"web",uploader:new kN,downloader:new EN}),this.models=new pM(this.apiClient),this.live=new cM(this.apiClient,l,new IN),this.chats=new u_(this.models,this.apiClient),this.caches=new s_(this.apiClient),this.files=new C_(this.apiClient),this.operations=new bM(this.apiClient),this.authTokens=new nN(this.apiClient),this.tunings=new _N(this.apiClient)}}function hd(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let vl=hd();function C0(n){vl=n}const _0=/[&<>"']/,VN=new RegExp(_0.source,"g"),E0=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,$N=new RegExp(E0.source,"g"),BN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ip=n=>BN[n];function Xt(n,e){if(e){if(_0.test(n))return n.replace(VN,Ip)}else if(E0.test(n))return n.replace($N,Ip);return n}const PN=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function zN(n){return n.replace(PN,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const GN=/(^|[^\[])\^/g;function Ue(n,e){let t=typeof n=="string"?n:n.source;e=e||"";const i={replace:(l,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(GN,"$1"),t=t.replace(l,s),i},getRegex:()=>new RegExp(t,e)};return i}function Up(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const ds={exec:()=>null};function Lp(n,e){const t=n.replace(/\|/g,(o,s,u)=>{let c=!1,f=s;for(;--f>=0&&u[f]==="\\";)c=!c;return c?"|":" |"}),i=t.split(/ \|/);let l=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;l<i.length;l++)i[l]=i[l].trim().replace(/\\\|/g,"|");return i}function Go(n,e,t){const i=n.length;if(i===0)return"";let l=0;for(;l<i&&n.charAt(i-l-1)===e;)l++;return n.slice(0,i-l)}function qN(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let i=0;i<n.length;i++)if(n[i]==="\\")i++;else if(n[i]===e[0])t++;else if(n[i]===e[1]&&(t--,t<0))return i;return-1}function Op(n,e,t,i){const l=e.href,o=e.title?Xt(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const u={type:"link",raw:t,href:l,title:o,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,u}return{type:"image",raw:t,href:l,title:o,text:Xt(s)}}function HN(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(l=>{const o=l.match(/^\s+/);if(o===null)return l;const[s]=o;return s.length>=i.length?l.slice(i.length):l}).join(`
`)}class Cr{constructor(e){Be(this,"options");Be(this,"rules");Be(this,"lexer");this.options=e||vl}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Go(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],l=HN(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:l}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const l=Go(i,"#");(this.options.pedantic||!l||/ $/.test(l))&&(i=l.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Go(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let i=Go(t[0],`
`).split(`
`),l="",o="";const s=[];for(;i.length>0;){let u=!1;const c=[];let f;for(f=0;f<i.length;f++)if(/^ {0,3}>/.test(i[f]))c.push(i[f]),u=!0;else if(!u)c.push(i[f]);else break;i=i.slice(f);const d=c.join(`
`),m=d.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");l=l?`${l}
${d}`:d,o=o?`${o}
${m}`:m;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(m,s,!0),this.lexer.state.top=h,i.length===0)break;const p=s[s.length-1];if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){const x=p,S=x.raw+`
`+i.join(`
`),_=this.blockquote(S);s[s.length-1]=_,l=l.substring(0,l.length-x.raw.length)+_.raw,o=o.substring(0,o.length-x.text.length)+_.text;break}else if((p==null?void 0:p.type)==="list"){const x=p,S=x.raw+`
`+i.join(`
`),_=this.list(S);s[s.length-1]=_,l=l.substring(0,l.length-p.raw.length)+_.raw,o=o.substring(0,o.length-x.raw.length)+_.raw,i=S.substring(s[s.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:s,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const l=i.length>1,o={type:"list",raw:"",ordered:l,start:l?+i.slice(0,-1):"",loose:!1,items:[]};i=l?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=l?i:"[*+-]");const s=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`);let u=!1;for(;e;){let c=!1,f="",d="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;f=t[0],e=e.substring(f.length);let m=t[2].split(`
`,1)[0].replace(/^\t+/,y=>" ".repeat(3*y.length)),h=e.split(`
`,1)[0],p=!m.trim(),x=0;if(this.options.pedantic?(x=2,d=m.trimStart()):p?x=t[1].length+1:(x=t[2].search(/[^ ]/),x=x>4?1:x,d=m.slice(x),x+=t[1].length),p&&/^ *$/.test(h)&&(f+=h+`
`,e=e.substring(h.length+1),c=!0),!c){const y=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),v=new RegExp(`^ {0,${Math.min(3,x-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),T=new RegExp(`^ {0,${Math.min(3,x-1)}}(?:\`\`\`|~~~)`),C=new RegExp(`^ {0,${Math.min(3,x-1)}}#`);for(;e;){const b=e.split(`
`,1)[0];if(h=b,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),T.test(h)||C.test(h)||y.test(h)||v.test(e))break;if(h.search(/[^ ]/)>=x||!h.trim())d+=`
`+h.slice(x);else{if(p||m.search(/[^ ]/)>=4||T.test(m)||C.test(m)||v.test(m))break;d+=`
`+h}!p&&!h.trim()&&(p=!0),f+=b+`
`,e=e.substring(b.length+1),m=h.slice(x)}}o.loose||(u?o.loose=!0:/\n *\n *$/.test(f)&&(u=!0));let S=null,_;this.options.gfm&&(S=/^\[[ xX]\] /.exec(d),S&&(_=S[0]!=="[ ] ",d=d.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:f,task:!!S,checked:_,loose:!1,text:d,tokens:[]}),o.raw+=f}o.items[o.items.length-1].raw=o.items[o.items.length-1].raw.trimEnd(),o.items[o.items.length-1].text=o.items[o.items.length-1].text.trimEnd(),o.raw=o.raw.trimEnd();for(let c=0;c<o.items.length;c++)if(this.lexer.state.top=!1,o.items[c].tokens=this.lexer.blockTokens(o.items[c].text,[]),!o.loose){const f=o.items[c].tokens.filter(m=>m.type==="space"),d=f.length>0&&f.some(m=>/\n.*\n/.test(m.raw));o.loose=d}if(o.loose)for(let c=0;c<o.items.length;c++)o.items[c].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),l=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:l,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const i=Lp(t[1]),l=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===l.length){for(const u of l)/^ *-+: *$/.test(u)?s.align.push("right"):/^ *:-+: *$/.test(u)?s.align.push("center"):/^ *:-+ *$/.test(u)?s.align.push("left"):s.align.push(null);for(let u=0;u<i.length;u++)s.header.push({text:i[u],tokens:this.lexer.inline(i[u]),header:!0,align:s.align[u]});for(const u of o)s.rows.push(Lp(u,s.header.length).map((c,f)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:s.align[f]})));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Xt(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const s=Go(i.slice(0,-1),"\\");if((i.length-s.length)%2===0)return}else{const s=qN(t[2],"()");if(s>-1){const c=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let l=t[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);s&&(l=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(i)?l=l.slice(1):l=l.slice(1,-1)),Op(t,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const l=(i[2]||i[1]).replace(/\s+/g," "),o=t[l.toLowerCase()];if(!o){const s=i[0].charAt(0);return{type:"text",raw:s,text:s}}return Op(i,o,i[0],this.lexer)}}emStrong(e,t,i=""){let l=this.rules.inline.emStrongLDelim.exec(e);if(!l||l[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(l[1]||l[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const s=[...l[0]].length-1;let u,c,f=s,d=0;const m=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(m.lastIndex=0,t=t.slice(-1*e.length+s);(l=m.exec(t))!=null;){if(u=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!u)continue;if(c=[...u].length,l[3]||l[4]){f+=c;continue}else if((l[5]||l[6])&&s%3&&!((s+c)%3)){d+=c;continue}if(f-=c,f>0)continue;c=Math.min(c,c+f+d);const h=[...l[0]][0].length,p=e.slice(0,s+l.index+h+c);if(Math.min(s,c)%2){const S=p.slice(1,-1);return{type:"em",raw:p,text:S,tokens:this.lexer.inlineTokens(S)}}const x=p.slice(2,-2);return{type:"strong",raw:p,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const l=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return l&&o&&(i=i.substring(1,i.length-1)),i=Xt(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let i,l;return t[2]==="@"?(i=Xt(t[1]),l="mailto:"+i):(i=Xt(t[1]),l=i),{type:"link",raw:t[0],text:i,href:l,tokens:[{type:"text",raw:i,text:i}]}}}url(e){var i;let t;if(t=this.rules.inline.url.exec(e)){let l,o;if(t[2]==="@")l=Xt(t[0]),o="mailto:"+l;else{let s;do s=t[0],t[0]=((i=this.rules.inline._backpedal.exec(t[0]))==null?void 0:i[0])??"";while(s!==t[0]);l=Xt(t[0]),t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:l,href:o,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let i;return this.lexer.state.inRawBlock?i=t[0]:i=Xt(t[0]),{type:"text",raw:t[0],text:i}}}}const YN=/^(?: *(?:\n|$))+/,FN=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,ZN=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Xs=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,KN=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,A0=/(?:[*+-]|\d{1,9}[.)])/,b0=Ue(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,A0).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),md=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,JN=/^[^\n]+/,pd=/(?!\s*\])(?:\\.|[^\[\]\\])+/,XN=Ue(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",pd).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),QN=Ue(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,A0).getRegex(),Jr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",gd=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,WN=Ue("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",gd).replace("tag",Jr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),M0=Ue(md).replace("hr",Xs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jr).getRegex(),jN=Ue(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",M0).getRegex(),yd={blockquote:jN,code:FN,def:XN,fences:ZN,heading:KN,hr:Xs,html:WN,lheading:b0,list:QN,newline:YN,paragraph:M0,table:ds,text:JN},Vp=Ue("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Xs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jr).getRegex(),ew={...yd,table:Vp,paragraph:Ue(md).replace("hr",Xs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Vp).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jr).getRegex()},tw={...yd,html:Ue(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",gd).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ds,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ue(md).replace("hr",Xs).replace("heading",` *#{1,6} *[^
]`).replace("lheading",b0).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},N0=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,nw=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,w0=/^( {2,}|\\)\n(?!\s*$)/,iw=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Qs="\\p{P}\\p{S}",lw=Ue(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Qs).getRegex(),ow=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,sw=Ue(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Qs).getRegex(),aw=Ue("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Qs).getRegex(),rw=Ue("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Qs).getRegex(),uw=Ue(/\\([punct])/,"gu").replace(/punct/g,Qs).getRegex(),cw=Ue(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),fw=Ue(gd).replace("(?:-->|$)","-->").getRegex(),dw=Ue("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",fw).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_r=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,hw=Ue(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",_r).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),R0=Ue(/^!?\[(label)\]\[(ref)\]/).replace("label",_r).replace("ref",pd).getRegex(),D0=Ue(/^!?\[(ref)\](?:\[\])?/).replace("ref",pd).getRegex(),mw=Ue("reflink|nolink(?!\\()","g").replace("reflink",R0).replace("nolink",D0).getRegex(),vd={_backpedal:ds,anyPunctuation:uw,autolink:cw,blockSkip:ow,br:w0,code:nw,del:ds,emStrongLDelim:sw,emStrongRDelimAst:aw,emStrongRDelimUnd:rw,escape:N0,link:hw,nolink:D0,punctuation:lw,reflink:R0,reflinkSearch:mw,tag:dw,text:iw,url:ds},pw={...vd,link:Ue(/^!?\[(label)\]\((.*?)\)/).replace("label",_r).getRegex(),reflink:Ue(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_r).getRegex()},sf={...vd,escape:Ue(N0).replace("])","~|])").getRegex(),url:Ue(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},gw={...sf,br:Ue(w0).replace("{2,}","*").getRegex(),text:Ue(sf.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ya={normal:yd,gfm:ew,pedantic:tw},qo={normal:vd,gfm:sf,breaks:gw,pedantic:pw};class Nn{constructor(e){Be(this,"tokens");Be(this,"options");Be(this,"state");Be(this,"tokenizer");Be(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||vl,this.options.tokenizer=this.options.tokenizer||new Cr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:ya.normal,inline:qo.normal};this.options.pedantic?(t.block=ya.pedantic,t.inline=qo.pedantic):this.options.gfm&&(t.block=ya.gfm,this.options.breaks?t.inline=qo.breaks:t.inline=qo.gfm),this.tokenizer.rules=t}static get rules(){return{block:ya,inline:qo}}static lex(e,t){return new Nn(t).lex(e)}static lexInline(e,t){return new Nn(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],i=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(u,c,f)=>c+"    ".repeat(f.length));let l,o,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(l=u.call({lexer:this},e,t))?(e=e.substring(l.raw.length),t.push(l),!0):!1))){if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length),l.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+l.raw,o.text+=`
`+l.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+l.raw,o.text+=`
`+l.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),t.push(l);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let u=1/0;const c=e.slice(1);let f;this.options.extensions.startBlock.forEach(d=>{f=d.call({lexer:this},c),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(this.state.top&&(l=this.tokenizer.paragraph(s))){o=t[t.length-1],i&&(o==null?void 0:o.type)==="paragraph"?(o.raw+=`
`+l.raw,o.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(l),i=s.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length),o=t[t.length-1],o&&o.type==="text"?(o.raw+=`
`+l.raw,o.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(l);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,l,o,s=e,u,c,f;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)d.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,u.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(i=d.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),l=t[t.length-1],l&&i.type==="text"&&l.type==="text"?(l.raw+=i.raw,l.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),l=t[t.length-1],l&&i.type==="text"&&l.type==="text"?(l.raw+=i.raw,l.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,s,f)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const m=e.slice(1);let h;this.options.extensions.startInline.forEach(p=>{h=p.call({lexer:this},m),typeof h=="number"&&h>=0&&(d=Math.min(d,h))}),d<1/0&&d>=0&&(o=e.substring(0,d+1))}if(i=this.tokenizer.inlineText(o)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(f=i.raw.slice(-1)),c=!0,l=t[t.length-1],l&&l.type==="text"?(l.raw+=i.raw,l.text+=i.text):t.push(i);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}}class Er{constructor(e){Be(this,"options");Be(this,"parser");this.options=e||vl}space(e){return""}code({text:e,lang:t,escaped:i}){var s;const l=(s=(t||"").match(/^\S*/))==null?void 0:s[0],o=e.replace(/\n$/,"")+`
`;return l?'<pre><code class="language-'+Xt(l)+'">'+(i?o:Xt(o,!0))+`</code></pre>
`:"<pre><code>"+(i?o:Xt(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,i=e.start;let l="";for(let u=0;u<e.items.length;u++){const c=e.items[u];l+=this.listitem(c)}const o=t?"ol":"ul",s=t&&i!==1?' start="'+i+'"':"";return"<"+o+s+`>
`+l+"</"+o+`>
`}listitem(e){let t="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" "}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",i="";for(let o=0;o<e.header.length;o++)i+=this.tablecell(e.header[o]);t+=this.tablerow({text:i});let l="";for(let o=0;o<e.rows.length;o++){const s=e.rows[o];i="";for(let u=0;u<s.length;u++)i+=this.tablecell(s[u]);l+=this.tablerow({text:i})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+l+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+t+`</${i}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:i}){const l=this.parser.parseInline(i),o=Up(e);if(o===null)return l;e=o;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+l+"</a>",s}image({href:e,title:t,text:i}){const l=Up(e);if(l===null)return i;e=l;let o=`<img src="${e}" alt="${i}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class xd{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class wn{constructor(e){Be(this,"options");Be(this,"renderer");Be(this,"textRenderer");this.options=e||vl,this.options.renderer=this.options.renderer||new Er,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new xd}static parse(e,t){return new wn(t).parse(e)}static parseInline(e,t){return new wn(t).parseInline(e)}parse(e,t=!0){let i="";for(let l=0;l<e.length;l++){const o=e[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const u=o,c=this.options.extensions.renderers[u.type].call({parser:this},u);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){i+=c||"";continue}}const s=o;switch(s.type){case"space":{i+=this.renderer.space(s);continue}case"hr":{i+=this.renderer.hr(s);continue}case"heading":{i+=this.renderer.heading(s);continue}case"code":{i+=this.renderer.code(s);continue}case"table":{i+=this.renderer.table(s);continue}case"blockquote":{i+=this.renderer.blockquote(s);continue}case"list":{i+=this.renderer.list(s);continue}case"html":{i+=this.renderer.html(s);continue}case"paragraph":{i+=this.renderer.paragraph(s);continue}case"text":{let u=s,c=this.renderer.text(u);for(;l+1<e.length&&e[l+1].type==="text";)u=e[++l],c+=`
`+this.renderer.text(u);t?i+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c}]}):i+=c;continue}default:{const u='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let l=0;l<e.length;l++){const o=e[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=u||"";continue}}const s=o;switch(s.type){case"escape":{i+=t.text(s);break}case"html":{i+=t.html(s);break}case"link":{i+=t.link(s);break}case"image":{i+=t.image(s);break}case"strong":{i+=t.strong(s);break}case"em":{i+=t.em(s);break}case"codespan":{i+=t.codespan(s);break}case"br":{i+=t.br(s);break}case"del":{i+=t.del(s);break}case"text":{i+=t.text(s);break}default:{const u='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}}class hs{constructor(e){Be(this,"options");this.options=e||vl}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}Be(hs,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var oi,k0,af,I0;class yw{constructor(...e){Dd(this,oi);Be(this,"defaults",hd());Be(this,"options",this.setOptions);Be(this,"parse",ko(this,oi,af).call(this,Nn.lex,wn.parse));Be(this,"parseInline",ko(this,oi,af).call(this,Nn.lexInline,wn.parseInline));Be(this,"Parser",wn);Be(this,"Renderer",Er);Be(this,"TextRenderer",xd);Be(this,"Lexer",Nn);Be(this,"Tokenizer",Cr);Be(this,"Hooks",hs);this.use(...e)}walkTokens(e,t){var l,o;let i=[];for(const s of e)switch(i=i.concat(t.call(this,s)),s.type){case"table":{const u=s;for(const c of u.header)i=i.concat(this.walkTokens(c.tokens,t));for(const c of u.rows)for(const f of c)i=i.concat(this.walkTokens(f.tokens,t));break}case"list":{const u=s;i=i.concat(this.walkTokens(u.items,t));break}default:{const u=s;(o=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&o[u.type]?this.defaults.extensions.childTokens[u.type].forEach(c=>{const f=u[c].flat(1/0);i=i.concat(this.walkTokens(f,t))}):u.tokens&&(i=i.concat(this.walkTokens(u.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const l={...i};if(l.async=this.defaults.async||l.async||!1,i.extensions&&(i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const s=t.renderers[o.name];s?t.renderers[o.name]=function(...u){let c=o.renderer.apply(this,u);return c===!1&&(c=s.apply(this,u)),c}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=t[o.level];s?s.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),l.extensions=t),i.renderer){const o=this.defaults.renderer||new Er(this.defaults);for(const s in i.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const u=s;let c=i.renderer[u];i.useNewRenderer||(c=ko(this,oi,k0).call(this,c,u,o));const f=o[u];o[u]=(...d)=>{let m=c.apply(o,d);return m===!1&&(m=f.apply(o,d)),m||""}}l.renderer=o}if(i.tokenizer){const o=this.defaults.tokenizer||new Cr(this.defaults);for(const s in i.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const u=s,c=i.tokenizer[u],f=o[u];o[u]=(...d)=>{let m=c.apply(o,d);return m===!1&&(m=f.apply(o,d)),m}}l.tokenizer=o}if(i.hooks){const o=this.defaults.hooks||new hs;for(const s in i.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;const u=s,c=i.hooks[u],f=o[u];hs.passThroughHooks.has(s)?o[u]=d=>{if(this.defaults.async)return Promise.resolve(c.call(o,d)).then(h=>f.call(o,h));const m=c.call(o,d);return f.call(o,m)}:o[u]=(...d)=>{let m=c.apply(o,d);return m===!1&&(m=f.apply(o,d)),m}}l.hooks=o}if(i.walkTokens){const o=this.defaults.walkTokens,s=i.walkTokens;l.walkTokens=function(u){let c=[];return c.push(s.call(this,u)),o&&(c=c.concat(o.call(this,u))),c}}this.defaults={...this.defaults,...l}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Nn.lex(e,t??this.defaults)}parser(e,t){return wn.parse(e,t??this.defaults)}}oi=new WeakSet,k0=function(e,t,i){switch(t){case"heading":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,i.parser.parseInline(l.tokens),l.depth,zN(i.parser.parseInline(l.tokens,i.parser.textRenderer)))};case"code":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text,l.lang,!!l.escaped)};case"table":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);let o="",s="";for(let c=0;c<l.header.length;c++)s+=this.tablecell({text:l.header[c].text,tokens:l.header[c].tokens,header:!0,align:l.align[c]});o+=this.tablerow({text:s});let u="";for(let c=0;c<l.rows.length;c++){const f=l.rows[c];s="";for(let d=0;d<f.length;d++)s+=this.tablecell({text:f[d].text,tokens:f[d].tokens,header:!1,align:l.align[d]});u+=this.tablerow({text:s})}return e.call(this,o,u)};case"blockquote":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);const o=this.parser.parse(l.tokens);return e.call(this,o)};case"list":return function(l){if(!l.type||l.type!==t)return e.apply(this,arguments);const o=l.ordered,s=l.start,u=l.loose;let c="";for(let f=0;f<l.items.length;f++){const d=l.items[f],m=d.checked,h=d.task;let p="";if(d.task){const x=this.checkbox({checked:!!m});u?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=x+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=x+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:x+" "}):p+=x+" "}p+=this.parser.parse(d.tokens,u),c+=this.listitem({type:"list_item",raw:p,text:p,task:h,checked:!!m,loose:u,tokens:d.tokens})}return e.call(this,c,o,s)};case"html":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text,l.block)};case"paragraph":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"escape":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)};case"link":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.href,l.title,this.parser.parseInline(l.tokens))};case"image":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.href,l.title,l.text)};case"strong":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"em":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"codespan":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)};case"del":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(l.tokens))};case"text":return function(l){return!l.type||l.type!==t?e.apply(this,arguments):e.call(this,l.text)}}return e},af=function(e,t){return(i,l)=>{const o={...l},s={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const u=ko(this,oi,I0).call(this,!!s.silent,!!s.async);if(typeof i>"u"||i===null)return u(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return u(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(i):i).then(c=>e(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>t(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(u);try{s.hooks&&(i=s.hooks.preprocess(i));let c=e(i,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let f=t(c,s);return s.hooks&&(f=s.hooks.postprocess(f)),f}catch(c){return u(c)}}},I0=function(e,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const l="<p>An error occurred:</p><pre>"+Xt(i.message+"",!0)+"</pre>";return t?Promise.resolve(l):l}if(t)return Promise.reject(i);throw i}};const hl=new yw;function be(n,e){return hl.parse(n,e)}be.options=be.setOptions=function(n){return hl.setOptions(n),be.defaults=hl.defaults,C0(be.defaults),be};be.getDefaults=hd;be.defaults=vl;be.use=function(...n){return hl.use(...n),be.defaults=hl.defaults,C0(be.defaults),be};be.walkTokens=function(n,e){return hl.walkTokens(n,e)};be.parseInline=hl.parseInline;be.Parser=wn;be.parser=wn.parse;be.Renderer=Er;be.TextRenderer=xd;be.Lexer=Nn;be.lexer=Nn.lex;be.Tokenizer=Cr;be.Hooks=hs;be.parse=be;be.options;be.setOptions;be.use;be.walkTokens;be.parseInline;wn.parse;Nn.lex;const Bu="smartcalendar:geminiApiKey",Pu="smartcalendar:openRouterApiKey",$p="smartcalendar:aiProviderPreference",zu="smartcalendar:openRouterModel",U0=A.createContext(void 0);function vw({children:n}){const[e,t]=A.useState(()=>(localStorage.getItem(Bu)??"").trim()),[i,l]=A.useState(()=>(localStorage.getItem(Pu)??"").trim()),[o,s]=A.useState(()=>{const _=(localStorage.getItem($p)??"").trim();return _==="auto"||_==="gemini"||_==="openrouter"?_:"auto"}),[u,c]=A.useState(()=>(localStorage.getItem(zu)??"").trim()),f=A.useCallback(_=>{const y=_.trim();t(y),y?localStorage.setItem(Bu,y):localStorage.removeItem(Bu)},[]),d=A.useCallback(_=>{const y=_.trim();l(y),y?localStorage.setItem(Pu,y):localStorage.removeItem(Pu)},[]),m=A.useCallback(_=>{s(_),localStorage.setItem($p,_)},[]),h=A.useCallback(_=>{const y=_.trim();c(y),y?localStorage.setItem(zu,y):localStorage.removeItem(zu)},[]),p=A.useCallback(()=>{f("")},[f]),x=A.useCallback(()=>{d("")},[d]),S=A.useMemo(()=>({apiKey:e,openRouterApiKey:i,aiProviderPreference:o,openRouterModel:u,setApiKey:f,setOpenRouterApiKey:d,setAiProviderPreference:m,setOpenRouterModel:h,clearApiKey:p,clearOpenRouterApiKey:x}),[e,i,o,u,f,d,m,h,p,x]);return g.jsx(U0.Provider,{value:S,children:n})}function Td(){const n=A.useContext(U0);if(!n)throw new Error("useApiKey must be used within an ApiKeyProvider");return n}const xw="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let L0=(n=21)=>{let e="",t=crypto.getRandomValues(new Uint8Array(n|=0));for(;n--;)e+=xw[t[n]&63];return e};const Tw="https://openrouter.ai/api/v1/chat/completions",Bp=["mistralai/mistral-7b-instruct:free","meta-llama/llama-3.2-3b-instruct:free","google/gemma-3-4b-it:free","openai/gpt-oss-20b:free"];async function rf({apiKey:n,messages:e,model:t,temperature:i=.2}){var s,u,c,f;const l=t?[t,...Bp]:[...Bp];let o=null;for(const d of l)try{const m=await fetch(Tw,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"SmartCalendar"},body:JSON.stringify({model:d,messages:e,temperature:i})}),h=await m.text();if(!m.ok)try{const S=JSON.parse(h),_=(s=S==null?void 0:S.error)==null?void 0:s.message;throw new Error(_||`OpenRouter   (${m.status}) - model=${d}`)}catch{throw new Error(`OpenRouter   (${m.status}) - model=${d}`)}const p=JSON.parse(h),x=(f=(c=(u=p==null?void 0:p.choices)==null?void 0:u[0])==null?void 0:c.message)==null?void 0:f.content;if(!x||typeof x!="string")throw new Error("OpenRouter   .");return x}catch(m){o=m}throw o instanceof Error?o:new Error("OpenRouter  ")}const Sw=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-slate-400 group-hover:text-cyan-400 transition-colors",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),Cw=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-slate-400 group-hover:text-cyan-400 transition-colors",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})}),Pp=()=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),_w=({className:n=""})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-5 h-5 ${n}`,children:g.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})}),zp=({className:n=""})=>g.jsx("div",{className:`animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-cyan-500 ${n}`}),Ew=({className:n=""})=>g.jsx("div",{className:`h-4 w-4 rounded-full border-2 border-slate-500 ${n}`}),Aw=({className:n=""})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-4 h-4 ${n}`,children:g.jsx("path",{d:"M10 4.5a.75.75 0 01.75.75v4h4a.75.75 0 010 1.5h-4v4a.75.75 0 01-1.5 0v-4h-4a.75.75 0 010-1.5h4v-4A.75.75 0 0110 4.5z"})}),Gu=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},Gp=n=>{const[e,t,i]=n.split("-").map(Number);return{year:e,month:t,day:i}},bw=(n,e,t)=>{const i=String(n).padStart(4,"0"),l=String(e).padStart(2,"0"),o=String(t).padStart(2,"0");return`${i}-${l}-${o}`},Sd=n=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n),to=n=>typeof n=="string"&&Et.includes(n),O0=n=>n==="manual"||n==="ai",Mw=()=>{try{const n=localStorage.getItem(Mo);if(!n)return[];const e=JSON.parse(n);return Array.isArray(e)?e.map(i=>{if(!i||typeof i!="object")return null;const l=i,o=l.id,s=l.date,u=l.title,c=l.category,f=l.source;if(typeof o!="string"||!Sd(s)||typeof u!="string")return null;const d=to(c)?c:Qn,m=O0(f)?f:"manual";return{id:o,date:s,title:u,category:d,kind:"user",source:m}}).filter(i=>!!i):[]}catch{return[]}},Nw=n=>{try{const e=n.map(({id:t,date:i,title:l,category:o,source:s})=>({id:t,date:i,title:l,category:o,source:s}));localStorage.setItem(Mo,JSON.stringify(e))}catch{}},V0="smartcalendar:eventFilters",yn=["manual","ai"],ww=()=>{try{const n=localStorage.getItem(V0);if(!n)return{categories:[...Et],sources:[...yn]};const e=JSON.parse(n);if(!e||typeof e!="object"||Array.isArray(e))return{categories:[...Et],sources:[...yn]};const t=e,i=t.categories,l=t.sources,o=new Set;if(Array.isArray(i))for(const f of i)to(f)&&o.add(f);const s=new Set;if(Array.isArray(l))for(const f of l)O0(f)&&s.add(f);let u=[...Et];Array.isArray(i)&&(u=Et.filter(f=>o.has(f)),u.length===0&&i.length>0&&(u=[...Et]));let c=[...yn];return Array.isArray(l)&&(c=yn.filter(f=>s.has(f)),c.length===0&&l.length>0&&(c=[...yn])),{categories:u,sources:c}}catch{return{categories:[...Et],sources:[...yn]}}},Rw=n=>{try{localStorage.setItem(V0,JSON.stringify({categories:n.categories,sources:n.sources}))}catch{}},Dw=()=>{try{const n=localStorage.getItem(Hr);if(!n)return{};const e=JSON.parse(n);if(!e||typeof e!="object"||Array.isArray(e))return{};const t={};for(const[i,l]of Object.entries(e)){if(!l||typeof l!="object"||Array.isArray(l))continue;const o=l,s={};Sd(o.date)&&(s.date=o.date),typeof o.title=="string"&&o.title.trim()&&(s.title=o.title.trim()),to(o.category)&&(s.category=o.category),(s.date||s.title||s.category)&&(t[i]=s)}return t}catch{return{}}},kw=n=>{try{localStorage.setItem(Hr,JSON.stringify(n))}catch{}},va=["  ...","    (Google Search)...","   K-   ...","   ...","   ...","     ..."],Iw=({scheduleText:n,manualContextText:e})=>{const{apiKey:t,openRouterApiKey:i,aiProviderPreference:l,openRouterModel:o}=Td(),{colors:s}=Gi(),[u,c]=A.useState(new Date),[f,d]=A.useState("month"),[m,h]=A.useState([]),[p,x]=A.useState({}),S=A.useMemo(()=>m.map(E=>{const U=p[E.id];return U?{...E,date:U.date??E.date,title:U.title??E.title,category:U.category??E.category}:E}),[m,p]),[_,y]=A.useState([]),v=A.useMemo(()=>[...S,..._],[S,_]),[{categories:T,sources:C}]=A.useState(()=>ww()),[b,w]=A.useState(T),[N,D]=A.useState(C),[P,V]=A.useState(!1),ue=A.useRef(null);A.useEffect(()=>{Rw({categories:b,sources:N})},[b,N]),A.useEffect(()=>{if(!P)return;const E=U=>{const L=ue.current;L&&(U.target instanceof Node&&L.contains(U.target)||V(!1))};return window.addEventListener("mousedown",E),()=>window.removeEventListener("mousedown",E)},[P]);const xe=A.useMemo(()=>new Set(b),[b]),Ot=A.useMemo(()=>new Set(N),[N]),it=A.useMemo(()=>v.filter(E=>xe.has(E.category)&&Ot.has(E.source)),[v,xe,Ot]),Mt=b.length===Et.length&&N.length===yn.length,$=()=>{if(Mt){w([]),D([]);return}w([...Et]),D([...yn])},le=E=>{w(U=>{const L=new Set(U);return L.has(E)?L.delete(E):L.add(E),Et.filter(k=>L.has(k))})},ne=E=>{D(U=>{const L=new Set(U);return L.has(E)?L.delete(E):L.add(E),yn.filter(k=>L.has(k))})},Re=()=>{w([...Et]),D([...yn])},[re,Nt]=A.useState(null),[Ht,I]=A.useState({}),[Z,q]=A.useState({}),[O,z]=A.useState(!1),[_e,Ve]=A.useState(null),[F,J]=A.useState(null),[ie,K]=A.useState(0),ye=A.useRef(0),De=A.useRef(0),[_t,Je]=A.useState(!0),[Me,Ge]=A.useState(null),[wt,Sn]=A.useState(new Set),[Qe,Vt]=A.useState(null),[Ro,ri]=A.useState(null),Cn=A.useRef(!1),xl=new Date,[lt,$t]=A.useState(!1),[he,$e]=A.useState("create"),[Le,ln]=A.useState(null),[dt,Yt]=A.useState("user"),[Vn,Hi]=A.useState(""),[Y,Ee]=A.useState(Qn),[yt,$n]=A.useState(xl.getFullYear()),[ui,Xr]=A.useState(xl.getMonth()+1),[Do,Ws]=A.useState(xl.getDate()),[Cd,ci]=A.useState(null),Qr=A.useMemo(()=>{if(!t)return null;try{return new S0({apiKey:t})}catch(E){return console.error("Failed to initialize Gemini AI:",E),null}},[t]),Bn=A.useMemo(()=>{const E=!!t,U=!!i;return l==="gemini"?E?"gemini":U?"openrouter":null:l==="openrouter"?U?"openrouter":E?"gemini":null:E?"gemini":U?"openrouter":null},[l,t,i]);A.useEffect(()=>{const E=()=>y(Mw());return E(),window.addEventListener(dr,E),()=>window.removeEventListener(dr,E)},[]),A.useEffect(()=>{Nw(_)},[_]),A.useEffect(()=>{const E=()=>x(Dw());return E(),window.addEventListener(zc,E),()=>window.removeEventListener(zc,E)},[]),A.useEffect(()=>{kw(p)},[p]),A.useEffect(()=>{(U=>{Je(!0),Ge(null);const L=new Date().getFullYear(),k=im,X=[];let Ae=1;if(!U||U.trim()===""){Ge("   ."),h([]),Je(!1);return}const j=U.split(`
`).filter(me=>me.trim()!=="");if(j.length===0){Ge("    ."),h([]),Je(!1);return}j.forEach((me,vt)=>{const Ft=me.split(";").map(pn=>pn.trim());if(Ft.length===3){const pn=Ft[0],pe=Ft[1],ce=Ft[2],qe=pn.match(/(\d+)/),rt=pe.match(/(\d+)/);if(qe&&rt&&ce){const We=parseInt(qe[1],10)-1,xt=parseInt(rt[1],10);if(We>=0&&We<12&&xt>0&&xt<=31){const di=ce.split(",").map(Rt=>Rt.trim()).filter(Rt=>Rt);for(let Rt=L;Rt<=k;Rt++)di.forEach(Pn=>{const zn=new Date(Rt,We,xt);zn.getFullYear()===Rt&&zn.getMonth()===We&&zn.getDate()===xt&&X.push({id:`event-${Rt}-${We+1}-${xt}-${Pn.substring(0,10).replace(/[^a-zA-Z0-9----]/g,"")}-${Ae++}`,date:Gu(zn),title:Pn,kind:"builtin",category:Qn,source:"manual"})})}else console.warn(`Invalid date components (month or day out of range) in schedule data on line ${vt+1}: ${me}`)}else console.warn(`Invalid format (month/day regex mismatch) in schedule data on line ${vt+1}: ${me}`)}else me.trim()&&console.warn(`Skipping malformed line (expected 3 parts separated by ';') in schedule data on line ${vt+1}: ${me}`)}),h(X),j.length>0&&X.length===0&&Ge("      .  (: 1 ; 1 ; ) ."),Je(!1)})(n)},[n]),A.useEffect(()=>{let E;if(O&&ie<va.length){const U=1300+Math.random()*1500;E=window.setTimeout(()=>{K(L=>L+1)},U)}return()=>clearTimeout(E)},[O,ie]);const _d=E=>{c(U=>{const L=new Date(U);return L.setDate(1),L.setMonth(L.getMonth()+E),L}),Sn(new Set)},Ed=E=>{c(U=>{const L=new Date(U);return L.setDate(L.getDate()+E*7),L})},Yi=u.getFullYear(),Tl=u.getMonth(),z0=new Date(Yi,Tl+1,0).getDate(),G0=new Date(Yi,Tl,1).getDay(),Wr=new Date,Ad=A.useCallback(async E=>{if(Ht[E.id])return;const U=ye.current+1;if(ye.current=U,De.current=U,Ve(E.id),z(!0),K(0),J(null),!Bn){De.current===U&&(J("AI    . API   ."),z(!1));return}if(Bn==="gemini"&&!Qr){De.current===U&&(J("AI    . Gemini  ."),z(!1));return}try{const L=Bn==="gemini"?" Google      ,     . Markdown       .":"     ,  K-/NEIS       . Markdown       .";let k=`    : '${E.title}'${E.category?` ( : ${E.category})`:""}.
 : ${E.date}
        (       ):

1.  **/ **:        . (3-4 )
2.  ****:          . **          ** .     (: "1. [/]  .", "2.   [] > [ ]    .", "3. []  .", "4.       .", "5.     []  []    .")  .
            :
        1.       ,   YouTube 
        2.      
        3.        
    K-  NEIS   ,           .            .      " "  "       ."   .`;e&&(k+=`
3.  ** **:     ,   '${E.title}' /      , , ,     .       "  " .

---    ---
${e}
---    ---`),k+=`

${L}`;let X,Ae;if(Bn==="gemini"){const j=async pn=>{var rt,We,xt;const pe=await Qr.models.generateContent({model:"gemini-2.5-flash",contents:pn,config:{thinkingConfig:{thinkingBudget:3e3},tools:[{googleSearch:{}}]}}),ce=((xt=(We=(rt=pe.candidates)==null?void 0:rt[0])==null?void 0:We.groundingMetadata)==null?void 0:xt.groundingChunks)??[],qe=ce.filter(di=>{var Rt;return(Rt=di.web)==null?void 0:Rt.uri});return{response:pe,groundingChunks:ce,webChunks:qe}};let{response:me,groundingChunks:vt,webChunks:Ft}=await j(k);Ft.length===0&&({response:me,groundingChunks:vt}=await j(`${k}

:  googleSearch    1 web.uri  .`)),X=me.text,Ae=vt}else X=await rf({apiKey:i,model:o.trim()||void 0,messages:[{role:"system",content:"      .   ,      ."},{role:"user",content:k}],temperature:.2}),Ae=void 0;X?I(j=>({...j,[E.id]:X})):De.current===U&&J("AI    ."),Ae&&Ae.length>0?q(j=>({...j,[E.id]:Ae})):Bn==="openrouter"&&q(j=>{if(!j[E.id])return j;const me={...j};return delete me[E.id],me})}catch(L){console.error("Error generating event description:",L);let k="    .    .";L instanceof Error&&(L.message.includes("API key not valid")?k="API   . .":L.message.includes("OpenRouter")&&(L.message.includes("401")||L.message.toLowerCase().includes("unauthorized"))?k="OpenRouter API   . .":L.message.includes("quota")?k="API   .":(L.message.toLowerCase().includes("failed to fetch")||L.message.toLowerCase().includes("network"))&&(k="  .   .")),De.current===U&&J(k)}finally{De.current===U&&(z(!1),K(va.length))}},[Bn,Qr,i,o,Ht,e]),bd=E=>{Nt(E),J(null),Ad(E)},Fi=A.useCallback(E=>{I(U=>{if(!U[E])return U;const L={...U};return delete L[E],L}),q(U=>{if(!U[E])return U;const L={...U};return delete L[E],L})},[]),Md=A.useCallback((E,U)=>{if(!E||!Sd(U))return;const L=_.find(X=>X.id===E);if(L){if(L.date===U)return;y(X=>X.map(Ae=>Ae.id===E?{...Ae,date:U}:Ae)),Fi(E),Nt(X=>X&&X.id===E?{...X,date:U}:X);return}const k=m.find(X=>X.id===E);k&&(k.date===U?x(X=>{const Ae=X[E];if(!Ae)return X;const j={...Ae};delete j.date;const me={...X};return!j.date&&!j.title&&!j.category?delete me[E]:me[E]=j,me}):x(X=>{const j={...X[E]??{}};j.date=U;const me={...X};return me[E]=j,me}),Fi(E),Nt(X=>X&&X.id===E?{...X,date:U}:X))},[_,m,Fi]),jr=E=>{const{year:U,month:L,day:k}=Gp(E);!Number.isFinite(U)||!Number.isFinite(L)||!Number.isFinite(k)||($e("create"),ln(null),Yt("user"),Hi(""),Ee(Qn),$n(U),Xr(L),Ws(k),ci(null),$t(!0))},q0=E=>{const{year:U,month:L,day:k}=Gp(E.date);!Number.isFinite(U)||!Number.isFinite(L)||!Number.isFinite(k)||($e("edit"),ln(E.id),Yt(E.kind),Hi(E.title),Ee(E.category??Qn),$n(U),Xr(L),Ws(k),ci(null),$t(!0))},fi=()=>{$t(!1),ci(null)},js=A.useMemo(()=>new Date(yt,ui,0).getDate(),[yt,ui]);A.useEffect(()=>{Do>js&&Ws(js)},[Do,js]);const H0=A.useMemo(()=>{const E=new Date().getFullYear(),U=Math.min(E,yt),L=Math.max(im,E+2,yt);return Array.from({length:L-U+1},(k,X)=>U+X)},[yt]),Y0=()=>{const E=Vn.trim();if(!E){ci("  .");return}const U=bw(yt,ui,Do),L=new Date(yt,ui-1,Do);if(Number.isNaN(L.getTime())||Gu(L)!==U){ci("  .");return}if(he==="create"){const k=to(Y)?Y:null;if(!k){ci(" .");return}const X={id:`user-${L0(10)}`,date:U,title:E,category:k,kind:"user",source:"manual"};y(Ae=>[X,...Ae]),fi();return}if(!Le){ci("   .");return}if(dt==="user"){const k=to(Y)?Y:null;if(!k){ci(" .");return}y(X=>X.map(Ae=>Ae.id===Le?{...Ae,date:U,title:E,category:k}:Ae)),Fi(Le),fi();return}x(k=>{const X=m.find(vt=>vt.id===Le);if(!X)return k;const j={...k[Le]??{}};U===X.date?delete j.date:j.date=U,E===X.title?delete j.title:j.title=E,to(Y)?j.category=Y:delete j.category;const me={...k};return!j.date&&!j.title&&!j.category?delete me[Le]:me[Le]=j,me}),Fi(Le),fi()},Nd=()=>{if(Le){if(dt==="builtin"){x(E=>{if(!E[Le])return E;const L={...E};return delete L[Le],L}),Fi(Le),fi();return}y(E=>E.filter(U=>U.id!==Le)),Fi(Le),fi()}},wd=E=>{Sn(U=>{const L=new Set(U);return L.has(E)?L.delete(E):L.add(E),L})},F0=()=>g.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center mb-4 sm:mb-6 px-1 sm:px-2",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("h2",{className:`text-xl sm:text-2xl font-bold ${s.textPrimary} tracking-wide`,children:f==="month"?`${Yi} ${Lu[Tl]}`:`${Yi} ${Lu[u.getMonth()]} ${Math.ceil(u.getDate()/7)} ()`}),g.jsxs("div",{className:`flex ${s.inputBg} rounded-lg p-1 border ${s.border}`,children:[g.jsx("button",{onClick:()=>d("month"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${f==="month"?`${s.activeTabBg} ${s.buttonText} shadow-sm`:`${s.textSecondary} hover:${s.textPrimary}`}`,children:""}),g.jsx("button",{onClick:()=>d("week"),"data-tour":"view-week",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${f==="week"?`${s.activeTabBg} ${s.buttonText} shadow-sm`:`${s.textSecondary} hover:${s.textPrimary}`}`,children:""})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"relative",ref:ue,children:[g.jsxs("button",{type:"button",onClick:()=>V(E=>!E),"data-tour":"filter-button",className:`px-3 py-1 text-sm font-medium rounded-md transition-colors border ${s.border} ${s.inputBg} ${s.textPrimary} hover:opacity-90`,"aria-label":"",children:["",Mt?"":" "]}),P&&g.jsxs("div",{className:`absolute right-0 mt-2 w-72 ${s.componentBg} border ${s.border} rounded-xl shadow-xl p-3 z-[110]`,onClick:E=>E.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[g.jsx("span",{className:`text-sm font-semibold ${s.textPrimary}`,children:""}),g.jsx("button",{type:"button",onClick:Re,className:`text-xs ${s.textSecondary} hover:${s.textPrimary} underline`,children:""})]}),g.jsxs("label",{className:`flex items-center gap-2 text-sm ${s.textPrimary}`,children:[g.jsx("input",{type:"checkbox",className:`mt-0.5 h-4 w-4 rounded border ${s.border} ${s.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:Mt,onChange:$})," "]}),g.jsxs("div",{className:`mt-3 pt-2 border-t ${s.border}`,children:[g.jsx("div",{className:`text-xs font-semibold ${s.textSecondary} mb-1`,children:""}),g.jsx("div",{className:"max-h-40 overflow-y-auto scrollbar-thin pr-1 space-y-1",children:Et.map(E=>g.jsxs("label",{className:`flex items-center gap-2 text-sm ${s.textPrimary}`,children:[g.jsx("input",{type:"checkbox",className:`mt-0.5 h-4 w-4 rounded border ${s.border} ${s.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:xe.has(E),onChange:()=>le(E)}),g.jsx("span",{className:"truncate",children:E})]},E))})]}),g.jsxs("div",{className:`mt-3 pt-2 border-t ${s.border}`,children:[g.jsx("div",{className:`text-xs font-semibold ${s.textSecondary} mb-1`,children:" "}),g.jsx("div",{className:"space-y-1",children:yn.map(E=>g.jsxs("label",{className:`flex items-center gap-2 text-sm ${s.textPrimary}`,children:[g.jsx("input",{type:"checkbox",className:`mt-0.5 h-4 w-4 rounded border ${s.border} ${s.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:Ot.has(E),onChange:()=>ne(E)}),E==="manual"?" ":"AI "]},E))})]})]})]}),g.jsx("button",{onClick:()=>f==="month"?_d(-1):Ed(-1),className:`p-2 rounded-full ${s.hoverEffect} focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 transition-colors group`,"aria-label":"Previous",children:g.jsx(Sw,{})}),g.jsx("button",{onClick:()=>f==="month"?_d(1):Ed(1),className:`p-2 rounded-full ${s.hoverEffect} focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-opacity-50 transition-colors group`,"aria-label":"Next",children:g.jsx(Cw,{})})]})]}),Z0=()=>g.jsx("div",{className:"flex-shrink-0 grid grid-cols-7 gap-1 sm:gap-2 mb-2 px-1",children:Fv.map(E=>g.jsx("div",{className:"text-center font-medium text-xs sm:text-sm text-text-tertiary uppercase",children:E},E))}),K0=()=>{const E=[];for(let k=0;k<G0;k++)E.push(g.jsx("div",{className:"border border-transparent rounded-lg"},`blank-${k}`));const U=[],L=2;for(let k=1;k<=z0;k++){const X=k===Wr.getDate()&&Tl===Wr.getMonth()&&Yi===Wr.getFullYear(),Ae=new Date(Yi,Tl,k),j=Gu(Ae),me=it.filter(pe=>pe.date===j),vt=wt.has(j),Ft=!vt&&me.length>L,pn=vt?me:me.slice(0,L);U.push(g.jsx("div",{className:"relative min-h-[100px] h-full",children:g.jsxs("div",{"aria-label":`${Lu[Tl]} ${k}, ${Yi}. ${me.length} .   .`,onClick:()=>{Qe||Cn.current||jr(j)},onDragOver:pe=>{Qe&&(pe.preventDefault(),pe.dataTransfer.dropEffect="move",ri(j))},onDragLeave:()=>{ri(pe=>pe===j?null:pe)},onDrop:pe=>{pe.preventDefault(),pe.stopPropagation();const ce=pe.dataTransfer.getData("text/plain");ce&&Md(ce,j),Cn.current=!0,window.setTimeout(()=>{Cn.current=!1},0),Vt(null),ri(null)},className:`
                p-1 sm:p-2 border border-border-secondary/30 rounded-lg
                flex flex-col items-start justify-start 
                text-left 
                transition-all duration-200 ease-in-out
                w-full
                hover:bg-main/30
                ${vt?`absolute top-0 left-0 z-[60] h-auto min-h-full shadow-2xl ring-1 ring-border-primary ${s.componentBg}`:`relative h-full ${s.componentBg}`}
                ${X?"bg-accent-primary/10 border-accent-secondary/50":""}
                ${Ro===j?"ring-2 ring-accent-primary":""}
            `,children:[g.jsxs("div",{className:"flex justify-between items-center w-full mb-0.5 flex-shrink-0",children:[g.jsx("span",{className:`
                text-xs font-semibold ml-1
                ${X?"bg-accent-primary text-white w-5 h-5 flex items-center justify-center rounded-full -ml-1 text-[10px]":"text-text-secondary"}
              `,children:k}),g.jsx("button",{type:"button",onClick:pe=>{pe.stopPropagation(),jr(j)},className:`
                  p-0.5 rounded-full 
                  text-text-tertiary hover:text-accent-primary hover:bg-main
                  opacity-0 group-hover:opacity-100 transition-opacity
                  ${vt?"opacity-100":""}
                `,"aria-label":" ",children:g.jsx(Aw,{className:"w-3 h-3"})})]}),g.jsxs("div",{className:`w-full space-y-0.5 flex flex-col ${vt?"":"overflow-hidden"}`,children:[pn.map(pe=>{const ce=pe.kind==="user";return g.jsx("button",{type:"button",onClick:qe=>{qe.stopPropagation(),!Cn.current&&bd(pe)},draggable:!0,onDragStart:qe=>{qe.dataTransfer.setData("text/plain",pe.id),qe.dataTransfer.effectAllowed="move",Vt(pe.id)},onDragEnd:()=>{Vt(null),ri(null)},className:`
                      text-left w-full text-[10px] sm:text-[11px] px-1.5 rounded transition-all shadow-sm
                      truncate leading-tight font-bold
                      border flex-shrink-0 h-5 flex items-center
                      ${ce?"bg-accent-primary text-white border-transparent hover:opacity-90":"bg-tertiary text-text-primary border-transparent hover:opacity-90"} 
                      cursor-grab active:cursor-grabbing
                    `,title:pe.title,children:pe.title},pe.id)}),Ft&&g.jsxs("button",{type:"button",onClick:pe=>{pe.stopPropagation(),wd(j)},className:"text-[10px] font-bold text-text-tertiary hover:text-text-primary hover:bg-tertiary/50 mt-0.5 h-4 flex items-center justify-center w-full text-center rounded transition-colors flex-shrink-0",children:["+",me.length-L," "]}),vt&&me.length>L&&g.jsx("button",{type:"button",onClick:pe=>{pe.stopPropagation(),wd(j)},className:"text-[10px] sm:text-xs text-text-tertiary hover:text-text-primary mt-1 py-1 w-full text-center hover:bg-tertiary/50 rounded transition-colors flex-shrink-0",children:""})]})]})},k))}return g.jsx(g.Fragment,{children:[...E,...U]})},J0=()=>{if(!re)return null;const E=Ht[re.id],U=Z[re.id],L=O&&_e===re.id,k=_e===re.id?F:null;let X="/ ",Ae="",j="",me="",vt=" ",Ft="",pn="";if(E){const ce=E,qe=ce.match(/1\.\s*(?:\*\*)?\/ (?:\*\*)?:?/i),rt=ce.match(/2\.\s*(?:\*\*)?(?:\*\*)?:?/i),We=ce.match(/3\.\s*(?:\*\*)? (?:\*\*)?:?/i);let xt=qe?(qe.index||0)+qe[0].length:-1,di=rt?(rt.index||0)+rt[0].length:-1,Rt=We?(We.index||0)+We[0].length:-1,Pn=ce.length;rt&&(rt.index||0)>xt&&xt!==-1&&(Pn=Math.min(Pn,rt.index||0)),We&&(We.index||0)>xt&&xt!==-1&&(Pn=Math.min(Pn,We.index||0));let zn=ce.length;We&&(We.index||0)>di&&di!==-1&&(zn=Math.min(zn,We.index||0)),xt!==-1&&(Ae=ce.substring(xt,Pn).trim()),di!==-1&&(!qe||((rt==null?void 0:rt.index)||0)>=Pn)&&(me=ce.substring(di,zn).trim()),Rt!==-1&&(!rt||((We==null?void 0:We.index)||0)>=zn)&&(Ft=ce.substring(Rt).trim()),!qe&&!rt&&!We&&ce?pn=ce.trim():qe&&!Ae&&!me&&!Ft&&xt!==-1&&(Ae=ce.substring(xt).trim())}const pe=ce=>{if(!ce)return null;const rt=be.parse(ce,{breaks:!0,gfm:!0}).replace(/<ul>/g,'<ul class="list-disc list-outside ml-5 space-y-1">').replace(/<ol>/g,'<ol class="list-decimal list-outside ml-5 space-y-1">').replace(/<li>/g,`<li class="text-sm ${s.textSecondary} leading-relaxed">`).replace(/<p>/g,`<p class="text-sm ${s.textSecondary} leading-relaxed mb-2">`).replace(/<strong>/g,`<strong class="font-semibold ${s.textPrimary}">`).replace(/<h3>/g,`<h3 class="text-base font-semibold ${s.accentColor} mt-2 mb-1">`).replace(/<h4>/g,`<h4 class="text-sm font-semibold ${s.accentColor} mt-1 mb-1">`);return g.jsx("div",{dangerouslySetInnerHTML:{__html:rt}})};return g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",onClick:()=>Nt(null),role:"dialog","aria-modal":"true","aria-labelledby":"event-modal-title",children:g.jsxs("div",{className:`${s.componentBg} p-5 sm:p-6 rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col ${s.textPrimary} border ${s.border}`,onClick:ce=>ce.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-start mb-4 flex-shrink-0 gap-3",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("h3",{id:"event-modal-title",className:`text-lg font-semibold ${s.accentColor} truncate`,children:re.title}),g.jsxs("p",{className:`text-xs ${s.textSecondary} mt-0.5`,children:["AI   ",Bn==="gemini"?"Gemini":Bn==="openrouter"?"OpenRouter":"",re.category?`  ${re.category}`:""]})]}),g.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g.jsx("button",{type:"button",onClick:()=>{Nt(null),q0(re)},className:`${s.buttonBg} ${s.hoverEffect} ${s.buttonText} font-semibold py-1.5 px-3 rounded-lg transition-colors text-sm`,children:""}),g.jsx("button",{onClick:()=>Nt(null),className:`p-1 ${s.textSecondary} hover:${s.textPrimary} transition-colors rounded-full ${s.hoverEffect}`,"aria-label":" ",type:"button",children:g.jsx(Pp,{})})]})]}),g.jsxs("div",{className:"overflow-y-auto flex-grow pr-1 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-blue-700 hover:scrollbar-thumb-blue-600 active:scrollbar-thumb-blue-500 scrollbar-thumb-rounded-md",children:[L&&!E&&!k&&g.jsxs("div",{className:"text-sm text-slate-300 py-4",children:[g.jsx("ul",{className:"space-y-2.5",children:va.map((ce,qe)=>g.jsxs("li",{className:"flex items-center space-x-2.5",children:[qe<ie?g.jsx(_w,{className:"text-green-500 flex-shrink-0"}):qe===ie&&O?g.jsx(zp,{className:"flex-shrink-0"}):g.jsx(Ew,{className:"text-slate-500 flex-shrink-0"}),g.jsx("span",{className:`${qe<ie?"text-slate-500 line-through":qe===ie&&O?"text-cyan-400 font-medium":"text-slate-400"}`,children:ce})]},qe))}),ie>=va.length&&L&&g.jsxs("div",{className:"flex items-center space-x-2.5 mt-3",children:[g.jsx(zp,{className:"flex-shrink-0"}),g.jsx("span",{className:"text-cyan-400 font-medium",children:" ..."})]})]}),k&&g.jsxs("div",{className:"text-sm text-red-400 bg-red-900/20 border border-red-700 p-3 rounded-md",children:[g.jsx("p",{className:"font-semibold mb-1",children:""}),k]}),!E&&!L&&!k&&g.jsxs("div",{className:`text-sm ${s.textSecondary} py-4`,children:[g.jsx("p",{className:`font-semibold ${s.textPrimary} mb-1`,children:"AI    ."}),g.jsxs("p",{children:[" ",g.jsx("span",{className:`${s.textPrimary} font-medium`,children:"API Key "})," Gemini  OpenRouter     ."]}),g.jsx("button",{type:"button",onClick:()=>Ad(re),className:`${s.accentBg} hover:opacity-90 ${s.buttonText} font-semibold py-2 px-3 rounded-lg transition-colors text-xs mt-3`,children:"AI  "})]}),E&&!k&&g.jsxs(g.Fragment,{children:[pn&&g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:pe(pn)}),Ae&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-md font-semibold text-cyan-400 mb-1.5",children:X}),g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:pe(Ae)})]}),me&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-md font-semibold text-cyan-400 mb-1.5",children:j}),g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:pe(me)})]}),Ft&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-md font-semibold text-cyan-400 mb-1.5",children:vt}),g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",children:pe(Ft)})]}),U&&U.length>0&&g.jsxs("div",{className:"mt-5 pt-4 border-t border-slate-700",children:[g.jsx("h4",{className:"text-xs font-semibold text-slate-400 mb-2",children:"  (Google ):"}),g.jsx("ul",{className:"space-y-1.5",children:U.map((ce,qe)=>ce.web&&ce.web.uri?g.jsx("li",{className:"text-xs",children:g.jsx("a",{href:ce.web.uri,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-500 hover:text-cyan-400 hover:underline",title:ce.web.title||ce.web.uri,children:ce.web.title||ce.web.uri})},qe):null).filter(Boolean)})]})]}),!Bn&&(!(re!=null&&re.id)||!Ht[re.id]&&!O&&!F)&&g.jsx("div",{className:"text-sm text-yellow-400 bg-yellow-900/20 border border-yellow-700 p-3 rounded-md mt-3",children:"AI   API  .    ."})]})]})})},X0=()=>{if(!lt)return null;const E=he==="create"?" ":dt==="builtin"?"  ":" ",U=Array.from({length:12},(k,X)=>X+1),L=Array.from({length:js},(k,X)=>X+1);return g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",onClick:fi,role:"dialog","aria-modal":"true","aria-labelledby":"event-editor-title",children:g.jsxs("div",{className:`${s.componentBg} p-5 sm:p-6 rounded-lg shadow-2xl w-full max-w-lg flex flex-col ${s.textPrimary} border ${s.border}`,onClick:k=>k.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-start gap-3",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("h3",{id:"event-editor-title",className:`text-lg font-semibold ${s.accentColor}`,children:E}),g.jsx("p",{className:`text-xs ${s.textSecondary} mt-0.5`,children:"    . (&   )"}),dt==="builtin"&&g.jsx("p",{className:"text-[11px] text-slate-500 mt-1",children:"     ."})]}),g.jsx("button",{type:"button",onClick:fi,className:`p-1 ${s.textSecondary} hover:${s.textPrimary} transition-colors rounded-full ${s.hoverEffect}`,"aria-label":" ",children:g.jsx(Pp,{})})]}),g.jsxs("div",{className:"mt-4 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:`text-sm ${s.textPrimary} block mb-1`,children:""}),g.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[g.jsx("select",{value:yt,onChange:k=>$n(Number(k.target.value)),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,"aria-label":" ",children:H0.map(k=>g.jsxs("option",{value:k,children:[k,""]},k))}),g.jsx("select",{value:ui,onChange:k=>Xr(Number(k.target.value)),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,"aria-label":" ",children:U.map(k=>g.jsxs("option",{value:k,children:[k,""]},k))}),g.jsx("select",{value:Do,onChange:k=>Ws(Number(k.target.value)),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,"aria-label":" ",children:L.map(k=>g.jsxs("option",{value:k,children:[k,""]},k))})]}),g.jsx("p",{className:"text-[11px] text-slate-500 mt-1",children:"       ."})]}),g.jsxs("div",{children:[g.jsx("label",{className:`text-sm ${s.textPrimary} block mb-1`,htmlFor:"event-category",children:""}),g.jsxs("select",{id:"event-category",value:Y,onChange:k=>Ee(k.target.value),className:`w-full p-2 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,children:[g.jsx("option",{value:"",children:" ()"}),Et.map(k=>g.jsx("option",{value:k,children:k},k))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:`text-sm ${s.textPrimary} block mb-1`,htmlFor:"event-title",children:" "}),g.jsx("input",{id:"event-title",value:Vn,onChange:k=>Hi(k.target.value),placeholder:":   ",className:`w-full p-2.5 ${s.inputBg} border ${s.border} rounded-lg text-sm focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none placeholder-slate-600`,autoFocus:!0}),Cd&&g.jsx("div",{className:"mt-2 text-xs text-red-300 bg-red-900/20 border border-red-700 p-2 rounded-md",children:Cd})]})]}),g.jsxs("div",{className:"mt-5 flex items-center justify-between gap-3",children:[he==="edit"?dt==="user"?g.jsx("button",{type:"button",onClick:Nd,className:"bg-red-600 hover:bg-red-500 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:""}):g.jsx("button",{type:"button",onClick:Nd,className:`${s.buttonBg} ${s.hoverEffect} ${s.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:" "}):g.jsx("div",{}),g.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[g.jsx("button",{type:"button",onClick:fi,className:`${s.buttonBg} ${s.hoverEffect} ${s.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:""}),g.jsx("button",{type:"button",onClick:Y0,className:`${s.accentBg} hover:opacity-90 ${s.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:""})]})]})]})})};return g.jsxs("div",{className:`${s.componentBg} px-4 sm:px-6 py-3 sm:py-5 rounded-xl shadow-2xl flex flex-col w-full h-full border ${s.border}`,children:[F0(),_t&&g.jsx("div",{className:"text-center p-2 text-sm text-cyan-400 my-1",children:"   ..."}),Me&&!_t&&g.jsxs("div",{className:"text-center p-2 text-sm text-red-400 bg-red-900/30 rounded-md my-1",children:[g.jsx("p",{className:"font-semibold",children:"  :"}),g.jsx("p",{children:Me}),g.jsx("p",{className:"text-xs mt-1",children:"      ."})]}),!_t&&!Me&&v.length===0&&g.jsx("div",{className:"text-center p-2 text-sm text-slate-400 my-1",children:"  .     ."}),!_t&&!Me&&v.length>0&&it.length===0&&g.jsxs("div",{className:"text-center p-2 text-sm text-slate-300 bg-slate-900/30 rounded-md my-1",children:[g.jsx("p",{children:"    ."}),g.jsx("button",{type:"button",onClick:Re,className:`${s.accentBg} hover:opacity-90 ${s.buttonText} font-semibold py-1.5 px-3 rounded-lg transition-colors text-xs mt-2`,children:" "})]}),f==="month"?g.jsxs("div",{className:"flex-grow flex flex-col min-h-0",children:[Z0(),g.jsx("div",{className:`flex-grow grid grid-cols-7 grid-rows-6 sm:gap-1 min-h-0 ${s.mainBg} rounded-xl sm:border ${s.border}/50 sm:p-2`,children:K0()})]}):g.jsx("div",{className:"flex-grow flex flex-col min-h-0",children:g.jsx(eS,{currentDate:u,events:it,onEventClick:bd,onDateClick:E=>{Qe||Cn.current||jr(E)},onDragStart:(E,U)=>{Vt(U),E.dataTransfer.setData("text/plain",U),E.dataTransfer.effectAllowed="move"},onDragEnd:()=>{Vt(null),ri(null)},onDrop:(E,U)=>{E.preventDefault();const L=E.dataTransfer.getData("text/plain");L&&(Md(L,U),Cn.current=!0,setTimeout(()=>{Cn.current=!1},100)),Vt(null),ri(null)}})}),J0(),X0()]})},ql=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},Uw=n=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n),ms=n=>{if(!Uw(n))return!1;const[e,t,i]=n.split("-").map(Number),l=new Date(e,t-1,i);return l.getFullYear()===e&&l.getMonth()===t-1&&l.getDate()===i},$0=n=>typeof n!="string"?null:Et.includes(n)?n:null,Lw=n=>n==="manual"||n==="ai"?n:null,ps=(n,e)=>n.localeCompare(e),qu=(n,e)=>{if(!ms(n))return n;const[t,i,l]=n.split("-").map(Number),o=new Date(t,i-1,l);return o.setDate(o.getDate()+e),ql(o)},Ji=(n,e)=>ps(n,e)<0?e:n,Ow=(n,e)=>ps(n,e)>0?e:n,Vw=(n,e=new Date)=>{const t=[/(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C?\s*[~-]\s*(\d{1,2})\s*\uC77C?/,/(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C?\s*[~-]\s*(\d{1,2})\s*\uC6D4\s*(\d{1,2})\s*\uC77C?/,/(\d{1,2})\s*[\/\.]\s*(\d{1,2})\s*[~-]\s*(\d{1,2})\s*[\/\.]\s*(\d{1,2})/,/(\d{1,2})\s*\s*(\d{1,2})\s*?\s*[~\\-]\s*(\d{1,2})\s*?/,/(\d{1,2})\s*\s*(\d{1,2})\s*?\s*[~\\-]\s*(\d{1,2})\s*\s*(\d{1,2})\s*?/,/(\d{1,2})\s*[\\/\\.]\\s*(\d{1,2})\s*[~\\-]\s*(\d{1,2})\s*[\\/\\.]\\s*(\d{1,2})/];let i=null,l=null,o=null,s=null;for(const x of t){const S=n.match(x);if(S){if(x===t[0]){i=Number(S[1]),l=Number(S[2]),o=i,s=Number(S[3]);break}if(x===t[1]){i=Number(S[1]),l=Number(S[2]),o=Number(S[3]),s=Number(S[4]);break}if(x===t[2]){i=Number(S[1]),l=Number(S[2]),o=Number(S[3]),s=Number(S[4]);break}}}if(!i||!l||!o||!s||!Number.isFinite(i)||!Number.isFinite(l)||!Number.isFinite(o)||!Number.isFinite(s)||i<1||i>12||o<1||o>12||l<1||l>31||s<1||s>31)return null;const u=new Date(e.getFullYear(),e.getMonth(),e.getDate());let c=e.getFullYear();new Date(c,i-1,l)<u&&(c+=1);const m=o<i||o===i&&s<l?c+1:c,h=new Date(c,i-1,l),p=new Date(m,o-1,s);return Number.isNaN(h.getTime())||Number.isNaN(p.getTime())||ql(h)!==`${String(c).padStart(4,"0")}-${String(i).padStart(2,"0")}-${String(l).padStart(2,"0")}`||ql(p)!==`${String(m).padStart(4,"0")}-${String(o).padStart(2,"0")}-${String(s).padStart(2,"0")}`?null:{start:ql(h),end:ql(p)}},qp=n=>["","","","","","","","","",""].some(t=>n.includes(t)),Hp=n=>["","","","","","","",""].some(t=>n.includes(t)),$w=()=>{try{const n=localStorage.getItem(Mo);if(!n)return[];const e=JSON.parse(n);return Array.isArray(e)?e.map(t=>{if(!t||typeof t!="object")return null;const i=t,l=i.id,o=i.date,s=i.title,u=i.category,c=i.source;if(typeof l!="string"||typeof s!="string"||!s.trim()||typeof o!="string"||!ms(o))return null;const f=$0(u)??Qn,d=Lw(c)??"manual";return{id:l,date:o,title:s.trim(),category:f,source:d}}).filter(t=>!!t):[]}catch{return[]}},Bw=n=>{try{const e=n.map(({id:t,date:i,title:l,category:o,source:s})=>({id:t,date:i,title:l,category:o,source:s}));localStorage.setItem(Mo,JSON.stringify(e))}catch{}},Pw=n=>{const e=n.indexOf("{");if(e<0)return null;const t=n.lastIndexOf("}");return t<=e?null:n.slice(e,t+1)},zw=({className:n="w-5 h-5"})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.8,stroke:"currentColor",className:n,children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 2v2m8-2v2M4 7h16"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5h14a2 2 0 012 2v13a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 11v6m-3-3h6"})]}),Gw=({className:n="w-5 h-5"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.8,stroke:"currentColor",className:n,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),qw=({className:n="w-6 h-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:g.jsx("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 00-3 3v10.5a3 3 0 003 3h15a3 3 0 003-3V6.75a3 3 0 00-3-3h-15zm4.125 3a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0zM15.375 3a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0zM19.5 6.75a1.125 1.125 0 11-2.25 0 1.125 1.125 0 012.25 0zM10.875 12a3.375 3.375 0 00-3.375 3.375h6.75A3.375 3.375 0 0010.875 12zM4.125 13.875a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z",clipRule:"evenodd"})}),Hw=({className:n="w-6 h-6"})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:g.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z",clipRule:"evenodd"})}),Yw=()=>g.jsxs("div",{className:"flex items-center gap-1.5 px-1 py-1",children:[g.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300/80",style:{animation:"typingDot 1.2s infinite ease-in-out",animationDelay:"0ms"}}),g.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300/80",style:{animation:"typingDot 1.2s infinite ease-in-out",animationDelay:"150ms"}}),g.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-300/80",style:{animation:"typingDot 1.2s infinite ease-in-out",animationDelay:"300ms"}})]}),Fw=({manualContextText:n})=>{const{apiKey:e,openRouterApiKey:t,aiProviderPreference:i,openRouterModel:l}=Td(),{colors:o}=Gi(),[s,u]=A.useState(null),[c,f]=A.useState(null),[d,m]=A.useState([]),[h,p]=A.useState(""),[x,S]=A.useState(!1),[_,y]=A.useState(null),[v,T]=A.useState(!1),[C,b]=A.useState(!1),[w,N]=A.useState(null),[D,P]=A.useState(null),V=A.useRef(null),ue=A.useRef(null),xe=A.useRef(!1),Ot=A.useRef({});A.useEffect(()=>{if(e)try{const I=new S0({apiKey:e});u(I),y(null),T(!0)}catch(I){console.error("Failed to initialize GoogleGenAI:",I),y("AI   . API   ."),T(!1)}else t?(u(null),f(null),y(null),T(!0),m([{id:"initial-ai-message",text:"!      .",isUser:!1}])):(console.warn("API_KEY for chatbot is not set. Chatbot AI features will be disabled."),u(null),f(null),m([{id:"initial-no-key",text:"API      .  **API Key **  .",isUser:!1}]),y("AI    API  ."),T(!1))},[e,t]),A.useEffect(()=>{var I;if(s&&v){let Z="You are a helpful assistant for Korean school administration tasks. Provide concise and accurate information based on your knowledge and Google Search results. Cite your sources when available using the grounding information. Respond in Korean. Format your responses using markdown where appropriate (e.g., lists, bolding).!      ";n&&(Z+=`

Additionally, you have access to the following table of contents from a school administration manual. When a user's query relates to topics covered in this manual, please reference the relevant sections or page numbers in your response if applicable. If you use information from this manual, please try to cite it (e.g., " 10, 168p ").

--- SCHOOL ADMINISTRATION MANUAL (TABLE OF CONTENTS) START ---
${n}
--- SCHOOL ADMINISTRATION MANUAL (TABLE OF CONTENTS) END ---`);try{const q=s.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:Z,tools:[{googleSearch:{}}]}});f(q),m([{id:"initial-ai-message",text:"!      .",isUser:!1}]),(I=ue.current)==null||I.focus()}catch(q){console.error("Failed to create chat session:",q),y("   .    API  .")}}},[s,v,n]);const it=A.useCallback(I=>{if(!I)return;const Z=Ot.current[I.id];Z&&Z.scrollIntoView({behavior:"smooth",block:I.align??"start"})},[]);A.useEffect(()=>{if(xe.current){xe.current=!1;return}D&&(it(D),P(null))},[d,D,it]);const Mt=A.useCallback((I,Z)=>{xe.current=!0,m(q=>q.map(O=>{if(O.id!==I||!O.scheduleProposal||O.scheduleProposal.applied||Z<0||Z>=O.scheduleProposal.selected.length)return O;const z=O.scheduleProposal.selected.slice();return z[Z]=!z[Z],{...O,scheduleProposal:{...O.scheduleProposal,selected:z}}}))},[]),$=A.useCallback(I=>{xe.current=!0,m(Z=>Z.map(q=>{if(q.id!==I||!q.scheduleProposal||q.scheduleProposal.applied)return q;const O=q.scheduleProposal.selected.every(Boolean),z=q.scheduleProposal.selected.map(()=>!O);return{...q,scheduleProposal:{...q.scheduleProposal,selected:z}}}))},[]),le=A.useCallback((I,Z)=>{xe.current=!0,N(q=>q&&q.messageId===I&&q.index===Z?null:{messageId:I,index:Z})},[]),ne=A.useCallback((I,Z,q)=>{ms(q)&&(xe.current=!0,m(O=>O.map(z=>{if(z.id!==I||!z.scheduleProposal||z.scheduleProposal.applied||Z<0||Z>=z.scheduleProposal.items.length)return z;const _e=z.scheduleProposal.items.slice();return _e[Z]={..._e[Z],date:q},{...z,scheduleProposal:{...z.scheduleProposal,items:_e}}})),N(null))},[]),Re=A.useCallback(I=>{xe.current=!0,m(Z=>{const q=Z.find(K=>K.id===I);if(!(q!=null&&q.scheduleProposal)||q.scheduleProposal.applied)return Z;const O=q.scheduleProposal,z=O.items.filter((K,ye)=>O.selected[ye]);if(z.length===0)return Z;const _e=$w(),Ve=new Set(_e.map(K=>`${K.date}::${K.title}`)),F=[];for(const K of z){const ye=`${K.date}::${K.title}`;Ve.has(ye)||(Ve.add(ye),F.push({id:`user-${L0(10)}`,date:K.date,title:K.title,category:K.category,source:"ai"}))}const J=[...F,..._e];Bw(J),window.dispatchEvent(new CustomEvent(dr));const ie=[];return ie.push(` : **${F.length}**   .`),O.project&&ie.push(`- : **${O.project}**`),O.deadline&&ie.push(`- : **${O.deadline}**`),F.length>0?(ie.push(""),ie.push(...F.map(K=>`- ${K.date} ${K.title}`))):(ie.push(""),ie.push("        .")),Z.map(K=>K.id!==I?K:{...K,text:`${K.text}

${ie.join(`
`)}`.trim(),scheduleProposal:{...O,applied:!0,appliedCount:F.length,skippedCount:Math.max(0,z.length-F.length)}})})},[]),re=A.useCallback(async()=>{var O,z,_e,Ve;if(!h.trim()||x||!v)return;const I=h.trim(),Z={id:`user-${Date.now()}`,text:I,isUser:!0};m(F=>[...F,Z]),p(""),S(!0),y(null);const q=`ai-${Date.now()}`;m(F=>[...F,{id:q,text:"",isUser:!1,sources:[]}]),P({id:q,align:"start"});try{const F=(()=>{const J=!!e,ie=!!t;return i==="gemini"?J?"gemini":ie?"openrouter":null:i==="openrouter"?ie?"openrouter":J?"gemini":null:J?"gemini":ie?"openrouter":null})();if(!F)throw new Error("API_KEY_MISSING");if(C){const J=new Date,ie=ql(J),K=Vw(I,J),ye=(K==null?void 0:K.start)??null,De=(K==null?void 0:K.end)??null,Je=`    'K-( //)  ' ' ( )'  .
-      (/////// ) //   K-  , "  (/)    ()"    .
  : "12 24  " ' (/)' , " ", "/", " ", "  "  3~4  .
-  (//  )     events  ([]) .
${F==="gemini"?"-   Google Search()  K-   /     .":"-   ,  K-       . (  )"}
-  JSON(/ ).     .

( /  ):
{
  "project": string,
  "deadline": "YYYY-MM-DD" | null,
  "events": [
    { "date": "YYYY-MM-DD", "task": string, "title": string, "category": string | null }
  ]
}

:
- title  "\${project}: \${task}" .
- date  ISO(YYYY-MM-DD).
-     (${ie}, KST)    ''  .
- events **  3~4**. ( 3,    4)  task .
- events date  .
- (deadline)  events   (       ).
- category    ( null):
  ${Et.join(", ")}

   (: "12 20~24 "):
- executionStart: ${ye??"null"}
- executionEnd: ${De??"null"}
- **//////    executionStart   **.
- **//    executionStart~executionEnd  ** .
- **///    executionEnd   ** .
-    , " ()  / "   .

 : """${I}"""`;let Me="",Ge=[],wt=!1;if(F==="gemini"){if(!s)throw new Error("AI_NOT_READY");const he=async dt=>{var Y,Ee,yt;const Yt=await s.models.generateContent({model:"gemini-2.5-flash",contents:dt,config:{thinkingConfig:{thinkingBudget:3e3},tools:[{googleSearch:{}}]}}),Vn=((yt=(Ee=(Y=Yt.candidates)==null?void 0:Y[0])==null?void 0:Ee.groundingMetadata)==null?void 0:yt.groundingChunks)??[],Hi=Vn.filter($n=>{var ui;return(ui=$n.web)==null?void 0:ui.uri});return{response:Yt,groundingChunks:Vn,webChunks:Hi}};let{response:$e,groundingChunks:Le,webChunks:ln}=await he(Je);if(wt=ln.length>0,!wt){const dt=`${Je}

:  googleSearch    1 web.uri  .   events  ([]) .`;({response:$e,groundingChunks:Le,webChunks:ln}=await he(dt)),wt=ln.length>0}Me=$e.text??"",Ge=Le}else Me=await rf({apiKey:t,model:l.trim()||void 0,messages:[{role:"system",content:"  (K-)  .  JSON ,      ."},{role:"user",content:Je}],temperature:.2}),Ge=[],wt=!1;const Sn=Pw(Me)??Me;let Qe;try{Qe=JSON.parse(Sn)}catch{throw new Error("MODEL_RETURNED_INVALID_JSON")}const Vt=typeof(Qe==null?void 0:Qe.project)=="string"&&Qe.project.trim()?Qe.project.trim():I.slice(0,30).trim(),Ro=typeof(Qe==null?void 0:Qe.deadline)=="string"&&ms(Qe.deadline)?Qe.deadline:null,ri=Array.isArray(Qe==null?void 0:Qe.events)?Qe.events.map(he=>{const $e=he==null?void 0:he.date,Le=typeof(he==null?void 0:he.task)=="string"?he.task.trim():typeof(he==null?void 0:he.title)=="string"?he.title.trim():"";if(!Le)return null;const ln=`${Vt}:`,dt=Le.startsWith(ln)?Le.slice(ln.length).trim():Le,Yt=Vt?`${Vt}: ${dt}`:dt,Vn=$0(he==null?void 0:he.category)??Qn;return!ms($e)||!Yt?null:{date:$e,title:Yt,category:Vn}}).filter(Boolean):[],Cn=[],xl=new Set;for(const he of ri){const $e=`${he.date}::${he.title}`;xl.has($e)||(xl.add($e),Cn.push(he))}let lt=Cn.slice(0,4).map(({date:he,title:$e,category:Le})=>({date:Ji(he,ie),title:$e,category:Le}));if(ye&&De){const he=Ji(qu(ye,-1),ie),$e=Ji(De,ie);lt=lt.map(Y=>{let Ee=Y.date;const yt=qp(Y.title),$n=Hp(Y.title);return yt?Ee=Ow(Ee,he):$n?Ee=Ji(Ee,$e):(ps(Ee,ye)<0&&(Ee=ye),ps(Ee,De)>0&&(Ee=De)),Ee=Ji(Ee,ie),{...Y,date:Ee}});const Le=Y=>Y.includes("")||Y.includes("")||Y.includes("")?0:Y.includes("")||Y.includes("")||Y.includes("")||Y.includes("")?1:Y.includes("")||Y.includes("")||Y.includes("")?2:3,ln=Y=>Y.includes("")||Y.includes("")?0:Y.includes("")||Y.includes("")?1:Y.includes("")||Y.includes("")?2:3,dt=lt.map((Y,Ee)=>({idx:Ee,title:Y.title})).filter(({title:Y})=>qp(Y)).map(({idx:Y})=>Y).sort((Y,Ee)=>Le(lt[Y].title)-Le(lt[Ee].title)),Yt=lt.map((Y,Ee)=>({idx:Ee,title:Y.title})).filter(({title:Y})=>Hp(Y)).map(({idx:Y})=>Y).sort((Y,Ee)=>ln(lt[Y].title)-ln(lt[Ee].title)),Vn=new Set(dt.map(Y=>lt[Y].date));dt.length>1&&Vn.size<dt.length&&dt.forEach((Y,Ee)=>{const yt=dt.length-1-Ee,$n=Ji(qu(he,-yt),ie);lt[Y]={...lt[Y],date:$n}});const Hi=new Set(Yt.map(Y=>lt[Y].date));Yt.length>1&&Hi.size<Yt.length&&Yt.forEach((Y,Ee)=>{const yt=Ji(qu($e,Ee),ie);lt[Y]={...lt[Y],date:yt}})}lt.sort((he,$e)=>ps(he.date,$e.date));const $t=[];Vt&&$t.push(`- : **${Vt}**`),Ro&&$t.push(`- : **${Ro}**`),ye&&De&&$t.push(`- : **${ye} ~ ${De}**`),F==="gemini"&&!wt&&$t.push("- :        ."),F==="openrouter"&&$t.push("- : OpenRouter  Google       ."),lt.length>0?($t.unshift("     ****   ."),m(he=>he.map($e=>$e.id===q?{...$e,text:$t.join(`
`),sources:Ge,scheduleProposal:{project:Vt,deadline:Ro,items:lt,selected:lt.map(()=>!0),applied:!1}}:$e))):($t.unshift("  ."),$t.push('K-      . ) "12 24  (),    "'),m(he=>he.map($e=>$e.id===q?{...$e,text:$t.join(`
`),sources:Ge,scheduleProposal:void 0}:$e)))}else if(F==="gemini"){if(!c)throw new Error("CHAT_NOT_READY");const J=await c.sendMessageStream({message:I});let ie="",K=[];for await(const ye of J){const De=ye.text;De&&(ie+=De);const _t=(_e=(z=(O=ye.candidates)==null?void 0:O[0])==null?void 0:z.groundingMetadata)==null?void 0:_e.groundingChunks;if(_t){const Je=_t.filter(Me=>Me.web&&Me.web.uri&&!K.some(Ge=>{var wt,Sn;return((wt=Ge.web)==null?void 0:wt.uri)===((Sn=Me.web)==null?void 0:Sn.uri)}));K=[...K,...Je]}m(Je=>Je.map(Me=>Me.id===q?{...Me,text:ie,sources:K}:Me))}}else{const J=[];J.push("   ( K-/NEIS) ."),J.push("  /     ."),J.push(" ,       ."),n&&(J.push("     //  ."),J.push("---    ---"),J.push(n),J.push("---    ---"));const ie=d.filter(ye=>ye.text&&ye.text.trim().length>0).slice(-12).map(ye=>({role:ye.isUser?"user":"assistant",content:ye.text})),K=await rf({apiKey:t,model:l.trim()||void 0,messages:[{role:"system",content:J.join(`
`)},...ie,{role:"user",content:I}],temperature:.2});m(ye=>ye.map(De=>De.id===q?{...De,text:K,sources:[]}:De))}}catch(F){console.error("Error sending message to AI API:",F);let J="    .    .";F instanceof Error&&F.message==="MODEL_RETURNED_INVALID_JSON"?J="AI  JSON   .       . (: '11 13 ,     ')":F instanceof Error&&F.message==="CHAT_NOT_READY"?J="    .     .":F instanceof Error&&F.message==="AI_NOT_READY"?J="AI   .     .":F instanceof Error&&F.message==="API_KEY_MISSING"&&(J="AI   API  .  **API Key **  ."),F instanceof Error&&(F.message.includes("API key not valid")?J="API   .  .":F.message.includes("OpenRouter")&&(F.message.includes("401")||F.message.toLowerCase().includes("unauthorized"))?J="OpenRouter API   .":F.message.includes("quota")?J="API   .":(F.message.toLowerCase().includes("network error")||F.message.toLowerCase().includes("failed to fetch"))&&(J="  .   .")),y(J),m(ie=>ie.map(K=>K.id===q?{...K,text:`: ${J}`,sources:[]}:K))}finally{S(!1),(Ve=ue.current)==null||Ve.focus()}},[h,c,s,x,v,C,e,t,i,l,n,d]),Nt=I=>{I.key==="Enter"&&!x&&re()},Ht=I=>{const q=be.parse(I,{breaks:!0,gfm:!0}).replace(/<ul>/g,'<ul class="list-disc ml-5 mb-2">').replace(/<ol>/g,'<ol class="list-decimal ml-5 mb-2">').replace(/<p>/g,'<p class="mb-2">');return g.jsx("div",{dangerouslySetInnerHTML:{__html:q}})};return g.jsxs("div",{className:`${o.componentBg} p-3 sm:p-4 rounded-xl shadow-xl flex flex-col h-full border ${o.border} ${o.textPrimary}`,children:[g.jsx("h2",{className:`text-lg font-semibold ${o.accentColor} mb-3 text-center border-b ${o.border} pb-2 flex-shrink-0`,children:"AI  "}),!v&&_&&g.jsx("div",{className:"p-3 my-2 text-sm text-yellow-300 bg-yellow-700/30 border border-yellow-600 rounded-md text-center flex-shrink-0",children:_}),v&&_&&!d.find(I=>I.text.includes(_||""))&&g.jsx("div",{className:"p-3 my-2 text-sm text-red-400 bg-red-800/30 border border-red-700 rounded-md text-center flex-shrink-0",children:_}),g.jsxs("div",{className:`flex-grow overflow-y-auto min-h-0 space-y-4 pr-1 mb-3 scrollbar-thin scrollbar-track-transparent ${o.scrollbarThumb} scrollbar-thumb-rounded-md`,children:[d.map(I=>g.jsxs("div",{ref:Z=>{Ot.current[I.id]=Z},className:`flex flex-col ${I.isUser?"items-end":"items-start"}`,children:[g.jsxs("div",{className:`flex items-start max-w-[85%] ${I.isUser?"flex-row-reverse":"flex-row"}`,children:[!I.isUser&&g.jsx(qw,{className:`w-5 h-5 ${o.accentColor} mr-2 mt-1 flex-shrink-0`}),I.isUser&&g.jsx(Hw,{className:`w-5 h-5 ${o.accentColor} ml-2 mt-1 flex-shrink-0`}),g.jsxs("div",{className:`px-3 py-2 rounded-lg ${I.isUser?`${o.accentBg} ${o.buttonText} rounded-br-none`:`${o.inputBg} ${o.textPrimary} border ${o.border} rounded-bl-none`}`,children:[g.jsx("div",{className:"prose prose-sm prose-invert max-w-none chatbot-message-content",style:{color:"inherit"},children:!I.isUser&&x&&I.text.trim()===""?g.jsx(Yw,{}):Ht(I.text)}),!I.isUser&&I.scheduleProposal&&g.jsxs("div",{className:`mt-3 pt-2 border-t ${o.border}`,children:[g.jsx("div",{className:"space-y-2",children:I.scheduleProposal.items.map((Z,q)=>{var F,J,ie;const O=!!((J=(F=I.scheduleProposal)==null?void 0:F.selected)!=null&&J[q]),z=!!((ie=I.scheduleProposal)!=null&&ie.applied),_e=`${I.id}-proposal-check-${q}`,Ve=(w==null?void 0:w.messageId)===I.id&&(w==null?void 0:w.index)===q;return g.jsxs("div",{className:`flex items-start gap-2 text-sm leading-snug ${z?"opacity-60":""}`,children:[g.jsx("input",{type:"checkbox",id:_e,className:`mt-0.5 h-4 w-4 rounded ${o.border} ${o.inputBg} text-cyan-500 focus:ring-cyan-400`,checked:O,disabled:z,onChange:()=>Mt(I.id,q)}),g.jsxs("div",{className:"flex flex-col min-w-0",children:[g.jsxs("div",{className:"flex items-start gap-2 min-w-0",children:[g.jsxs("div",{className:"relative flex-shrink-0",children:[g.jsx("button",{type:"button",className:`font-mono text-xs ${o.textSecondary} hover:opacity-80 underline underline-offset-2 disabled:no-underline disabled:cursor-default`,disabled:z,onClick:()=>le(I.id,q),children:Z.date}),Ve&&!z&&g.jsxs("div",{className:`absolute z-50 top-full left-0 mt-1 w-44 rounded-lg border ${o.border} ${o.componentBg} p-2 shadow-xl`,children:[g.jsx("div",{className:`text-[11px] ${o.textSecondary} mb-1`,children:" "}),g.jsx("input",{type:"date",className:`w-full rounded-md ${o.inputBg} border ${o.border} px-2 py-1 text-xs ${o.textPrimary} focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none`,value:Z.date,onChange:K=>ne(I.id,q,K.target.value)}),g.jsx("div",{className:"mt-2 flex justify-end",children:g.jsx("button",{type:"button",className:`px-2 py-1 rounded-md ${o.inputBg} hover:opacity-80 ${o.textPrimary} text-[11px] border ${o.border}`,onClick:()=>N(null),children:""})})]})]}),g.jsx("label",{htmlFor:_e,className:`${o.textPrimary} cursor-pointer break-words min-w-0`,children:Z.title})]}),g.jsxs("div",{className:`text-xs ${o.textSecondary}`,children:[": ",Z.category]})]})]},`${I.id}-proposal-${q}`)})}),g.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[g.jsx("button",{type:"button",className:`px-2.5 py-1.5 rounded-md ${o.inputBg} hover:opacity-80 ${o.textPrimary} text-xs border ${o.border} disabled:opacity-50 disabled:cursor-not-allowed`,onClick:()=>$(I.id),disabled:!!I.scheduleProposal.applied,children:I.scheduleProposal.selected.every(Boolean)?"":""}),g.jsx("button",{type:"button",className:`px-2.5 py-1.5 rounded-md ${o.accentBg} hover:opacity-90 ${o.buttonText} text-xs border border-cyan-500/40 disabled:opacity-50 disabled:cursor-not-allowed`,onClick:()=>Re(I.id),disabled:!!I.scheduleProposal.applied||I.scheduleProposal.selected.filter(Boolean).length===0,children:""}),I.scheduleProposal.applied&&g.jsxs("span",{className:`text-xs ${o.textSecondary}`,children:[" (",I.scheduleProposal.appliedCount??0," )"]})]})]})]})]}),I.sources&&I.sources.length>0&&!I.isUser&&g.jsxs("div",{className:`mt-1.5 ml-7 text-xs ${o.textSecondary} max-w-[85%]`,children:[g.jsx("p",{className:"font-semibold mb-0.5",children:" :"}),g.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:I.sources.map((Z,q)=>Z.web&&Z.web.uri&&g.jsx("li",{children:g.jsx("a",{href:Z.web.uri,target:"_blank",rel:"noopener noreferrer",className:`hover:${o.accentColor} underline`,title:Z.web.title||Z.web.uri,children:Z.web.title||Z.web.uri})},`${I.id}-src-${q}`))})]})]},I.id)),g.jsx("div",{ref:V})]}),g.jsx("div",{className:`flex-shrink-0 mt-auto pt-3 border-t ${o.border}`,children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{type:"button",onClick:()=>b(I=>!I),"data-tour":"ai-schedule-toggle",className:`p-2.5 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-400 border ${C?`${o.accentBg} text-white border-transparent`:`${o.inputBg} ${o.textPrimary} ${o.border} hover:opacity-80`}`,"aria-label":"  ",title:C?" : ON":" : OFF",disabled:x,children:g.jsx(zw,{className:"w-5 h-5"})}),g.jsx("input",{ref:ue,"data-tour":"chat-input",type:"text",value:h,onChange:I=>p(I.target.value),onKeyPress:Nt,placeholder:v?C?": ) 1113  ":" ...":"API   ",className:`flex-grow p-2.5 ${o.inputBg} border ${o.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm ${o.textPrimary} ${o.placeholderColor} disabled:opacity-50`,disabled:!v||x,"aria-label":"  "}),g.jsx("button",{onClick:re,disabled:!v||x||!h.trim(),className:`p-2.5 ${o.accentBg} hover:opacity-90 ${o.buttonText} rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-400`,"aria-label":" ",children:x?g.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):g.jsx(Gw,{})})]})})]})},Zw=`
1	;	1	;	 (  ) ,  ( 6) ,   () 
1	;	2	;	  ,      ,   ,    ,     (     ) ,    
1	;	3	;	    , (   5) ,      
1	;	4	;	     ,     (4) ,    (1) 
1	;	5	;	   ,     (1   ) 
1	;	6	;	  ,  ,   
1	;	7	;	 (, 1) 
1	;	8	;	   (4 12) ,    
1	;	9	;	   () , 2   ,    
1	;	10	;	    , 4     ,        
1	;	11	;	2024      2025   (k) , 2024    2025   
1	;	12	;	, , ,   () 
1	;	13	;	 
1	;	15	;	() ,     , 4   ,  [( )] 
1	;	16	;	  ,     
1	;	17	;	  ()  ,     
1	;	18	;	       ,     
1	;	19	;	  
1	;	20	;	  , (4) 4   , 4   
1	;	21	;	  
1	;	22	;	  
1	;	23	;	   (NEIS ) ,  1      
1	;	24	;	(   ) ,    (7-12) 
1	;	25	;	      ,    () ,     
1	;	26	;	   
1	;	27	;	  ,   () ,     (7~12) ,      
1	;	30	;	(  ) ,   ,  () () ,     ,  (7~12)() ,     
1	;	31	;	         , (NEP)     (  ) 
2	;	1	;	  (   ) ,   
2	;	2	;	    , ,,  () 
2	;	3	;	  ,      , ,,  (  ) 
2	;	4	;	  ,  ,   
2	;	5	;	   () ,     
2	;	6	;	   ,   () 
2	;	7	;	  (  ) ,    
2	;	8	;	2024  ()   2025   ,     
2	;	9	;	(2.23) (, , , ) ,    
2	;	10	;	    , 4     
2	;	11	;	  ,  
2	;	12	;	     ,     
2	;	13	;	4   , (,  ) 
2	;	14	;	   ,    (,,) 
2	;	16	;	  ( 10) ,  (  1 ) 
2	;	17	;	  ,     
2	;	18	;	   
2	;	19	;	() ,    () 
2	;	20	;	  , (4) 4   , 4   
2	;	21	;	 ,  (2 ) , 3.1.  4   
2	;	22	;	   ,  6    () 
2	;	23	;	 ()
2	;	24	;	  
2	;	25	;	(4) , (,,,) 
2	;	26	;	,    ,   
2	;	27	;	 ()
2	;	28	;	(  ), /  , ,   ,   ,   (   3.10/  2 ) 
3	;	1	;	    ,      
3	;	3	;	  ,  ,   ,      ,   
3	;	4	;	  ,   ,        ,     
3	;	6	;	  (~3.13) ,     
3	;	7	;	   ,    ,    
3	;	8	;	     ,     
3	;	9	;	   
3	;	10	;	    , 4     ,    
3	;	12	;	 
3	;	13	;	   () ,  
3	;	14	;	 () , 4   ,  
3	;	15	;	     ,  6    () 
3	;	17	;	  ,     ,   
3	;	19	;	()
3	;	20	;	(4) 4   , 4   ,   ,      ,    ,  (~3.21) 
3	;	21	;	      ,   (~3.30) 
3	;	22	;	      
3	;	23	;	()
3	;	24	;	 (2)
3	;	25	;	(   ) 
3	;	26	;	  
3	;	27	;	 
3	;	28	;	      (4) ,     (4) ,  () () 
3	;	29	;	   ,       
3	;	31	;	  () , (  ),   ,  () () ,     
4	;	1	;	  ,      , /  ,   
4	;	2	;	   (1 3)
4	;	3	;	  ,  ,   ,     
4	;	4	;	      ,   (1) ,     
4	;	5	;	  (4.1.)
4	;	8	;	  (/  .   ) 
4	;	9	;	    , 4     ,    
4	;	10	;	   () ,    
4	;	11	;	    ,     ,      
4	;	12	;	       
4	;	13	;	 
4	;	14	;	  ,  
4	;	15	;	    , 4   ,   ( ) 
4	;	16	;	()
4	;	17	;	  ,     
4	;	18	;	  , (4) 4   , 4   
4	;	19	;	     , 1/4       ,          
4	;	23	;	 ()
4	;	25	;	(   ) 
4	;	26	;	       () ,       
4	;	27	;	   () ,      
4	;	28	;	  ,    
4	;	30	;	(  ),   ,  ( ()) ,     
5	;	1	;	  ,      ,  () 
5	;	2	;	 ,   ,     
5	;	3	;	    
5	;	6	;	 
5	;	8	;	   ,   (  ) 
5	;	9	;	    (/) ,  ()    
5	;	11	;	  ,     , 4     
5	;	12	;	
5	;	14	;	    , 4   , (,  ) 
5	;	15	;	  ,     
5	;	16	;	    
5	;	18	;	()
5	;	19	;	  , (4) 4   , 4   
5	;	20	;	()
5	;	21	;	(1)
5	;	22	;	(   ) 
5	;	23	;	 ( )
5	;	26	;	 
5	;	27	;	  
5	;	28	;	    
5	;	29	;	(  ),   ,  ( ()) ,     
6	;	2	;	  ,      ,  () 
6	;	3	;	  ,  ,   
6	;	4	;	   ,     
6	;	6	;	     ,     
6	;	8	;	  (   ) 
6	;	9	;	  
6	;	10	;	    , 4     
6	;	12	;	  ,  
6	;	13	;	4   , (,  ) 
6	;	14	;	     () ,      ,      
6	;	15	;	    ,   
6	;	16	;	   
6	;	17	;	  ,     
6	;	18	;	() ,  (3) 
6	;	19	;	  , (4) 4   , 4   
6	;	20	;	    ,      ,      
6	;	24	;	(   ) 
6	;	25	;	  
6	;	26	;	 
6	;	27	;	      (1) ,     (1) 
6	;	28	;	    ,       
6	;	29	;	   
6	;	30	;	(  ),   ,  () () ,     
7	;	1	;	  ,      ,       
7	;	2	;	     ,  
7	;	3	;	  ,  ,   ,     
7	;	4	;	2/4       ,   (2) ,  (2) 
7	;	5	;	    
7	;	7	;	   (  )
7	;	8	;	   (2 6) ,    
7	;	9	;	    , 4     
7	;	10	;	
7	;	11	;	    ,    ,        
7	;	13	;	     ,    
7	;	14	;	 
7	;	15	;	    ,     , 4   ,  
7	;	16	;	()
7	;	17	;	  ,     
7	;	18	;	  , (4) 4   , 4   
7	;	19	;	   
7	;	24	;	(   ) ,     (1-6) 
7	;	25	;	      ,         
7	;	28	;	 
7	;	29	;	  
7	;	30	;	    (1-6)
7	;	31	;	(  ),   ,  ( ()) ,     ,  (1~6)  
8	;	1	;	  ,      
8	;	2	;	  (7 ) 
8	;	4	;	  ,  ,   
8	;	5	;	   
8	;	7	;	   ,    
8	;	8	;	   
8	;	10	;	  
8	;	11	;	    , 4     
8	;	12	;	  ,  
8	;	14	;	  ,     , 4   ,  
8	;	15	;	     
8	;	17	;	  ,  () 
8	;	18	;	   
8	;	19	;	() ,   , (4) 4   , 4   
8	;	21	;	(2)
8	;	22	;	    ,  ()  
8	;	25	;	(   ) 
8	;	26	;	 
8	;	27	;	  
8	;	28	;	(  ),   ,  ( ()) ,     
9	;	1	;	   ,      ,  (, )    
9	;	3	;	  ,  ,   
9	;	4	;	   
9	;	5	;	  
9	;	7	;	()
9	;	8	;	  
9	;	9	;	  
9	;	10	;	    , 4     
9	;	11	;	 (4)
9	;	12	;	  ,  
9	;	13	;	    
9	;	15	;	    , 4   ,  
9	;	17	;	()
9	;	18	;	  ,     
9	;	19	;	  , (4) 4   , 4   
9	;	20	;	  
9	;	23	;	(   ) 
9	;	25	;	  
9	;	26	;	       
9	;	28	;	   
9	;	29	;	  ,       (2) ,     (2) 
9	;	30	;	(  ),   ,  ( ()) ,     
10	;	1	;	  ,      
10	;	2	;	 ,   ,     ,    ,    
10	;	3	;	  (10.1.) , 3/4       ,     (3) 
10	;	9	;	    , 4     
10	;	10	;	  ,       ,     
10	;	13	;	  ,  ,    (3-9) 
10	;	14	;	() ,     , 4   ,  
10	;	16	;	  ,     
10	;	17	;	         
10	;	19	;	   () ,    
10	;	20	;	  , (4) 4   , 4   
10	;	22	;	 ()
10	;	24	;	(   ) 
10	;	25	;	     
10	;	26	;	   (16 3)
10	;	27	;	 
10	;	28	;	  
10	;	30	;	(  ),   ,  ( ()) ,     
11	;	1	;	    
11	;	2	;	 (   )
11	;	3	;	  ,      
11	;	4	;	  ,  ,   
11	;	5	;	   
11	;	6	;	   ,    
11	;	7	;	  
11	;	9	;	    , 4     
11	;	10	;	
11	;	12	;	 
11	;	13	;	4   ,  
11	;	14	;	   
11	;	16	;	  ,     ,     
11	;	18	;	()
11	;	19	;	  , (4) 4   , 4   
11	;	20	;	(3)
11	;	21	;	    
11	;	23	;	 (2)   
11	;	24	;	(   ) 
11	;	25	;	  
11	;	26	;	 
11	;	27	;	(  ),   ,  ( ()) ,     
11	;	28	;	     ()
12	;	1	;	  ,      
12	;	3	;	  ,  ,   
12	;	4	;	   
12	;	5	;	  (3)   ,        , 4/4       
12	;	7	;	    ( )
12	;	8	;	  (  11.12  )
12	;	9	;	  
12	;	10	;	    , 4     
12	;	11	;	     ,  ()   
12	;	12	;	 
12	;	13	;	   (NEIS) ,       
12	;	14	;	     ,   
12	;	15	;	    , 4   ,  
12	;	16	;	  ( ) ,     
12	;	17	;	() ,   ,     
12	;	18	;	 () 1 
12	;	19	;	  , (4) 4   , 4   
12	;	20	;	   ,   ,     ,       
12	;	21	;	    
12	;	23	;	(   ) 
12	;	25	;	  
12	;	26	;	    ,      ,     
12	;	28	;	   
12	;	29	;	 
12	;	30	;	      (3) ,     (3) 
12	;	31	;	(  ),   ,  ( ()) ,    
`,Yp=`
  "2025   "     .

### **1 **
*   **1.    3**
    *   **1.  :**  2(), 4(   ) 7( ),   3(   )
    *   **2.  :**  8( ),   5(  )
    *   **3.  :**  9( ),   6( )
    *   **4.  :**  18(   ) 19( ),  22(  ),   14(  ) 17(  ),   24(    ), 25(  ),   29(  ),  31( )
    *   **5. ():**  18(),   18(),   8(   ),   9(    ),  23( ),  1() 3( )
*   **2.    6**
    *   **1. ON-LINE  :**       ,    4( )
    *   **2. OFF-LINE  :** (      )
    *   **3. NEIS   :** (   )
    *   **4. NEIS  :** (   )
    *   **5. FAX :**    3( ), 5( ),    6(   )
*   **3.   10**
    *   **1.    :**  10( ),   6(  )
    *   **2. ():**  9(  ), 11(  ), 16(    ),   7(  ), 8(3 )
    *   **3.  :**  12(), 122( ),      7( ), 9( )
    *   **4.     :**  13(   ) 17( ),   12(   ) 17( ),   7( )
*   **4.    15**
    *   **1.    :**  36(    ) 43( ),   43(    ),    21(    ), 24( )

### **2 **
*   **1.   17**
    *   **1.  :**      2(  ),      4(  ) 6(),       33(   ) 40(),  4(  ),    3()
    *   **2. :**      7(  ), 8(  ),       36() 40(),  7( ), 8( )
    *   **3.  :**      2(  ) 14( ),        11(  )
*   **2.    20**
    *   **1.  :**       3() 8( ),        2(  ) 6(  )
    *   **2. :**       9(   ) 10( ),        7( ),      4()
*   **3. K-()  22**
    *   **1. :**       18( ),        15( ) 17( )
*   **4.   27**
    *   **1.  :**     19(  ),      19( ) 25( ),      4( ) 6( )
    *   **2.  :**      23(  ),      7(   ) 13(  )
    *   **3.   :**      24( ) 33(  ),      14( )
    *   **4.  :**      26() 32( ),      19(  )
    *   **5.  :**      43(       ),      35( )
*   **5.    31**
    *   **1.  :**       61( ),        45( )
    *   **2.  :**       61( ),        45( ),      10(),       10( )
*   **6.   33**
    *   **1.  :**  20( ),  1() 8(),    4( )
    *   **2.   :**  4(  ) 8(),    39( )

### **3 **
*   **1.   35**
    *   **1.  ( ):**     3( )
    *   **2. ():**     5(   ),     8(5    )
*   **2.    37**
    *   **1. :**   3(    ),    3(  ),    7(    )
*   **3.   40**
    *   **1.  :** ,   ,       ,        
    *   **2.    :**    8(),  5( ),       11()
*   **4.   42**
    *   **1.   :**  63(), 64(),  31()
*   **5.      45**
    *   **1.  :**   8( )
    *   **2.  :**   9( )
*   **6.      48**
    *   **1.  :**  8( )
    *   **2.  :**  9( )

### **4   **
*   **1.    51**
    *   **1.    :**  17( ),        17( ),    ,      4(  ),       2(),  56(   ),   25(  ),  293(  ),   265(   ),     10(),   ,   
*   **2.    65**
    *   **1.   :** ,    44() 72()
*   **3.    75**
    *   **1. :** ,  ,    73( ) 83(),    53(  ) 56()
*   **4.   84**
    *   **1. :** ,  ,  ,   

### **5 **
*   **1.      88**
    *   **1.    :**    4(   )
    *   **2.   :**    73(   )
*   **2. ()    91**
    *   **1. ()  :**   16(  ),   31( ),    28(),    44()
*   **3.     93**
    *   **1.    :**  28(    ),   49(    ),    56(  )
*   **4.      94**
    *   **1.   () :**  33(),  312(),  (, 2019. 10.),     56(   ),  293(  ),      8(    )
*   **5.   95**
    *   **1.  :**  34(),    59( )
    *   **2. :**   54( ),    60( ),    61( )

### **6 **
*   **1.   97**
    *   **1.   :**       
    *   **2.  :**      8(  ),       
*   **2.   98**
    *   **1.   :**   78(    ),    
    *   **2. :**   7(   ), 72(  ),      20(  ),    
*   **3.     105**
    *   **1. :**   10( ), 11( ),    19(   ),        10(   )
*   **4.   108**
    *   **1. :**   6(),    16( ), 18(     ),     6(),     ()

### **7 **
*   **1.     110**
    *   **1.   :**  31( ),   58(  ),  193(  )
    *   **2.    ,   :**   58(  ),     22( ),  193(  ),   ()
*   **2.    115**
    *   **1.  :**  32(),   572(  ),     9( )
    *   **2.  :**     12( )  152( )
*   **3.   119**
    *   **1.  :**   602(),     16(),   ()
*   **4.   120**
    *   **1.  :**   602(),     16(),   ()

### **8 **
*   **1. (NEIS)  122**
    *   **1. NEIS :** 2025   ,   
*   **2.     124**
    *   **1. :** ,  ,    ,     ,  ,       ,         ,       
*   **3.   139**
    *   **1.    :**  137( ), 140(   ), 143(   ), 164( )
*   **4.   141**
    *   **1.    :**  276( ), 229( )
    *   **3.   :**  195(  ), 227( ), 246(),   3( )
*   **5.   144**
    *   **1. :**  66( ) 68( ),   65(    )
    *   **3. :**  75( ), 77( ),   72()
*   **6.   147**
    *   **1. , :**  8(   ) 10(   ),   4(   )
*   **7.   149**
    *   **1. ,  :**  72(),  
*   **8.   151**
    *   **1.    :**    ,      5(  )

### **9 **
*   **1.    155**
    *   **1.  :**        2(),  25( )
    *   **3.  :**    46( ), 47( )
    *   **5.     :**   30(    ),    58( )

### **10  **
*   **1.     162**
    *   **1.   :**    11( ), 14(  )
*   **2.    167**
    *   **1.  :**    11( )
*   **3.   171**
    *   **1.   :**    14(  )
*   **4.   173**
    *   **1.   :**    14(  )
*   **5.   175**
    *   **1.   :**    14(  )
*   **6.  ,     176**
    *   **1.    :**    16(     )  17( )
*   **7.    178**
    *   **1.   :**    15(   ),  302( )
*   **8.    179**
    *   **1.  :**    18(), 19( )
*   **9.    181**
    *   **1.   :**    4(), 20( ), 23( )

### **11  **
*   **1.    183**
    *   **1. :**    25( )
    *   **2. :**     9( ),    42(   )
    *   **3. :**    26(  ) 28( ),        3(),     22( ),       

### **12  **
*   **1.    189**
    *   **1.  ():**  20 2( ),  19( ),    4( ),    30(  ),      ,  5(   ) 8()
    *   **2.   ():**    155() 157( ),  4( ), 6(    )
    *   **3.    :**  30( ),  7(    ),   3(    ),    4(), 19( ), 34( )
*   **2.    194**
    *   **1.   :**    33(   ) 36()
    *   **2. :**    33(   )
*   **3.    206**
*   **4.    218**
*   **5.   223**

### **13 **
*   **1.    228**
    *   **1.  :**  4(  ), 6( )
    *   **2.   :**    ,    ,   7( ),  664( ),  2(),     2()
*   **2.    236**
    *   **1. :** (   )
    *   **2. :** (   )
    *   **3.  :**   2() 10( ),     2( )
*   **3.     244**
    *   **1.     :**  4( ), 7( ),   22( ), 23(   ),           (),         (),   48(   )
    *   **2. :**   7( ) 10( ), 15( ), 16(     ), 20(   ), 322( ) 36( ), 124( ),     ,        ,    ,    
    *   **3. 2 ,   :**   18(2 ), 19(   )
    *   **4.   :**   43(  ), 44(  ),    
    *   **5.    :**   442(   )
*   **4.    264**
    *   **1.  :**   47( ) 48(   ),    
    *   **2.    :**   50(   ),   33(     ), 48(  ),   33(   )
*   **5.    267**
    *   **1.    :** (   )
    *   **2. , ,    :**      5(, ,        ),       4(    ),  2(), 61(   ) 66(   )
    *   **3.  :**   302( ), 35(  ),     ,      ,   ,    98( ),      154(),     2(), 17(  ),     9 5( )
*   **6.     290**
    *   **1.  :**   262(     ), 344(  ), 643(    ), 83( ),    53(    ),      8(  ),       10(),     1 9(   ), 9 9( )  12()
*   **7.    298**
    *   **1. :** (   )
    *   **2.       :** (   )
    *   **3.      :** (   )

### **14 **
*   **1.   300**
    *   **1.  :**    91( )
    *   **2.  :**    91( )
    *   **3.  :**    40( ),     3( )  [1]
    *   **4.  :**    40( ),    90(  ) 99(), 127(   ),  34( ),   40(      )

### **15 **
*   **1.      304**
    *   **1.   :**   64(),   46(  )
*   **2.      307**
    *   **1.  :**   64(),   47( )
    *   **2.  :**   64(),   47(  ),   11(  )
*   **3.      310**
    *   **1.  :**   64(),   50()
*   **4.       311**
    *   **1.  :**   45(  )
    *   **2.    :**   52(    )

### **16 **
*   **1.      312**
    *   **1.  :**    58( ),     58( ),    5( ) [1]
*   **2.    314**
    *   **1.  :**    68(),    5( ), 10( ), [1]   ,     9()
*   **3.   319**
    *   **2. :**  14(  ),    16(  ),     17( ),     14( )
*   **4.   321**
    *   **1.  :**    16(  ),     62(  )
*   **5.    323**
    *   **1.  :**    76( ), 77(  ), 78( ),     78(   ), 79( ),    17( ), 18( )
*   **6.   326**
    *   **1. :**    60( ),     59(),     24()
*   **7.     328**
    *   **1.   :**       5( ) 13( )
*   **8. (RFID)    331**
    *   **1. (RFID)  :**    66( ),    35(  )

### **17 **
*   **1.    334**
    *   **1.  :**     5(  ),      3( )
    *   **2.    :** (   )
*   **2.    335**
    *   **1.    :**   52( ),    2( )
    *   **2.      :**  38(),    18()
*   **3.    338**
    *   **1.     :**      12( )
    *   **2.    :**     95(   ),      92(   ),     5()
*   **4.      340**
    *   **1.   :**     20(), 21(),      13( )
    *   **2.  :**      31(  ),     29( ), 31( ),    8(  )[3]
*   **5.     345**
    *   **1. ():**     20( ), 21(),            4(     )
*   **6.   348**
    *   **1.    :**      33()
    *   **2.   :**     51( ), 52(   )
*   **7.   350**
    *   **1.  :**         34(   ),       5(  ),      4(  )

### **18 **
*   **1.    354**
    *   **1.  :**         13(  ),       11( ),        5()
*   **2.    359**
    *   **1.  :**  ( )
    *   **2.  :**  6(  ), 10(  ) 19(),   5(  ), 12(  ) 20(),    ,     ,    ,        4
    *   **3.  :**     4( ) 8( ), 14( ),  24( ), 34(   ), 36(   ), 39( ),   11(    ), 14(  ),  16(    ),  16(,    ), 22( ), 23(    ),   6(), 19(  ),   20(     ), 23(   ),      7(  ),  16()
    *   **4.  :**  17(  ), 29(), 30(),   153 1(    ),   202(), 25(), 50(), 64(  ),  34(), 37(  ), 41(), 57(),   15(  ), 30(  ),   52(), 66(), 70(  ), 75( )
    *   **5.  :**  15(), 18(  ), 28(),   13( ), 16(  ),   53(  ), 64( ) 68( ),   
    *   **6.  :**  27( ) 29( ), 31( ), 32( , , ), 48(    ), 50( ),   37(    ),   46( ), 50(     ), 52(  ), 54(  ),      
*   **3.    363**
    *   **1. 23  :**  6(    ), 8(3  ), 9(   ), 11( ), 12( ), 22(  ), 23(), 28(  ),   4( ), 5(3  ), 8(  ),        5()
*   **4.    381**
    *   **1. :** (   )
*   **5.    385**
    *   **1.    ( ):**    () 254(   )

### **19     **
*   **1.        387**
    *   **1.    :**       2 4( ), ,     
    *   **2. () :**  8(),  111(),   154()
*   **2.    392**
    *   **1.    :**  38( ),    69( ), 156(), 157(),    41( )
*   **3.     394**
    *   **1.  :** (   )
*   **4.     396**
    *   **1.      :** ,  , ,  ,  ,  8,   19,   3, 6,  6, 7,   9,   3,  15,   7, ,  ,  ,       ,  7, 72,  52
*   **5.    399**
    *   **1.   :**   ,    
*   **6.     403**
    *   **1. ()   () :**  6(),   7(  ),   3( )
*   **7.  (BTL)   405**
    *   **1.   :**    4 2( )
    *   **2.    :** (   )
`,Kw="https://aistudio.google.com/app/apikey",Jw="https://openrouter.ai/keys",Hu=1,Ds=n=>typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n),Ar=n=>typeof n=="string"&&Et.includes(n),B0=n=>n==="manual"||n==="ai",El=n=>{if(!Ds(n))return null;const e=Number(n.slice(0,4));return Number.isFinite(e)?e:null},Yu=n=>{const e=/^event-(\d{4})-/.exec(n);if(!e)return null;const t=Number(e[1]);return Number.isFinite(t)?t:null},Fp=()=>{try{const n=localStorage.getItem(Mo);if(!n)return[];const e=JSON.parse(n);if(!Array.isArray(e))return[];const t=[];for(const i of e){if(!i||typeof i!="object")continue;const l=i,o=l.id,s=l.date,u=l.title,c=l.category,f=l.source;typeof o!="string"||!o||Ds(s)&&(typeof u!="string"||!u.trim()||t.push({id:o,date:s,title:u.trim(),category:Ar(c)?c:Qn,source:B0(f)?f:"manual"}))}return t}catch{return[]}},Xw=n=>{localStorage.setItem(Mo,JSON.stringify(n)),window.dispatchEvent(new CustomEvent(dr))},Zp=()=>{try{const n=localStorage.getItem(Hr);if(!n)return{};const e=JSON.parse(n);if(!e||typeof e!="object"||Array.isArray(e))return{};const t={};for(const[i,l]of Object.entries(e)){if(!l||typeof l!="object"||Array.isArray(l))continue;const o=l,s={};Ds(o.date)&&(s.date=o.date),typeof o.title=="string"&&o.title.trim()&&(s.title=o.title.trim()),Ar(o.category)&&(s.category=o.category),(s.date||s.title||s.category)&&(t[i]=s)}return t}catch{return{}}},Qw=n=>{localStorage.setItem(Hr,JSON.stringify(n)),window.dispatchEvent(new CustomEvent(zc))},Ww=({isOpen:n,onClose:e,geminiApiKey:t,openRouterApiKey:i,aiProviderPreference:l,openRouterModel:o,onSaveGemini:s,onSaveOpenRouter:u,onSaveAiProviderPreference:c,onSaveOpenRouterModel:f,onClearGemini:d,onClearOpenRouter:m})=>{const{colors:h}=Gi(),[p,x]=A.useState(t),[S,_]=A.useState(i),[y,v]=A.useState(l),[T,C]=A.useState(o),[b,w]=A.useState(!1),[N,D]=A.useState(!1),[P,V]=A.useState(()=>new Date().getFullYear()),[ue,xe]=A.useState(null);A.useEffect(()=>{n&&(x(t),_(i),v(l),C(o),w(!1),D(!1),V(new Date().getFullYear()),xe(null))},[n,t,i,l,o]);const Ot=A.useMemo(()=>t?t.length<=8?"*".repeat(t.length):`${t.slice(0,4)}${"*".repeat(t.length-8)}${t.slice(-4)}`:"",[t]),it=A.useMemo(()=>i?i.length<=10?"*".repeat(i.length):`${i.slice(0,6)}${"*".repeat(i.length-10)}${i.slice(-4)}`:"",[i]),Mt=A.useMemo(()=>{const O=!!p.trim(),z=!!S.trim();return y==="gemini"?O?"gemini":z?"openrouter":null:y==="openrouter"?z?"openrouter":O?"gemini":null:O?"gemini":z?"openrouter":null},[y,p,S]),$=y==="auto"||y==="gemini",le=y==="auto"||y==="openrouter";if(!n)return null;const ne=()=>{s(p),u(S),c(y),f(T),e()},Re=()=>{d(),m(),x(""),_(""),e()},re=O=>{const z=Fp().filter(F=>El(F.date)===O),_e=Zp(),Ve={};for(const[F,J]of Object.entries(_e))((J.date&&El(J.date))??Yu(F))===O&&(Ve[F]=J);return{version:Hu,createdAt:new Date().toISOString(),year:O,userEvents:z,builtinEventOverrides:Ve}},Nt=(O,z)=>{const _e=new Blob([z],{type:"application/json"}),Ve=URL.createObjectURL(_e),F=document.createElement("a");F.href=Ve,F.download=O,document.body.appendChild(F),F.click(),F.remove(),URL.revokeObjectURL(Ve)},Ht=()=>{xe(null);const O=Math.trunc(P);if(!Number.isFinite(O)||O<1900||O>9999){xe({type:"error",message:"  ."});return}try{const z=re(O),_e=JSON.stringify(z,null,2);Nt(`smart-calendar-backup-${O}.json`,_e),xe({type:"success",message:`${O}   .`})}catch(z){xe({type:"error",message:z instanceof Error?z.message:"    ."})}},I=O=>{if(!O||typeof O!="object"||Array.isArray(O))throw new Error("    .");const z=O,_e=z.version,Ve=typeof _e=="number"?_e:_e===void 0?0:NaN;if(Ve!==0&&Ve!==Hu)throw new Error("    .");const F=z.year;if(typeof F!="number"||!Number.isFinite(F))throw new Error("    . (year)");const J=Math.trunc(F),ie=z.userEvents??z.events;if(!Array.isArray(ie))throw new Error("    . (userEvents)");const K=z.builtinEventOverrides??z.builtinOverrides??z.overrides;if(K!==void 0&&(typeof K!="object"||K===null||Array.isArray(K)))throw new Error("    . (builtinEventOverrides)");const ye=[];for(const _t of ie){if(!_t||typeof _t!="object")continue;const Je=_t,Me=Je.id,Ge=Je.date,wt=Je.title,Sn=Je.category,Qe=Je.source;typeof Me!="string"||!Me||!Ds(Ge)||typeof wt!="string"||!wt.trim()||El(Ge)!==J||ye.push({id:Me,date:Ge,title:wt.trim(),category:Ar(Sn)?Sn:Qn,source:B0(Qe)?Qe:"manual"})}const De={};if(K&&typeof K=="object"&&!Array.isArray(K))for(const[_t,Je]of Object.entries(K)){if(!Je||typeof Je!="object"||Array.isArray(Je))continue;const Me=Je,Ge={};Ds(Me.date)&&(Ge.date=Me.date),typeof Me.title=="string"&&Me.title.trim()&&(Ge.title=Me.title.trim()),Ar(Me.category)&&(Ge.category=Me.category),((Ge.date&&El(Ge.date))??Yu(_t))===J&&(Ge.date||Ge.title||Ge.category)&&(De[_t]=Ge)}return{version:Hu,createdAt:typeof z.createdAt=="string"?z.createdAt:new Date().toISOString(),year:J,userEvents:ye,builtinEventOverrides:De}},Z=async O=>{xe(null);try{const z=await O.text(),_e=JSON.parse(z),Ve=I(_e),J=Fp().filter(ye=>El(ye.date)!==Ve.year);Xw([...Ve.userEvents,...J]);const ie=Zp(),K={};for(const[ye,De]of Object.entries(ie))((De.date&&El(De.date))??Yu(ye))!==Ve.year&&(K[ye]=De);Qw({...K,...Ve.builtinEventOverrides}),xe({type:"success",message:`${Ve.year}  . ( ${Ve.userEvents.length} /   ${Object.keys(Ve.builtinEventOverrides).length})`})}catch(z){xe({type:"error",message:z instanceof Error?z.message:"    ."})}},q=async O=>{var _e;const z=(_e=O.target.files)==null?void 0:_e[0];z&&(await Z(z),O.target.value="")};return g.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:`w-full max-w-lg max-h-[90vh] overflow-y-auto scrollbar-thin ${h.componentBg} border ${h.border} rounded-xl shadow-xl p-5`,children:[g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:`text-lg font-semibold ${h.accentColor}`,children:"API Key "}),g.jsx("p",{className:`text-xs ${h.textSecondary} mt-1`,children:"   (localStorage) . (  PC  )"})]}),g.jsx("button",{onClick:e,className:`${h.textSecondary} hover:${h.textPrimary} px-2 py-1 rounded-md ${h.hoverEffect}`,"aria-label":"",children:""})]}),g.jsxs("div",{className:"mt-4 space-y-5",children:[$&&g.jsxs("section",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("label",{className:`text-sm ${h.textPrimary} block`,htmlFor:"ai-provider-select",children:"AI Provider"}),g.jsxs("span",{className:`text-xs ${h.textSecondary}`,children:[" : ",Mt??""]})]}),g.jsxs("select",{id:"ai-provider-select",value:y,onChange:O=>v(O.target.value),className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm`,children:[g.jsx("option",{value:"auto",children:"()"}),g.jsx("option",{value:"gemini",children:"Google AI Studio (Gemini)"}),g.jsx("option",{value:"openrouter",children:"OpenRouter"})]}),g.jsx("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:" Provider  ,   Provider  ."}),g.jsxs("ol",{className:`text-[11px] ${h.textSecondary} leading-relaxed list-decimal list-inside mt-2 space-y-0.5`,children:[g.jsx("li",{children:"Google AI Studio API Key ."}),g.jsx("li",{children:"    ."})]})]}),le&&g.jsxs("section",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("label",{className:`text-sm ${h.textPrimary} block`,htmlFor:"gemini-api-key-input",children:"Gemini API Key"}),g.jsx("a",{href:Kw,target:"_blank",rel:"noopener noreferrer",className:`text-xs ${h.textSecondary} hover:${h.textPrimary} underline`,children:" "})]}),g.jsx("input",{id:"gemini-api-key-input",type:b?"text":"password",value:p,onChange:O=>x(O.target.value),placeholder:"AIza...   ",className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm placeholder-slate-500`}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("button",{onClick:()=>w(O=>!O),className:`text-xs ${h.textSecondary} hover:${h.textPrimary}`,type:"button",children:b?"":""}),t&&g.jsxs("div",{className:`text-xs ${h.textSecondary}`,children:[": ",Ot]})]}),g.jsxs("div",{className:"mt-2 space-y-1",children:[g.jsx("label",{className:`text-xs ${h.textSecondary} block`,htmlFor:"openrouter-model-input",children:"OpenRouter  ()"}),g.jsx("input",{id:"openrouter-model-input",type:"text",value:T,onChange:O=>C(O.target.value),placeholder:"(     )",className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm placeholder-slate-500`}),g.jsxs("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:[": ",g.jsx("span",{className:"font-mono",children:"mistralai/mistral-7b-instruct:free"}),"  ",g.jsx("span",{className:"font-mono",children:"google/gemma-3-4b-it:free"})]})]}),g.jsxs("ol",{className:`text-[11px] ${h.textSecondary} leading-relaxed list-decimal list-inside mt-2 space-y-0.5`,children:[g.jsx("li",{children:"OpenRouter   Keys  API Key ."}),g.jsx("li",{children:"    ."})]})]}),g.jsxs("section",{className:"space-y-2",children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("label",{className:`text-sm ${h.textPrimary} block`,htmlFor:"openrouter-api-key-input",children:"OpenRouter API Key"}),g.jsx("a",{href:Jw,target:"_blank",rel:"noopener noreferrer",className:`text-xs ${h.textSecondary} hover:${h.textPrimary} underline`,children:" /"})]}),g.jsx("input",{id:"openrouter-api-key-input",type:N?"text":"password",value:S,onChange:O=>_(O.target.value),placeholder:"sk-or-v1-...   ",className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm placeholder-slate-500`}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("button",{onClick:()=>D(O=>!O),className:`text-xs ${h.textSecondary} hover:${h.textPrimary}`,type:"button",children:N?"":""}),i&&g.jsxs("div",{className:`text-xs ${h.textSecondary}`,children:[": ",it]})]})]}),g.jsx("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:"()  Gemini    Gemini ,  OpenRouter ."}),g.jsxs("section",{className:`space-y-2 pt-4 border-t ${h.border}`,children:[g.jsxs("div",{className:"flex items-center justify-between gap-3",children:[g.jsx("h3",{className:`text-sm font-semibold ${h.textPrimary}`,children:" / "}),g.jsx("span",{className:`text-[11px] ${h.textSecondary}`,children:" JSON "})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 items-end",children:[g.jsxs("div",{children:[g.jsx("label",{className:`text-xs ${h.textSecondary} block mb-1`,htmlFor:"backup-year-input",children:""}),g.jsx("input",{id:"backup-year-input",type:"number",value:P,onChange:O=>V(Number(O.target.value)),className:`w-full p-2.5 ${h.inputBg} border ${h.border} rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none text-sm`,min:1900,max:9999})]}),g.jsx("button",{type:"button",onClick:Ht,className:`${h.buttonBg} ${h.hoverEffect} ${h.buttonText} font-semibold py-2.5 px-4 rounded-lg transition-colors text-sm w-full`,children:" "}),g.jsxs("label",{className:`${h.accentBg} hover:opacity-90 ${h.buttonText} font-semibold py-2.5 px-4 rounded-lg transition-colors text-sm w-full text-center cursor-pointer`,children:[g.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:q})," "]})]}),ue&&g.jsx("div",{className:`text-xs p-2 rounded-md border ${ue.type==="success"?"text-green-200 bg-green-900/20 border-green-700":"text-red-200 bg-red-900/20 border-red-700"}`,children:ue.message}),g.jsx("p",{className:`text-[11px] ${h.textSecondary} leading-relaxed`,children:"    /   . (API Key  )"})]})]}),g.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[g.jsx("button",{onClick:Re,className:`${h.eventBuiltinBg} hover:opacity-90 ${h.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,type:"button",children:" "}),g.jsx("button",{onClick:ne,className:`${h.accentBg} hover:opacity-90 ${h.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,type:"button",children:""})]})]})})},xa=8,Hl=(n,e,t)=>Math.min(t,Math.max(e,n)),jw=n=>{const e=n.getBoundingClientRect(),t=Hl(e.top-xa,0,window.innerHeight),i=Hl(e.left-xa,0,window.innerWidth),l=Hl(e.right+xa,0,window.innerWidth),o=Hl(e.bottom+xa,0,window.innerHeight);return{top:t,left:i,width:Math.max(0,l-i),height:Math.max(0,o-t),right:l,bottom:o}},eR=n=>n?document.querySelector(`[data-tour="${CSS.escape(n)}"]`):null,tR=({isOpen:n,steps:e,onClose:t})=>{var v,T;const{colors:i}=Gi(),[l,o]=A.useState(0),[s,u]=A.useState(!1),[c,f]=A.useState(null),d=A.useRef(null),[m,h]=A.useState(null),p=e[l];A.useEffect(()=>{n&&(o(0),u(!1),f(null))},[n]),A.useLayoutEffect(()=>{if(!n||!p)return;const C=()=>{const b=eR(p.target);if(!b){f(null);return}f(jw(b))};return C(),window.addEventListener("resize",C),window.addEventListener("scroll",C,!0),()=>{window.removeEventListener("resize",C),window.removeEventListener("scroll",C,!0)}},[n,p==null?void 0:p.target]),A.useLayoutEffect(()=>{n&&d.current&&h(d.current.getBoundingClientRect())},[n,l]);const x=A.useMemo(()=>{var N,D;const C=c?{x:c.left+c.width/2,y:c.top+c.height/2}:{x:window.innerWidth/2,y:window.innerHeight/2},b=((N=p==null?void 0:p.arrowOffset)==null?void 0:N.x)??0,w=((D=p==null?void 0:p.arrowOffset)==null?void 0:D.y)??0;return{x:Hl(C.x+b,0,window.innerWidth),y:Hl(C.y+w,0,window.innerHeight)}},[c,(v=p==null?void 0:p.arrowOffset)==null?void 0:v.x,(T=p==null?void 0:p.arrowOffset)==null?void 0:T.y]),S=A.useMemo(()=>m?{x:m.left+m.width/2,y:m.top}:{x:32,y:window.innerHeight-32},[m]),_=()=>{if(l>=e.length-1){t({dismissed:s});return}o(C=>C+1)},y=()=>t({dismissed:s});return!n||!p?null:g.jsxs("div",{className:"fixed inset-0 z-[200]",role:"dialog","aria-modal":"true","aria-label":" ",onClick:_,children:[c?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed bg-black/60",style:{top:0,left:0,width:"100%",height:`${c.top}px`}}),g.jsx("div",{className:"fixed bg-black/60",style:{top:`${c.bottom}px`,left:0,width:"100%",height:`${window.innerHeight-c.bottom}px`}}),g.jsx("div",{className:"fixed bg-black/60",style:{top:`${c.top}px`,left:0,width:`${c.left}px`,height:`${c.height}px`}}),g.jsx("div",{className:"fixed bg-black/60",style:{top:`${c.top}px`,left:`${c.right}px`,width:`${window.innerWidth-c.right}px`,height:`${c.height}px`}}),g.jsx("div",{className:"fixed pointer-events-none border-2 border-cyan-400 rounded-xl shadow-[0_0_0_2px_rgba(34,211,238,0.2)]",style:{top:`${c.top}px`,left:`${c.left}px`,width:`${c.width}px`,height:`${c.height}px`}})]}):g.jsx("div",{className:"fixed inset-0 bg-black/60"}),c&&g.jsxs("svg",{className:"fixed inset-0 pointer-events-none",width:"100%",height:"100%","aria-hidden":"true",children:[g.jsx("defs",{children:g.jsx("marker",{id:"tour-arrowhead",markerWidth:"10",markerHeight:"8",refX:"8",refY:"4",orient:"auto",children:g.jsx("path",{d:"M0,0 L10,4 L0,8 Z",fill:"rgba(34,211,238,0.95)"})})}),g.jsx("line",{x1:S.x,y1:S.y,x2:x.x,y2:x.y,stroke:"rgba(34,211,238,0.9)",strokeWidth:"2",markerEnd:"url(#tour-arrowhead)"})]}),g.jsxs("div",{ref:d,className:`fixed left-4 bottom-4 w-[min(380px,calc(100vw-32px))] ${i.componentBg} border ${i.border} rounded-xl shadow-2xl p-4`,onClick:C=>C.stopPropagation(),children:[g.jsxs("div",{className:"flex items-start justify-between gap-3",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsxs("div",{className:`text-[11px] ${i.textSecondary}`,children:[l+1," / ",e.length]}),g.jsx("div",{className:`text-base font-semibold ${i.accentColor} mt-0.5`,children:p.title})]}),g.jsx("button",{type:"button",onClick:y,className:`text-xs ${i.textSecondary} hover:${i.textPrimary} underline`,children:""})]}),g.jsx("p",{className:`mt-2 text-sm ${i.textPrimary} leading-relaxed`,children:p.description}),g.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[g.jsxs("label",{className:`flex items-center gap-2 text-xs ${i.textSecondary}`,children:[g.jsx("input",{type:"checkbox",checked:s,onChange:C=>u(C.target.checked),className:`mt-0.5 h-4 w-4 rounded border ${i.border} ${i.inputBg} text-cyan-500 focus:ring-cyan-400`}),"  "]}),g.jsx("div",{className:`text-xs ${i.textSecondary}`,children:"   "})]})]})]})},nR=({isOpen:n,onClose:e})=>{const{colors:t}=Gi();return n?g.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:g.jsxs("div",{className:`${t.componentBg} p-6 rounded-xl shadow-2xl border ${t.border} w-full max-w-2xl max-h-[80vh] flex flex-col relative`,onClick:i=>i.stopPropagation(),children:[g.jsx("button",{onClick:e,className:`absolute top-4 right-4 ${t.textSecondary} hover:${t.textPrimary} transition-colors`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),g.jsx("h2",{className:`text-xl sm:text-2xl font-bold ${t.accentColor} mb-4 pr-8`,children:" "}),g.jsx("div",{className:"flex-grow overflow-y-auto min-h-0 scrollbar-thin pr-2",children:g.jsxs("ul",{className:`space-y-4 ${t.textSecondary}`,children:[g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" :"})," /   ,   ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" :"})," /  AI ( )   ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:"AI :"})," Gemini  OpenRouter API Key   / . (Gemini  Gemini  )"]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:"API  :"}),"  ",g.jsx("strong",{children:"API Key "}),"  ",g.jsx("strong",{children:" "}),"   Google      ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" :"}),"       ",g.jsx("strong",{children:""}),"  . /   ."]})]}),g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`${t.accentColor} mr-2 mt-1 flex-shrink-0 text-lg`,children:""}),g.jsxs("span",{children:[g.jsx("strong",{children:" / :"}),"  /   (:  ) ,       .   &     . (:    AI   ",g.jsx("strong",{children:""}),")"]})]})]})}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{onClick:e,className:`${t.accentBg} hover:opacity-90 ${t.buttonText} px-6 py-2 rounded-lg font-semibold transition-colors`,children:""})})]})}):null},Kp="smartcalendar:tourSeen",iR=[{target:"chat-input",title:" ",description:" AI ,     ."},{target:"ai-schedule-toggle",title:"AI  ",description:"        ."},{target:"calendar-event",title:" ",description:"    AI  ."},{target:"view-week",title:" ",description:"        ."},{target:"calendar-more",title:"",description:"    +N      .",arrowOffset:{y:-16}},{target:"calendar-event",title:" ()",description:" &     ."},{target:"filter-button",title:"",description:"/ (/AI)    ."},{target:"api-settings-button",title:"",description:"Provider , API Key , /    ."}],lR=({onOpenUsage:n})=>{const{apiKey:e,openRouterApiKey:t,aiProviderPreference:i,openRouterModel:l,setApiKey:o,setOpenRouterApiKey:s,setAiProviderPreference:u,setOpenRouterModel:c,clearApiKey:f,clearOpenRouterApiKey:d}=Td(),{theme:m,setTheme:h,colors:p}=Gi(),[x,S]=A.useState(!1);return g.jsxs("header",{className:`flex justify-between items-center p-4 ${p.headerBg} border-b ${p.border}`,children:[g.jsx("h1",{className:`text-xl font-bold ${p.accentColor}`,children:"ON  "}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`flex rounded-lg p-1 border ${p.border} mr-2`,children:["dark","light","beige"].map(_=>g.jsx("button",{onClick:()=>h(_),className:`w-6 h-6 rounded-md flex items-center justify-center transition-colors mx-0.5
                 ${m===_?"ring-2 ring-offset-1 ring-cyan-500":"hover:opacity-80"}
                 ${_==="dark"?"bg-slate-800":_==="light"?"bg-white border border-gray-300":"bg-[#e4dcc0]"}
               `,title:`${_} theme`},_))}),g.jsx("button",{onClick:n,className:`${p.accentBg} hover:opacity-90 ${p.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors mr-2`,children:""}),g.jsxs("div",{className:`hidden sm:block text-xs ${p.textSecondary}`,children:["Provider: ",i==="auto"?"":i==="gemini"?"Gemini":"OpenRouter","  Key: ",e||t?"":""]}),g.jsxs("div",{className:`hidden lg:block text-xs ${p.textSecondary}`,children:["Gemini: ",e?"":"","  OpenRouter: ",t?"":""]}),g.jsx("button",{onClick:()=>S(!0),"data-tour":"api-settings-button",className:`bg-slate-700 hover:bg-slate-600 ${p.buttonText} font-semibold py-2 px-4 rounded-lg transition-colors`,children:"API Key "})]}),g.jsx(Ww,{isOpen:x,onClose:()=>S(!1),geminiApiKey:e,openRouterApiKey:t,aiProviderPreference:i,openRouterModel:l,onSaveGemini:o,onSaveOpenRouter:s,onSaveAiProviderPreference:u,onSaveOpenRouterModel:c,onClearGemini:f,onClearOpenRouter:d})]})},oR=()=>{const[n,e]=A.useState(!1),[t,i]=A.useState(!1),{colors:l}=Gi();return A.useEffect(()=>{localStorage.getItem(Kp)==="1"||i(!0)},[]),g.jsxs("div",{className:`h-screen flex flex-col ${l.mainBg} antialiased overflow-hidden`,children:[g.jsx(lR,{onOpenUsage:()=>e(!0)}),g.jsx(nR,{isOpen:n,onClose:()=>e(!1)}),g.jsx(tR,{isOpen:t,steps:iR,onClose:({dismissed:o})=>{i(!1),localStorage.setItem(Kp,"1")}}),!t&&g.jsx("button",{type:"button",onClick:()=>i(!0),className:`fixed left-4 bottom-4 z-[150] w-11 h-11 rounded-full ${l.accentBg} hover:opacity-90 ${l.buttonText} font-bold shadow-xl`,"aria-label":"  ",children:"?"}),g.jsx("main",{className:"flex-grow p-4 sm:p-6 md:p-8 flex flex-col min-h-0",children:g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 sm:gap-6 w-full max-w-screen-2xl mx-auto flex-grow min-h-0",children:[g.jsx("div",{className:"md:w-[75%] w-full order-1 md:order-1 flex flex-col min-h-0",children:g.jsx("div",{className:"w-full flex-grow min-h-0 flex flex-col",children:g.jsx(Iw,{scheduleText:Zw,manualContextText:Yp})})}),g.jsx("div",{className:"md:w-[25%] w-full order-2 md:order-2 flex flex-col min-h-0",children:g.jsx(Fw,{manualContextText:Yp})})]})})]})},sR=()=>g.jsx(j1,{children:g.jsx(oR,{})}),P0=document.getElementById("root");if(!P0)throw new Error("Could not find root element to mount to");const aR=Q1.createRoot(P0);aR.render(g.jsx(yx.StrictMode,{children:g.jsx(vw,{children:g.jsx(sR,{})})}));
